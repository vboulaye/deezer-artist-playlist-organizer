import{c as ae,t as ve,e as le}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.19e78303.js";import{e as ye,a as se,g as Te,P as Pe,b as ke,h as ie}from"../chunks/PlaylistApplicationShell.5f744a36.js";import{s as Ee,p as De,f as h,a as L,l as K,g as _,h as y,R as re,c as R,d as u,m as Y,j as c,i as Q,x as i,S as ne,K as oe,T as we,n as W,U as Se,L as Ie,V as ce}from"../chunks/scheduler.5f6ec423.js";import{S as Le,i as Re,b as he,d as _e,m as pe,a as ge,t as me,e as be,o as $e}from"../chunks/index.c7424e09.js";import"../chunks/paths.ae1a7060.js";const Ne=!1;async function Oe({url:s}){const e=ye(s),l=s.searchParams.get("search");return l?{playlists:ae({apiPath:"/search/playlist",searchParams:{q:l,limit:1e3,index:e||0}}).then(t=>se(t,e||0))}:e?{playlists:ae({apiPath:"/user/me/playlists",searchParams:{limit:1e3,index:e}}).then(t=>se(t,e))}:{playlists:ve("getRemainingPages:",async()=>await Te({apiPath:"/user/me/playlists",limit:500,index:0}))}}const Je=Object.freeze(Object.defineProperty({__proto__:null,load:Oe,ssr:Ne},Symbol.toStringTag,{value:"Module"}));function ue(s,e,l){const t=s.slice();return t[9]=e[l],t}function de(s){let e,l,t,r,n,$,m,T,d,N=s[9].title+"",I,D,J,z,C,k=s[9].creation_date+"",U,V,w,S,A,G,P,H=s[9].nb_tracks+"",j,B,q,F=ie(s[9].duration*1e3,{units:["h","m","s"],largest:2})+"",O,p;return{c(){e=h("tr"),l=h("td"),t=h("a"),r=h("div"),n=h("img"),T=L(),d=h("strong"),I=K(N),z=L(),C=h("td"),U=K(k),V=L(),w=h("td"),S=h("input"),G=L(),P=h("td"),j=K(H),B=L(),q=h("td"),O=K(F),p=L(),this.h()},l(v){e=_(v,"TR",{});var o=y(e);l=_(o,"TD",{});var b=y(l);t=_(b,"A",{href:!0,"data-sveltekit-preload-data":!0});var a=y(t);r=_(a,"DIV",{class:!0});var f=y(r);n=_(f,"IMG",{src:!0,alt:!0,"aria-describedby":!0,class:!0}),T=R(f),d=_(f,"STRONG",{id:!0,class:!0});var E=y(d);I=Y(E,N),E.forEach(u),f.forEach(u),a.forEach(u),b.forEach(u),z=R(o),C=_(o,"TD",{class:!0});var g=y(C);U=Y(g,k),g.forEach(u),V=R(o),w=_(o,"TD",{});var M=y(w);S=_(M,"INPUT",{class:!0,type:!0}),M.forEach(u),G=R(o),P=_(o,"TD",{});var X=y(P);j=Y(X,H),X.forEach(u),B=R(o),q=_(o,"TD",{});var Z=y(q);O=Y(Z,F),Z.forEach(u),p=R(o),o.forEach(u),this.h()},h(){ce(n.src,$=s[9].picture_small)||c(n,"src",$),c(n,"alt","playlist cover"),c(n,"aria-describedby",m=s[9].id+"_title"),c(n,"class","deezer_img_small"),c(d,"id",D=s[9].id+"_title"),c(d,"class","m-2"),c(r,"class","flex items-center"),c(t,"href",J="playlists/"+s[9].id),c(t,"data-sveltekit-preload-data","off"),c(C,"class","items-center"),c(S,"class","checkbox"),c(S,"type","checkbox"),S.checked=A=s[9].public,S.disabled=!0},m(v,o){Q(v,e,o),i(e,l),i(l,t),i(t,r),i(r,n),i(r,T),i(r,d),i(d,I),i(e,z),i(e,C),i(C,U),i(e,V),i(e,w),i(w,S),i(e,G),i(e,P),i(P,j),i(e,B),i(e,q),i(q,O),i(e,p)},p(v,o){o&16&&!ce(n.src,$=v[9].picture_small)&&c(n,"src",$),o&16&&m!==(m=v[9].id+"_title")&&c(n,"aria-describedby",m),o&16&&N!==(N=v[9].title+"")&&W(I,N),o&16&&D!==(D=v[9].id+"_title")&&c(d,"id",D),o&16&&J!==(J="playlists/"+v[9].id)&&c(t,"href",J),o&16&&k!==(k=v[9].creation_date+"")&&W(U,k),o&16&&A!==(A=v[9].public)&&(S.checked=A),o&16&&H!==(H=v[9].nb_tracks+"")&&W(j,H),o&16&&F!==(F=ie(v[9].duration*1e3,{units:["h","m","s"],largest:2})+"")&&W(O,F)},d(v){v&&u(e)}}}function fe(s){let e=JSON.stringify({pageData:s[0].playlists},null,2)+"",l;return{c(){l=K(e)},l(t){l=Y(t,e)},m(t,r){Q(t,l,r)},p(t,r){r&1&&e!==(e=JSON.stringify({pageData:t[0].playlists},null,2)+"")&&W(l,e)},d(t){t&&u(l)}}}function ze(s){let e,l,t,r,n,$="",m,T,d,N,I,D='<th class="w-1/3">Title</th> <th>Created on</th> <th>Public?</th> <th># Tracks</th> <th>duration</th>',J,z,C,k,U,V,w,S=s[3]?"hide debug":"show debug",A,G,P,H,j,B,q,F,O=le(s[4]),p=[];for(let a=0;a<O.length;a+=1)p[a]=de(ue(s,O,a));function v(a){s[7](a)}let o={showFirstLastButtons:!0,showPreviousNextButtons:!0};s[1]!==void 0&&(o.settings=s[1]),k=new ke({props:o}),De.push(()=>$e(k,"settings",v));let b=s[3]&&fe(s);return{c(){e=h("div"),l=h("table"),t=h("thead"),r=h("tr"),n=h("td"),n.innerHTML=$,m=L(),T=h("td"),d=h("input"),N=L(),I=h("tr"),I.innerHTML=D,J=L(),z=h("tbody");for(let a=0;a<p.length;a+=1)p[a].c();C=L(),he(k.$$.fragment),V=L(),w=h("a"),A=K(S),G=L(),P=h("pre"),H=K("        "),b&&b.c(),j=K(`
    `),this.h()},l(a){e=_(a,"DIV",{class:!0});var f=y(e);l=_(f,"TABLE",{class:!0});var E=y(l);t=_(E,"THEAD",{});var g=y(t);r=_(g,"TR",{});var M=y(r);n=_(M,"TD",{colspan:!0,"data-svelte-h":!0}),re(n)!=="svelte-rxboy"&&(n.innerHTML=$),m=R(M),T=_(M,"TD",{colspan:!0});var X=y(T);d=_(X,"INPUT",{class:!0,title:!0,type:!0,placeholder:!0}),X.forEach(u),M.forEach(u),N=R(g),I=_(g,"TR",{"data-svelte-h":!0}),re(I)!=="svelte-195cwoj"&&(I.innerHTML=D),g.forEach(u),J=R(E),z=_(E,"TBODY",{});var Z=y(z);for(let ee=0;ee<p.length;ee+=1)p[ee].l(Z);Z.forEach(u),E.forEach(u),C=R(f),_e(k.$$.fragment,f),f.forEach(u),V=R(a),w=_(a,"A",{href:!0});var te=y(w);A=Y(te,S),te.forEach(u),G=R(a),P=_(a,"PRE",{id:!0});var x=y(P);H=Y(x,"        "),b&&b.l(x),j=Y(x,`
    `),x.forEach(u),this.h()},h(){c(n,"colspan","1"),c(d,"class","input"),c(d,"title","Input (search)"),c(d,"type","search"),c(d,"placeholder","Search..."),c(T,"colspan","5"),c(l,"class","table table-hover"),c(e,"class","table-container"),c(w,"href","#showDebug"),c(P,"id","showDebug")},m(a,f){Q(a,e,f),i(e,l),i(l,t),i(t,r),i(r,n),i(r,m),i(r,T),i(T,d),ne(d,s[2]),i(t,N),i(t,I),i(l,J),i(l,z);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(z,null);i(e,C),pe(k,e,null),Q(a,V,f),Q(a,w,f),i(w,A),Q(a,G,f),Q(a,P,f),i(P,H),b&&b.m(P,null),i(P,j),B=!0,q||(F=[oe(d,"input",s[6]),oe(w,"click",s[8])],q=!0)},p(a,f){if(f&4&&d.value!==a[2]&&ne(d,a[2]),f&16){O=le(a[4]);let g;for(g=0;g<O.length;g+=1){const M=ue(a,O,g);p[g]?p[g].p(M,f):(p[g]=de(M),p[g].c(),p[g].m(z,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=O.length}const E={};!U&&f&2&&(U=!0,E.settings=a[1],we(()=>U=!1)),k.$set(E),(!B||f&8)&&S!==(S=a[3]?"hide debug":"show debug")&&W(A,S),a[3]?b?b.p(a,f):(b=fe(a),b.c(),b.m(P,j)):b&&(b.d(1),b=null)},i(a){B||(ge(k.$$.fragment,a),B=!0)},o(a){me(k.$$.fragment,a),B=!1},d(a){a&&(u(e),u(V),u(w),u(G),u(P)),Se(p,a),be(k),b&&b.d(),q=!1,Ie(F)}}}function Ce(s){let e,l;return e=new Pe({props:{$$slots:{default:[ze]},$$scope:{ctx:s}}}),{c(){he(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,r){pe(e,t,r),l=!0},p(t,[r]){const n={};r&4127&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(ge(e.$$.fragment,t),l=!0)},o(t){me(e.$$.fragment,t),l=!1},d(t){be(e,t)}}}function Me(s,e,l){let t,r,{data:n}=e,$=!1,m={page:0,limit:5,size:10,amounts:[5,10,20,50,100]},T="";function d(){T=this.value,l(2,T)}function N(D){m=D,l(1,m),l(5,t),l(0,n)}const I=()=>l(3,$=!$);return s.$$set=D=>{"data"in D&&l(0,n=D.data)},s.$$.update=()=>{s.$$.dirty&1&&l(5,t=n.playlists.data),s.$$.dirty&32&&l(1,m.size=t.length,m),s.$$.dirty&38&&l(4,r=t.filter(D=>!T||JSON.stringify(D).toLowerCase().includes(T.toLowerCase())).slice(m.page*m.limit,m.page*m.limit+m.limit))},[n,m,T,$,r,t,d,N,I]}class Ue extends Le{constructor(e){super(),Re(this,e,Me,Ce,Ee,{data:0})}}export{Ue as component,Je as universal};
