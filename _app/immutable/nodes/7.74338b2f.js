import{d as El,w as mt}from"../chunks/paths.0506dd65.js";import{e as Ke,g as Cl,R as Al,c as nt,r as Pl,p as Bl,u as Nl,o as Sl}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.9086ff5d.js";import{g as kt,P as Ol,b as zl,h as zt}from"../chunks/PlaylistApplicationShell.781e0ac9.js";import{s as me,f as y,g as $,h as C,d as m,j as _,i as B,R as wt,T as yt,C as L,D as W,e as at,a as O,c as z,x as v,I as q,w as Re,y as Ue,z as Me,A as Ve,L as Oe,H as Ae,M as ze,G as Pe,N as ne,r as G,S as Ye,U as st,K as et,F as lt,V as bt,l as we,m as ye,n as je,J as Il,k as Dl,p as fl,O as ge,P as qe,Q as hl,W as dt,X as jl,Y as It}from"../chunks/scheduler.637f0092.js";import{S as de,i as _e,a as A,g as Le,c as Ze,t as N,b as R,d as U,m as M,e as V,j as Ll,k as Zl,o as ml}from"../chunks/index.d7dc1d5e.js";import{i as Hl}from"../chunks/navigation.7299089b.js";import{a as Ie,s as Dt,g as Rl}from"../chunks/index.6a9a434b.js";function jt(n,e,t){const l=n.slice();return l[15]=e[t],l[17]=t,l}const Ul=n=>({}),Lt=n=>({}),Ml=n=>({}),Zt=n=>({}),Vl=n=>({}),Ht=n=>({}),Fl=n=>({}),Rt=n=>({}),Gl=n=>({}),Ut=n=>({}),Jl=n=>({}),Mt=n=>({});function ql(n){let e,t,l,s,r,a,i,o;const u=[Xl,Wl,Yl],h=[];function c(f,b){return b&1&&(t=null),b&1&&(l=null),t==null&&(t=!!dl(f[0],f[17])),t?0:(l==null&&(l=!!_l(f[0],f[17])),l?1:2)}return s=c(n,-1),r=h[s]=u[s](n),{c(){e=y("span"),r.c(),a=O(),this.h()},l(f){e=$(f,"SPAN",{class:!0});var b=C(e);r.l(b),a=z(b),b.forEach(m),this.h()},h(){_(e,"class",i="rating-icon "+n[3])},m(f,b){B(f,e,b),h[s].m(e,null),v(e,a),o=!0},p(f,b){let g=s;s=c(f,b),s===g?h[s].p(f,b):(Le(),N(h[g],1,1,()=>{h[g]=null}),Ze(),r=h[s],r?r.p(f,b):(r=h[s]=u[s](f),r.c()),A(r,1),r.m(e,a)),(!o||b&8&&i!==(i="rating-icon "+f[3]))&&_(e,"class",i)},i(f){o||(A(r),o=!0)},o(f){N(r),o=!1},d(f){f&&m(e),h[s].d()}}}function Kl(n){let e,t,l,s,r,a,i,o,u,h;const c=[en,xl,Ql],f=[];function b(d,T){return T&1&&(t=null),T&1&&(l=null),t==null&&(t=!!dl(d[0],d[17])),t?0:(l==null&&(l=!!_l(d[0],d[17])),l?1:2)}s=b(n,-1),r=f[s]=c[s](n);function g(){return n[12](n[17])}return{c(){e=y("button"),r.c(),a=O(),this.h()},l(d){e=$(d,"BUTTON",{class:!0,type:!0});var T=C(e);r.l(T),a=z(T),T.forEach(m),this.h()},h(){_(e,"class",i="rating-icon "+n[3]),_(e,"type","button")},m(d,T){B(d,e,T),f[s].m(e,null),v(e,a),o=!0,u||(h=q(e,"click",g),u=!0)},p(d,T){n=d;let k=s;s=b(n,T),s===k?f[s].p(n,T):(Le(),N(f[k],1,1,()=>{f[k]=null}),Ze(),r=f[s],r?r.p(n,T):(r=f[s]=c[s](n),r.c()),A(r,1),r.m(e,a)),(!o||T&8&&i!==(i="rating-icon "+n[3]))&&_(e,"class",i)},i(d){o||(A(r),o=!0)},o(d){N(r),o=!1},d(d){d&&m(e),f[s].d(),u=!1,h()}}}function Yl(n){let e;const t=n[11].empty,l=Re(t,n,n[10],Lt);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&1024)&&Ue(l,t,s,s[10],e?Ve(t,s[10],r,Ul):Me(s[10]),Lt)},i(s){e||(A(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function Wl(n){let e;const t=n[11].half,l=Re(t,n,n[10],Zt);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&1024)&&Ue(l,t,s,s[10],e?Ve(t,s[10],r,Ml):Me(s[10]),Zt)},i(s){e||(A(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function Xl(n){let e;const t=n[11].full,l=Re(t,n,n[10],Ht);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&1024)&&Ue(l,t,s,s[10],e?Ve(t,s[10],r,Vl):Me(s[10]),Ht)},i(s){e||(A(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function Ql(n){let e;const t=n[11].empty,l=Re(t,n,n[10],Rt);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&1024)&&Ue(l,t,s,s[10],e?Ve(t,s[10],r,Fl):Me(s[10]),Rt)},i(s){e||(A(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function xl(n){let e;const t=n[11].half,l=Re(t,n,n[10],Ut);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&1024)&&Ue(l,t,s,s[10],e?Ve(t,s[10],r,Gl):Me(s[10]),Ut)},i(s){e||(A(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function en(n){let e;const t=n[11].full,l=Re(t,n,n[10],Mt);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&1024)&&Ue(l,t,s,s[10],e?Ve(t,s[10],r,Jl):Me(s[10]),Mt)},i(s){e||(A(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function Vt(n){let e,t,l,s;const r=[Kl,ql],a=[];function i(o,u){return o[2]?0:1}return e=i(n),t=a[e]=r[e](n),{c(){t.c(),l=at()},l(o){t.l(o),l=at()},m(o,u){a[e].m(o,u),B(o,l,u),s=!0},p(o,u){let h=e;e=i(o),e===h?a[e].p(o,u):(Le(),N(a[h],1,1,()=>{a[h]=null}),Ze(),t=a[e],t?t.p(o,u):(t=a[e]=r[e](o),t.c()),A(t,1),t.m(l.parentNode,l))},i(o){s||(A(t),s=!0)},o(o){N(t),s=!1},d(o){o&&m(l),a[e].d(o)}}}function tn(n){let e,t,l,s=Ke({length:n[1]}),r=[];for(let i=0;i<s.length;i+=1)r[i]=Vt(jt(n,s,i));const a=i=>N(r[i],1,1,()=>{r[i]=null});return{c(){e=y("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=$(i,"DIV",{class:!0,"data-testid":!0});var o=C(e);for(let u=0;u<r.length;u+=1)r[u].l(o);o.forEach(m),this.h()},h(){_(e,"class",t="ratings "+n[4]),_(e,"data-testid","rating-bar")},m(i,o){B(i,e,o);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);l=!0},p(i,[o]){if(o&1071){s=Ke({length:i[1]});let u;for(u=0;u<s.length;u+=1){const h=jt(i,s,u);r[u]?(r[u].p(h,o),A(r[u],1)):(r[u]=Vt(h),r[u].c(),A(r[u],1),r[u].m(e,null))}for(Le(),u=s.length;u<r.length;u+=1)a(u);Ze()}(!l||o&16&&t!==(t="ratings "+i[4]))&&_(e,"class",t)},i(i){if(!l){for(let o=0;o<s.length;o+=1)A(r[o]);l=!0}},o(i){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)N(r[o]);l=!1},d(i){i&&m(e),wt(r,i)}}}const ln="w-full flex";function dl(n,e){return Math.floor(n)>=e+1}function _l(n,e){return n===e+.5}function nn(n,e,t){let l,{$$slots:s={},$$scope:r}=e,{value:a=0}=e,{max:i=5}=e,{interactive:o=!1}=e,{text:u="text-token"}=e,{fill:h="fill-token"}=e,{justify:c="justify-center"}=e,{spacing:f="space-x-2"}=e,{regionIcon:b=""}=e;const g=yt();function d(k){g("icon",{index:k+1})}const T=k=>d(k);return n.$$set=k=>{t(14,e=L(L({},e),W(k))),"value"in k&&t(0,a=k.value),"max"in k&&t(1,i=k.max),"interactive"in k&&t(2,o=k.interactive),"text"in k&&t(6,u=k.text),"fill"in k&&t(7,h=k.fill),"justify"in k&&t(8,c=k.justify),"spacing"in k&&t(9,f=k.spacing),"regionIcon"in k&&t(3,b=k.regionIcon),"$$scope"in k&&t(10,r=k.$$scope)},n.$$.update=()=>{t(4,l=`${ln} ${u} ${h} ${c} ${f} ${e.class??""}`)},e=W(e),[a,i,o,b,l,d,u,h,c,f,r,s,T]}class an extends de{constructor(e){super(),_e(this,e,nn,tn,me,{value:0,max:1,interactive:2,text:6,fill:7,justify:8,spacing:9,regionIcon:3})}}var $t={exports:{}};function gl(){var n=Object.create(null),e=0,t=0,l=0,s=!1;this.put=function(a,i,o,u){if(s&&console.log("caching: %s = %j (@%s)",a,i,o),typeof o<"u"&&(typeof o!="number"||isNaN(o)||o<=0))throw new Error("Cache timeout must be a positive number");if(typeof u<"u"&&typeof u!="function")throw new Error("Cache timeout callback must be a function");var h=n[a];h?clearTimeout(h.timeout):l++;var c={value:i,expire:o+Date.now()};return isNaN(c.expire)||(c.timeout=setTimeout((function(){r(a),u&&u(a,i)}).bind(this),o)),n[a]=c,i},this.del=function(a){var i=!0,o=n[a];return o?(clearTimeout(o.timeout),!isNaN(o.expire)&&o.expire<Date.now()&&(i=!1)):i=!1,i&&r(a),i};function r(a){l--,delete n[a]}this.clear=function(){for(var a in n)clearTimeout(n[a].timeout);l=0,n=Object.create(null),s&&(e=0,t=0)},this.get=function(a){var i=n[a];if(typeof i<"u"){if(isNaN(i.expire)||i.expire>=Date.now())return s&&e++,i.value;s&&t++,l--,delete n[a]}else s&&t++;return null},this.size=function(){return l},this.memsize=function(){var a=0,i;for(i in n)a++;return a},this.debug=function(a){s=a},this.hits=function(){return e},this.misses=function(){return t},this.keys=function(){return Object.keys(n)},this.exportJson=function(){var a={};for(var i in n){var o=n[i];a[i]={value:o.value,expire:o.expire||"NaN"}}return JSON.stringify(a)},this.importJson=function(a,i){var o=JSON.parse(a),u=Date.now(),h=i&&i.skipDuplicates;for(var c in o)if(o.hasOwnProperty(c)){if(h){var f=n[c];if(f){s&&console.log("Skipping duplicate imported key '%s'",c);continue}}var b=o[c],g=b.expire-u;if(g<=0){this.del(c);continue}g=g>0?g:void 0,this.put(c,b.value,g)}return this.size()}}$t.exports=new gl;$t.exports.Cache=gl;var sn=$t.exports;const Ft=Cl(sn);class pl{constructor(e,t){this.cacheName=e,this.ttl=t}get(e){return Ft.get(this.buildKey(e))}buildKey(e){return this.cacheName+"~"+e}put(e,t){Ft.put(this.buildKey(e),t,this.ttl)}}const Tt=Al.extend("api-query"),Gt=new pl("ARTIST",3600*1e3),Jt=new pl("ARTIST-DISCOGRAPHY",3600*1e3);async function rn(n){Tt("getDeezerArtist "+n);const e=Gt.get(n);if(e)return e;const t=await nt({apiPath:"/artist/"+n});return Gt.put(n,t),t}async function vl(n){return Tt("getAlbumTracks "+n),await kt({apiPath:"/album/"+n+"/tracks",index:0,limit:100})}async function bl(n){Tt("getDeezerArtistDiscography "+n);const e=Jt.get(n);if(e)return e;const t=await kt({apiPath:"/artist/"+n+"/albums",index:0,limit:100}),l=await Promise.all(t.data.map(async s=>{const r=await vl(s.id);return{...s,tracks:r.data}}));return Jt.put(n,l),l}const on=!1;async function un(n){if(n==="NEW"){const e=new Date().toISOString(),t=await nt({apiPath:"/user/me/playlists",searchParams:{request_method:"POST",title:`New Playlist ${e}`,description:`Playlist created with deezer-artist-playlist-organizer on the ${e}`,public:!0}});throw Pl(302,"./"+t.id)}return n}async function cn({params:n}){const e=await un(n.id),t=await nt({apiPath:`/playlist/${e}`}),l=t.tracks.data.reduce((a,i)=>(a[i.artist.id]||(a[i.artist.id]={artist:i.artist,count:0}),a[i.artist.id].count++,a),{}),s=Object.values(l).sort((a,i)=>i.count-a.count);if(t.nb_tracks>400){const a=await kt({apiPath:`/playlist/${e}/tracks`,limit:100,index:t.tracks.data.length});t.tracks.data=[...t.tracks.data,...a.data]}const r=Promise.all(s.map(async a=>await rn(a.artist.id)));return{playlist:t,topArtists:r}}const Ka=Object.freeze(Object.defineProperty({__proto__:null,load:cn,ssr:on},Symbol.toStringTag,{value:"Module"}));function fn(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm40-84a12 12 0 0 1-5.12 9.83l-40 28A12 12 0 0 1 104 156v-56a12 12 0 0 1 18.88-9.83l40 28A12 12 0 0 1 168 128Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let a=0;a<s.length;a+=1)r=L(r,s[a]);return{c(){e=Oe("svg"),t=new Ae(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var i=C(e);t=Pe(i,!0),i.forEach(m),this.h()},h(){t.a=null,ne(e,r)},m(a,i){B(a,e,i),t.m(l,e)},p(a,[i]){ne(e,r=Ie(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function hn(n,e,t){return n.$$set=l=>{t(0,e=L(L({},e),W(l)))},e=W(e),[e]}class mn extends de{constructor(e){super(),_e(this,e,hn,fn,me,{})}}function dn(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84ZM116 96v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Zm48 0v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let a=0;a<s.length;a+=1)r=L(r,s[a]);return{c(){e=Oe("svg"),t=new Ae(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var i=C(e);t=Pe(i,!0),i.forEach(m),this.h()},h(){t.a=null,ne(e,r)},m(a,i){B(a,e,i),t.m(l,e)},p(a,[i]){ne(e,r=Ie(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function _n(n,e,t){return n.$$set=l=>{t(0,e=L(L({},e),W(l)))},e=W(e),[e]}class gn extends de{constructor(e){super(),_e(this,e,_n,dn,me,{})}}function pn(n){let e,t,l,s,r;return t=new gn({}),{c(){e=y("span"),R(t.$$.fragment),this.h()},l(a){e=$(a,"SPAN",{role:!0});var i=C(e);U(t.$$.fragment,i),i.forEach(m),this.h()},h(){_(e,"role","button")},m(a,i){B(a,e,i),M(t,e,null),l=!0,s||(r=q(e,"click",n[4]),s=!0)},p:G,i(a){l||(A(t.$$.fragment,a),l=!0)},o(a){N(t.$$.fragment,a),l=!1},d(a){a&&m(e),V(t),s=!1,r()}}}function vn(n){let e,t,l,s,r;return t=new mn({}),{c(){e=y("span"),R(t.$$.fragment),this.h()},l(a){e=$(a,"SPAN",{role:!0});var i=C(e);U(t.$$.fragment,i),i.forEach(m),this.h()},h(){_(e,"role","button")},m(a,i){B(a,e,i),M(t,e,null),l=!0,s||(r=q(e,"click",n[4]),s=!0)},p:G,i(a){l||(A(t.$$.fragment,a),l=!0)},o(a){N(t.$$.fragment,a),l=!1},d(a){a&&m(e),V(t),s=!1,r()}}}function bn(n){let e,t,l=!0,s,r,a,i,o,u,h;const c=[vn,pn],f=[];function b(g,d){return g[0]?0:1}return a=b(n),i=f[a]=c[a](n),{c(){e=y("audio"),s=O(),r=y("span"),i.c(),this.h()},l(g){e=$(g,"AUDIO",{src:!0}),C(e).forEach(m),s=z(g),r=$(g,"SPAN",{});var d=C(r);i.l(d),d.forEach(m),this.h()},h(){Ye(e.src,t=n[1])||_(e,"src",t),e.loop=n[2],st(r,"text-gray-500",!n[3])},m(g,d){B(g,e,d),B(g,s,d),B(g,r,d),f[a].m(r,null),o=!0,u||(h=[q(e,"play",n[5]),q(e,"pause",n[5])],u=!0)},p(g,[d]){(!o||d&2&&!Ye(e.src,t=g[1]))&&_(e,"src",t),(!o||d&4)&&(e.loop=g[2]),d&1&&l!==(l=g[0])&&e[l?"pause":"play"]();let T=a;a=b(g),a===T?f[a].p(g,d):(Le(),N(f[T],1,1,()=>{f[T]=null}),Ze(),i=f[a],i?i.p(g,d):(i=f[a]=c[a](g),i.c()),A(i,1),i.m(r,null)),(!o||d&8)&&st(r,"text-gray-500",!g[3])},i(g){o||(A(i),o=!0)},o(g){N(i),o=!1},d(g){g&&(m(e),m(s),m(r)),f[a].d(),u=!1,et(h)}}}function kn(n,e,t){let{src:l}=e,{loop:s=!1}=e,{enabled:r=!0}=e,{paused:a=!0}=e;function i(){r&&t(0,a=!a)}function o(){a=this.paused,t(0,a)}return n.$$set=u=>{"src"in u&&t(1,l=u.src),"loop"in u&&t(2,s=u.loop),"enabled"in u&&t(3,r=u.enabled),"paused"in u&&t(0,a=u.paused)},[a,l,s,r,i,o]}class wn extends de{constructor(e){super(),_e(this,e,kn,bn,me,{src:1,loop:2,enabled:3,paused:0})}}function qt(n,e,t){const l=n.slice();return l[37]=e[t],l}const yn=n=>({option:n[0]&16512,classesButton:n[0]&512}),Kt=n=>({option:n[37],classesButton:n[9],onSelection:n[15]});function $n(n){let e,t,l;return{c(){e=y("div"),t=we(n[1]),this.h()},l(s){e=$(s,"DIV",{class:!0});var r=C(e);t=ye(r,n[1]),r.forEach(m),this.h()},h(){_(e,"class",l="autocomplete-empty "+n[8])},m(s,r){B(s,e,r),v(e,t)},p(s,r){r[0]&2&&je(t,s[1]),r[0]&256&&l!==(l="autocomplete-empty "+s[8])&&_(e,"class",l)},i:G,o:G,d(s){s&&m(e)}}}function Tn(n){let e,t,l=[],s=new Map,r,a,i,o=Ke(n[7].slice(0,n[14]));const u=h=>h[37];for(let h=0;h<o.length;h+=1){let c=qt(n,o,h),f=u(c);s.set(f,l[h]=Yt(f,c))}return{c(){e=y("nav"),t=y("ul");for(let h=0;h<l.length;h+=1)l[h].c();this.h()},l(h){e=$(h,"NAV",{class:!0});var c=C(e);t=$(c,"UL",{class:!0});var f=C(t);for(let b=0;b<l.length;b+=1)l[b].l(f);f.forEach(m),c.forEach(m),this.h()},h(){_(t,"class",r="autocomplete-list "+n[11]),_(e,"class",a="autocomplete-nav "+n[12])},m(h,c){B(h,e,c),v(e,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);i=!0},p(h,c){c[0]&134268644&&(o=Ke(h[7].slice(0,h[14])),Le(),l=Nl(l,c,u,1,h,o,s,t,Sl,Yt,null,qt),Ze()),(!i||c[0]&2048&&r!==(r="autocomplete-list "+h[11]))&&_(t,"class",r),(!i||c[0]&4096&&a!==(a="autocomplete-nav "+h[12]))&&_(e,"class",a)},i(h){if(!i){for(let c=0;c<o.length;c+=1)A(l[c]);i=!0}},o(h){for(let c=0;c<l.length;c+=1)N(l[c]);i=!1},d(h){h&&m(e);for(let c=0;c<l.length;c+=1)l[c].d()}}}function En(n){let e,t,l=n[37].label+"",s,r,a;function i(){return n[31](n[37])}return{c(){e=y("button"),t=new Ae(!1),this.h()},l(o){e=$(o,"BUTTON",{class:!0,type:!0});var u=C(e);t=Pe(u,!1),u.forEach(m),this.h()},h(){t.a=null,_(e,"class",s="autocomplete-button "+n[9]),_(e,"type","button")},m(o,u){B(o,e,u),t.m(l,e),r||(a=[q(e,"click",i),q(e,"click",n[29]),q(e,"keypress",n[30])],r=!0)},p(o,u){n=o,u[0]&16512&&l!==(l=n[37].label+"")&&t.p(l),u[0]&512&&s!==(s="autocomplete-button "+n[9])&&_(e,"class",s)},d(o){o&&m(e),r=!1,et(a)}}}function Yt(n,e){let t,l,s,r,a,i;const o=e[28].optionButton,u=Re(o,e,e[27],Kt),h=u||En(e);return{key:n,first:null,c(){t=y("li"),h&&h.c(),l=O(),this.h()},l(c){t=$(c,"LI",{class:!0});var f=C(t);h&&h.l(f),l=z(f),f.forEach(m),this.h()},h(){_(t,"class",s="autocomplete-item "+e[10]),this.first=t},m(c,f){B(c,t,f),h&&h.m(t,null),v(t,l),i=!0},p(c,f){e=c,u?u.p&&(!i||f[0]&134234752)&&Ue(u,o,e,e[27],i?Ve(o,e[27],f,yn):Me(e[27]),Kt):h&&h.p&&(!i||f[0]&17024)&&h.p(e,i?f:[-1,-1]),(!i||f[0]&1024&&s!==(s="autocomplete-item "+e[10]))&&_(t,"class",s)},i(c){i||(A(h,c),c&&Il(()=>{i&&(a&&a.end(1),r=Ll(t,e[0],{transition:e[3],params:e[4],enabled:e[2]}),r.start())}),i=!0)},o(c){N(h,c),r&&r.invalidate(),c&&(a=Zl(t,e[0],{transition:e[5],params:e[6],enabled:e[2]})),i=!1},d(c){c&&m(t),h&&h.d(c),c&&a&&a.end()}}}function Cn(n){let e,t,l,s,r;const a=[Tn,$n],i=[];function o(u,h){return u[7].length>0?0:1}return t=o(n),l=i[t]=a[t](n),{c(){e=y("div"),l.c(),this.h()},l(u){e=$(u,"DIV",{class:!0,"data-testid":!0});var h=C(e);l.l(h),h.forEach(m),this.h()},h(){_(e,"class",s="autocomplete "+n[13]),_(e,"data-testid","autocomplete")},m(u,h){B(u,e,h),i[t].m(e,null),r=!0},p(u,h){let c=t;t=o(u),t===c?i[t].p(u,h):(Le(),N(i[c],1,1,()=>{i[c]=null}),Ze(),l=i[t],l?l.p(u,h):(l=i[t]=a[t](u),l.c()),A(l,1),l.m(e,null)),(!r||h[0]&8192&&s!==(s="autocomplete "+u[13]))&&_(e,"class",s)},i(u){r||(A(l),r=!0)},o(u){N(l),r=!1},d(u){u&&m(e),i[t].d()}}}function kl(n,e){const{transition:t,params:l,enabled:s}=e;return s?t(n,l):"duration"in l?t(n,{duration:0}):{duration:0}}function An(n,e,t){let l,s,r,a,i,o,u,h,c,f;lt(n,Bl,E=>t(32,f=E));let{$$slots:b={},$$scope:g}=e;const d=yt();let{input:T=void 0}=e,{options:k=[]}=e,{limit:P=void 0}=e,{allowlist:p=[]}=e,{denylist:S=[]}=e,{emptyState:j="No Results Found."}=e,{regionNav:H=""}=e,{regionList:K="list-nav"}=e,{regionItem:ae=""}=e,{regionButton:fe="w-full"}=e,{regionEmpty:ue="text-center"}=e,{transitions:se=!f}=e,{transitionIn:Q=Dt}=e,{transitionInParams:ke={duration:200}}=e,{transitionOut:$e=Dt}=e,{transitionOutParams:re={duration:200}}=e;function He(E,Z){let ve=[...k];E.length&&(ve=ve.filter(Te=>E.includes(Te.value))),Z.length&&(ve=ve.filter(Te=>!Z.includes(Te.value))),!E.length&&!Z.length&&(ve=k),t(26,l=ve)}function X(){let E=[...l];return E=E.filter(Z=>{const ve=String(T).toLowerCase().trim();if(JSON.stringify([Z.label,Z.value,Z.keywords]).toLowerCase().includes(ve))return Z}),E}function be(E){d("selection",E)}function pe(E){bt.call(this,n,E)}function De(E){bt.call(this,n,E)}const ee=E=>be(E);return n.$$set=E=>{t(36,e=L(L({},e),W(E))),"input"in E&&t(16,T=E.input),"options"in E&&t(17,k=E.options),"limit"in E&&t(18,P=E.limit),"allowlist"in E&&t(19,p=E.allowlist),"denylist"in E&&t(20,S=E.denylist),"emptyState"in E&&t(1,j=E.emptyState),"regionNav"in E&&t(21,H=E.regionNav),"regionList"in E&&t(22,K=E.regionList),"regionItem"in E&&t(23,ae=E.regionItem),"regionButton"in E&&t(24,fe=E.regionButton),"regionEmpty"in E&&t(25,ue=E.regionEmpty),"transitions"in E&&t(2,se=E.transitions),"transitionIn"in E&&t(3,Q=E.transitionIn),"transitionInParams"in E&&t(4,ke=E.transitionInParams),"transitionOut"in E&&t(5,$e=E.transitionOut),"transitionOutParams"in E&&t(6,re=E.transitionOutParams),"$$scope"in E&&t(27,g=E.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&131072&&t(26,l=k),n.$$.dirty[0]&1572864&&He(p,S),n.$$.dirty[0]&67174400&&t(7,s=T?X():l),n.$$.dirty[0]&262272&&t(14,r=P!==void 0?P:s.length),t(13,a=`${e.class??""}`),n.$$.dirty[0]&2097152&&t(12,i=`${H}`),n.$$.dirty[0]&4194304&&t(11,o=`${K}`),n.$$.dirty[0]&8388608&&t(10,u=`${ae}`),n.$$.dirty[0]&16777216&&t(9,h=`${fe}`),n.$$.dirty[0]&33554432&&t(8,c=`${ue}`)},e=W(e),[kl,j,se,Q,ke,$e,re,s,c,h,u,o,i,a,r,be,T,k,P,p,S,H,K,ae,fe,ue,l,g,b,pe,De,ee]}class Pn extends de{constructor(e){super(),_e(this,e,An,Cn,me,{dynamicTransition:0,input:16,options:17,limit:18,allowlist:19,denylist:20,emptyState:1,regionNav:21,regionList:22,regionItem:23,regionButton:24,regionEmpty:25,transitions:2,transitionIn:3,transitionInParams:4,transitionOut:5,transitionOutParams:6},null,[-1,-1])}get dynamicTransition(){return kl}}function Bn(n){let e,t;const l=n[1].default,s=Re(l,n,n[0],null);return{c(){e=y("span"),s&&s.c(),this.h()},l(r){e=$(r,"SPAN",{class:!0});var a=C(e);s&&s.l(a),a.forEach(m),this.h()},h(){_(e,"class","flex gap-x-2 items-center mx-2")},m(r,a){B(r,e,a),s&&s.m(e,null),t=!0},p(r,[a]){s&&s.p&&(!t||a&1)&&Ue(s,l,r,r[0],t?Ve(l,r[0],a,null):Me(r[0]),null)},i(r){t||(A(s,r),t=!0)},o(r){N(s,r),t=!1},d(r){r&&m(e),s&&s.d(r)}}}function Nn(n,e,t){let{$$slots:l={},$$scope:s}=e;return n.$$set=r=>{"$$scope"in r&&t(0,s=r.$$scope)},[s,l]}class ut extends de{constructor(e){super(),_e(this,e,Nn,Bn,me,{})}}function Sn(n){let e,t,l,s;const r=n[3].default,a=Re(r,n,n[2],null);return{c(){e=y("td"),t=y("div"),a&&a.c(),this.h()},l(i){e=$(i,"TD",{style:!0,title:!0});var o=C(e);t=$(o,"DIV",{class:!0});var u=C(t);a&&a.l(u),u.forEach(m),o.forEach(m),this.h()},h(){_(t,"class",l="flex items-center justify-"+n[0]+" gap-x-2 h-full"),Dl(e,"vertical-align","middle"),_(e,"title",n[1])},m(i,o){B(i,e,o),v(e,t),a&&a.m(t,null),s=!0},p(i,[o]){a&&a.p&&(!s||o&4)&&Ue(a,r,i,i[2],s?Ve(r,i[2],o,null):Me(i[2]),null),(!s||o&1&&l!==(l="flex items-center justify-"+i[0]+" gap-x-2 h-full"))&&_(t,"class",l),(!s||o&2)&&_(e,"title",i[1])},i(i){s||(A(a,i),s=!0)},o(i){N(a,i),s=!1},d(i){i&&m(e),a&&a.d(i)}}}function On(n,e,t){let{$$slots:l={},$$scope:s}=e,{justify:r="center"}=e,{title:a=""}=e;return n.$$set=i=>{"justify"in i&&t(0,r=i.justify),"title"in i&&t(1,a=i.title),"$$scope"in i&&t(2,s=i.$$scope)},[r,a,s,l]}class xe extends de{constructor(e){super(),_e(this,e,On,Sn,me,{justify:0,title:1})}}function zn(n){let e,t,l='<path fill="currentColor" d="M216 36H68.53a20.09 20.09 0 0 0-17.15 9.71L5.71 121.83a12 12 0 0 0 0 12.34l45.67 76.12A20.09 20.09 0 0 0 68.53 220H216a20 20 0 0 0 20-20V56a20 20 0 0 0-20-20Zm-4 160H70.8L30 128l40.8-68H212Zm-108.49-52.49L119 128l-15.52-15.51a12 12 0 0 1 17-17L136 111l15.51-15.52a12 12 0 0 1 17 17L153 128l15.52 15.51a12 12 0 0 1-17 17L136 145l-15.51 15.52a12 12 0 0 1-17-17Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let a=0;a<s.length;a+=1)r=L(r,s[a]);return{c(){e=Oe("svg"),t=new Ae(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var i=C(e);t=Pe(i,!0),i.forEach(m),this.h()},h(){t.a=null,ne(e,r)},m(a,i){B(a,e,i),t.m(l,e)},p(a,[i]){ne(e,r=Ie(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function In(n,e,t){return n.$$set=l=>{t(0,e=L(L({},e),W(l)))},e=W(e),[e]}class Dn extends de{constructor(e){super(),_e(this,e,In,zn,me,{})}}function jn(n){let e,t,l='<path fill="currentColor" d="M160 36a92.09 92.09 0 0 0-81 48.36A68 68 0 1 0 72 220h88a92 92 0 0 0 0-184Zm0 160H72a44 44 0 0 1-1.82-88A91.86 91.86 0 0 0 68 128a12 12 0 0 0 24 0a68 68 0 1 1 68 68Zm40.49-92.49a12 12 0 0 1 0 17l-48 48a12 12 0 0 1-17 0l-24-24a12 12 0 1 1 17-17L144 143l39.51-39.52a12 12 0 0 1 16.98.03Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let a=0;a<s.length;a+=1)r=L(r,s[a]);return{c(){e=Oe("svg"),t=new Ae(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var i=C(e);t=Pe(i,!0),i.forEach(m),this.h()},h(){t.a=null,ne(e,r)},m(a,i){B(a,e,i),t.m(l,e)},p(a,[i]){ne(e,r=Ie(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function Ln(n,e,t){return n.$$set=l=>{t(0,e=L(L({},e),W(l)))},e=W(e),[e]}class Wt extends de{constructor(e){super(),_e(this,e,Ln,jn,me,{})}}function Zn(n){let e,t,l='<path fill="currentColor" d="M136.37 187.53a12 12 0 0 1 0 17l-5.94 5.94a60 60 0 0 1-84.88-84.88l24.12-24.11A60 60 0 0 1 152 99a12 12 0 1 1-16 18a36 36 0 0 0-49.37 1.47l-24.1 24.08a36 36 0 0 0 50.92 50.92l5.94-5.94a12 12 0 0 1 16.98 0Zm74.08-142a60.09 60.09 0 0 0-84.88 0l-5.94 5.94a12 12 0 0 0 17 17l5.94-5.94a36 36 0 0 1 50.92 50.92l-24.11 24.12A36 36 0 0 1 120 139a12 12 0 1 0-16 18a60 60 0 0 0 82.3-2.43l24.12-24.11a60.09 60.09 0 0 0 .03-84.91Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let a=0;a<s.length;a+=1)r=L(r,s[a]);return{c(){e=Oe("svg"),t=new Ae(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var i=C(e);t=Pe(i,!0),i.forEach(m),this.h()},h(){t.a=null,ne(e,r)},m(a,i){B(a,e,i),t.m(l,e)},p(a,[i]){ne(e,r=Ie(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function Hn(n,e,t){return n.$$set=l=>{t(0,e=L(L({},e),W(l)))},e=W(e),[e]}class Rn extends de{constructor(e){super(),_e(this,e,Hn,Zn,me,{})}}function Un(n){let e,t,l='<path fill="currentColor" d="M180 128a12 12 0 0 1-12 12H88a12 12 0 0 1 0-24h80a12 12 0 0 1 12 12Zm56 0A108 108 0 1 1 128 20a108.12 108.12 0 0 1 108 108Zm-24 0a84 84 0 1 0-84 84a84.09 84.09 0 0 0 84-84Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let a=0;a<s.length;a+=1)r=L(r,s[a]);return{c(){e=Oe("svg"),t=new Ae(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var i=C(e);t=Pe(i,!0),i.forEach(m),this.h()},h(){t.a=null,ne(e,r)},m(a,i){B(a,e,i),t.m(l,e)},p(a,[i]){ne(e,r=Ie(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function Mn(n,e,t){return n.$$set=l=>{t(0,e=L(L({},e),W(l)))},e=W(e),[e]}class wl extends de{constructor(e){super(),_e(this,e,Mn,Un,me,{})}}function Vn(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm52-84a12 12 0 0 1-12 12h-28v28a12 12 0 0 1-24 0v-28H88a12 12 0 0 1 0-24h28V88a12 12 0 0 1 24 0v28h28a12 12 0 0 1 12 12Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let a=0;a<s.length;a+=1)r=L(r,s[a]);return{c(){e=Oe("svg"),t=new Ae(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var i=C(e);t=Pe(i,!0),i.forEach(m),this.h()},h(){t.a=null,ne(e,r)},m(a,i){B(a,e,i),t.m(l,e)},p(a,[i]){ne(e,r=Ie(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function Fn(n,e,t){return n.$$set=l=>{t(0,e=L(L({},e),W(l)))},e=W(e),[e]}class Et extends de{constructor(e){super(),_e(this,e,Fn,Vn,me,{})}}function Gn(n){let e,t,l='<path fill="currentColor" d="M128 128a12 12 0 0 1-12 12H48a12 12 0 0 1 0-24h68a12 12 0 0 1 12 12ZM48 76h132a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm52 104H48a12 12 0 0 0 0 24h52a12 12 0 0 0 0-24Zm132.49-20.49a12 12 0 0 0-17 0L196 179v-67a12 12 0 0 0-24 0v67l-19.51-19.52a12 12 0 0 0-17 17l40 40a12 12 0 0 0 17 0l40-40a12 12 0 0 0 0-16.97Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let a=0;a<s.length;a+=1)r=L(r,s[a]);return{c(){e=Oe("svg"),t=new Ae(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var i=C(e);t=Pe(i,!0),i.forEach(m),this.h()},h(){t.a=null,ne(e,r)},m(a,i){B(a,e,i),t.m(l,e)},p(a,[i]){ne(e,r=Ie(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function Jn(n,e,t){return n.$$set=l=>{t(0,e=L(L({},e),W(l)))},e=W(e),[e]}class qn extends de{constructor(e){super(),_e(this,e,Jn,Gn,me,{})}}function Kn(n){let e,t,l='<path fill="currentColor" d="M36 128a12 12 0 0 1 12-12h68a12 12 0 0 1 0 24H48a12 12 0 0 1-12-12Zm12-52h52a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm132 104H48a12 12 0 0 0 0 24h132a12 12 0 0 0 0-24Zm52.49-100.49l-40-40a12 12 0 0 0-17 0l-40 40a12 12 0 0 0 17 17L172 77v67a12 12 0 0 0 24 0V77l19.51 19.52a12 12 0 0 0 17-17Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let a=0;a<s.length;a+=1)r=L(r,s[a]);return{c(){e=Oe("svg"),t=new Ae(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var i=C(e);t=Pe(i,!0),i.forEach(m),this.h()},h(){t.a=null,ne(e,r)},m(a,i){B(a,e,i),t.m(l,e)},p(a,[i]){ne(e,r=Ie(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function Yn(n,e,t){return n.$$set=l=>{t(0,e=L(L({},e),W(l)))},e=W(e),[e]}class Wn extends de{constructor(e){super(),_e(this,e,Yn,Kn,me,{})}}function Xn(n){let e,t,l='<path fill="currentColor" d="M243 96.05a20 20 0 0 0-17.26-13.72l-57-4.93l-22.3-53.14a20 20 0 0 0-36.82 0L87.29 77.4l-57 4.93a20 20 0 0 0-11.42 35.07l43.32 37.8l-13 56.24A20 20 0 0 0 79 233.1l49-29.76l49 29.76a20 20 0 0 0 29.8-21.66l-13-56.24l43.32-37.8A20 20 0 0 0 243 96.05Zm-66.75 42.62a20 20 0 0 0-6.35 19.63l11.39 49.32l-42.94-26.08a19.9 19.9 0 0 0-20.7 0l-42.94 26.08L86.1 158.3a20 20 0 0 0-6.35-19.63l-38.09-33.23l50.14-4.34a19.92 19.92 0 0 0 16.69-12.19L128 42.42l19.51 46.49a19.92 19.92 0 0 0 16.69 12.19l50.14 4.34Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let a=0;a<s.length;a+=1)r=L(r,s[a]);return{c(){e=Oe("svg"),t=new Ae(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var i=C(e);t=Pe(i,!0),i.forEach(m),this.h()},h(){t.a=null,ne(e,r)},m(a,i){B(a,e,i),t.m(l,e)},p(a,[i]){ne(e,r=Ie(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function Qn(n,e,t){return n.$$set=l=>{t(0,e=L(L({},e),W(l)))},e=W(e),[e]}class xn extends de{constructor(e){super(),_e(this,e,Qn,Xn,me,{})}}function ea(n){let e,t,l='<g fill="currentColor"><path d="M184.13 147.7a8.08 8.08 0 0 0-2.54 7.89l13.52 58.54a8 8 0 0 1-11.89 8.69l-51.1-31a7.93 7.93 0 0 0-8.24 0l-51.1 31a8 8 0 0 1-11.89-8.69l13.52-58.54a8.08 8.08 0 0 0-2.54-7.89l-45.11-39.35a8 8 0 0 1 4.54-14.07l59.46-5.14a8 8 0 0 0 6.67-4.88l23.23-55.36a8 8 0 0 1 14.68 0l23.23 55.36a8 8 0 0 0 6.67 4.88l59.46 5.14a8 8 0 0 1 4.54 14.07Z" opacity=".2"/><path d="M239.2 97.29a16 16 0 0 0-13.81-11L166 81.17l-23.28-55.36a15.95 15.95 0 0 0-29.44 0L90.07 81.17l-59.46 5.15a16 16 0 0 0-9.11 28.06l45.11 39.42l-13.52 58.54a16 16 0 0 0 23.84 17.34l51-31l51.11 31a16 16 0 0 0 23.84-17.34l-13.51-58.6l45.1-39.36a16 16 0 0 0 4.73-17.09Zm-15.22 5l-45.1 39.36a16 16 0 0 0-5.08 15.71L187.35 216l-51.07-31a15.9 15.9 0 0 0-16.54 0l-51 31l13.46-58.6a16 16 0 0 0-5.08-15.71L32 102.35a.37.37 0 0 1 0-.09l59.44-5.14a16 16 0 0 0 13.35-9.75L128 32.08l23.2 55.29a16 16 0 0 0 13.35 9.75l59.45 5.14v.07Z"/></g>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let a=0;a<s.length;a+=1)r=L(r,s[a]);return{c(){e=Oe("svg"),t=new Ae(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var i=C(e);t=Pe(i,!0),i.forEach(m),this.h()},h(){t.a=null,ne(e,r)},m(a,i){B(a,e,i),t.m(l,e)},p(a,[i]){ne(e,r=Ie(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function ta(n,e,t){return n.$$set=l=>{t(0,e=L(L({},e),W(l)))},e=W(e),[e]}class la extends de{constructor(e){super(),_e(this,e,ta,ea,me,{})}}function na(n){let e,t,l='<path fill="currentColor" d="m234.5 114.38l-45.1 39.36l13.51 58.6a16 16 0 0 1-23.84 17.34l-51.11-31l-51 31a16 16 0 0 1-23.84-17.34l13.49-58.54l-45.11-39.42a16 16 0 0 1 9.11-28.06l59.46-5.15l23.21-55.36a15.95 15.95 0 0 1 29.44 0L166 81.17l59.44 5.15a16 16 0 0 1 9.11 28.06Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let a=0;a<s.length;a+=1)r=L(r,s[a]);return{c(){e=Oe("svg"),t=new Ae(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var i=C(e);t=Pe(i,!0),i.forEach(m),this.h()},h(){t.a=null,ne(e,r)},m(a,i){B(a,e,i),t.m(l,e)},p(a,[i]){ne(e,r=Ie(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function aa(n,e,t){return n.$$set=l=>{t(0,e=L(L({},e),W(l)))},e=W(e),[e]}class sa extends de{constructor(e){super(),_e(this,e,aa,na,me,{})}}function ra(n){let e,t,l,s,r,a=n[0].name+"",i,o,u,h,c,f,b,g,d;return c=new Et({}),{c(){e=y("span"),t=y("span"),l=y("img"),r=O(),i=we(a),o=O(),u=y("span"),h=y("button"),R(c.$$.fragment),this.h()},l(T){e=$(T,"SPAN",{class:!0});var k=C(e);t=$(k,"SPAN",{class:!0});var P=C(t);l=$(P,"IMG",{src:!0,alt:!0,class:!0}),r=z(P),i=ye(P,a),P.forEach(m),o=z(k),u=$(k,"SPAN",{class:!0});var p=C(u);h=$(p,"BUTTON",{class:!0,title:!0});var S=C(h);U(c.$$.fragment,S),S.forEach(m),p.forEach(m),k.forEach(m),this.h()},h(){Ye(l.src,s=n[0].picture_small)||_(l,"src",s),_(l,"alt","artist"),_(l,"class","mx-2"),_(t,"class","flex items-center"),_(h,"class","!p-0"),_(h,"title","add all artist titles to the playlist"),_(u,"class","btn-group-vertical btn btn-sm gap-y-1"),_(e,"class",f="flex justify-between w-full items-center py-1 "+n[1])},m(T,k){B(T,e,k),v(e,t),v(t,l),v(t,r),v(t,i),v(e,o),v(e,u),v(u,h),M(c,h,null),b=!0,g||(d=[q(h,"click",n[2]),q(h,"pointerenter",n[3]),q(h,"pointerleave",n[4])],g=!0)},p(T,[k]){(!b||k&1&&!Ye(l.src,s=T[0].picture_small))&&_(l,"src",s),(!b||k&1)&&a!==(a=T[0].name+"")&&je(i,a),(!b||k&2&&f!==(f="flex justify-between w-full items-center py-1 "+T[1]))&&_(e,"class",f)},i(T){b||(A(c.$$.fragment,T),b=!0)},o(T){N(c.$$.fragment,T),b=!1},d(T){T&&m(e),V(c),g=!1,et(d)}}}function ia(n,e,t){let{artist:l}=e,s="";function r(o){bt.call(this,n,o)}const a=()=>t(1,s="variant-ghost-success"),i=()=>t(1,s="");return n.$$set=o=>{"artist"in o&&t(0,l=o.artist)},[l,s,r,a,i]}class oa extends de{constructor(e){super(),_e(this,e,ia,ra,me,{artist:0})}}function Xt(n,e){e.update(t=>(t.forEach(l=>{l.track.artist.id===n&&(l.selected=!1)}),t))}async function _t(n,e){const t=await bl(n);e.update(l=>{const s=t.sort((a,i)=>a.release_date.localeCompare(i.release_date)).flatMap(a=>{const{tracks:i,...o}=a;return a.tracks.map(u=>({...u,album:o}))});s.forEach(a=>{const i=l.find(o=>o.track.id===a.id);i?(i.track.album=a.album,i.selected=!0):l.push({track:a,inPlaylist:!1,selected:!0})});function r(a){return s.findIndex(i=>i.id===a.track.id)}return l.sort((a,i)=>{const o=r(a),u=r(i);return o-u}),l})}function ua(n,e){e.update(t=>(t.forEach(l=>{l.track.album.id===n&&(l.selected=!1)}),t))}async function ca(n,e){const t=await vl(n.id);e.update(l=>{t.data.forEach(o=>{const u=l.find(h=>h.track.id===o.id);o.album=n,u?(u.track.album=o.album,u.selected=!0):l.push({track:o,inPlaylist:!1,selected:!0})});function s(o){return t.data.findIndex(u=>u.id===o.track.id)+1}function r(o){return l.findIndex(u=>u.track.id===o.track.id)+1}const a=l.findIndex(o=>o.track.album.id===n.id);function i(o){const u=s(o);return u===0?r(o)*1e4:a*1e4+u}return console.log({startIndex:a}),l.sort((o,u)=>{const h=a*1e4+i(o),c=a*1e4+i(u);return h-c}),l})}function fa(n){let e,t,l,s,r,a,i,o,u,h,c,f;const b=n[5].default,g=Re(b,n,n[4],null);return r=new Et({}),o=new wl({}),{c(){e=y("span"),g&&g.c(),t=O(),l=y("span"),s=y("button"),R(r.$$.fragment),a=O(),i=y("button"),R(o.$$.fragment),this.h()},l(d){e=$(d,"SPAN",{class:!0});var T=C(e);g&&g.l(T),t=z(T),l=$(T,"SPAN",{class:!0});var k=C(l);s=$(k,"BUTTON",{class:!0,title:!0});var P=C(s);U(r.$$.fragment,P),P.forEach(m),a=z(k),i=$(k,"BUTTON",{class:!0,title:!0});var p=C(i);U(o.$$.fragment,p),p.forEach(m),k.forEach(m),T.forEach(m),this.h()},h(){_(s,"class","!p-0 "),_(s,"title",n[0]),_(i,"class","!p-0"),_(i,"title",n[1]),_(l,"class","btn-group-vertical btn btn-sm gap-y-1"),_(e,"class",u="flex flex-row justify-between w-full items-center py-1 gap-x-2 "+n[2])},m(d,T){B(d,e,T),g&&g.m(e,null),v(e,t),v(e,l),v(l,s),M(r,s,null),v(l,a),v(l,i),M(o,i,null),h=!0,c||(f=[q(s,"click",n[6]),q(s,"pointerenter",n[7]),q(s,"pointerleave",n[8]),q(i,"click",n[9]),q(i,"pointerenter",n[10]),q(i,"pointerleave",n[11])],c=!0)},p(d,[T]){g&&g.p&&(!h||T&16)&&Ue(g,b,d,d[4],h?Ve(b,d[4],T,null):Me(d[4]),null),(!h||T&1)&&_(s,"title",d[0]),(!h||T&2)&&_(i,"title",d[1]),(!h||T&4&&u!==(u="flex flex-row justify-between w-full items-center py-1 gap-x-2 "+d[2]))&&_(e,"class",u)},i(d){h||(A(g,d),A(r.$$.fragment,d),A(o.$$.fragment,d),h=!0)},o(d){N(g,d),N(r.$$.fragment,d),N(o.$$.fragment,d),h=!1},d(d){d&&m(e),g&&g.d(d),V(r),V(o),c=!1,et(f)}}}function ha(n,e,t){let{$$slots:l={},$$scope:s}=e;const r=yt();let{addTitle:a="add all album titles to the playlist"}=e,{removeTitle:i="deselect all album titles from the playlist"}=e,o="";const u=()=>r("add"),h=()=>t(2,o="variant-ghost-success"),c=()=>t(2,o=""),f=()=>r("remove"),b=()=>t(2,o="variant-ghost-error"),g=()=>t(2,o="");return n.$$set=d=>{"addTitle"in d&&t(0,a=d.addTitle),"removeTitle"in d&&t(1,i=d.removeTitle),"$$scope"in d&&t(4,s=d.$$scope)},[a,i,o,r,s,l,u,h,c,f,b,g]}class yl extends de{constructor(e){super(),_e(this,e,ha,fa,me,{addTitle:0,removeTitle:1})}}function Qt(n,e,t){const l=n.slice();l[50]=e[t],l[52]=e,l[53]=t;const s=l[50].track;return l[51]=s,l}function xt(n,e,t){const l=n.slice();l[45]=e[t];const s=l[22](l[45].id);return l[46]=s,l}function ma(n){let e,t,l;function s(){n[36].call(e,n[52],n[53])}return{c(){e=y("input"),this.h()},l(r){e=$(r,"INPUT",{type:!0,class:!0}),this.h()},h(){_(e,"type","checkbox"),_(e,"class","checkbox")},m(r,a){B(r,e,a),e.checked=n[50].selected,t||(l=q(e,"change",s),t=!0)},p(r,a){n=r,a[0]&64&&(e.checked=n[50].selected)},d(r){r&&m(e),t=!1,l()}}}function da(n){let e,t=n[53]+1+"",l;return{c(){e=y("span"),l=we(t)},l(s){e=$(s,"SPAN",{});var r=C(e);l=ye(r,t),r.forEach(m)},m(s,r){B(s,e,r),v(e,l)},p:G,d(s){s&&m(e)}}}function _a(n){let e,t,l,s,r=n[51].title+"",a,i,o;return e=new wn({props:{src:n[51].preview,enabled:n[51].readable}}),{c(){R(e.$$.fragment),t=O(),l=y("a"),s=y("span"),a=we(r),this.h()},l(u){U(e.$$.fragment,u),t=z(u),l=$(u,"A",{href:!0,title:!0});var h=C(l);s=$(h,"SPAN",{});var c=C(s);a=ye(c,r),c.forEach(m),h.forEach(m),this.h()},h(){_(l,"href",i=n[51].link),_(l,"title","open track in Deezer web interface")},m(u,h){M(e,u,h),B(u,t,h),B(u,l,h),v(l,s),v(s,a),o=!0},p(u,h){const c={};h[0]&64&&(c.src=u[51].preview),h[0]&64&&(c.enabled=u[51].readable),e.$set(c),(!o||h[0]&64)&&r!==(r=u[51].title+"")&&je(a,r),(!o||h[0]&64&&i!==(i=u[51].link))&&_(l,"href",i)},i(u){o||(A(e.$$.fragment,u),o=!0)},o(u){N(e.$$.fragment,u),o=!1},d(u){u&&(m(t),m(l)),V(e,u)}}}function ga(n){let e,t,l,s,r=n[51].album.title+"",a;return{c(){e=y("img"),l=O(),s=y("span"),a=we(r),this.h()},l(i){e=$(i,"IMG",{src:!0,alt:!0}),l=z(i),s=$(i,"SPAN",{});var o=C(s);a=ye(o,r),o.forEach(m),this.h()},h(){Ye(e.src,t=n[51].album.cover_small)||_(e,"src",t),_(e,"alt","album cover")},m(i,o){B(i,e,o),B(i,l,o),B(i,s,o),v(s,a)},p(i,o){o[0]&64&&!Ye(e.src,t=i[51].album.cover_small)&&_(e,"src",t),o[0]&64&&r!==(r=i[51].album.title+"")&&je(a,r)},d(i){i&&(m(e),m(l),m(s))}}}function pa(n){let e,t,l,s;return t=new ut({props:{$$slots:{default:[ga]},$$scope:{ctx:n}}}),{c(){e=y("a"),R(t.$$.fragment),this.h()},l(r){e=$(r,"A",{href:!0,title:!0});var a=C(e);U(t.$$.fragment,a),a.forEach(m),this.h()},h(){_(e,"href",l="https://www.deezer.com/album/"+n[51].album.id),_(e,"title","open album in Deezer web interface")},m(r,a){B(r,e,a),M(t,e,null),s=!0},p(r,a){const i={};a[0]&64|a[1]&8388608&&(i.$$scope={dirty:a,ctx:r}),t.$set(i),(!s||a[0]&64&&l!==(l="https://www.deezer.com/album/"+r[51].album.id))&&_(e,"href",l)},i(r){s||(A(t.$$.fragment,r),s=!0)},o(r){N(t.$$.fragment,r),s=!1},d(r){r&&m(e),V(t)}}}function va(n){let e,t;function l(){return n[37](n[51])}function s(){return n[38](n[51])}return e=new yl({props:{addTitle:"add all album titles to the playlist",removeTitle:"deselect all album titles from the playlist",$$slots:{default:[pa]},$$scope:{ctx:n}}}),e.$on("add",l),e.$on("remove",s),{c(){R(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,a){M(e,r,a),t=!0},p(r,a){n=r;const i={};a[0]&64|a[1]&8388608&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){V(e,r)}}}function ba(n){let e,t,l=n[51].artist.name+"",s,r;return{c(){e=y("a"),t=y("span"),s=we(l),this.h()},l(a){e=$(a,"A",{href:!0,title:!0});var i=C(e);t=$(i,"SPAN",{});var o=C(t);s=ye(o,l),o.forEach(m),i.forEach(m),this.h()},h(){_(e,"href",r=n[51].artist.link),_(e,"title","open artist in Deezer web interface")},m(a,i){B(a,e,i),v(e,t),v(t,s)},p(a,i){i[0]&64&&l!==(l=a[51].artist.name+"")&&je(s,l),i[0]&64&&r!==(r=a[51].artist.link)&&_(e,"href",r)},d(a){a&&m(e)}}}function ka(n){let e,t;function l(){return n[39](n[51])}function s(){return n[40](n[51])}return e=new yl({props:{addTitle:"add all artist titles to the playlist",removeTitle:"deselect all artist titles from the playlist",$$slots:{default:[ba]},$$scope:{ctx:n}}}),e.$on("add",l),e.$on("remove",s),{c(){R(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,a){M(e,r,a),t=!0},p(r,a){n=r;const i={};a[0]&64|a[1]&8388608&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(r){t||(A(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){V(e,r)}}}function wa(n){let e,t;return e=new xn({}),{c(){R(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,s){M(e,l,s),t=!0},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function ya(n){let e,t;return e=new la({}),{c(){R(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,s){M(e,l,s),t=!0},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function $a(n){let e,t;return e=new sa({}),{c(){R(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,s){M(e,l,s),t=!0},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Ta(n){let e,t;return e=new an({props:{value:5*n[51].rank/n[5],max:5,$$slots:{full:[$a],half:[ya],empty:[wa]},$$scope:{ctx:n}}}),{c(){R(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,s){M(e,l,s),t=!0},p(l,s){const r={};s[0]&96&&(r.value=5*l[51].rank/l[5]),s[1]&8388608&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Ea(n){let e=zt(n[51].duration*1e3,{units:["m","s"],largest:2})+"",t,l,s;return{c(){t=we(e),l=O(),s=y("span"),this.h()},l(r){t=ye(r,e),l=z(r),s=$(r,"SPAN",{class:!0}),C(s).forEach(m),this.h()},h(){_(s,"class","grow")},m(r,a){B(r,t,a),B(r,l,a),B(r,s,a)},p(r,a){a[0]&64&&e!==(e=zt(r[51].duration*1e3,{units:["m","s"],largest:2})+"")&&je(t,e)},d(r){r&&(m(t),m(l),m(s))}}}function el(n){let e,t,l,s,r,a,i,o,u,h,c,f,b,g,d,T,k;return t=new xe({props:{$$slots:{default:[ma]},$$scope:{ctx:n}}}),s=new xe({props:{$$slots:{default:[da]},$$scope:{ctx:n}}}),a=new xe({props:{justify:"start",$$slots:{default:[_a]},$$scope:{ctx:n}}}),o=new xe({props:{justify:"start",$$slots:{default:[va]},$$scope:{ctx:n}}}),h=new xe({props:{justify:"start",$$slots:{default:[ka]},$$scope:{ctx:n}}}),f=new xe({props:{title:n[51].rank,$$slots:{default:[Ta]},$$scope:{ctx:n}}}),g=new xe({props:{$$slots:{default:[Ea]},$$scope:{ctx:n}}}),{c(){e=y("tr"),R(t.$$.fragment),l=O(),R(s.$$.fragment),r=O(),R(a.$$.fragment),i=O(),R(o.$$.fragment),u=O(),R(h.$$.fragment),c=O(),R(f.$$.fragment),b=O(),R(g.$$.fragment),d=O(),this.h()},l(P){e=$(P,"TR",{class:!0});var p=C(e);U(t.$$.fragment,p),l=z(p),U(s.$$.fragment,p),r=z(p),U(a.$$.fragment,p),i=z(p),U(o.$$.fragment,p),u=z(p),U(h.$$.fragment,p),c=z(p),U(f.$$.fragment,p),b=z(p),U(g.$$.fragment,p),d=z(p),p.forEach(m),this.h()},h(){_(e,"class",T=It(al(n[50]))+" svelte-p6m18c"),st(e,"!text-red-500",!n[51].readable)},m(P,p){B(P,e,p),M(t,e,null),v(e,l),M(s,e,null),v(e,r),M(a,e,null),v(e,i),M(o,e,null),v(e,u),M(h,e,null),v(e,c),M(f,e,null),v(e,b),M(g,e,null),v(e,d),k=!0},p(P,p){const S={};p[0]&64|p[1]&8388608&&(S.$$scope={dirty:p,ctx:P}),t.$set(S);const j={};p[1]&8388608&&(j.$$scope={dirty:p,ctx:P}),s.$set(j);const H={};p[0]&64|p[1]&8388608&&(H.$$scope={dirty:p,ctx:P}),a.$set(H);const K={};p[0]&64|p[1]&8388608&&(K.$$scope={dirty:p,ctx:P}),o.$set(K);const ae={};p[0]&64|p[1]&8388608&&(ae.$$scope={dirty:p,ctx:P}),h.$set(ae);const fe={};p[0]&64&&(fe.title=P[51].rank),p[0]&96|p[1]&8388608&&(fe.$$scope={dirty:p,ctx:P}),f.$set(fe);const ue={};p[0]&64|p[1]&8388608&&(ue.$$scope={dirty:p,ctx:P}),g.$set(ue),(!k||p[0]&64&&T!==(T=It(al(P[50]))+" svelte-p6m18c"))&&_(e,"class",T),(!k||p[0]&64)&&st(e,"!text-red-500",!P[51].readable)},i(P){k||(A(t.$$.fragment,P),A(s.$$.fragment,P),A(a.$$.fragment,P),A(o.$$.fragment,P),A(h.$$.fragment,P),A(f.$$.fragment,P),A(g.$$.fragment,P),k=!0)},o(P){N(t.$$.fragment,P),N(s.$$.fragment,P),N(a.$$.fragment,P),N(o.$$.fragment,P),N(h.$$.fragment,P),N(f.$$.fragment,P),N(g.$$.fragment,P),k=!1},d(P){P&&m(e),V(t),V(s),V(a),V(o),V(h),V(f),V(g)}}}function Ca(n){var Pt;let e,t,l,s="Title",r,a,i,o,u,h="Description",c,f,b,g,d="",T,k,P,p,S,j,H,K=((Pt=n[3])==null?void 0:Pt.filter(il).length)+"",ae,fe,ue=n[0].playlist.tracks.data.length+"",se,Q,ke,$e,re,He,X,be,pe,De,ee,E,Z,ve="Pos.",Te,Ee,Fe="Title",rt,Ge,ct="Album",it,w,D="Artist",F,te,J="rank",ie,ce,x="duration",oe,Be,tt,Ne,gt,Je,pt,Ct,We=Ke(n[6]),le=[];for(let I=0;I<We.length;I+=1)le[I]=el(Qt(n,We,I));const $l=I=>N(le[I],1,1,()=>{le[I]=null});function Tl(I){n[41](I)}let At={showFirstLastButtons:!0,showPreviousNextButtons:!0};return n[1]!==void 0&&(At.settings=n[1]),Ne=new zl({props:At}),fl.push(()=>ml(Ne,"settings",Tl)),{c(){e=y("form"),t=y("label"),l=y("span"),l.textContent=s,r=O(),a=y("input"),i=O(),o=y("label"),u=y("span"),u.textContent=h,c=O(),f=y("textarea"),b=O(),g=y("div"),g.innerHTML=d,T=O(),k=y("span"),P=y("table"),p=y("thead"),S=y("tr"),j=y("td"),H=y("span"),ae=we(K),fe=we(" Tracks ("),se=we(ue),Q=we(`
                        in playlist)`),ke=O(),$e=y("td"),re=y("input"),He=O(),X=y("tr"),be=y("th"),pe=y("input"),E=O(),Z=y("th"),Z.textContent=ve,Te=O(),Ee=y("th"),Ee.textContent=Fe,rt=O(),Ge=y("th"),Ge.textContent=ct,it=O(),w=y("th"),w.textContent=D,F=O(),te=y("th"),te.textContent=J,ie=O(),ce=y("th"),ce.textContent=x,oe=O(),Be=y("tbody");for(let I=0;I<le.length;I+=1)le[I].c();tt=O(),R(Ne.$$.fragment),this.h()},l(I){e=$(I,"FORM",{class:!0});var Y=C(e);t=$(Y,"LABEL",{class:!0});var Se=C(t);l=$(Se,"SPAN",{"data-svelte-h":!0}),ge(l)!=="svelte-7ccxmo"&&(l.textContent=s),r=z(Se),a=$(Se,"INPUT",{class:!0,type:!0,placeholder:!0}),Se.forEach(m),i=z(Y),o=$(Y,"LABEL",{class:!0});var Xe=C(o);u=$(Xe,"SPAN",{"data-svelte-h":!0}),ge(u)!=="svelte-rmspr8"&&(u.textContent=h),c=z(Xe),f=$(Xe,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),C(f).forEach(m),Xe.forEach(m),b=z(Y),g=$(Y,"DIV",{class:!0,"data-svelte-h":!0}),ge(g)!=="svelte-10ijpzw"&&(g.innerHTML=d),Y.forEach(m),T=z(I),k=$(I,"SPAN",{class:!0});var he=C(k);P=$(he,"TABLE",{class:!0});var Qe=C(P);p=$(Qe,"THEAD",{});var ft=C(p);S=$(ft,"TR",{});var ht=C(S);j=$(ht,"TD",{colspan:!0});var Bt=C(j);H=$(Bt,"SPAN",{});var ot=C(H);ae=ye(ot,K),fe=ye(ot," Tracks ("),se=ye(ot,ue),Q=ye(ot,`
                        in playlist)`),ot.forEach(m),Bt.forEach(m),ke=z(ht),$e=$(ht,"TD",{colspan:!0});var Nt=C($e);re=$(Nt,"INPUT",{class:!0,title:!0,type:!0,placeholder:!0}),Nt.forEach(m),ht.forEach(m),He=z(ft),X=$(ft,"TR",{class:!0});var Ce=C(X);be=$(Ce,"TH",{});var St=C(be);pe=$(St,"INPUT",{type:!0,class:!0}),St.forEach(m),E=z(Ce),Z=$(Ce,"TH",{"data-svelte-h":!0}),ge(Z)!=="svelte-s1pt0e"&&(Z.textContent=ve),Te=z(Ce),Ee=$(Ce,"TH",{class:!0,"data-svelte-h":!0}),ge(Ee)!=="svelte-1b5qsso"&&(Ee.textContent=Fe),rt=z(Ce),Ge=$(Ce,"TH",{"data-svelte-h":!0}),ge(Ge)!=="svelte-12o9w3z"&&(Ge.textContent=ct),it=z(Ce),w=$(Ce,"TH",{"data-svelte-h":!0}),ge(w)!=="svelte-1tiipkx"&&(w.textContent=D),F=z(Ce),te=$(Ce,"TH",{"data-svelte-h":!0}),ge(te)!=="svelte-1btrpio"&&(te.textContent=J),ie=z(Ce),ce=$(Ce,"TH",{"data-svelte-h":!0}),ge(ce)!=="svelte-9uwuqy"&&(ce.textContent=x),Ce.forEach(m),ft.forEach(m),oe=z(Qe),Be=$(Qe,"TBODY",{});var Ot=C(Be);for(let vt=0;vt<le.length;vt+=1)le[vt].l(Ot);Ot.forEach(m),Qe.forEach(m),tt=z(he),U(Ne.$$.fragment,he),he.forEach(m),this.h()},h(){_(a,"class","input"),_(a,"type","text"),_(a,"placeholder","title"),_(t,"class","label"),_(f,"class","textarea"),_(f,"rows","4"),_(f,"placeholder","description"),_(o,"class","label"),_(g,"class","flex place-content-start"),_(e,"class","mb-10 space-y-2"),_(j,"colspan","3"),_(re,"class","input"),_(re,"title","Input (search)"),_(re,"type","search"),_(re,"placeholder","Search..."),_($e,"colspan","4"),_(pe,"type","checkbox"),_(pe,"class","checkbox"),pe.checked=De=n[6].filter(ol).length===n[6].length&&n[6].length>0,pe.indeterminate=ee=n[6].filter(ul).length!==n[6].length&&n[6].filter(cl).length>0,_(Ee,"class",".fitwidth"),_(X,"class",""),_(P,"class","table table-compact my-4"),_(k,"class","table-container")},m(I,Y){B(I,e,Y),v(e,t),v(t,l),v(t,r),v(t,a),qe(a,n[0].playlist.title),v(e,i),v(e,o),v(o,u),v(o,c),v(o,f),qe(f,n[0].playlist.description),v(e,b),v(e,g),B(I,T,Y),B(I,k,Y),v(k,P),v(P,p),v(p,S),v(S,j),v(j,H),v(H,ae),v(H,fe),v(H,se),v(H,Q),v(S,ke),v(S,$e),v($e,re),qe(re,n[2]),v(p,He),v(p,X),v(X,be),v(be,pe),v(X,E),v(X,Z),v(X,Te),v(X,Ee),v(X,rt),v(X,Ge),v(X,it),v(X,w),v(X,F),v(X,te),v(X,ie),v(X,ce),v(P,oe),v(P,Be);for(let Se=0;Se<le.length;Se+=1)le[Se]&&le[Se].m(Be,null);v(k,tt),M(Ne,k,null),Je=!0,pt||(Ct=[q(a,"input",n[32]),q(f,"input",n[33]),q(re,"input",n[34]),q(pe,"change",n[35])],pt=!0)},p(I,Y){var Xe;if(Y[0]&1&&a.value!==I[0].playlist.title&&qe(a,I[0].playlist.title),Y[0]&1&&qe(f,I[0].playlist.description),(!Je||Y[0]&8)&&K!==(K=((Xe=I[3])==null?void 0:Xe.filter(il).length)+"")&&je(ae,K),(!Je||Y[0]&1)&&ue!==(ue=I[0].playlist.tracks.data.length+"")&&je(se,ue),Y[0]&4&&re.value!==I[2]&&qe(re,I[2]),(!Je||Y[0]&64&&De!==(De=I[6].filter(ol).length===I[6].length&&I[6].length>0))&&(pe.checked=De),(!Je||Y[0]&64&&ee!==(ee=I[6].filter(ul).length!==I[6].length&&I[6].filter(cl).length>0))&&(pe.indeterminate=ee),Y[0]&4192){We=Ke(I[6]);let he;for(he=0;he<We.length;he+=1){const Qe=Qt(I,We,he);le[he]?(le[he].p(Qe,Y),A(le[he],1)):(le[he]=el(Qe),le[he].c(),A(le[he],1),le[he].m(Be,null))}for(Le(),he=We.length;he<le.length;he+=1)$l(he);Ze()}const Se={};!gt&&Y[0]&2&&(gt=!0,Se.settings=I[1],hl(()=>gt=!1)),Ne.$set(Se)},i(I){if(!Je){for(let Y=0;Y<We.length;Y+=1)A(le[Y]);A(Ne.$$.fragment,I),Je=!0}},o(I){le=le.filter(Boolean);for(let Y=0;Y<le.length;Y+=1)N(le[Y]);N(Ne.$$.fragment,I),Je=!1},d(I){I&&(m(e),m(T),m(k)),wt(le,I),V(Ne),pt=!1,et(Ct)}}}function Aa(n){let e,t="Search Artist";return{c(){e=y("h4"),e.textContent=t},l(l){e=$(l,"H4",{"data-svelte-h":!0}),ge(e)!=="svelte-z92qpb"&&(e.textContent=t)},m(l,s){B(l,e,s)},p:G,d(l){l&&m(e)}}}function Pa(n){let e,t;function l(){return n[24](n[49])}return e=new oa({props:{artist:n[49].meta}}),e.$on("click",l),{c(){R(e.$$.fragment)},l(s){U(e.$$.fragment,s)},m(s,r){M(e,s,r),t=!0},p(s,r){n=s;const a={};r[1]&262144&&(a.artist=n[49].meta),e.$set(a)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){N(e.$$.fragment,s),t=!1},d(s){V(e,s)}}}function tl(n){let e,t,l,s,r,a,i;t=new ut({props:{$$slots:{default:[Ba]},$$scope:{ctx:n}}}),s=new ut({props:{$$slots:{default:[Ia]},$$scope:{ctx:n}}});let o=Ke(n[10]),u=[];for(let c=0;c<o.length;c+=1)u[c]=ll(xt(n,o,c));const h=c=>N(u[c],1,1,()=>{u[c]=null});return{c(){e=y("span"),R(t.$$.fragment),l=O(),R(s.$$.fragment),r=O(),a=y("ul");for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){e=$(c,"SPAN",{class:!0});var f=C(e);U(t.$$.fragment,f),l=z(f),U(s.$$.fragment,f),f.forEach(m),r=z(c),a=$(c,"UL",{class:!0});var b=C(a);for(let g=0;g<u.length;g+=1)u[g].l(b);b.forEach(m),this.h()},h(){_(e,"class","flex justify-between w-full items-center gap-x-2 my-4"),_(a,"class","list")},m(c,f){B(c,e,f),M(t,e,null),v(e,l),M(s,e,null),B(c,r,f),B(c,a,f);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(a,null);i=!0},p(c,f){const b={};f[1]&8388608&&(b.$$scope={dirty:f,ctx:c}),t.$set(b);const g={};if(f[0]&16|f[1]&8388608&&(g.$$scope={dirty:f,ctx:c}),s.$set(g),f[0]&4199424){o=Ke(c[10]);let d;for(d=0;d<o.length;d+=1){const T=xt(c,o,d);u[d]?(u[d].p(T,f),A(u[d],1)):(u[d]=ll(T),u[d].c(),A(u[d],1),u[d].m(a,null))}for(Le(),d=o.length;d<u.length;d+=1)h(d);Ze()}},i(c){if(!i){A(t.$$.fragment,c),A(s.$$.fragment,c);for(let f=0;f<o.length;f+=1)A(u[f]);i=!0}},o(c){N(t.$$.fragment,c),N(s.$$.fragment,c),u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)N(u[f]);i=!1},d(c){c&&(m(e),m(r),m(a)),V(t),V(s),wt(u,c)}}}function Ba(n){let e,t="Playlists Artists";return{c(){e=y("h4"),e.textContent=t},l(l){e=$(l,"H4",{"data-svelte-h":!0}),ge(e)!=="svelte-1fedd7v"&&(e.textContent=t)},m(l,s){B(l,e,s)},p:G,d(l){l&&m(e)}}}function Na(n){let e,t="alphabetical",l,s;return{c(){e=y("button"),e.textContent=t},l(r){e=$(r,"BUTTON",{"data-svelte-h":!0}),ge(e)!=="svelte-a0poae"&&(e.textContent=t)},m(r,a){B(r,e,a),l||(s=q(e,"click",n[27]),l=!0)},p:G,d(r){r&&m(e),l=!1,s()}}}function Sa(n){let e,t="# tracks",l,s;return{c(){e=y("button"),e.textContent=t},l(r){e=$(r,"BUTTON",{"data-svelte-h":!0}),ge(e)!=="svelte-ms1gv1"&&(e.textContent=t)},m(r,a){B(r,e,a),l||(s=q(e,"click",n[26]),l=!0)},p:G,d(r){r&&m(e),l=!1,s()}}}function Oa(n){let e,t,l,s,r;return t=new Wn({}),{c(){e=y("button"),R(t.$$.fragment)},l(a){e=$(a,"BUTTON",{});var i=C(e);U(t.$$.fragment,i),i.forEach(m)},m(a,i){B(a,e,i),M(t,e,null),l=!0,s||(r=q(e,"click",n[29]),s=!0)},p:G,i(a){l||(A(t.$$.fragment,a),l=!0)},o(a){N(t.$$.fragment,a),l=!1},d(a){a&&m(e),V(t),s=!1,r()}}}function za(n){let e,t,l,s,r;return t=new qn({}),{c(){e=y("button"),R(t.$$.fragment)},l(a){e=$(a,"BUTTON",{});var i=C(e);U(t.$$.fragment,i),i.forEach(m)},m(a,i){B(a,e,i),M(t,e,null),l=!0,s||(r=q(e,"click",n[28]),s=!0)},p:G,i(a){l||(A(t.$$.fragment,a),l=!0)},o(a){N(t.$$.fragment,a),l=!1},d(a){a&&m(e),V(t),s=!1,r()}}}function Ia(n){let e,t,l,s,r;function a(f,b){if(f[4].orderBy==="trackCount")return Sa;if(f[4].orderBy==="alphabetical")return Na}let i=a(n),o=i&&i(n);const u=[za,Oa],h=[];function c(f,b){return f[4].ascending?0:1}return t=c(n),l=h[t]=u[t](n),{c(){o&&o.c(),e=O(),l.c(),s=at()},l(f){o&&o.l(f),e=z(f),l.l(f),s=at()},m(f,b){o&&o.m(f,b),B(f,e,b),h[t].m(f,b),B(f,s,b),r=!0},p(f,b){i===(i=a(f))&&o?o.p(f,b):(o&&o.d(1),o=i&&i(f),o&&(o.c(),o.m(e.parentNode,e)));let g=t;t=c(f),t===g?h[t].p(f,b):(Le(),N(h[g],1,1,()=>{h[g]=null}),Ze(),l=h[t],l?l.p(f,b):(l=h[t]=u[t](f),l.c()),A(l,1),l.m(s.parentNode,s))},i(f){r||(A(l),r=!0)},o(f){N(l),r=!1},d(f){f&&(m(e),m(s)),o&&o.d(f),h[t].d(f)}}}function Da(n){let e,t,l,s,r,a=n[45].name+"",i,o,u,h,c=n[46]+"",f,b,g;return{c(){e=y("img"),s=O(),r=y("span"),i=we(a),o=O(),u=y("small"),h=we("(#"),f=we(c),b=we(")"),this.h()},l(d){e=$(d,"IMG",{src:!0,alt:!0}),s=z(d),r=$(d,"SPAN",{});var T=C(r);i=ye(T,a),T.forEach(m),o=z(d),u=$(d,"SMALL",{title:!0});var k=C(u);h=ye(k,"(#"),f=ye(k,c),b=ye(k,")"),k.forEach(m),this.h()},h(){Ye(e.src,t=n[45].picture_small)||_(e,"src",t),_(e,"alt",l=n[45].name),_(u,"title",g="artist has "+n[46]+" tracks in the playlist ")},m(d,T){B(d,e,T),B(d,s,T),B(d,r,T),v(r,i),B(d,o,T),B(d,u,T),v(u,h),v(u,f),v(u,b)},p(d,T){T[0]&1024&&!Ye(e.src,t=d[45].picture_small)&&_(e,"src",t),T[0]&1024&&l!==(l=d[45].name)&&_(e,"alt",l),T[0]&1024&&a!==(a=d[45].name+"")&&je(i,a),T[0]&1024&&c!==(c=d[46]+"")&&je(f,c),T[0]&1024&&g!==(g="artist has "+d[46]+" tracks in the playlist ")&&_(u,"title",g)},d(d){d&&(m(e),m(s),m(r),m(o),m(u))}}}function ll(n){let e,t,l,s,r,a,i,o,u,h,c,f,b,g,d,T;s=new ut({props:{$$slots:{default:[Da]},$$scope:{ctx:n}}}),u=new Et({});function k(){return n[30](n[45])}f=new wl({});function P(){return n[31](n[45])}return{c(){e=y("li"),t=y("span"),l=y("a"),R(s.$$.fragment),a=O(),i=y("div"),o=y("button"),R(u.$$.fragment),h=O(),c=y("button"),R(f.$$.fragment),b=O(),this.h()},l(p){e=$(p,"LI",{});var S=C(e);t=$(S,"SPAN",{class:!0});var j=C(t);l=$(j,"A",{href:!0,title:!0});var H=C(l);U(s.$$.fragment,H),H.forEach(m),a=z(j),i=$(j,"DIV",{class:!0});var K=C(i);o=$(K,"BUTTON",{class:!0,title:!0});var ae=C(o);U(u.$$.fragment,ae),ae.forEach(m),h=z(K),c=$(K,"BUTTON",{class:!0,title:!0});var fe=C(c);U(f.$$.fragment,fe),fe.forEach(m),K.forEach(m),j.forEach(m),b=z(S),S.forEach(m),this.h()},h(){_(l,"href",r=n[45].link),_(l,"title","open artist in Deezer web interface"),_(o,"class","!p-0 "),_(o,"title","add all artist titles to the playlist"),_(c,"class","!p-0"),_(c,"title","deselect all artist titles from the playlist"),st(c,"text-gray-500",n[46]===0),_(i,"class","btn-group-vertical btn btn-sm gap-y-1"),_(t,"class","flex flex-row justify-between w-full items-center gap-x-2")},m(p,S){B(p,e,S),v(e,t),v(t,l),M(s,l,null),v(t,a),v(t,i),v(i,o),M(u,o,null),v(i,h),v(i,c),M(f,c,null),v(e,b),g=!0,d||(T=[q(o,"click",k),q(c,"click",P)],d=!0)},p(p,S){n=p;const j={};S[0]&1024|S[1]&8388608&&(j.$$scope={dirty:S,ctx:n}),s.$set(j),(!g||S[0]&1024&&r!==(r=n[45].link))&&_(l,"href",r),(!g||S[0]&4195328)&&st(c,"text-gray-500",n[46]===0)},i(p){g||(A(s.$$.fragment,p),A(u.$$.fragment,p),A(f.$$.fragment,p),g=!0)},o(p){N(s.$$.fragment,p),N(u.$$.fragment,p),N(f.$$.fragment,p),g=!1},d(p){p&&m(e),V(s),V(u),V(f),d=!1,et(T)}}}function ja(n){var P;let e,t,l,s,r,a,i,o,u,h,c,f,b,g;l=new ut({props:{$$slots:{default:[Aa]},$$scope:{ctx:n}}});function d(p){n[25](p)}let T={options:n[9],$$slots:{optionButton:[Pa,({option:p})=>({49:p}),({option:p})=>[0,p?262144:0]]},$$scope:{ctx:n}};n[8]!==void 0&&(T.input=n[8]),o=new Pn({props:T}),fl.push(()=>ml(o,"input",d)),o.$on("selection",n[20]);let k=((P=n[10])==null?void 0:P.length)>0&&tl(n);return{c(){e=y("span"),t=y("span"),R(l.$$.fragment),s=O(),r=y("input"),a=O(),i=y("span"),R(o.$$.fragment),h=O(),k&&k.c(),c=at(),this.h()},l(p){e=$(p,"SPAN",{class:!0});var S=C(e);t=$(S,"SPAN",{class:!0});var j=C(t);U(l.$$.fragment,j),j.forEach(m),s=z(S),r=$(S,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),a=z(S),i=$(S,"SPAN",{class:!0,tabindex:!0});var H=C(i);U(o.$$.fragment,H),H.forEach(m),S.forEach(m),h=z(p),k&&k.l(p),c=at(),this.h()},h(){_(t,"class","mb-2"),_(r,"class","input"),_(r,"type","search"),_(r,"name","demo"),_(r,"placeholder","Search..."),_(i,"class","card w-full max-w-sm max-h-48 p-4 overflow-y-auto inline-block"),_(i,"tabindex","-1"),_(e,"class","my-4")},m(p,S){B(p,e,S),v(e,t),M(l,t,null),v(e,s),v(e,r),qe(r,n[8]),v(e,a),v(e,i),M(o,i,null),B(p,h,S),k&&k.m(p,S),B(p,c,S),f=!0,b||(g=q(r,"input",n[23]),b=!0)},p(p,S){var K;const j={};S[1]&8388608&&(j.$$scope={dirty:S,ctx:p}),l.$set(j),S[0]&256&&r.value!==p[8]&&qe(r,p[8]);const H={};S[0]&512&&(H.options=p[9]),S[1]&8650752&&(H.$$scope={dirty:S,ctx:p}),!u&&S[0]&256&&(u=!0,H.input=p[8],hl(()=>u=!1)),o.$set(H),((K=p[10])==null?void 0:K.length)>0?k?(k.p(p,S),S[0]&1024&&A(k,1)):(k=tl(p),k.c(),A(k,1),k.m(c.parentNode,c)):k&&(Le(),N(k,1,1,()=>{k=null}),Ze())},i(p){f||(A(l.$$.fragment,p),A(o.$$.fragment,p),A(k),f=!0)},o(p){N(l.$$.fragment,p),N(o.$$.fragment,p),N(k),f=!1},d(p){p&&(m(e),m(h),m(c)),V(l),V(o),k&&k.d(p),b=!1,g()}}}function nl(n){let e,t=n[7].message+"",l,s,r,a,i;return{c(){e=y("span"),l=we(t),s=O(),r=y("progress"),this.h()},l(o){e=$(o,"SPAN",{});var u=C(e);l=ye(u,t),u.forEach(m),s=z(o),r=$(o,"PROGRESS",{max:!0}),C(r).forEach(m),this.h()},h(){r.value=a=n[7].value,_(r,"max",i=n[7].max)},m(o,u){B(o,e,u),v(e,l),B(o,s,u),B(o,r,u)},p(o,u){u[0]&128&&t!==(t=o[7].message+"")&&je(l,t),u[0]&128&&a!==(a=o[7].value)&&(r.value=a),u[0]&128&&i!==(i=o[7].max)&&_(r,"max",i)},d(o){o&&(m(e),m(s),m(r))}}}function La(n){let e,t,l="Save to Deezer",s,r,a,i,o,u="Update playlist info",h,c,f,b,g,d="Update Tracks",T,k,P,p="Prepare playlist",S,j,H,K,ae,fe="retrieve non readable tracks",ue,se,Q,ke,$e,re,He="remove de-selected tracks",X,be,pe,De;a=new Wt({}),f=new Wt({});let ee=n[7]&&nl(n);return H=new Rn({}),ke=new Dn({}),{c(){e=y("div"),t=y("h3"),t.textContent=l,s=O(),r=y("button"),R(a.$$.fragment),i=O(),o=y("span"),o.textContent=u,h=O(),c=y("button"),R(f.$$.fragment),b=O(),g=y("span"),g.textContent=d,T=O(),ee&&ee.c(),k=O(),P=y("h3"),P.textContent=p,S=O(),j=y("button"),R(H.$$.fragment),K=O(),ae=y("span"),ae.textContent=fe,se=O(),Q=y("button"),R(ke.$$.fragment),$e=O(),re=y("span"),re.textContent=He,this.h()},l(E){e=$(E,"DIV",{class:!0});var Z=C(e);t=$(Z,"H3",{"data-svelte-h":!0}),ge(t)!=="svelte-1v8zjx5"&&(t.textContent=l),s=z(Z),r=$(Z,"BUTTON",{class:!0});var ve=C(r);U(a.$$.fragment,ve),i=z(ve),o=$(ve,"SPAN",{"data-svelte-h":!0}),ge(o)!=="svelte-wh4rhd"&&(o.textContent=u),ve.forEach(m),h=z(Z),c=$(Z,"BUTTON",{class:!0});var Te=C(c);U(f.$$.fragment,Te),b=z(Te),g=$(Te,"SPAN",{"data-svelte-h":!0}),ge(g)!=="svelte-67dhmv"&&(g.textContent=d),Te.forEach(m),T=z(Z),ee&&ee.l(Z),k=z(Z),P=$(Z,"H3",{"data-svelte-h":!0}),ge(P)!=="svelte-1oj9aef"&&(P.textContent=p),S=z(Z),j=$(Z,"BUTTON",{class:!0,title:!0});var Ee=C(j);U(H.$$.fragment,Ee),K=z(Ee),ae=$(Ee,"SPAN",{"data-svelte-h":!0}),ge(ae)!=="svelte-dro7np"&&(ae.textContent=fe),Ee.forEach(m),se=z(Z),Q=$(Z,"BUTTON",{class:!0,title:!0});var Fe=C(Q);U(ke.$$.fragment,Fe),$e=z(Fe),re=$(Fe,"SPAN",{"data-svelte-h":!0}),ge(re)!=="svelte-13uzf89"&&(re.textContent=He),Fe.forEach(m),Z.forEach(m),this.h()},h(){_(r,"class","btn variant-filled-primary"),_(c,"class","btn variant-filled-secondary"),_(j,"class","btn variant-filled-tertiary"),j.disabled=ue=n[3].filter(sl).length===0,_(j,"title","trye to find equivalent of tracks that are not readable anymore"),_(Q,"class","btn variant-filled-tertiary"),Q.disabled=X=n[3].filter(rl).length===0,_(Q,"title","remove de-selected new tracks"),_(e,"class","flex flex-col gap-y-4 w-4/5")},m(E,Z){B(E,e,Z),v(e,t),v(e,s),v(e,r),M(a,r,null),v(r,i),v(r,o),v(e,h),v(e,c),M(f,c,null),v(c,b),v(c,g),v(e,T),ee&&ee.m(e,null),v(e,k),v(e,P),v(e,S),v(e,j),M(H,j,null),v(j,K),v(j,ae),v(e,se),v(e,Q),M(ke,Q,null),v(Q,$e),v(Q,re),be=!0,pe||(De=[q(r,"click",dt(n[14])),q(c,"click",dt(n[16])),q(j,"click",dt(n[17])),q(Q,"click",dt(n[18]))],pe=!0)},p(E,Z){E[7]?ee?ee.p(E,Z):(ee=nl(E),ee.c(),ee.m(e,k)):ee&&(ee.d(1),ee=null),(!be||Z[0]&8&&ue!==(ue=E[3].filter(sl).length===0))&&(j.disabled=ue),(!be||Z[0]&8&&X!==(X=E[3].filter(rl).length===0))&&(Q.disabled=X)},i(E){be||(A(a.$$.fragment,E),A(f.$$.fragment,E),A(H.$$.fragment,E),A(ke.$$.fragment,E),be=!0)},o(E){N(a.$$.fragment,E),N(f.$$.fragment,E),N(H.$$.fragment,E),N(ke.$$.fragment,E),be=!1},d(E){E&&m(e),V(a),V(f),ee&&ee.d(),V(H),V(ke),pe=!1,et(De)}}}function Za(n){let e,t;return e=new Ol({props:{$$slots:{sidebarRight:[La],sidebarLeft:[ja],default:[Ca]},$$scope:{ctx:n}}}),{c(){R(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,s){M(e,l,s),t=!0},p(l,s){const r={};s[0]&2047|s[1]&8388608&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Ha(n,e){const t=[];for(let l=0;l<n.length;l+=e)t.push(n.slice(l,l+e));return t}function al(n){return!n.inPlaylist&&n.selected?"!text-lime-500":n.inPlaylist&&!n.selected?"!line-through":""}const sl=n=>n.selected&&!n.track.readable,rl=n=>!n.selected&&!n.inPlaylist,il=n=>n.selected,ol=n=>n.selected,ul=n=>n.selected,cl=n=>n.selected;function Ra(n,e,t){let l,s,r,a,i,o,u;const h=Rl();let{data:c}=e;const f=mt([]);lt(n,f,w=>t(10,u=w));const b=mt([]);lt(n,b,w=>t(3,r=w));const g={ascending:!1,orderBy:"trackCount"};function d(w){w.ascending!==void 0&&t(4,g.ascending=w.ascending,g),w.orderBy!==void 0&&t(4,g.orderBy=w.orderBy,g),f.update(D=>{const F=g.ascending?1:-1,te=(x,oe)=>ue(x.id)-ue(oe.id),J=(x,oe)=>x.name.localeCompare(oe.name),ie=(x,oe)=>(Be,tt)=>{const Ne=x(Be,tt);return Ne===0?oe(Be,tt):Ne};return D.sort((x,oe)=>{switch(g.orderBy){case"trackCount":return F*ie(te,J)(x,oe);case"alphabetical":return F*ie(J,te)(x,oe)}})})}async function T(){const w={request_method:"POST"};c.playlist.title&&(w.title=c.playlist.title),c.playlist.description&&(w.description=c.playlist.description),c.playlist.public&&(w.public=c.playlist.public);try{const D=await nt({apiPath:`/playlist/${c.playlist.id}`,searchParams:w});h.trigger({message:`Updated playlist: ${D?"OK":"KO"}`,timeout:3e3})}catch(D){h.trigger({message:`Updated playlist: error ${D}`,timeout:3e3})}}let k=mt(void 0);lt(n,k,w=>t(7,a=w));async function P(w,D,F){if(!w.length)return;k.set({message:`sending 0/${w.length} ${D} ${F} `,value:0,max:w.length});let te=0;const J=100;for(const ie of Ha(w,J)){te+=J,k.set({message:`sending ${te} / ${w.length} ${D} ${F} `,value:te,max:w.length}),console.log(`sending ${D} ${F}=${JSON.stringify(ie)}`);const ce={request_method:D};ce[F]=ie.join(",");const x=await nt({apiPath:`/playlist/${c.playlist.id}/tracks`,searchParams:ce});if(console.log({updateResult:x}),!x)throw new Error(`unable to send ${D} ${F}=${JSON.stringify(ie)}`)}}async function p(){try{const w=r.filter(F=>F.selected&&!F.inPlaylist).map(F=>F.track.id);await P(w,"POST","songs");const D=r.filter(F=>!F.selected&&F.inPlaylist).map(F=>F.track.id);if(await P(D,"DELETE","songs"),w.length>0){const F=r.filter(te=>te.selected).map(te=>te.track.id);await P(F,"POST","order")}if(k.set(void 0),w.length||D.length){const F=h.trigger({message:"Updated playlist tracks, refreshing playlist data"});await Hl(),h.close(F)}}catch(w){h.trigger({message:`Updated playlist tracks: error ${w}`,timeout:3e3})}finally{k.set(void 0)}}async function S(w){const D=await bl(w.artist.id);if(!D){h.trigger({message:`Could not find artist ${w.artist.name}`,timeout:3e3});return}const F=D.flatMap(ie=>{const{tracks:ce,...x}=ie;return ie.tracks.map(oe=>({...oe,album:x}))}).filter(ie=>ie.id!==w.id&&ie.readable),te={sensitivity:"base",ignorePunctuation:!0,numeric:!1,usage:"search"},J=F.filter(ie=>ie.title.localeCompare(w.title,void 0,te)===0);switch(J.length){case 0:console.log("no match by title",{unreadableTrack:w}),h.trigger({message:`Could not find matching track for '${w.title}' in album '${w.album.title}'`,timeout:3e3});return;case 1:return J[0];default:{const ie=Object.values(J.reduce((x,oe)=>(x[oe.isrc]=oe,x),{}));if(ie.length===1)return ie[0];const ce=J.filter(x=>x.album.title.localeCompare(w.album.title,void 0,te)===0);switch(ce.length){case 0:console.log("no match by title and album",{unreadableTrack:w}),h.trigger({message:`Could not find matching track for '${w.title}' in album '${w.album.title}'`,timeout:3e3});return;case 1:return ce[0];default:{const x=Object.values(ce.reduce((oe,Be)=>(oe[Be.isrc]=Be,oe),{}));if(x.length===1)return x[0];console.log("multple match by title",{unreadableTrack:w,matchingTracksByTitleAndAlbum:ce}),h.trigger({message:`Found multiple matching tracks for '${w.title}' in album '${w.album.title}' : ${ce.map(oe=>oe.id)}`,timeout:3e3});return}}}}}async function j(){const w=jl(b),D=w.filter(J=>J.selected&&J.track.readable).length,F=w.filter(J=>J.selected&&!J.track.readable);for(const J of F){const ie=J.track,ce=await S(ie);if(ce){console.log("adding alternative to "+J.track.id+" : "+ce.title),J.selected=!1;const x=w.indexOf(J);w.splice(x+1,0,{selected:!0,inPlaylist:!1,track:ce})}}const te=w.filter(J=>J.selected&&J.track.readable).length;h.trigger({message:`Reattached ${te-D} track(s) to readable equivalents.<br/>(${w.filter(J=>J.selected).length-te} unreadable track remaining)`,timeout:1e4}),b.set(w)}function H(){b.update(w=>{const D=w.filter(F=>F.selected||F.inPlaylist);return h.trigger({message:`Removed ${w.length-D.length} track(s) from the playlist`,timeout:3e3}),D})}let K=mt("");lt(n,K,w=>t(8,i=w));function ae(w){const D=w.detail.value;_t(D,b)}const fe=El(K,(w,D)=>{if(!w){D([]);return}nt({apiPath:"/search/artist",searchParams:{q:w}}).then(F=>{const te=F.data.map(J=>({label:`<span class="flex justify-between w-full items-center">
<span class="flex items-center"> <img src="${J.picture_small}" class="mx-2"/>${J.name}</span>
 <button class="btn-icon btn-icon-sm variant-outline-tertiary" title="add all artist titles to the playlist">add</button></span>`,value:J.id,meta:J}));D(te)})});lt(n,fe,w=>t(9,o=w));function ue(w){return r.filter(D=>D.track.artist.id===w&&D.selected).length}let se={page:0,limit:10,size:10,amounts:[10,20,50,100]},Q="";function ke(){i=this.value,K.set(i)}const $e=w=>_t(w.meta.id,b);function re(w){i=w,K.set(i)}const He=()=>d({orderBy:"alphabetical"}),X=()=>d({orderBy:"trackCount"}),be=()=>d({ascending:!1}),pe=()=>d({ascending:!0}),De=w=>_t(w.id,b),ee=w=>Xt(w.id,b);function E(){c.playlist.title=this.value,t(0,c)}function Z(){c.playlist.description=this.value,t(0,c)}function ve(){Q=this.value,t(2,Q)}const Te=w=>{l.forEach(D=>D.selected=w.target.checked),b.update(D=>D)};function Ee(w,D){w[D].selected=this.checked,t(6,l),t(3,r),t(2,Q),t(1,se)}const Fe=w=>ca(w.album,b),rt=w=>ua(w.album.id,b),Ge=w=>_t(w.artist.id,b),ct=w=>Xt(w.artist.id,b);function it(w){se=w,t(1,se),t(3,r)}return n.$$set=w=>{"data"in w&&t(0,c=w.data)},n.$$.update=()=>{if(n.$$.dirty[0]&1&&f.set(c.topArtists),n.$$.dirty[0]&1){const w=c.playlist.tracks.data.map(D=>({track:D,inPlaylist:!0,selected:!0}));b.set(w)}n.$$.dirty[0]&8&&t(1,se.size=r.length,se),n.$$.dirty[0]&14&&t(6,l=r.filter(w=>!Q||JSON.stringify(w.track).toLowerCase().includes(Q.toLowerCase())).slice(se.page*se.limit,se.page*se.limit+se.limit)),n.$$.dirty[0]&8&&t(5,s=r.reduce((w,D)=>Math.max(w,D.track.rank),0))},[c,se,Q,r,g,s,l,a,i,o,u,f,b,d,T,k,p,j,H,K,ae,fe,ue,ke,$e,re,He,X,be,pe,De,ee,E,Z,ve,Te,Ee,Fe,rt,Ge,ct,it]}class Ya extends de{constructor(e){super(),_e(this,e,Ra,Za,me,{data:0},null,[-1,-1])}}export{Ya as component,Ka as universal};
