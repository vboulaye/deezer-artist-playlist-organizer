import{s as f,l as d,m as u,i as g,r,d as h,M as k}from"../chunks/scheduler.2b679851.js";import{S as b,i as _}from"../chunks/index.975caa0b.js";import{i as x,g as v}from"../chunks/navigation.09f87d81.js";import{b as l}from"../chunks/paths.01299cca.js";import{p as P}from"../chunks/stores.ef3c5244.js";import{T as C,R as m}from"../chunks/CookieManager.c7cee2e3.js";function $(n){let e;return{c(){e=d("callback from deezer")},l(o){e=u(o,"callback from deezer")},m(o,a){g(o,e,a)},p:r,i:r,o:r,d(o){o&&h(e)}}}const i="#access_token=";function w(n,e,o){let a;k(n,P,t=>o(0,a=t));async function p(t){C.set(t),await x();const c=m.get()||l+"/";console.log({redirectPath:c,base:l}),m.remove(),await v(c,{invalidateAll:!0})}const s=a.url.hash;if(s.includes(i)){const t=s.substring(s.indexOf(i)+i.length,s.indexOf("&"));console.log("callback access token: ",{access_token:t}),Promise.resolve(t).then(p)}return[]}class T extends b{constructor(e){super(),_(this,e,w,$,f,{})}}export{T as component};
