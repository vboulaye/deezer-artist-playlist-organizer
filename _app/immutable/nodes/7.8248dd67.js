import{d as wl,w as fe}from"../chunks/paths.4b71c119.js";import{e as Yt,g as yl,c as ae,r as $l,p as Tl,u as El,o as Cl}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.934d1574.js";import{g as ve,P as Pl,b as Al,h as Be}from"../chunks/PlaylistApplicationShell.8ec338f5.js";import{s as dt,f as y,g as $,h as C,d as m,j as _,i as P,Q as be,S as ke,C as j,D as X,e as se,a as S,c as O,x as v,I as G,w as Ht,y as Zt,z as Mt,A as Ut,L as Nt,H as Ct,M as St,G as Pt,N as et,r as V,R as Wt,T as ie,K as te,F as le,U as pe,l as yt,m as $t,n as zt,J as Bl,k as Nl,p as rl,O as mt,V as ne,P as ol,W as he,X as Sl,Y as Ne}from"../chunks/scheduler.272fdf4b.js";import{S as _t,i as gt,a as A,g as Dt,c as jt,t as N,b as Z,d as M,m as U,e as R,j as Ol,k as Il,o as ul}from"../chunks/index.5f6c21a1.js";import{i as zl}from"../chunks/navigation.55d4fe57.js";import{a as Ot,s as Se,g as Dl}from"../chunks/index.d41fcd2f.js";function Oe(n,t,e){const l=n.slice();return l[15]=t[e],l[17]=e,l}const jl=n=>({}),Ie=n=>({}),Ll=n=>({}),ze=n=>({}),Hl=n=>({}),De=n=>({}),Zl=n=>({}),je=n=>({}),Ml=n=>({}),Le=n=>({}),Ul=n=>({}),He=n=>({});function Rl(n){let t,e,l,s,i,a,r,o;const u=[ql,Jl,Fl],h=[];function c(f,b){return b&1&&(e=null),b&1&&(l=null),e==null&&(e=!!cl(f[0],f[17])),e?0:(l==null&&(l=!!fl(f[0],f[17])),l?1:2)}return s=c(n,-1),i=h[s]=u[s](n),{c(){t=y("span"),i.c(),a=S(),this.h()},l(f){t=$(f,"SPAN",{class:!0});var b=C(t);i.l(b),a=O(b),b.forEach(m),this.h()},h(){_(t,"class",r="rating-icon "+n[3])},m(f,b){P(f,t,b),h[s].m(t,null),v(t,a),o=!0},p(f,b){let g=s;s=c(f,b),s===g?h[s].p(f,b):(Dt(),N(h[g],1,1,()=>{h[g]=null}),jt(),i=h[s],i?i.p(f,b):(i=h[s]=u[s](f),i.c()),A(i,1),i.m(t,a)),(!o||b&8&&r!==(r="rating-icon "+f[3]))&&_(t,"class",r)},i(f){o||(A(i),o=!0)},o(f){N(i),o=!1},d(f){f&&m(t),h[s].d()}}}function Vl(n){let t,e,l,s,i,a,r,o,u,h;const c=[Yl,Kl,Gl],f=[];function b(d,T){return T&1&&(e=null),T&1&&(l=null),e==null&&(e=!!cl(d[0],d[17])),e?0:(l==null&&(l=!!fl(d[0],d[17])),l?1:2)}s=b(n,-1),i=f[s]=c[s](n);function g(){return n[12](n[17])}return{c(){t=y("button"),i.c(),a=S(),this.h()},l(d){t=$(d,"BUTTON",{class:!0,type:!0});var T=C(t);i.l(T),a=O(T),T.forEach(m),this.h()},h(){_(t,"class",r="rating-icon "+n[3]),_(t,"type","button")},m(d,T){P(d,t,T),f[s].m(t,null),v(t,a),o=!0,u||(h=G(t,"click",g),u=!0)},p(d,T){n=d;let k=s;s=b(n,T),s===k?f[s].p(n,T):(Dt(),N(f[k],1,1,()=>{f[k]=null}),jt(),i=f[s],i?i.p(n,T):(i=f[s]=c[s](n),i.c()),A(i,1),i.m(t,a)),(!o||T&8&&r!==(r="rating-icon "+n[3]))&&_(t,"class",r)},i(d){o||(A(i),o=!0)},o(d){N(i),o=!1},d(d){d&&m(t),f[s].d(),u=!1,h()}}}function Fl(n){let t;const e=n[11].empty,l=Ht(e,n,n[10],Ie);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),t=!0},p(s,i){l&&l.p&&(!t||i&1024)&&Zt(l,e,s,s[10],t?Ut(e,s[10],i,jl):Mt(s[10]),Ie)},i(s){t||(A(l,s),t=!0)},o(s){N(l,s),t=!1},d(s){l&&l.d(s)}}}function Jl(n){let t;const e=n[11].half,l=Ht(e,n,n[10],ze);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),t=!0},p(s,i){l&&l.p&&(!t||i&1024)&&Zt(l,e,s,s[10],t?Ut(e,s[10],i,Ll):Mt(s[10]),ze)},i(s){t||(A(l,s),t=!0)},o(s){N(l,s),t=!1},d(s){l&&l.d(s)}}}function ql(n){let t;const e=n[11].full,l=Ht(e,n,n[10],De);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),t=!0},p(s,i){l&&l.p&&(!t||i&1024)&&Zt(l,e,s,s[10],t?Ut(e,s[10],i,Hl):Mt(s[10]),De)},i(s){t||(A(l,s),t=!0)},o(s){N(l,s),t=!1},d(s){l&&l.d(s)}}}function Gl(n){let t;const e=n[11].empty,l=Ht(e,n,n[10],je);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),t=!0},p(s,i){l&&l.p&&(!t||i&1024)&&Zt(l,e,s,s[10],t?Ut(e,s[10],i,Zl):Mt(s[10]),je)},i(s){t||(A(l,s),t=!0)},o(s){N(l,s),t=!1},d(s){l&&l.d(s)}}}function Kl(n){let t;const e=n[11].half,l=Ht(e,n,n[10],Le);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),t=!0},p(s,i){l&&l.p&&(!t||i&1024)&&Zt(l,e,s,s[10],t?Ut(e,s[10],i,Ml):Mt(s[10]),Le)},i(s){t||(A(l,s),t=!0)},o(s){N(l,s),t=!1},d(s){l&&l.d(s)}}}function Yl(n){let t;const e=n[11].full,l=Ht(e,n,n[10],He);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),t=!0},p(s,i){l&&l.p&&(!t||i&1024)&&Zt(l,e,s,s[10],t?Ut(e,s[10],i,Ul):Mt(s[10]),He)},i(s){t||(A(l,s),t=!0)},o(s){N(l,s),t=!1},d(s){l&&l.d(s)}}}function Ze(n){let t,e,l,s;const i=[Vl,Rl],a=[];function r(o,u){return o[2]?0:1}return t=r(n),e=a[t]=i[t](n),{c(){e.c(),l=se()},l(o){e.l(o),l=se()},m(o,u){a[t].m(o,u),P(o,l,u),s=!0},p(o,u){let h=t;t=r(o),t===h?a[t].p(o,u):(Dt(),N(a[h],1,1,()=>{a[h]=null}),jt(),e=a[t],e?e.p(o,u):(e=a[t]=i[t](o),e.c()),A(e,1),e.m(l.parentNode,l))},i(o){s||(A(e),s=!0)},o(o){N(e),s=!1},d(o){o&&m(l),a[t].d(o)}}}function Wl(n){let t,e,l,s=Yt({length:n[1]}),i=[];for(let r=0;r<s.length;r+=1)i[r]=Ze(Oe(n,s,r));const a=r=>N(i[r],1,1,()=>{i[r]=null});return{c(){t=y("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){t=$(r,"DIV",{class:!0,"data-testid":!0});var o=C(t);for(let u=0;u<i.length;u+=1)i[u].l(o);o.forEach(m),this.h()},h(){_(t,"class",e="ratings "+n[4]),_(t,"data-testid","rating-bar")},m(r,o){P(r,t,o);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(t,null);l=!0},p(r,[o]){if(o&1071){s=Yt({length:r[1]});let u;for(u=0;u<s.length;u+=1){const h=Oe(r,s,u);i[u]?(i[u].p(h,o),A(i[u],1)):(i[u]=Ze(h),i[u].c(),A(i[u],1),i[u].m(t,null))}for(Dt(),u=s.length;u<i.length;u+=1)a(u);jt()}(!l||o&16&&e!==(e="ratings "+r[4]))&&_(t,"class",e)},i(r){if(!l){for(let o=0;o<s.length;o+=1)A(i[o]);l=!0}},o(r){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)N(i[o]);l=!1},d(r){r&&m(t),be(i,r)}}}const Xl="w-full flex";function cl(n,t){return Math.floor(n)>=t+1}function fl(n,t){return n===t+.5}function Ql(n,t,e){let l,{$$slots:s={},$$scope:i}=t,{value:a=0}=t,{max:r=5}=t,{interactive:o=!1}=t,{text:u="text-token"}=t,{fill:h="fill-token"}=t,{justify:c="justify-center"}=t,{spacing:f="space-x-2"}=t,{regionIcon:b=""}=t;const g=ke();function d(k){g("icon",{index:k+1})}const T=k=>d(k);return n.$$set=k=>{e(14,t=j(j({},t),X(k))),"value"in k&&e(0,a=k.value),"max"in k&&e(1,r=k.max),"interactive"in k&&e(2,o=k.interactive),"text"in k&&e(6,u=k.text),"fill"in k&&e(7,h=k.fill),"justify"in k&&e(8,c=k.justify),"spacing"in k&&e(9,f=k.spacing),"regionIcon"in k&&e(3,b=k.regionIcon),"$$scope"in k&&e(10,i=k.$$scope)},n.$$.update=()=>{e(4,l=`${Xl} ${u} ${h} ${c} ${f} ${t.class??""}`)},t=X(t),[a,r,o,b,l,d,u,h,c,f,i,s,T]}class xl extends _t{constructor(t){super(),gt(this,t,Ql,Wl,dt,{value:0,max:1,interactive:2,text:6,fill:7,justify:8,spacing:9,regionIcon:3})}}var we={exports:{}};function hl(){var n=Object.create(null),t=0,e=0,l=0,s=!1;this.put=function(a,r,o,u){if(s&&console.log("caching: %s = %j (@%s)",a,r,o),typeof o<"u"&&(typeof o!="number"||isNaN(o)||o<=0))throw new Error("Cache timeout must be a positive number");if(typeof u<"u"&&typeof u!="function")throw new Error("Cache timeout callback must be a function");var h=n[a];h?clearTimeout(h.timeout):l++;var c={value:r,expire:o+Date.now()};return isNaN(c.expire)||(c.timeout=setTimeout((function(){i(a),u&&u(a,r)}).bind(this),o)),n[a]=c,r},this.del=function(a){var r=!0,o=n[a];return o?(clearTimeout(o.timeout),!isNaN(o.expire)&&o.expire<Date.now()&&(r=!1)):r=!1,r&&i(a),r};function i(a){l--,delete n[a]}this.clear=function(){for(var a in n)clearTimeout(n[a].timeout);l=0,n=Object.create(null),s&&(t=0,e=0)},this.get=function(a){var r=n[a];if(typeof r<"u"){if(isNaN(r.expire)||r.expire>=Date.now())return s&&t++,r.value;s&&e++,l--,delete n[a]}else s&&e++;return null},this.size=function(){return l},this.memsize=function(){var a=0,r;for(r in n)a++;return a},this.debug=function(a){s=a},this.hits=function(){return t},this.misses=function(){return e},this.keys=function(){return Object.keys(n)},this.exportJson=function(){var a={};for(var r in n){var o=n[r];a[r]={value:o.value,expire:o.expire||"NaN"}}return JSON.stringify(a)},this.importJson=function(a,r){var o=JSON.parse(a),u=Date.now(),h=r&&r.skipDuplicates;for(var c in o)if(o.hasOwnProperty(c)){if(h){var f=n[c];if(f){s&&console.log("Skipping duplicate imported key '%s'",c);continue}}var b=o[c],g=b.expire-u;if(g<=0){this.del(c);continue}g=g>0?g:void 0,this.put(c,b.value,g)}return this.size()}}we.exports=new hl;we.exports.Cache=hl;var tn=we.exports;const Me=yl(tn);class ml{constructor(t,e){this.cacheName=t,this.ttl=e}get(t){return Me.get(this.buildKey(t))}buildKey(t){return this.cacheName+"~"+t}put(t,e){Me.put(this.buildKey(t),e,this.ttl)}}const Ue=new ml("ARTIST",3600*1e3),Re=new ml("ARTIST-DISCOGRAPHY",3600*1e3);async function en(n){const t=Ue.get(n);if(t)return t;const e=await ae({apiPath:"/artist/"+n});return Ue.put(n,e),e}async function dl(n){return await ve({apiPath:"/album/"+n+"/tracks",index:0,limit:100})}async function _l(n){const t=Re.get(n);if(t)return t;const e=await ve({apiPath:"/artist/"+n+"/albums",index:0,limit:100}),l=await Promise.all(e.data.map(async s=>{const i=await dl(s.id);return{...s,tracks:i.data}}));return Re.put(n,l),l}const ln=!1;async function nn(n){if(n==="NEW"){const t=new Date().toISOString(),e=await ae({apiPath:"/user/me/playlists",searchParams:{request_method:"POST",title:`New Playlist ${t}`,description:`Playlist created with deezer-artist-playlist-organizer on the ${t}`,public:!0}});throw $l(302,"./"+e.id)}return n}async function an({params:n}){const t=await nn(n.id),e=await ae({apiPath:`/playlist/${t}`}),l=e.tracks.data.reduce((a,r)=>(a[r.artist.id]||(a[r.artist.id]={artist:r.artist,count:0}),a[r.artist.id].count++,a),{}),s=Object.values(l).sort((a,r)=>r.count-a.count);if(e.nb_tracks>400){const a=await ve({apiPath:`/playlist/${t}/tracks`,limit:100,index:e.tracks.data.length});e.tracks.data=[...e.tracks.data,...a.data]}const i=Promise.all(s.map(async a=>await en(a.artist.id)));return{playlist:e,topArtists:i}}const Va=Object.freeze(Object.defineProperty({__proto__:null,load:an,ssr:ln},Symbol.toStringTag,{value:"Module"}));function sn(n){let t,e,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm40-84a12 12 0 0 1-5.12 9.83l-40 28A12 12 0 0 1 104 156v-56a12 12 0 0 1 18.88-9.83l40 28A12 12 0 0 1 168 128Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=j(i,s[a]);return{c(){t=Nt("svg"),e=new Ct(!0),this.h()},l(a){t=St(a,"svg",{viewBox:!0,width:!0,height:!0});var r=C(t);e=Pt(r,!0),r.forEach(m),this.h()},h(){e.a=null,et(t,i)},m(a,r){P(a,t,r),e.m(l,t)},p(a,[r]){et(t,i=Ot(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:V,o:V,d(a){a&&m(t)}}}function rn(n,t,e){return n.$$set=l=>{e(0,t=j(j({},t),X(l)))},t=X(t),[t]}class on extends _t{constructor(t){super(),gt(this,t,rn,sn,dt,{})}}function un(n){let t,e,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84ZM116 96v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Zm48 0v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=j(i,s[a]);return{c(){t=Nt("svg"),e=new Ct(!0),this.h()},l(a){t=St(a,"svg",{viewBox:!0,width:!0,height:!0});var r=C(t);e=Pt(r,!0),r.forEach(m),this.h()},h(){e.a=null,et(t,i)},m(a,r){P(a,t,r),e.m(l,t)},p(a,[r]){et(t,i=Ot(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:V,o:V,d(a){a&&m(t)}}}function cn(n,t,e){return n.$$set=l=>{e(0,t=j(j({},t),X(l)))},t=X(t),[t]}class fn extends _t{constructor(t){super(),gt(this,t,cn,un,dt,{})}}function hn(n){let t,e,l,s,i;return e=new fn({}),{c(){t=y("span"),Z(e.$$.fragment),this.h()},l(a){t=$(a,"SPAN",{role:!0});var r=C(t);M(e.$$.fragment,r),r.forEach(m),this.h()},h(){_(t,"role","button")},m(a,r){P(a,t,r),U(e,t,null),l=!0,s||(i=G(t,"click",n[4]),s=!0)},p:V,i(a){l||(A(e.$$.fragment,a),l=!0)},o(a){N(e.$$.fragment,a),l=!1},d(a){a&&m(t),R(e),s=!1,i()}}}function mn(n){let t,e,l,s,i;return e=new on({}),{c(){t=y("span"),Z(e.$$.fragment),this.h()},l(a){t=$(a,"SPAN",{role:!0});var r=C(t);M(e.$$.fragment,r),r.forEach(m),this.h()},h(){_(t,"role","button")},m(a,r){P(a,t,r),U(e,t,null),l=!0,s||(i=G(t,"click",n[4]),s=!0)},p:V,i(a){l||(A(e.$$.fragment,a),l=!0)},o(a){N(e.$$.fragment,a),l=!1},d(a){a&&m(t),R(e),s=!1,i()}}}function dn(n){let t,e,l=!0,s,i,a,r,o,u,h;const c=[mn,hn],f=[];function b(g,d){return g[0]?0:1}return a=b(n),r=f[a]=c[a](n),{c(){t=y("audio"),s=S(),i=y("span"),r.c(),this.h()},l(g){t=$(g,"AUDIO",{src:!0}),C(t).forEach(m),s=O(g),i=$(g,"SPAN",{});var d=C(i);r.l(d),d.forEach(m),this.h()},h(){Wt(t.src,e=n[1])||_(t,"src",e),t.loop=n[2],ie(i,"text-gray-500",!n[3])},m(g,d){P(g,t,d),P(g,s,d),P(g,i,d),f[a].m(i,null),o=!0,u||(h=[G(t,"play",n[5]),G(t,"pause",n[5])],u=!0)},p(g,[d]){(!o||d&2&&!Wt(t.src,e=g[1]))&&_(t,"src",e),(!o||d&4)&&(t.loop=g[2]),d&1&&l!==(l=g[0])&&t[l?"pause":"play"]();let T=a;a=b(g),a===T?f[a].p(g,d):(Dt(),N(f[T],1,1,()=>{f[T]=null}),jt(),r=f[a],r?r.p(g,d):(r=f[a]=c[a](g),r.c()),A(r,1),r.m(i,null)),(!o||d&8)&&ie(i,"text-gray-500",!g[3])},i(g){o||(A(r),o=!0)},o(g){N(r),o=!1},d(g){g&&(m(t),m(s),m(i)),f[a].d(),u=!1,te(h)}}}function _n(n,t,e){let{src:l}=t,{loop:s=!1}=t,{enabled:i=!0}=t,{paused:a=!0}=t;function r(){i&&e(0,a=!a)}function o(){a=this.paused,e(0,a)}return n.$$set=u=>{"src"in u&&e(1,l=u.src),"loop"in u&&e(2,s=u.loop),"enabled"in u&&e(3,i=u.enabled),"paused"in u&&e(0,a=u.paused)},[a,l,s,i,r,o]}class gn extends _t{constructor(t){super(),gt(this,t,_n,dn,dt,{src:1,loop:2,enabled:3,paused:0})}}function Ve(n,t,e){const l=n.slice();return l[37]=t[e],l}const pn=n=>({option:n[0]&16512,classesButton:n[0]&512}),Fe=n=>({option:n[37],classesButton:n[9],onSelection:n[15]});function vn(n){let t,e,l;return{c(){t=y("div"),e=yt(n[1]),this.h()},l(s){t=$(s,"DIV",{class:!0});var i=C(t);e=$t(i,n[1]),i.forEach(m),this.h()},h(){_(t,"class",l="autocomplete-empty "+n[8])},m(s,i){P(s,t,i),v(t,e)},p(s,i){i[0]&2&&zt(e,s[1]),i[0]&256&&l!==(l="autocomplete-empty "+s[8])&&_(t,"class",l)},i:V,o:V,d(s){s&&m(t)}}}function bn(n){let t,e,l=[],s=new Map,i,a,r,o=Yt(n[7].slice(0,n[14]));const u=h=>h[37];for(let h=0;h<o.length;h+=1){let c=Ve(n,o,h),f=u(c);s.set(f,l[h]=Je(f,c))}return{c(){t=y("nav"),e=y("ul");for(let h=0;h<l.length;h+=1)l[h].c();this.h()},l(h){t=$(h,"NAV",{class:!0});var c=C(t);e=$(c,"UL",{class:!0});var f=C(e);for(let b=0;b<l.length;b+=1)l[b].l(f);f.forEach(m),c.forEach(m),this.h()},h(){_(e,"class",i="autocomplete-list "+n[11]),_(t,"class",a="autocomplete-nav "+n[12])},m(h,c){P(h,t,c),v(t,e);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null);r=!0},p(h,c){c[0]&134268644&&(o=Yt(h[7].slice(0,h[14])),Dt(),l=El(l,c,u,1,h,o,s,e,Cl,Je,null,Ve),jt()),(!r||c[0]&2048&&i!==(i="autocomplete-list "+h[11]))&&_(e,"class",i),(!r||c[0]&4096&&a!==(a="autocomplete-nav "+h[12]))&&_(t,"class",a)},i(h){if(!r){for(let c=0;c<o.length;c+=1)A(l[c]);r=!0}},o(h){for(let c=0;c<l.length;c+=1)N(l[c]);r=!1},d(h){h&&m(t);for(let c=0;c<l.length;c+=1)l[c].d()}}}function kn(n){let t,e,l=n[37].label+"",s,i,a;function r(){return n[31](n[37])}return{c(){t=y("button"),e=new Ct(!1),this.h()},l(o){t=$(o,"BUTTON",{class:!0,type:!0});var u=C(t);e=Pt(u,!1),u.forEach(m),this.h()},h(){e.a=null,_(t,"class",s="autocomplete-button "+n[9]),_(t,"type","button")},m(o,u){P(o,t,u),e.m(l,t),i||(a=[G(t,"click",r),G(t,"click",n[29]),G(t,"keypress",n[30])],i=!0)},p(o,u){n=o,u[0]&16512&&l!==(l=n[37].label+"")&&e.p(l),u[0]&512&&s!==(s="autocomplete-button "+n[9])&&_(t,"class",s)},d(o){o&&m(t),i=!1,te(a)}}}function Je(n,t){let e,l,s,i,a,r;const o=t[28].optionButton,u=Ht(o,t,t[27],Fe),h=u||kn(t);return{key:n,first:null,c(){e=y("li"),h&&h.c(),l=S(),this.h()},l(c){e=$(c,"LI",{class:!0});var f=C(e);h&&h.l(f),l=O(f),f.forEach(m),this.h()},h(){_(e,"class",s="autocomplete-item "+t[10]),this.first=e},m(c,f){P(c,e,f),h&&h.m(e,null),v(e,l),r=!0},p(c,f){t=c,u?u.p&&(!r||f[0]&134234752)&&Zt(u,o,t,t[27],r?Ut(o,t[27],f,pn):Mt(t[27]),Fe):h&&h.p&&(!r||f[0]&17024)&&h.p(t,r?f:[-1,-1]),(!r||f[0]&1024&&s!==(s="autocomplete-item "+t[10]))&&_(e,"class",s)},i(c){r||(A(h,c),c&&Bl(()=>{r&&(a&&a.end(1),i=Ol(e,t[0],{transition:t[3],params:t[4],enabled:t[2]}),i.start())}),r=!0)},o(c){N(h,c),i&&i.invalidate(),c&&(a=Il(e,t[0],{transition:t[5],params:t[6],enabled:t[2]})),r=!1},d(c){c&&m(e),h&&h.d(c),c&&a&&a.end()}}}function wn(n){let t,e,l,s,i;const a=[bn,vn],r=[];function o(u,h){return u[7].length>0?0:1}return e=o(n),l=r[e]=a[e](n),{c(){t=y("div"),l.c(),this.h()},l(u){t=$(u,"DIV",{class:!0,"data-testid":!0});var h=C(t);l.l(h),h.forEach(m),this.h()},h(){_(t,"class",s="autocomplete "+n[13]),_(t,"data-testid","autocomplete")},m(u,h){P(u,t,h),r[e].m(t,null),i=!0},p(u,h){let c=e;e=o(u),e===c?r[e].p(u,h):(Dt(),N(r[c],1,1,()=>{r[c]=null}),jt(),l=r[e],l?l.p(u,h):(l=r[e]=a[e](u),l.c()),A(l,1),l.m(t,null)),(!i||h[0]&8192&&s!==(s="autocomplete "+u[13]))&&_(t,"class",s)},i(u){i||(A(l),i=!0)},o(u){N(l),i=!1},d(u){u&&m(t),r[e].d()}}}function gl(n,t){const{transition:e,params:l,enabled:s}=t;return s?e(n,l):"duration"in l?e(n,{duration:0}):{duration:0}}function yn(n,t,e){let l,s,i,a,r,o,u,h,c,f;le(n,Tl,E=>e(32,f=E));let{$$slots:b={},$$scope:g}=t;const d=ke();let{input:T=void 0}=t,{options:k=[]}=t,{limit:B=void 0}=t,{allowlist:p=[]}=t,{denylist:I=[]}=t,{emptyState:L="No Results Found."}=t,{regionNav:q=""}=t,{regionList:W="list-nav"}=t,{regionItem:lt=""}=t,{regionButton:ft="w-full"}=t,{regionEmpty:nt="text-center"}=t,{transitions:ut=!f}=t,{transitionIn:at=Se}=t,{transitionInParams:st={duration:200}}=t,{transitionOut:kt=Se}=t,{transitionOutParams:wt={duration:200}}=t;function Q(E,F){let pt=[...k];E.length&&(pt=pt.filter(vt=>E.includes(vt.value))),F.length&&(pt=pt.filter(vt=>!F.includes(vt.value))),!E.length&&!F.length&&(pt=k),e(26,l=pt)}function Tt(){let E=[...l];return E=E.filter(F=>{const pt=String(T).toLowerCase().trim();if(JSON.stringify([F.label,F.value,F.keywords]).toLowerCase().includes(pt))return F}),E}function it(E){d("selection",E)}function At(E){pe.call(this,n,E)}function It(E){pe.call(this,n,E)}const x=E=>it(E);return n.$$set=E=>{e(36,t=j(j({},t),X(E))),"input"in E&&e(16,T=E.input),"options"in E&&e(17,k=E.options),"limit"in E&&e(18,B=E.limit),"allowlist"in E&&e(19,p=E.allowlist),"denylist"in E&&e(20,I=E.denylist),"emptyState"in E&&e(1,L=E.emptyState),"regionNav"in E&&e(21,q=E.regionNav),"regionList"in E&&e(22,W=E.regionList),"regionItem"in E&&e(23,lt=E.regionItem),"regionButton"in E&&e(24,ft=E.regionButton),"regionEmpty"in E&&e(25,nt=E.regionEmpty),"transitions"in E&&e(2,ut=E.transitions),"transitionIn"in E&&e(3,at=E.transitionIn),"transitionInParams"in E&&e(4,st=E.transitionInParams),"transitionOut"in E&&e(5,kt=E.transitionOut),"transitionOutParams"in E&&e(6,wt=E.transitionOutParams),"$$scope"in E&&e(27,g=E.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&131072&&e(26,l=k),n.$$.dirty[0]&1572864&&Q(p,I),n.$$.dirty[0]&67174400&&e(7,s=T?Tt():l),n.$$.dirty[0]&262272&&e(14,i=B!==void 0?B:s.length),e(13,a=`${t.class??""}`),n.$$.dirty[0]&2097152&&e(12,r=`${q}`),n.$$.dirty[0]&4194304&&e(11,o=`${W}`),n.$$.dirty[0]&8388608&&e(10,u=`${lt}`),n.$$.dirty[0]&16777216&&e(9,h=`${ft}`),n.$$.dirty[0]&33554432&&e(8,c=`${nt}`)},t=X(t),[gl,L,ut,at,st,kt,wt,s,c,h,u,o,r,a,i,it,T,k,B,p,I,q,W,lt,ft,nt,l,g,b,At,It,x]}class $n extends _t{constructor(t){super(),gt(this,t,yn,wn,dt,{dynamicTransition:0,input:16,options:17,limit:18,allowlist:19,denylist:20,emptyState:1,regionNav:21,regionList:22,regionItem:23,regionButton:24,regionEmpty:25,transitions:2,transitionIn:3,transitionInParams:4,transitionOut:5,transitionOutParams:6},null,[-1,-1])}get dynamicTransition(){return gl}}function Tn(n){let t,e;const l=n[1].default,s=Ht(l,n,n[0],null);return{c(){t=y("span"),s&&s.c(),this.h()},l(i){t=$(i,"SPAN",{class:!0});var a=C(t);s&&s.l(a),a.forEach(m),this.h()},h(){_(t,"class","flex gap-x-2 items-center mx-2")},m(i,a){P(i,t,a),s&&s.m(t,null),e=!0},p(i,[a]){s&&s.p&&(!e||a&1)&&Zt(s,l,i,i[0],e?Ut(l,i[0],a,null):Mt(i[0]),null)},i(i){e||(A(s,i),e=!0)},o(i){N(s,i),e=!1},d(i){i&&m(t),s&&s.d(i)}}}function En(n,t,e){let{$$slots:l={},$$scope:s}=t;return n.$$set=i=>{"$$scope"in i&&e(0,s=i.$$scope)},[s,l]}class re extends _t{constructor(t){super(),gt(this,t,En,Tn,dt,{})}}function Cn(n){let t,e,l,s;const i=n[3].default,a=Ht(i,n,n[2],null);return{c(){t=y("td"),e=y("div"),a&&a.c(),this.h()},l(r){t=$(r,"TD",{style:!0,title:!0});var o=C(t);e=$(o,"DIV",{class:!0});var u=C(e);a&&a.l(u),u.forEach(m),o.forEach(m),this.h()},h(){_(e,"class",l="flex items-center justify-"+n[0]+" gap-x-2 h-full"),Nl(t,"vertical-align","middle"),_(t,"title",n[1])},m(r,o){P(r,t,o),v(t,e),a&&a.m(e,null),s=!0},p(r,[o]){a&&a.p&&(!s||o&4)&&Zt(a,i,r,r[2],s?Ut(i,r[2],o,null):Mt(r[2]),null),(!s||o&1&&l!==(l="flex items-center justify-"+r[0]+" gap-x-2 h-full"))&&_(e,"class",l),(!s||o&2)&&_(t,"title",r[1])},i(r){s||(A(a,r),s=!0)},o(r){N(a,r),s=!1},d(r){r&&m(t),a&&a.d(r)}}}function Pn(n,t,e){let{$$slots:l={},$$scope:s}=t,{justify:i="center"}=t,{title:a=""}=t;return n.$$set=r=>{"justify"in r&&e(0,i=r.justify),"title"in r&&e(1,a=r.title),"$$scope"in r&&e(2,s=r.$$scope)},[i,a,s,l]}class xt extends _t{constructor(t){super(),gt(this,t,Pn,Cn,dt,{justify:0,title:1})}}function An(n){let t,e,l='<path fill="currentColor" d="M216 36H68.53a20.09 20.09 0 0 0-17.15 9.71L5.71 121.83a12 12 0 0 0 0 12.34l45.67 76.12A20.09 20.09 0 0 0 68.53 220H216a20 20 0 0 0 20-20V56a20 20 0 0 0-20-20Zm-4 160H70.8L30 128l40.8-68H212Zm-108.49-52.49L119 128l-15.52-15.51a12 12 0 0 1 17-17L136 111l15.51-15.52a12 12 0 0 1 17 17L153 128l15.52 15.51a12 12 0 0 1-17 17L136 145l-15.51 15.52a12 12 0 0 1-17-17Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=j(i,s[a]);return{c(){t=Nt("svg"),e=new Ct(!0),this.h()},l(a){t=St(a,"svg",{viewBox:!0,width:!0,height:!0});var r=C(t);e=Pt(r,!0),r.forEach(m),this.h()},h(){e.a=null,et(t,i)},m(a,r){P(a,t,r),e.m(l,t)},p(a,[r]){et(t,i=Ot(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:V,o:V,d(a){a&&m(t)}}}function Bn(n,t,e){return n.$$set=l=>{e(0,t=j(j({},t),X(l)))},t=X(t),[t]}class Nn extends _t{constructor(t){super(),gt(this,t,Bn,An,dt,{})}}function Sn(n){let t,e,l='<path fill="currentColor" d="M160 36a92.09 92.09 0 0 0-81 48.36A68 68 0 1 0 72 220h88a92 92 0 0 0 0-184Zm0 160H72a44 44 0 0 1-1.82-88A91.86 91.86 0 0 0 68 128a12 12 0 0 0 24 0a68 68 0 1 1 68 68Zm40.49-92.49a12 12 0 0 1 0 17l-48 48a12 12 0 0 1-17 0l-24-24a12 12 0 1 1 17-17L144 143l39.51-39.52a12 12 0 0 1 16.98.03Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=j(i,s[a]);return{c(){t=Nt("svg"),e=new Ct(!0),this.h()},l(a){t=St(a,"svg",{viewBox:!0,width:!0,height:!0});var r=C(t);e=Pt(r,!0),r.forEach(m),this.h()},h(){e.a=null,et(t,i)},m(a,r){P(a,t,r),e.m(l,t)},p(a,[r]){et(t,i=Ot(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:V,o:V,d(a){a&&m(t)}}}function On(n,t,e){return n.$$set=l=>{e(0,t=j(j({},t),X(l)))},t=X(t),[t]}class qe extends _t{constructor(t){super(),gt(this,t,On,Sn,dt,{})}}function In(n){let t,e,l='<path fill="currentColor" d="M136.37 187.53a12 12 0 0 1 0 17l-5.94 5.94a60 60 0 0 1-84.88-84.88l24.12-24.11A60 60 0 0 1 152 99a12 12 0 1 1-16 18a36 36 0 0 0-49.37 1.47l-24.1 24.08a36 36 0 0 0 50.92 50.92l5.94-5.94a12 12 0 0 1 16.98 0Zm74.08-142a60.09 60.09 0 0 0-84.88 0l-5.94 5.94a12 12 0 0 0 17 17l5.94-5.94a36 36 0 0 1 50.92 50.92l-24.11 24.12A36 36 0 0 1 120 139a12 12 0 1 0-16 18a60 60 0 0 0 82.3-2.43l24.12-24.11a60.09 60.09 0 0 0 .03-84.91Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=j(i,s[a]);return{c(){t=Nt("svg"),e=new Ct(!0),this.h()},l(a){t=St(a,"svg",{viewBox:!0,width:!0,height:!0});var r=C(t);e=Pt(r,!0),r.forEach(m),this.h()},h(){e.a=null,et(t,i)},m(a,r){P(a,t,r),e.m(l,t)},p(a,[r]){et(t,i=Ot(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:V,o:V,d(a){a&&m(t)}}}function zn(n,t,e){return n.$$set=l=>{e(0,t=j(j({},t),X(l)))},t=X(t),[t]}class Dn extends _t{constructor(t){super(),gt(this,t,zn,In,dt,{})}}function jn(n){let t,e,l='<path fill="currentColor" d="M180 128a12 12 0 0 1-12 12H88a12 12 0 0 1 0-24h80a12 12 0 0 1 12 12Zm56 0A108 108 0 1 1 128 20a108.12 108.12 0 0 1 108 108Zm-24 0a84 84 0 1 0-84 84a84.09 84.09 0 0 0 84-84Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=j(i,s[a]);return{c(){t=Nt("svg"),e=new Ct(!0),this.h()},l(a){t=St(a,"svg",{viewBox:!0,width:!0,height:!0});var r=C(t);e=Pt(r,!0),r.forEach(m),this.h()},h(){e.a=null,et(t,i)},m(a,r){P(a,t,r),e.m(l,t)},p(a,[r]){et(t,i=Ot(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:V,o:V,d(a){a&&m(t)}}}function Ln(n,t,e){return n.$$set=l=>{e(0,t=j(j({},t),X(l)))},t=X(t),[t]}class pl extends _t{constructor(t){super(),gt(this,t,Ln,jn,dt,{})}}function Hn(n){let t,e,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm52-84a12 12 0 0 1-12 12h-28v28a12 12 0 0 1-24 0v-28H88a12 12 0 0 1 0-24h28V88a12 12 0 0 1 24 0v28h28a12 12 0 0 1 12 12Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=j(i,s[a]);return{c(){t=Nt("svg"),e=new Ct(!0),this.h()},l(a){t=St(a,"svg",{viewBox:!0,width:!0,height:!0});var r=C(t);e=Pt(r,!0),r.forEach(m),this.h()},h(){e.a=null,et(t,i)},m(a,r){P(a,t,r),e.m(l,t)},p(a,[r]){et(t,i=Ot(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:V,o:V,d(a){a&&m(t)}}}function Zn(n,t,e){return n.$$set=l=>{e(0,t=j(j({},t),X(l)))},t=X(t),[t]}class ye extends _t{constructor(t){super(),gt(this,t,Zn,Hn,dt,{})}}function Mn(n){let t,e,l='<path fill="currentColor" d="M128 128a12 12 0 0 1-12 12H48a12 12 0 0 1 0-24h68a12 12 0 0 1 12 12ZM48 76h132a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm52 104H48a12 12 0 0 0 0 24h52a12 12 0 0 0 0-24Zm132.49-20.49a12 12 0 0 0-17 0L196 179v-67a12 12 0 0 0-24 0v67l-19.51-19.52a12 12 0 0 0-17 17l40 40a12 12 0 0 0 17 0l40-40a12 12 0 0 0 0-16.97Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=j(i,s[a]);return{c(){t=Nt("svg"),e=new Ct(!0),this.h()},l(a){t=St(a,"svg",{viewBox:!0,width:!0,height:!0});var r=C(t);e=Pt(r,!0),r.forEach(m),this.h()},h(){e.a=null,et(t,i)},m(a,r){P(a,t,r),e.m(l,t)},p(a,[r]){et(t,i=Ot(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:V,o:V,d(a){a&&m(t)}}}function Un(n,t,e){return n.$$set=l=>{e(0,t=j(j({},t),X(l)))},t=X(t),[t]}class Rn extends _t{constructor(t){super(),gt(this,t,Un,Mn,dt,{})}}function Vn(n){let t,e,l='<path fill="currentColor" d="M36 128a12 12 0 0 1 12-12h68a12 12 0 0 1 0 24H48a12 12 0 0 1-12-12Zm12-52h52a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm132 104H48a12 12 0 0 0 0 24h132a12 12 0 0 0 0-24Zm52.49-100.49l-40-40a12 12 0 0 0-17 0l-40 40a12 12 0 0 0 17 17L172 77v67a12 12 0 0 0 24 0V77l19.51 19.52a12 12 0 0 0 17-17Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=j(i,s[a]);return{c(){t=Nt("svg"),e=new Ct(!0),this.h()},l(a){t=St(a,"svg",{viewBox:!0,width:!0,height:!0});var r=C(t);e=Pt(r,!0),r.forEach(m),this.h()},h(){e.a=null,et(t,i)},m(a,r){P(a,t,r),e.m(l,t)},p(a,[r]){et(t,i=Ot(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:V,o:V,d(a){a&&m(t)}}}function Fn(n,t,e){return n.$$set=l=>{e(0,t=j(j({},t),X(l)))},t=X(t),[t]}class Jn extends _t{constructor(t){super(),gt(this,t,Fn,Vn,dt,{})}}function qn(n){let t,e,l='<path fill="currentColor" d="M243 96.05a20 20 0 0 0-17.26-13.72l-57-4.93l-22.3-53.14a20 20 0 0 0-36.82 0L87.29 77.4l-57 4.93a20 20 0 0 0-11.42 35.07l43.32 37.8l-13 56.24A20 20 0 0 0 79 233.1l49-29.76l49 29.76a20 20 0 0 0 29.8-21.66l-13-56.24l43.32-37.8A20 20 0 0 0 243 96.05Zm-66.75 42.62a20 20 0 0 0-6.35 19.63l11.39 49.32l-42.94-26.08a19.9 19.9 0 0 0-20.7 0l-42.94 26.08L86.1 158.3a20 20 0 0 0-6.35-19.63l-38.09-33.23l50.14-4.34a19.92 19.92 0 0 0 16.69-12.19L128 42.42l19.51 46.49a19.92 19.92 0 0 0 16.69 12.19l50.14 4.34Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=j(i,s[a]);return{c(){t=Nt("svg"),e=new Ct(!0),this.h()},l(a){t=St(a,"svg",{viewBox:!0,width:!0,height:!0});var r=C(t);e=Pt(r,!0),r.forEach(m),this.h()},h(){e.a=null,et(t,i)},m(a,r){P(a,t,r),e.m(l,t)},p(a,[r]){et(t,i=Ot(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:V,o:V,d(a){a&&m(t)}}}function Gn(n,t,e){return n.$$set=l=>{e(0,t=j(j({},t),X(l)))},t=X(t),[t]}class Kn extends _t{constructor(t){super(),gt(this,t,Gn,qn,dt,{})}}function Yn(n){let t,e,l='<g fill="currentColor"><path d="M184.13 147.7a8.08 8.08 0 0 0-2.54 7.89l13.52 58.54a8 8 0 0 1-11.89 8.69l-51.1-31a7.93 7.93 0 0 0-8.24 0l-51.1 31a8 8 0 0 1-11.89-8.69l13.52-58.54a8.08 8.08 0 0 0-2.54-7.89l-45.11-39.35a8 8 0 0 1 4.54-14.07l59.46-5.14a8 8 0 0 0 6.67-4.88l23.23-55.36a8 8 0 0 1 14.68 0l23.23 55.36a8 8 0 0 0 6.67 4.88l59.46 5.14a8 8 0 0 1 4.54 14.07Z" opacity=".2"/><path d="M239.2 97.29a16 16 0 0 0-13.81-11L166 81.17l-23.28-55.36a15.95 15.95 0 0 0-29.44 0L90.07 81.17l-59.46 5.15a16 16 0 0 0-9.11 28.06l45.11 39.42l-13.52 58.54a16 16 0 0 0 23.84 17.34l51-31l51.11 31a16 16 0 0 0 23.84-17.34l-13.51-58.6l45.1-39.36a16 16 0 0 0 4.73-17.09Zm-15.22 5l-45.1 39.36a16 16 0 0 0-5.08 15.71L187.35 216l-51.07-31a15.9 15.9 0 0 0-16.54 0l-51 31l13.46-58.6a16 16 0 0 0-5.08-15.71L32 102.35a.37.37 0 0 1 0-.09l59.44-5.14a16 16 0 0 0 13.35-9.75L128 32.08l23.2 55.29a16 16 0 0 0 13.35 9.75l59.45 5.14v.07Z"/></g>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=j(i,s[a]);return{c(){t=Nt("svg"),e=new Ct(!0),this.h()},l(a){t=St(a,"svg",{viewBox:!0,width:!0,height:!0});var r=C(t);e=Pt(r,!0),r.forEach(m),this.h()},h(){e.a=null,et(t,i)},m(a,r){P(a,t,r),e.m(l,t)},p(a,[r]){et(t,i=Ot(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:V,o:V,d(a){a&&m(t)}}}function Wn(n,t,e){return n.$$set=l=>{e(0,t=j(j({},t),X(l)))},t=X(t),[t]}class Xn extends _t{constructor(t){super(),gt(this,t,Wn,Yn,dt,{})}}function Qn(n){let t,e,l='<path fill="currentColor" d="m234.5 114.38l-45.1 39.36l13.51 58.6a16 16 0 0 1-23.84 17.34l-51.11-31l-51 31a16 16 0 0 1-23.84-17.34l13.49-58.54l-45.11-39.42a16 16 0 0 1 9.11-28.06l59.46-5.15l23.21-55.36a15.95 15.95 0 0 1 29.44 0L166 81.17l59.44 5.15a16 16 0 0 1 9.11 28.06Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=j(i,s[a]);return{c(){t=Nt("svg"),e=new Ct(!0),this.h()},l(a){t=St(a,"svg",{viewBox:!0,width:!0,height:!0});var r=C(t);e=Pt(r,!0),r.forEach(m),this.h()},h(){e.a=null,et(t,i)},m(a,r){P(a,t,r),e.m(l,t)},p(a,[r]){et(t,i=Ot(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:V,o:V,d(a){a&&m(t)}}}function xn(n,t,e){return n.$$set=l=>{e(0,t=j(j({},t),X(l)))},t=X(t),[t]}class ta extends _t{constructor(t){super(),gt(this,t,xn,Qn,dt,{})}}function ea(n){let t,e,l,s,i,a=n[0].name+"",r,o,u,h,c,f,b,g,d;return c=new ye({}),{c(){t=y("span"),e=y("span"),l=y("img"),i=S(),r=yt(a),o=S(),u=y("span"),h=y("button"),Z(c.$$.fragment),this.h()},l(T){t=$(T,"SPAN",{class:!0});var k=C(t);e=$(k,"SPAN",{class:!0});var B=C(e);l=$(B,"IMG",{src:!0,alt:!0,class:!0}),i=O(B),r=$t(B,a),B.forEach(m),o=O(k),u=$(k,"SPAN",{class:!0});var p=C(u);h=$(p,"BUTTON",{class:!0,title:!0});var I=C(h);M(c.$$.fragment,I),I.forEach(m),p.forEach(m),k.forEach(m),this.h()},h(){Wt(l.src,s=n[0].picture_small)||_(l,"src",s),_(l,"alt","artist"),_(l,"class","mx-2"),_(e,"class","flex items-center"),_(h,"class","!p-0"),_(h,"title","add all artist titles to the playlist"),_(u,"class","btn-group-vertical btn btn-sm gap-y-1"),_(t,"class",f="flex justify-between w-full items-center py-1 "+n[1])},m(T,k){P(T,t,k),v(t,e),v(e,l),v(e,i),v(e,r),v(t,o),v(t,u),v(u,h),U(c,h,null),b=!0,g||(d=[G(h,"click",n[2]),G(h,"pointerenter",n[3]),G(h,"pointerleave",n[4])],g=!0)},p(T,[k]){(!b||k&1&&!Wt(l.src,s=T[0].picture_small))&&_(l,"src",s),(!b||k&1)&&a!==(a=T[0].name+"")&&zt(r,a),(!b||k&2&&f!==(f="flex justify-between w-full items-center py-1 "+T[1]))&&_(t,"class",f)},i(T){b||(A(c.$$.fragment,T),b=!0)},o(T){N(c.$$.fragment,T),b=!1},d(T){T&&m(t),R(c),g=!1,te(d)}}}function la(n,t,e){let{artist:l}=t,s="";function i(o){pe.call(this,n,o)}const a=()=>e(1,s="variant-ghost-success"),r=()=>e(1,s="");return n.$$set=o=>{"artist"in o&&e(0,l=o.artist)},[l,s,i,a,r]}class na extends _t{constructor(t){super(),gt(this,t,la,ea,dt,{artist:0})}}function Ge(n,t){t.update(e=>(e.forEach(l=>{l.track.artist.id===n&&(l.selected=!1)}),e))}async function me(n,t){const e=await _l(n);t.update(l=>{const s=e.sort((a,r)=>a.release_date.localeCompare(r.release_date)).flatMap(a=>{const{tracks:r,...o}=a;return a.tracks.map(u=>({...u,album:o}))});s.forEach(a=>{const r=l.find(o=>o.track.id===a.id);r?(r.track.album=a.album,r.selected=!0):l.push({track:a,inPlaylist:!1,selected:!0})});function i(a){return s.findIndex(r=>r.id===a.track.id)}return l.sort((a,r)=>{const o=i(a),u=i(r);return o-u}),l})}function aa(n,t){t.update(e=>(e.forEach(l=>{l.track.album.id===n&&(l.selected=!1)}),e))}async function sa(n,t){const e=await dl(n.id);t.update(l=>{e.data.forEach(o=>{const u=l.find(h=>h.track.id===o.id);o.album=n,u?(u.track.album=o.album,u.selected=!0):l.push({track:o,inPlaylist:!1,selected:!0})});function s(o){return e.data.findIndex(u=>u.id===o.track.id)+1}function i(o){return l.findIndex(u=>u.track.id===o.track.id)+1}const a=l.findIndex(o=>o.track.album.id===n.id);function r(o){const u=s(o);return u===0?i(o)*1e4:a*1e4+u}return console.log({startIndex:a}),l.sort((o,u)=>{const h=a*1e4+r(o),c=a*1e4+r(u);return h-c}),l})}function ia(n){let t,e,l,s,i,a,r,o,u,h,c,f;const b=n[5].default,g=Ht(b,n,n[4],null);return i=new ye({}),o=new pl({}),{c(){t=y("span"),g&&g.c(),e=S(),l=y("span"),s=y("button"),Z(i.$$.fragment),a=S(),r=y("button"),Z(o.$$.fragment),this.h()},l(d){t=$(d,"SPAN",{class:!0});var T=C(t);g&&g.l(T),e=O(T),l=$(T,"SPAN",{class:!0});var k=C(l);s=$(k,"BUTTON",{class:!0,title:!0});var B=C(s);M(i.$$.fragment,B),B.forEach(m),a=O(k),r=$(k,"BUTTON",{class:!0,title:!0});var p=C(r);M(o.$$.fragment,p),p.forEach(m),k.forEach(m),T.forEach(m),this.h()},h(){_(s,"class","!p-0 "),_(s,"title",n[0]),_(r,"class","!p-0"),_(r,"title",n[1]),_(l,"class","btn-group-vertical btn btn-sm gap-y-1"),_(t,"class",u="flex flex-row justify-between w-full items-center py-1 gap-x-2 "+n[2])},m(d,T){P(d,t,T),g&&g.m(t,null),v(t,e),v(t,l),v(l,s),U(i,s,null),v(l,a),v(l,r),U(o,r,null),h=!0,c||(f=[G(s,"click",n[6]),G(s,"pointerenter",n[7]),G(s,"pointerleave",n[8]),G(r,"click",n[9]),G(r,"pointerenter",n[10]),G(r,"pointerleave",n[11])],c=!0)},p(d,[T]){g&&g.p&&(!h||T&16)&&Zt(g,b,d,d[4],h?Ut(b,d[4],T,null):Mt(d[4]),null),(!h||T&1)&&_(s,"title",d[0]),(!h||T&2)&&_(r,"title",d[1]),(!h||T&4&&u!==(u="flex flex-row justify-between w-full items-center py-1 gap-x-2 "+d[2]))&&_(t,"class",u)},i(d){h||(A(g,d),A(i.$$.fragment,d),A(o.$$.fragment,d),h=!0)},o(d){N(g,d),N(i.$$.fragment,d),N(o.$$.fragment,d),h=!1},d(d){d&&m(t),g&&g.d(d),R(i),R(o),c=!1,te(f)}}}function ra(n,t,e){let{$$slots:l={},$$scope:s}=t;const i=ke();let{addTitle:a="add all album titles to the playlist"}=t,{removeTitle:r="deselect all album titles from the playlist"}=t,o="";const u=()=>i("add"),h=()=>e(2,o="variant-ghost-success"),c=()=>e(2,o=""),f=()=>i("remove"),b=()=>e(2,o="variant-ghost-error"),g=()=>e(2,o="");return n.$$set=d=>{"addTitle"in d&&e(0,a=d.addTitle),"removeTitle"in d&&e(1,r=d.removeTitle),"$$scope"in d&&e(4,s=d.$$scope)},[a,r,o,i,s,l,u,h,c,f,b,g]}class vl extends _t{constructor(t){super(),gt(this,t,ra,ia,dt,{addTitle:0,removeTitle:1})}}function Ke(n,t,e){const l=n.slice();l[48]=t[e],l[50]=t,l[51]=e;const s=l[48].track;return l[49]=s,l}function Ye(n,t,e){const l=n.slice();l[43]=t[e];const s=l[21](l[43].id);return l[44]=s,l}function oa(n){let t,e,l;function s(){n[34].call(t,n[50],n[51])}return{c(){t=y("input"),this.h()},l(i){t=$(i,"INPUT",{type:!0,class:!0}),this.h()},h(){_(t,"type","checkbox"),_(t,"class","checkbox")},m(i,a){P(i,t,a),t.checked=n[48].selected,e||(l=G(t,"change",s),e=!0)},p(i,a){n=i,a[0]&32&&(t.checked=n[48].selected)},d(i){i&&m(t),e=!1,l()}}}function ua(n){let t,e=n[51]+1+"",l;return{c(){t=y("span"),l=yt(e)},l(s){t=$(s,"SPAN",{});var i=C(t);l=$t(i,e),i.forEach(m)},m(s,i){P(s,t,i),v(t,l)},p:V,d(s){s&&m(t)}}}function ca(n){let t,e,l,s,i=n[49].title+"",a,r,o;return t=new gn({props:{src:n[49].preview,enabled:n[49].readable}}),{c(){Z(t.$$.fragment),e=S(),l=y("a"),s=y("span"),a=yt(i),this.h()},l(u){M(t.$$.fragment,u),e=O(u),l=$(u,"A",{href:!0,title:!0});var h=C(l);s=$(h,"SPAN",{});var c=C(s);a=$t(c,i),c.forEach(m),h.forEach(m),this.h()},h(){_(l,"href",r=n[49].link),_(l,"title","open track in Deezer web interface")},m(u,h){U(t,u,h),P(u,e,h),P(u,l,h),v(l,s),v(s,a),o=!0},p(u,h){const c={};h[0]&32&&(c.src=u[49].preview),h[0]&32&&(c.enabled=u[49].readable),t.$set(c),(!o||h[0]&32)&&i!==(i=u[49].title+"")&&zt(a,i),(!o||h[0]&32&&r!==(r=u[49].link))&&_(l,"href",r)},i(u){o||(A(t.$$.fragment,u),o=!0)},o(u){N(t.$$.fragment,u),o=!1},d(u){u&&(m(e),m(l)),R(t,u)}}}function fa(n){let t,e,l,s,i=n[49].album.title+"",a;return{c(){t=y("img"),l=S(),s=y("span"),a=yt(i),this.h()},l(r){t=$(r,"IMG",{src:!0,alt:!0}),l=O(r),s=$(r,"SPAN",{});var o=C(s);a=$t(o,i),o.forEach(m),this.h()},h(){Wt(t.src,e=n[49].album.cover_small)||_(t,"src",e),_(t,"alt","album cover")},m(r,o){P(r,t,o),P(r,l,o),P(r,s,o),v(s,a)},p(r,o){o[0]&32&&!Wt(t.src,e=r[49].album.cover_small)&&_(t,"src",e),o[0]&32&&i!==(i=r[49].album.title+"")&&zt(a,i)},d(r){r&&(m(t),m(l),m(s))}}}function ha(n){let t,e,l,s;return e=new re({props:{$$slots:{default:[fa]},$$scope:{ctx:n}}}),{c(){t=y("a"),Z(e.$$.fragment),this.h()},l(i){t=$(i,"A",{href:!0,title:!0});var a=C(t);M(e.$$.fragment,a),a.forEach(m),this.h()},h(){_(t,"href",l="https://www.deezer.com/album/"+n[49].album.id),_(t,"title","open album in Deezer web interface")},m(i,a){P(i,t,a),U(e,t,null),s=!0},p(i,a){const r={};a[0]&32|a[1]&2097152&&(r.$$scope={dirty:a,ctx:i}),e.$set(r),(!s||a[0]&32&&l!==(l="https://www.deezer.com/album/"+i[49].album.id))&&_(t,"href",l)},i(i){s||(A(e.$$.fragment,i),s=!0)},o(i){N(e.$$.fragment,i),s=!1},d(i){i&&m(t),R(e)}}}function ma(n){let t,e;function l(){return n[35](n[49])}function s(){return n[36](n[49])}return t=new vl({props:{addTitle:"add all album titles to the playlist",removeTitle:"deselect all album titles from the playlist",$$slots:{default:[ha]},$$scope:{ctx:n}}}),t.$on("add",l),t.$on("remove",s),{c(){Z(t.$$.fragment)},l(i){M(t.$$.fragment,i)},m(i,a){U(t,i,a),e=!0},p(i,a){n=i;const r={};a[0]&32|a[1]&2097152&&(r.$$scope={dirty:a,ctx:n}),t.$set(r)},i(i){e||(A(t.$$.fragment,i),e=!0)},o(i){N(t.$$.fragment,i),e=!1},d(i){R(t,i)}}}function da(n){let t,e,l=n[49].artist.name+"",s,i;return{c(){t=y("a"),e=y("span"),s=yt(l),this.h()},l(a){t=$(a,"A",{href:!0,title:!0});var r=C(t);e=$(r,"SPAN",{});var o=C(e);s=$t(o,l),o.forEach(m),r.forEach(m),this.h()},h(){_(t,"href",i=n[49].artist.link),_(t,"title","open artist in Deezer web interface")},m(a,r){P(a,t,r),v(t,e),v(e,s)},p(a,r){r[0]&32&&l!==(l=a[49].artist.name+"")&&zt(s,l),r[0]&32&&i!==(i=a[49].artist.link)&&_(t,"href",i)},d(a){a&&m(t)}}}function _a(n){let t,e;function l(){return n[37](n[49])}function s(){return n[38](n[49])}return t=new vl({props:{addTitle:"add all artist titles to the playlist",removeTitle:"deselect all artist titles from the playlist",$$slots:{default:[da]},$$scope:{ctx:n}}}),t.$on("add",l),t.$on("remove",s),{c(){Z(t.$$.fragment)},l(i){M(t.$$.fragment,i)},m(i,a){U(t,i,a),e=!0},p(i,a){n=i;const r={};a[0]&32|a[1]&2097152&&(r.$$scope={dirty:a,ctx:n}),t.$set(r)},i(i){e||(A(t.$$.fragment,i),e=!0)},o(i){N(t.$$.fragment,i),e=!1},d(i){R(t,i)}}}function ga(n){let t,e;return t=new Kn({}),{c(){Z(t.$$.fragment)},l(l){M(t.$$.fragment,l)},m(l,s){U(t,l,s),e=!0},i(l){e||(A(t.$$.fragment,l),e=!0)},o(l){N(t.$$.fragment,l),e=!1},d(l){R(t,l)}}}function pa(n){let t,e;return t=new Xn({}),{c(){Z(t.$$.fragment)},l(l){M(t.$$.fragment,l)},m(l,s){U(t,l,s),e=!0},i(l){e||(A(t.$$.fragment,l),e=!0)},o(l){N(t.$$.fragment,l),e=!1},d(l){R(t,l)}}}function va(n){let t,e;return t=new ta({}),{c(){Z(t.$$.fragment)},l(l){M(t.$$.fragment,l)},m(l,s){U(t,l,s),e=!0},i(l){e||(A(t.$$.fragment,l),e=!0)},o(l){N(t.$$.fragment,l),e=!1},d(l){R(t,l)}}}function ba(n){let t,e;return t=new xl({props:{value:5*n[49].rank/n[4],max:5,$$slots:{full:[va],half:[pa],empty:[ga]},$$scope:{ctx:n}}}),{c(){Z(t.$$.fragment)},l(l){M(t.$$.fragment,l)},m(l,s){U(t,l,s),e=!0},p(l,s){const i={};s[0]&48&&(i.value=5*l[49].rank/l[4]),s[1]&2097152&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){e||(A(t.$$.fragment,l),e=!0)},o(l){N(t.$$.fragment,l),e=!1},d(l){R(t,l)}}}function ka(n){let t=Be(n[49].duration*1e3,{units:["m","s"],largest:2})+"",e,l,s;return{c(){e=yt(t),l=S(),s=y("span"),this.h()},l(i){e=$t(i,t),l=O(i),s=$(i,"SPAN",{class:!0}),C(s).forEach(m),this.h()},h(){_(s,"class","grow")},m(i,a){P(i,e,a),P(i,l,a),P(i,s,a)},p(i,a){a[0]&32&&t!==(t=Be(i[49].duration*1e3,{units:["m","s"],largest:2})+"")&&zt(e,t)},d(i){i&&(m(e),m(l),m(s))}}}function We(n){let t,e,l,s,i,a,r,o,u,h,c,f,b,g,d,T,k;return e=new xt({props:{$$slots:{default:[oa]},$$scope:{ctx:n}}}),s=new xt({props:{$$slots:{default:[ua]},$$scope:{ctx:n}}}),a=new xt({props:{justify:"start",$$slots:{default:[ca]},$$scope:{ctx:n}}}),o=new xt({props:{justify:"start",$$slots:{default:[ma]},$$scope:{ctx:n}}}),h=new xt({props:{justify:"start",$$slots:{default:[_a]},$$scope:{ctx:n}}}),f=new xt({props:{title:n[49].rank,$$slots:{default:[ba]},$$scope:{ctx:n}}}),g=new xt({props:{$$slots:{default:[ka]},$$scope:{ctx:n}}}),{c(){t=y("tr"),Z(e.$$.fragment),l=S(),Z(s.$$.fragment),i=S(),Z(a.$$.fragment),r=S(),Z(o.$$.fragment),u=S(),Z(h.$$.fragment),c=S(),Z(f.$$.fragment),b=S(),Z(g.$$.fragment),d=S(),this.h()},l(B){t=$(B,"TR",{class:!0});var p=C(t);M(e.$$.fragment,p),l=O(p),M(s.$$.fragment,p),i=O(p),M(a.$$.fragment,p),r=O(p),M(o.$$.fragment,p),u=O(p),M(h.$$.fragment,p),c=O(p),M(f.$$.fragment,p),b=O(p),M(g.$$.fragment,p),d=O(p),p.forEach(m),this.h()},h(){_(t,"class",T=Ne(tl(n[48]))+" svelte-p6m18c"),ie(t,"!text-red-500",!n[49].readable)},m(B,p){P(B,t,p),U(e,t,null),v(t,l),U(s,t,null),v(t,i),U(a,t,null),v(t,r),U(o,t,null),v(t,u),U(h,t,null),v(t,c),U(f,t,null),v(t,b),U(g,t,null),v(t,d),k=!0},p(B,p){const I={};p[0]&32|p[1]&2097152&&(I.$$scope={dirty:p,ctx:B}),e.$set(I);const L={};p[1]&2097152&&(L.$$scope={dirty:p,ctx:B}),s.$set(L);const q={};p[0]&32|p[1]&2097152&&(q.$$scope={dirty:p,ctx:B}),a.$set(q);const W={};p[0]&32|p[1]&2097152&&(W.$$scope={dirty:p,ctx:B}),o.$set(W);const lt={};p[0]&32|p[1]&2097152&&(lt.$$scope={dirty:p,ctx:B}),h.$set(lt);const ft={};p[0]&32&&(ft.title=B[49].rank),p[0]&48|p[1]&2097152&&(ft.$$scope={dirty:p,ctx:B}),f.$set(ft);const nt={};p[0]&32|p[1]&2097152&&(nt.$$scope={dirty:p,ctx:B}),g.$set(nt),(!k||p[0]&32&&T!==(T=Ne(tl(B[48]))+" svelte-p6m18c"))&&_(t,"class",T),(!k||p[0]&32)&&ie(t,"!text-red-500",!B[49].readable)},i(B){k||(A(e.$$.fragment,B),A(s.$$.fragment,B),A(a.$$.fragment,B),A(o.$$.fragment,B),A(h.$$.fragment,B),A(f.$$.fragment,B),A(g.$$.fragment,B),k=!0)},o(B){N(e.$$.fragment,B),N(s.$$.fragment,B),N(a.$$.fragment,B),N(o.$$.fragment,B),N(h.$$.fragment,B),N(f.$$.fragment,B),N(g.$$.fragment,B),k=!1},d(B){B&&m(t),R(e),R(s),R(a),R(o),R(h),R(f),R(g)}}}function wa(n){var Ee;let t,e,l,s="Title",i,a,r,o,u,h="Description",c,f,b,g,d="",T,k,B,p=((Ee=n[2])==null?void 0:Ee.filter(nl).length)+"",I,L,q=n[0].playlist.tracks.data.length+"",W,lt,ft,nt,ut="",at,st,kt,wt,Q,Tt,it,At,It,x,E,F="Pos.",pt,vt,Rt="Title",Lt,qt,oe="Album",w,z,J="Artist",rt,H,ot="rank",bt,K,ct="duration",Vt,Ft,ee,Jt,de,Gt,_e,$e,Xt=Yt(n[5]),tt=[];for(let D=0;D<Xt.length;D+=1)tt[D]=We(Ke(n,Xt,D));const bl=D=>N(tt[D],1,1,()=>{tt[D]=null});function kl(D){n[39](D)}let Te={showFirstLastButtons:!0,showPreviousNextButtons:!0};return n[1]!==void 0&&(Te.settings=n[1]),Jt=new Al({props:Te}),rl.push(()=>ul(Jt,"settings",kl)),{c(){t=y("form"),e=y("label"),l=y("span"),l.textContent=s,i=S(),a=y("input"),r=S(),o=y("label"),u=y("span"),u.textContent=h,c=S(),f=y("textarea"),b=S(),g=y("div"),g.innerHTML=d,T=S(),k=y("div"),B=y("span"),I=yt(p),L=yt(" Tracks ("),W=yt(q),lt=yt(`
            in playlist)`),ft=S(),nt=y("span"),nt.innerHTML=ut,at=S(),st=y("span"),kt=y("table"),wt=y("thead"),Q=y("tr"),Tt=y("th"),it=y("input"),x=S(),E=y("th"),E.textContent=F,pt=S(),vt=y("th"),vt.textContent=Rt,Lt=S(),qt=y("th"),qt.textContent=oe,w=S(),z=y("th"),z.textContent=J,rt=S(),H=y("th"),H.textContent=ot,bt=S(),K=y("th"),K.textContent=ct,Vt=S(),Ft=y("tbody");for(let D=0;D<tt.length;D+=1)tt[D].c();ee=S(),Z(Jt.$$.fragment),this.h()},l(D){t=$(D,"FORM",{class:!0});var Y=C(t);e=$(Y,"LABEL",{class:!0});var Bt=C(e);l=$(Bt,"SPAN",{"data-svelte-h":!0}),mt(l)!=="svelte-7ccxmo"&&(l.textContent=s),i=O(Bt),a=$(Bt,"INPUT",{class:!0,type:!0,placeholder:!0}),Bt.forEach(m),r=O(Y),o=$(Y,"LABEL",{class:!0});var Qt=C(o);u=$(Qt,"SPAN",{"data-svelte-h":!0}),mt(u)!=="svelte-rmspr8"&&(u.textContent=h),c=O(Qt),f=$(Qt,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),C(f).forEach(m),Qt.forEach(m),b=O(Y),g=$(Y,"DIV",{class:!0,"data-svelte-h":!0}),mt(g)!=="svelte-10ijpzw"&&(g.innerHTML=d),Y.forEach(m),T=O(D),k=$(D,"DIV",{class:!0});var ht=C(k);B=$(ht,"SPAN",{});var Kt=C(B);I=$t(Kt,p),L=$t(Kt," Tracks ("),W=$t(Kt,q),lt=$t(Kt,`
            in playlist)`),Kt.forEach(m),ft=O(ht),nt=$(ht,"SPAN",{"data-svelte-h":!0}),mt(nt)!=="svelte-171hy05"&&(nt.innerHTML=ut),ht.forEach(m),at=O(D),st=$(D,"SPAN",{class:!0});var ue=C(st);kt=$(ue,"TABLE",{class:!0});var ce=C(kt);wt=$(ce,"THEAD",{});var Ce=C(wt);Q=$(Ce,"TR",{class:!0});var Et=C(Q);Tt=$(Et,"TH",{});var Pe=C(Tt);it=$(Pe,"INPUT",{type:!0,class:!0}),Pe.forEach(m),x=O(Et),E=$(Et,"TH",{"data-svelte-h":!0}),mt(E)!=="svelte-s1pt0e"&&(E.textContent=F),pt=O(Et),vt=$(Et,"TH",{class:!0,"data-svelte-h":!0}),mt(vt)!=="svelte-1b5qsso"&&(vt.textContent=Rt),Lt=O(Et),qt=$(Et,"TH",{"data-svelte-h":!0}),mt(qt)!=="svelte-12o9w3z"&&(qt.textContent=oe),w=O(Et),z=$(Et,"TH",{"data-svelte-h":!0}),mt(z)!=="svelte-1tiipkx"&&(z.textContent=J),rt=O(Et),H=$(Et,"TH",{"data-svelte-h":!0}),mt(H)!=="svelte-1btrpio"&&(H.textContent=ot),bt=O(Et),K=$(Et,"TH",{"data-svelte-h":!0}),mt(K)!=="svelte-9uwuqy"&&(K.textContent=ct),Et.forEach(m),Ce.forEach(m),Vt=O(ce),Ft=$(ce,"TBODY",{});var Ae=C(Ft);for(let ge=0;ge<tt.length;ge+=1)tt[ge].l(Ae);Ae.forEach(m),ce.forEach(m),ee=O(ue),M(Jt.$$.fragment,ue),ue.forEach(m),this.h()},h(){_(a,"class","input"),_(a,"type","text"),_(a,"placeholder","title"),_(e,"class","label"),_(f,"class","textarea"),_(f,"rows","4"),_(f,"placeholder","description"),_(o,"class","label"),_(g,"class","flex place-content-start"),_(t,"class","mb-10 space-y-2"),_(k,"class","flex justify-between w-full items-center gap-x-2 my-4"),_(it,"type","checkbox"),_(it,"class","checkbox"),it.checked=At=n[5].filter(al).length===n[5].length&&n[5].length>0,it.indeterminate=It=n[5].filter(sl).length!==n[5].length&&n[5].filter(il).length>0,_(vt,"class",".fitwidth"),_(Q,"class",""),_(kt,"class","table table-compact my-4"),_(st,"class","table-container")},m(D,Y){P(D,t,Y),v(t,e),v(e,l),v(e,i),v(e,a),ne(a,n[0].playlist.title),v(t,r),v(t,o),v(o,u),v(o,c),v(o,f),ne(f,n[0].playlist.description),v(t,b),v(t,g),P(D,T,Y),P(D,k,Y),v(k,B),v(B,I),v(B,L),v(B,W),v(B,lt),v(k,ft),v(k,nt),P(D,at,Y),P(D,st,Y),v(st,kt),v(kt,wt),v(wt,Q),v(Q,Tt),v(Tt,it),v(Q,x),v(Q,E),v(Q,pt),v(Q,vt),v(Q,Lt),v(Q,qt),v(Q,w),v(Q,z),v(Q,rt),v(Q,H),v(Q,bt),v(Q,K),v(kt,Vt),v(kt,Ft);for(let Bt=0;Bt<tt.length;Bt+=1)tt[Bt]&&tt[Bt].m(Ft,null);v(st,ee),U(Jt,st,null),Gt=!0,_e||($e=[G(a,"input",n[31]),G(f,"input",n[32]),G(it,"change",n[33])],_e=!0)},p(D,Y){var Qt;if(Y[0]&1&&a.value!==D[0].playlist.title&&ne(a,D[0].playlist.title),Y[0]&1&&ne(f,D[0].playlist.description),(!Gt||Y[0]&4)&&p!==(p=((Qt=D[2])==null?void 0:Qt.filter(nl).length)+"")&&zt(I,p),(!Gt||Y[0]&1)&&q!==(q=D[0].playlist.tracks.data.length+"")&&zt(W,q),(!Gt||Y[0]&32&&At!==(At=D[5].filter(al).length===D[5].length&&D[5].length>0))&&(it.checked=At),(!Gt||Y[0]&32&&It!==(It=D[5].filter(sl).length!==D[5].length&&D[5].filter(il).length>0))&&(it.indeterminate=It),Y[0]&2096){Xt=Yt(D[5]);let ht;for(ht=0;ht<Xt.length;ht+=1){const Kt=Ke(D,Xt,ht);tt[ht]?(tt[ht].p(Kt,Y),A(tt[ht],1)):(tt[ht]=We(Kt),tt[ht].c(),A(tt[ht],1),tt[ht].m(Ft,null))}for(Dt(),ht=Xt.length;ht<tt.length;ht+=1)bl(ht);jt()}const Bt={};!de&&Y[0]&2&&(de=!0,Bt.settings=D[1],ol(()=>de=!1)),Jt.$set(Bt)},i(D){if(!Gt){for(let Y=0;Y<Xt.length;Y+=1)A(tt[Y]);A(Jt.$$.fragment,D),Gt=!0}},o(D){tt=tt.filter(Boolean);for(let Y=0;Y<tt.length;Y+=1)N(tt[Y]);N(Jt.$$.fragment,D),Gt=!1},d(D){D&&(m(t),m(T),m(k),m(at),m(st)),be(tt,D),R(Jt),_e=!1,te($e)}}}function ya(n){let t,e="Search Artist";return{c(){t=y("h4"),t.textContent=e},l(l){t=$(l,"H4",{"data-svelte-h":!0}),mt(t)!=="svelte-z92qpb"&&(t.textContent=e)},m(l,s){P(l,t,s)},p:V,d(l){l&&m(t)}}}function $a(n){let t,e;function l(){return n[23](n[47])}return t=new na({props:{artist:n[47].meta}}),t.$on("click",l),{c(){Z(t.$$.fragment)},l(s){M(t.$$.fragment,s)},m(s,i){U(t,s,i),e=!0},p(s,i){n=s;const a={};i[1]&65536&&(a.artist=n[47].meta),t.$set(a)},i(s){e||(A(t.$$.fragment,s),e=!0)},o(s){N(t.$$.fragment,s),e=!1},d(s){R(t,s)}}}function Xe(n){let t,e,l,s,i,a,r;e=new re({props:{$$slots:{default:[Ta]},$$scope:{ctx:n}}}),s=new re({props:{$$slots:{default:[Ba]},$$scope:{ctx:n}}});let o=Yt(n[9]),u=[];for(let c=0;c<o.length;c+=1)u[c]=Qe(Ye(n,o,c));const h=c=>N(u[c],1,1,()=>{u[c]=null});return{c(){t=y("span"),Z(e.$$.fragment),l=S(),Z(s.$$.fragment),i=S(),a=y("ul");for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){t=$(c,"SPAN",{class:!0});var f=C(t);M(e.$$.fragment,f),l=O(f),M(s.$$.fragment,f),f.forEach(m),i=O(c),a=$(c,"UL",{class:!0});var b=C(a);for(let g=0;g<u.length;g+=1)u[g].l(b);b.forEach(m),this.h()},h(){_(t,"class","flex justify-between w-full items-center gap-x-2 my-4"),_(a,"class","list")},m(c,f){P(c,t,f),U(e,t,null),v(t,l),U(s,t,null),P(c,i,f),P(c,a,f);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(a,null);r=!0},p(c,f){const b={};f[1]&2097152&&(b.$$scope={dirty:f,ctx:c}),e.$set(b);const g={};if(f[0]&8|f[1]&2097152&&(g.$$scope={dirty:f,ctx:c}),s.$set(g),f[0]&2099712){o=Yt(c[9]);let d;for(d=0;d<o.length;d+=1){const T=Ye(c,o,d);u[d]?(u[d].p(T,f),A(u[d],1)):(u[d]=Qe(T),u[d].c(),A(u[d],1),u[d].m(a,null))}for(Dt(),d=o.length;d<u.length;d+=1)h(d);jt()}},i(c){if(!r){A(e.$$.fragment,c),A(s.$$.fragment,c);for(let f=0;f<o.length;f+=1)A(u[f]);r=!0}},o(c){N(e.$$.fragment,c),N(s.$$.fragment,c),u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)N(u[f]);r=!1},d(c){c&&(m(t),m(i),m(a)),R(e),R(s),be(u,c)}}}function Ta(n){let t,e="Playlists Artists";return{c(){t=y("h4"),t.textContent=e},l(l){t=$(l,"H4",{"data-svelte-h":!0}),mt(t)!=="svelte-1fedd7v"&&(t.textContent=e)},m(l,s){P(l,t,s)},p:V,d(l){l&&m(t)}}}function Ea(n){let t,e="alphabetical",l,s;return{c(){t=y("button"),t.textContent=e},l(i){t=$(i,"BUTTON",{"data-svelte-h":!0}),mt(t)!=="svelte-a0poae"&&(t.textContent=e)},m(i,a){P(i,t,a),l||(s=G(t,"click",n[26]),l=!0)},p:V,d(i){i&&m(t),l=!1,s()}}}function Ca(n){let t,e="# tracks",l,s;return{c(){t=y("button"),t.textContent=e},l(i){t=$(i,"BUTTON",{"data-svelte-h":!0}),mt(t)!=="svelte-ms1gv1"&&(t.textContent=e)},m(i,a){P(i,t,a),l||(s=G(t,"click",n[25]),l=!0)},p:V,d(i){i&&m(t),l=!1,s()}}}function Pa(n){let t,e,l,s,i;return e=new Jn({}),{c(){t=y("button"),Z(e.$$.fragment)},l(a){t=$(a,"BUTTON",{});var r=C(t);M(e.$$.fragment,r),r.forEach(m)},m(a,r){P(a,t,r),U(e,t,null),l=!0,s||(i=G(t,"click",n[28]),s=!0)},p:V,i(a){l||(A(e.$$.fragment,a),l=!0)},o(a){N(e.$$.fragment,a),l=!1},d(a){a&&m(t),R(e),s=!1,i()}}}function Aa(n){let t,e,l,s,i;return e=new Rn({}),{c(){t=y("button"),Z(e.$$.fragment)},l(a){t=$(a,"BUTTON",{});var r=C(t);M(e.$$.fragment,r),r.forEach(m)},m(a,r){P(a,t,r),U(e,t,null),l=!0,s||(i=G(t,"click",n[27]),s=!0)},p:V,i(a){l||(A(e.$$.fragment,a),l=!0)},o(a){N(e.$$.fragment,a),l=!1},d(a){a&&m(t),R(e),s=!1,i()}}}function Ba(n){let t,e,l,s,i;function a(f,b){if(f[3].orderBy==="trackCount")return Ca;if(f[3].orderBy==="alphabetical")return Ea}let r=a(n),o=r&&r(n);const u=[Aa,Pa],h=[];function c(f,b){return f[3].ascending?0:1}return e=c(n),l=h[e]=u[e](n),{c(){o&&o.c(),t=S(),l.c(),s=se()},l(f){o&&o.l(f),t=O(f),l.l(f),s=se()},m(f,b){o&&o.m(f,b),P(f,t,b),h[e].m(f,b),P(f,s,b),i=!0},p(f,b){r===(r=a(f))&&o?o.p(f,b):(o&&o.d(1),o=r&&r(f),o&&(o.c(),o.m(t.parentNode,t)));let g=e;e=c(f),e===g?h[e].p(f,b):(Dt(),N(h[g],1,1,()=>{h[g]=null}),jt(),l=h[e],l?l.p(f,b):(l=h[e]=u[e](f),l.c()),A(l,1),l.m(s.parentNode,s))},i(f){i||(A(l),i=!0)},o(f){N(l),i=!1},d(f){f&&(m(t),m(s)),o&&o.d(f),h[e].d(f)}}}function Na(n){let t,e,l,s,i,a=n[43].name+"",r,o,u,h,c=n[44]+"",f,b,g;return{c(){t=y("img"),s=S(),i=y("span"),r=yt(a),o=S(),u=y("small"),h=yt("(#"),f=yt(c),b=yt(")"),this.h()},l(d){t=$(d,"IMG",{src:!0,alt:!0}),s=O(d),i=$(d,"SPAN",{});var T=C(i);r=$t(T,a),T.forEach(m),o=O(d),u=$(d,"SMALL",{title:!0});var k=C(u);h=$t(k,"(#"),f=$t(k,c),b=$t(k,")"),k.forEach(m),this.h()},h(){Wt(t.src,e=n[43].picture_small)||_(t,"src",e),_(t,"alt",l=n[43].name),_(u,"title",g="artist has "+n[44]+" tracks in the playlist ")},m(d,T){P(d,t,T),P(d,s,T),P(d,i,T),v(i,r),P(d,o,T),P(d,u,T),v(u,h),v(u,f),v(u,b)},p(d,T){T[0]&512&&!Wt(t.src,e=d[43].picture_small)&&_(t,"src",e),T[0]&512&&l!==(l=d[43].name)&&_(t,"alt",l),T[0]&512&&a!==(a=d[43].name+"")&&zt(r,a),T[0]&512&&c!==(c=d[44]+"")&&zt(f,c),T[0]&512&&g!==(g="artist has "+d[44]+" tracks in the playlist ")&&_(u,"title",g)},d(d){d&&(m(t),m(s),m(i),m(o),m(u))}}}function Qe(n){let t,e,l,s,i,a,r,o,u,h,c,f,b,g,d,T;s=new re({props:{$$slots:{default:[Na]},$$scope:{ctx:n}}}),u=new ye({});function k(){return n[29](n[43])}f=new pl({});function B(){return n[30](n[43])}return{c(){t=y("li"),e=y("span"),l=y("a"),Z(s.$$.fragment),a=S(),r=y("div"),o=y("button"),Z(u.$$.fragment),h=S(),c=y("button"),Z(f.$$.fragment),b=S(),this.h()},l(p){t=$(p,"LI",{});var I=C(t);e=$(I,"SPAN",{class:!0});var L=C(e);l=$(L,"A",{href:!0,title:!0});var q=C(l);M(s.$$.fragment,q),q.forEach(m),a=O(L),r=$(L,"DIV",{class:!0});var W=C(r);o=$(W,"BUTTON",{class:!0,title:!0});var lt=C(o);M(u.$$.fragment,lt),lt.forEach(m),h=O(W),c=$(W,"BUTTON",{class:!0,title:!0});var ft=C(c);M(f.$$.fragment,ft),ft.forEach(m),W.forEach(m),L.forEach(m),b=O(I),I.forEach(m),this.h()},h(){_(l,"href",i=n[43].link),_(l,"title","open artist in Deezer web interface"),_(o,"class","!p-0 "),_(o,"title","add all artist titles to the playlist"),_(c,"class","!p-0"),_(c,"title","deselect all artist titles from the playlist"),ie(c,"text-gray-500",n[44]===0),_(r,"class","btn-group-vertical btn btn-sm gap-y-1"),_(e,"class","flex flex-row justify-between w-full items-center gap-x-2")},m(p,I){P(p,t,I),v(t,e),v(e,l),U(s,l,null),v(e,a),v(e,r),v(r,o),U(u,o,null),v(r,h),v(r,c),U(f,c,null),v(t,b),g=!0,d||(T=[G(o,"click",k),G(c,"click",B)],d=!0)},p(p,I){n=p;const L={};I[0]&512|I[1]&2097152&&(L.$$scope={dirty:I,ctx:n}),s.$set(L),(!g||I[0]&512&&i!==(i=n[43].link))&&_(l,"href",i),(!g||I[0]&2097664)&&ie(c,"text-gray-500",n[44]===0)},i(p){g||(A(s.$$.fragment,p),A(u.$$.fragment,p),A(f.$$.fragment,p),g=!0)},o(p){N(s.$$.fragment,p),N(u.$$.fragment,p),N(f.$$.fragment,p),g=!1},d(p){p&&m(t),R(s),R(u),R(f),d=!1,te(T)}}}function Sa(n){var B;let t,e,l,s,i,a,r,o,u,h,c,f,b,g;l=new re({props:{$$slots:{default:[ya]},$$scope:{ctx:n}}});function d(p){n[24](p)}let T={options:n[8],$$slots:{optionButton:[$a,({option:p})=>({47:p}),({option:p})=>[0,p?65536:0]]},$$scope:{ctx:n}};n[7]!==void 0&&(T.input=n[7]),o=new $n({props:T}),rl.push(()=>ul(o,"input",d)),o.$on("selection",n[19]);let k=((B=n[9])==null?void 0:B.length)>0&&Xe(n);return{c(){t=y("span"),e=y("span"),Z(l.$$.fragment),s=S(),i=y("input"),a=S(),r=y("span"),Z(o.$$.fragment),h=S(),k&&k.c(),c=se(),this.h()},l(p){t=$(p,"SPAN",{class:!0});var I=C(t);e=$(I,"SPAN",{class:!0});var L=C(e);M(l.$$.fragment,L),L.forEach(m),s=O(I),i=$(I,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),a=O(I),r=$(I,"SPAN",{class:!0,tabindex:!0});var q=C(r);M(o.$$.fragment,q),q.forEach(m),I.forEach(m),h=O(p),k&&k.l(p),c=se(),this.h()},h(){_(e,"class","mb-2"),_(i,"class","input"),_(i,"type","search"),_(i,"name","demo"),_(i,"placeholder","Search..."),_(r,"class","card w-full max-w-sm max-h-48 p-4 overflow-y-auto inline-block"),_(r,"tabindex","-1"),_(t,"class","my-4")},m(p,I){P(p,t,I),v(t,e),U(l,e,null),v(t,s),v(t,i),ne(i,n[7]),v(t,a),v(t,r),U(o,r,null),P(p,h,I),k&&k.m(p,I),P(p,c,I),f=!0,b||(g=G(i,"input",n[22]),b=!0)},p(p,I){var W;const L={};I[1]&2097152&&(L.$$scope={dirty:I,ctx:p}),l.$set(L),I[0]&128&&i.value!==p[7]&&ne(i,p[7]);const q={};I[0]&256&&(q.options=p[8]),I[1]&2162688&&(q.$$scope={dirty:I,ctx:p}),!u&&I[0]&128&&(u=!0,q.input=p[7],ol(()=>u=!1)),o.$set(q),((W=p[9])==null?void 0:W.length)>0?k?(k.p(p,I),I[0]&512&&A(k,1)):(k=Xe(p),k.c(),A(k,1),k.m(c.parentNode,c)):k&&(Dt(),N(k,1,1,()=>{k=null}),jt())},i(p){f||(A(l.$$.fragment,p),A(o.$$.fragment,p),A(k),f=!0)},o(p){N(l.$$.fragment,p),N(o.$$.fragment,p),N(k),f=!1},d(p){p&&(m(t),m(h),m(c)),R(l),R(o),k&&k.d(p),b=!1,g()}}}function xe(n){let t,e=n[6].message+"",l,s,i,a,r;return{c(){t=y("span"),l=yt(e),s=S(),i=y("progress"),this.h()},l(o){t=$(o,"SPAN",{});var u=C(t);l=$t(u,e),u.forEach(m),s=O(o),i=$(o,"PROGRESS",{max:!0}),C(i).forEach(m),this.h()},h(){i.value=a=n[6].value,_(i,"max",r=n[6].max)},m(o,u){P(o,t,u),v(t,l),P(o,s,u),P(o,i,u)},p(o,u){u[0]&64&&e!==(e=o[6].message+"")&&zt(l,e),u[0]&64&&a!==(a=o[6].value)&&(i.value=a),u[0]&64&&r!==(r=o[6].max)&&_(i,"max",r)},d(o){o&&(m(t),m(s),m(i))}}}function Oa(n){let t,e,l="Save to Deezer",s,i,a,r,o,u="Update playlist info",h,c,f,b,g,d="Update Tracks",T,k,B,p="Prepare playlist",I,L,q,W,lt,ft="retrieve non readable tracks",nt,ut,at,st,kt,wt,Q="remove de-selected tracks",Tt,it,At,It;a=new qe({}),f=new qe({});let x=n[6]&&xe(n);return q=new Dn({}),st=new Nn({}),{c(){t=y("div"),e=y("h3"),e.textContent=l,s=S(),i=y("button"),Z(a.$$.fragment),r=S(),o=y("span"),o.textContent=u,h=S(),c=y("button"),Z(f.$$.fragment),b=S(),g=y("span"),g.textContent=d,T=S(),x&&x.c(),k=S(),B=y("h3"),B.textContent=p,I=S(),L=y("button"),Z(q.$$.fragment),W=S(),lt=y("span"),lt.textContent=ft,ut=S(),at=y("button"),Z(st.$$.fragment),kt=S(),wt=y("span"),wt.textContent=Q,this.h()},l(E){t=$(E,"DIV",{class:!0});var F=C(t);e=$(F,"H3",{"data-svelte-h":!0}),mt(e)!=="svelte-1v8zjx5"&&(e.textContent=l),s=O(F),i=$(F,"BUTTON",{class:!0});var pt=C(i);M(a.$$.fragment,pt),r=O(pt),o=$(pt,"SPAN",{"data-svelte-h":!0}),mt(o)!=="svelte-wh4rhd"&&(o.textContent=u),pt.forEach(m),h=O(F),c=$(F,"BUTTON",{class:!0});var vt=C(c);M(f.$$.fragment,vt),b=O(vt),g=$(vt,"SPAN",{"data-svelte-h":!0}),mt(g)!=="svelte-67dhmv"&&(g.textContent=d),vt.forEach(m),T=O(F),x&&x.l(F),k=O(F),B=$(F,"H3",{"data-svelte-h":!0}),mt(B)!=="svelte-1oj9aef"&&(B.textContent=p),I=O(F),L=$(F,"BUTTON",{class:!0,title:!0});var Rt=C(L);M(q.$$.fragment,Rt),W=O(Rt),lt=$(Rt,"SPAN",{"data-svelte-h":!0}),mt(lt)!=="svelte-dro7np"&&(lt.textContent=ft),Rt.forEach(m),ut=O(F),at=$(F,"BUTTON",{class:!0,title:!0});var Lt=C(at);M(st.$$.fragment,Lt),kt=O(Lt),wt=$(Lt,"SPAN",{"data-svelte-h":!0}),mt(wt)!=="svelte-13uzf89"&&(wt.textContent=Q),Lt.forEach(m),F.forEach(m),this.h()},h(){_(i,"class","btn variant-filled-primary"),_(c,"class","btn variant-filled-secondary"),_(L,"class","btn variant-filled-tertiary"),L.disabled=nt=n[2].filter(el).length===0,_(L,"title","trye to find equivalent of tracks that are not readable anymore"),_(at,"class","btn variant-filled-tertiary"),at.disabled=Tt=n[2].filter(ll).length===0,_(at,"title","remove de-selected new tracks"),_(t,"class","flex flex-col gap-y-4 w-4/5")},m(E,F){P(E,t,F),v(t,e),v(t,s),v(t,i),U(a,i,null),v(i,r),v(i,o),v(t,h),v(t,c),U(f,c,null),v(c,b),v(c,g),v(t,T),x&&x.m(t,null),v(t,k),v(t,B),v(t,I),v(t,L),U(q,L,null),v(L,W),v(L,lt),v(t,ut),v(t,at),U(st,at,null),v(at,kt),v(at,wt),it=!0,At||(It=[G(i,"click",he(n[13])),G(c,"click",he(n[15])),G(L,"click",he(n[16])),G(at,"click",he(n[17]))],At=!0)},p(E,F){E[6]?x?x.p(E,F):(x=xe(E),x.c(),x.m(t,k)):x&&(x.d(1),x=null),(!it||F[0]&4&&nt!==(nt=E[2].filter(el).length===0))&&(L.disabled=nt),(!it||F[0]&4&&Tt!==(Tt=E[2].filter(ll).length===0))&&(at.disabled=Tt)},i(E){it||(A(a.$$.fragment,E),A(f.$$.fragment,E),A(q.$$.fragment,E),A(st.$$.fragment,E),it=!0)},o(E){N(a.$$.fragment,E),N(f.$$.fragment,E),N(q.$$.fragment,E),N(st.$$.fragment,E),it=!1},d(E){E&&m(t),R(a),R(f),x&&x.d(),R(q),R(st),At=!1,te(It)}}}function Ia(n){let t,e;return t=new Pl({props:{$$slots:{sidebarRight:[Oa],sidebarLeft:[Sa],default:[wa]},$$scope:{ctx:n}}}),{c(){Z(t.$$.fragment)},l(l){M(t.$$.fragment,l)},m(l,s){U(t,l,s),e=!0},p(l,s){const i={};s[0]&1023|s[1]&2097152&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){e||(A(t.$$.fragment,l),e=!0)},o(l){N(t.$$.fragment,l),e=!1},d(l){R(t,l)}}}function za(n,t){const e=[];for(let l=0;l<n.length;l+=t)e.push(n.slice(l,l+t));return e}function tl(n){return!n.inPlaylist&&n.selected?"!text-lime-500":n.inPlaylist&&!n.selected?"!line-through":""}const el=n=>n.selected&&!n.track.readable,ll=n=>!n.selected&&!n.inPlaylist,nl=n=>n.selected,al=n=>n.selected,sl=n=>n.selected,il=n=>n.selected;function Da(n,t,e){let l,s,i,a,r,o,u;const h=Dl();let{data:c}=t;const f=fe([]);le(n,f,w=>e(9,u=w));const b=fe([]);le(n,b,w=>e(2,i=w));const g={ascending:!1,orderBy:"trackCount"};function d(w){w.ascending!==void 0&&e(3,g.ascending=w.ascending,g),w.orderBy!==void 0&&e(3,g.orderBy=w.orderBy,g),f.update(z=>{const J=g.ascending?1:-1,rt=(K,ct)=>nt(K.id)-nt(ct.id),H=(K,ct)=>K.name.localeCompare(ct.name),ot=(K,ct)=>(Vt,Ft)=>{const ee=K(Vt,Ft);return ee===0?ct(Vt,Ft):ee};return z.sort((K,ct)=>{switch(g.orderBy){case"trackCount":return J*ot(rt,H)(K,ct);case"alphabetical":return J*ot(H,rt)(K,ct)}})})}async function T(){const w={request_method:"POST"};c.playlist.title&&(w.title=c.playlist.title),c.playlist.description&&(w.description=c.playlist.description),c.playlist.public&&(w.public=c.playlist.public);try{const z=await ae({apiPath:`/playlist/${c.playlist.id}`,searchParams:w});h.trigger({message:`Updated playlist: ${z?"OK":"KO"}`,timeout:3e3})}catch(z){h.trigger({message:`Updated playlist: error ${z}`,timeout:3e3})}}let k=fe(void 0);le(n,k,w=>e(6,a=w));async function B(w,z,J){if(!w.length)return;k.set({message:`sending 0/${w.length} ${z} ${J} `,value:0,max:w.length});let rt=0;const H=100;for(const ot of za(w,H)){rt+=H,k.set({message:`sending ${rt} / ${w.length} ${z} ${J} `,value:rt,max:w.length}),console.log(`sending ${z} ${J}=${JSON.stringify(ot)}`);const bt={request_method:z};bt[J]=ot.join(",");const K=await ae({apiPath:`/playlist/${c.playlist.id}/tracks`,searchParams:bt});if(console.log({updateResult:K}),!K)throw new Error(`unable to send ${z} ${J}=${JSON.stringify(ot)}`)}}async function p(){try{const w=i.filter(J=>J.selected&&!J.inPlaylist).map(J=>J.track.id);await B(w,"POST","songs");const z=i.filter(J=>!J.selected&&J.inPlaylist).map(J=>J.track.id);if(await B(z,"DELETE","songs"),w.length>0){const J=i.filter(rt=>rt.selected).map(rt=>rt.track.id);await B(J,"POST","order")}if(k.set(void 0),w.length||z.length){const J=h.trigger({message:"Updated playlist tracks, refreshing playlist data"});await zl(),h.close(J)}}catch(w){h.trigger({message:`Updated playlist tracks: error ${w}`,timeout:3e3})}finally{k.set(void 0)}}async function I(w){const z=await _l(w.artist.id);if(!z){h.trigger({message:`Could not find artist ${w.artist.name}`,timeout:3e3});return}const J=z.flatMap(ot=>{const{tracks:bt,...K}=ot;return ot.tracks.map(ct=>({...ct,album:K}))}).filter(ot=>ot.id!==w.id&&ot.readable),rt={sensitivity:"base",ignorePunctuation:!0,numeric:!1,usage:"search"},H=J.filter(ot=>ot.title.localeCompare(w.title,void 0,rt)===0);switch(H.length){case 0:console.log("no match by title",{unreadableTrack:w}),h.trigger({message:`Could not find matching track for '${w.title}' in album '${w.album.title}'`,timeout:3e3});return;case 1:return H[0];default:{const ot=Object.values(H.reduce((K,ct)=>(K[ct.isrc]=ct,K),{}));if(ot.length===1)return ot[0];const bt=H.filter(K=>K.album.title.localeCompare(w.album.title,void 0,rt)===0);switch(bt.length){case 0:console.log("no match by title and album",{unreadableTrack:w}),h.trigger({message:`Could not find matching track for '${w.title}' in album '${w.album.title}'`,timeout:3e3});return;case 1:return bt[0];default:{const K=Object.values(bt.reduce((ct,Vt)=>(ct[Vt.isrc]=Vt,ct),{}));if(K.length===1)return K[0];console.log("multple match by title",{unreadableTrack:w,matchingTracksByTitleAndAlbum:bt}),h.trigger({message:`Found multiple matching tracks for '${w.title}' in album '${w.album.title}' : ${bt.map(ct=>ct.id)}`,timeout:3e3});return}}}}}async function L(){const w=Sl(b),z=w.filter(H=>H.selected&&H.track.readable).length,J=w.filter(H=>H.selected&&!H.track.readable);for(const H of J){const ot=H.track,bt=await I(ot);if(bt){console.log("adding alternative to "+H.track.id+" : "+bt.title),H.selected=!1;const K=w.indexOf(H);w.splice(K+1,0,{selected:!0,inPlaylist:!1,track:bt})}}const rt=w.filter(H=>H.selected&&H.track.readable).length;h.trigger({message:`Reattached ${rt-z} track(s) to readable equivalents.<br/>(${w.filter(H=>H.selected).length-rt} unreadable track remaining)`,timeout:1e4}),b.set(w)}function q(){b.update(w=>{const z=w.filter(J=>J.selected||J.inPlaylist);return h.trigger({message:`Removed ${w.length-z.length} track(s) from the playlist`,timeout:3e3}),z})}let W=fe("");le(n,W,w=>e(7,r=w));function lt(w){const z=w.detail.value;me(z,b)}const ft=wl(W,(w,z)=>{if(!w){z([]);return}ae({apiPath:"/search/artist",searchParams:{q:w}}).then(J=>{const rt=J.data.map(H=>({label:`<span class="flex justify-between w-full items-center">
<span class="flex items-center"> <img src="${H.picture_small}" class="mx-2"/>${H.name}</span>
 <button class="btn-icon btn-icon-sm variant-outline-tertiary" title="add all artist titles to the playlist">add</button></span>`,value:H.id,meta:H}));z(rt)})});le(n,ft,w=>e(8,o=w));function nt(w){return i.filter(z=>z.track.artist.id===w&&z.selected).length}let ut={page:0,limit:10,size:10,amounts:[10,20,50,100]};function at(){r=this.value,W.set(r)}const st=w=>me(w.meta.id,b);function kt(w){r=w,W.set(r)}const wt=()=>d({orderBy:"alphabetical"}),Q=()=>d({orderBy:"trackCount"}),Tt=()=>d({ascending:!1}),it=()=>d({ascending:!0}),At=w=>me(w.id,b),It=w=>Ge(w.id,b);function x(){c.playlist.title=this.value,e(0,c)}function E(){c.playlist.description=this.value,e(0,c)}const F=w=>{l.forEach(z=>z.selected=w.target.checked),b.update(z=>z)};function pt(w,z){w[z].selected=this.checked,e(5,l),e(2,i),e(1,ut)}const vt=w=>sa(w.album,b),Rt=w=>aa(w.album.id,b),Lt=w=>me(w.artist.id,b),qt=w=>Ge(w.artist.id,b);function oe(w){ut=w,e(1,ut),e(2,i)}return n.$$set=w=>{"data"in w&&e(0,c=w.data)},n.$$.update=()=>{if(n.$$.dirty[0]&1&&f.set(c.topArtists),n.$$.dirty[0]&1){const w=c.playlist.tracks.data.map(z=>({track:z,inPlaylist:!0,selected:!0}));b.set(w)}n.$$.dirty[0]&4&&e(1,ut.size=i.length,ut),n.$$.dirty[0]&6&&e(5,l=i.slice(ut.page*ut.limit,ut.page*ut.limit+ut.limit)),n.$$.dirty[0]&4&&e(4,s=i.reduce((w,z)=>Math.max(w,z.track.rank),0))},[c,ut,i,g,s,l,a,r,o,u,f,b,d,T,k,p,L,q,W,lt,ft,nt,at,st,kt,wt,Q,Tt,it,At,It,x,E,F,pt,vt,Rt,Lt,qt,oe]}class Fa extends _t{constructor(t){super(),gt(this,t,Da,Ia,dt,{data:0},null,[-1,-1])}}export{Fa as component,Va as universal};
