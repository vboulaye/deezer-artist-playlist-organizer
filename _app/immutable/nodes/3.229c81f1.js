import{s as g,l as f,m as d,i as u,r as i,d as h,M as k}from"../chunks/scheduler.2b679851.js";import{S as _,i as x}from"../chunks/index.975caa0b.js";import{g as b}from"../chunks/navigation.2110340d.js";import{b as m}from"../chunks/paths.d5ac7121.js";import{p as v}from"../chunks/stores.a8573343.js";import{T as y,R as l}from"../chunks/CookieManager.c7cee2e3.js";function C(a){let e;return{c(){e=f("processing deezer signin...")},l(t){e=d(t,"processing deezer signin...")},m(t,s){u(t,e,s)},p:i,i,o:i,d(t){t&&h(e)}}}const r="#access_token=";function P(a,e,t){let s;k(a,v,o=>t(0,s=o));async function p(o){y.set(o);const c=l.get()||m+"/";console.log({redirectPath:c,base:m}),l.remove(),await b(c,{invalidateAll:!0})}const n=s.url.hash;if(n.includes(r)){const o=n.substring(n.indexOf(r)+r.length,n.indexOf("&"));console.log("callback access token: ",{access_token:o}),setTimeout(async()=>{await p(o)},1)}return[]}class S extends _{constructor(e){super(),x(this,e,P,C,g,{})}}export{S as component};
