import{d as gl,w as it}from"../chunks/paths.6a95fa8c.js";import{g as _l,c as Xe,r as pl}from"../chunks/DeezerCall.35019efc.js";import{g as dt,P as vl,h as yt}from"../chunks/PlaylistApplicationShell.f1399545.js";import{s as Ce,f as y,g as T,h as A,d as h,j as d,i as P,r as q,R as tl,w as V,E as he,S as Tt,l as re,m as oe,z as p,n as ke,H as Pe,a as S,G as Ae,c as L,I as $,K as We,J as bl,T as Ct,P as ot,U as Ve,V as wl,e as Qe,L as De,M as He,N as pe,Q as $e,W as xe,y as ll,A as sl,B as al,C as nl,k as kl,F as tt,p as il,O as _e,X as rl,Y as rt,Z as yl,_ as Et}from"../chunks/scheduler.2d554b92.js";import{S as Ee,i as Ne,g as lt,t as F,c as st,a as H,b as W,d as Y,m as X,e as Q,o as ol}from"../chunks/index.22319be1.js";import{e as Oe,u as Tl,d as Cl}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.d1f06687.js";import{i as El}from"../chunks/navigation.0370b6a0.js";import{g as Fe,t as Me}from"../chunks/stores.f954faa8.js";function Nt(s,e,t){const a=s.slice();return a[32]=e[t],a}function Nl(s){let e,t,a;return{c(){e=y("div"),t=re(s[0]),this.h()},l(i){e=T(i,"DIV",{class:!0});var n=A(e);t=oe(n,s[0]),n.forEach(h),this.h()},h(){d(e,"class",a="autocomplete-empty "+s[2])},m(i,n){P(i,e,n),p(e,t)},p(i,n){n[0]&1&&ke(t,i[0]),n[0]&4&&a!==(a="autocomplete-empty "+i[2])&&d(e,"class",a)},d(i){i&&h(e)}}}function Pl(s){let e,t,a=[],i=new Map,n,l,r=Oe(s[1].slice(0,s[8]));const u=o=>o[32];for(let o=0;o<r.length;o+=1){let m=Nt(s,r,o),f=u(m);i.set(f,a[o]=Pt(f,m))}return{c(){e=y("nav"),t=y("ul");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=T(o,"NAV",{class:!0});var m=A(e);t=T(m,"UL",{class:!0});var f=A(t);for(let c=0;c<a.length;c+=1)a[c].l(f);f.forEach(h),m.forEach(h),this.h()},h(){d(t,"class",n="autocomplete-list "+s[5]),d(e,"class",l="autocomplete-nav "+s[6])},m(o,m){P(o,e,m),p(e,t);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(t,null)},p(o,m){m[0]&794&&(r=Oe(o[1].slice(0,o[8])),a=Tl(a,m,u,1,o,r,i,t,Cl,Pt,null,Nt)),m[0]&32&&n!==(n="autocomplete-list "+o[5])&&d(t,"class",n),m[0]&64&&l!==(l="autocomplete-nav "+o[6])&&d(e,"class",l)},d(o){o&&h(e);for(let m=0;m<a.length;m+=1)a[m].d()}}}function Pt(s,e){let t,a,i,n=e[32].label+"",l,r,u,o,m;function f(){return e[26](e[32])}return{key:s,first:null,c(){t=y("li"),a=y("button"),i=new Pe(!1),r=S(),this.h()},l(c){t=T(c,"LI",{class:!0});var E=A(t);a=T(E,"BUTTON",{class:!0,type:!0});var _=A(a);i=Ae(_,!1),_.forEach(h),r=L(E),E.forEach(h),this.h()},h(){i.a=null,d(a,"class",l="autocomplete-button "+e[3]),d(a,"type","button"),d(t,"class",u="autocomplete-item "+e[4]),this.first=t},m(c,E){P(c,t,E),p(t,a),i.m(n,a),p(t,r),o||(m=[$(a,"click",f),$(a,"click",e[24]),$(a,"keypress",e[25])],o=!0)},p(c,E){e=c,E[0]&258&&n!==(n=e[32].label+"")&&i.p(n),E[0]&8&&l!==(l="autocomplete-button "+e[3])&&d(a,"class",l),E[0]&16&&u!==(u="autocomplete-item "+e[4])&&d(t,"class",u)},d(c){c&&h(t),o=!1,We(m)}}}function Al(s){let e,t;function a(l,r){return l[1].length>0?Pl:Nl}let i=a(s),n=i(s);return{c(){e=y("div"),n.c(),this.h()},l(l){e=T(l,"DIV",{class:!0,"data-testid":!0});var r=A(e);n.l(r),r.forEach(h),this.h()},h(){d(e,"class",t="autocomplete "+s[7]),d(e,"data-testid","autocomplete")},m(l,r){P(l,e,r),n.m(e,null)},p(l,r){i===(i=a(l))&&n?n.p(l,r):(n.d(1),n=i(l),n&&(n.c(),n.m(e,null))),r[0]&128&&t!==(t="autocomplete "+l[7])&&d(e,"class",t)},i:q,o:q,d(l){l&&h(e),n.d()}}}function zl(s,e,t){let a,i,n,l,r,u,o,m,f;const c=tl();let{input:E=void 0}=e,{options:_=[]}=e,{limit:C=void 0}=e,{allowlist:z=[]}=e,{denylist:k=[]}=e,{emptyState:b="No Results Found."}=e,{regionNav:g=""}=e,{regionList:N="list-nav"}=e,{regionItem:M=""}=e,{regionButton:I="w-full"}=e,{regionEmpty:x="text-center"}=e,{whitelist:de=[]}=e,{blacklist:we=[]}=e,{duration:ue=200}=e;function me(B,G){let ae=[..._];B.length&&(ae=ae.filter(ye=>B.includes(ye.value))),G.length&&(ae=ae.filter(ye=>!G.includes(ye.value))),!B.length&&!G.length&&(ae=_),t(23,a=ae)}function fe(){let B=[...a];return B=B.filter(G=>{const ae=String(E).toLowerCase().trim();if(JSON.stringify([G.label,G.value,G.keywords]).toLowerCase().includes(ae))return G}),B}function ne(B){c("selection",B)}function ve(B){Tt.call(this,s,B)}function be(B){Tt.call(this,s,B)}const R=B=>ne(B);return s.$$set=B=>{t(31,e=V(V({},e),he(B))),"input"in B&&t(10,E=B.input),"options"in B&&t(11,_=B.options),"limit"in B&&t(12,C=B.limit),"allowlist"in B&&t(13,z=B.allowlist),"denylist"in B&&t(14,k=B.denylist),"emptyState"in B&&t(0,b=B.emptyState),"regionNav"in B&&t(15,g=B.regionNav),"regionList"in B&&t(16,N=B.regionList),"regionItem"in B&&t(17,M=B.regionItem),"regionButton"in B&&t(18,I=B.regionButton),"regionEmpty"in B&&t(19,x=B.regionEmpty),"whitelist"in B&&t(20,de=B.whitelist),"blacklist"in B&&t(21,we=B.blacklist),"duration"in B&&t(22,ue=B.duration)},s.$$.update=()=>{s.$$.dirty[0]&2048&&t(23,a=_),s.$$.dirty[0]&24576&&me(z,k),s.$$.dirty[0]&8389632&&t(1,i=E?fe():a),s.$$.dirty[0]&4098&&t(8,n=C!==void 0?C:i.length),t(7,l=`${e.class??""}`),s.$$.dirty[0]&32768&&t(6,r=`${g}`),s.$$.dirty[0]&65536&&t(5,u=`${N}`),s.$$.dirty[0]&131072&&t(4,o=`${M}`),s.$$.dirty[0]&262144&&t(3,m=`${I}`),s.$$.dirty[0]&524288&&t(2,f=`${x}`)},e=he(e),[b,i,f,m,o,u,r,l,n,ne,E,_,C,z,k,g,N,M,I,x,de,we,ue,a,ve,be,R]}class Bl extends Ee{constructor(e){super(),Ne(this,e,zl,Al,Ce,{input:10,options:11,limit:12,allowlist:13,denylist:14,emptyState:0,regionNav:15,regionList:16,regionItem:17,regionButton:18,regionEmpty:19,whitelist:20,blacklist:21,duration:22},null,[-1,-1])}}const Sl='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>',Ll='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"/></svg>',Ml='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"/></svg>',Ol='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/></svg>';function At(s,e,t){const a=s.slice();return a[43]=e[t],a}function zt(s,e,t){const a=s.slice();return a[46]=e[t],a}function Bt(s){let e,t,a,i,n,l,r=Oe(s[0].amounts),u=[];for(let o=0;o<r.length;o+=1)u[o]=St(zt(s,r,o));return{c(){e=y("label"),t=y("select");for(let o=0;o<u.length;o+=1)u[o].c();this.h()},l(o){e=T(o,"LABEL",{class:!0});var m=A(e);t=T(m,"SELECT",{class:!0,"aria-label":!0});var f=A(t);for(let c=0;c<u.length;c+=1)u[c].l(f);f.forEach(h),m.forEach(h),this.h()},h(){d(t,"class",a="paginator-select "+s[19]),t.disabled=s[1],d(t,"aria-label","Select Amount"),s[0].limit===void 0&&bl(()=>s[32].call(t)),d(e,"class",i="paginator-label "+s[20])},m(o,m){P(o,e,m),p(e,t);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(t,null);Ct(t,s[0].limit,!0),n||(l=[$(t,"change",s[32]),$(t,"change",s[23])],n=!0)},p(o,m){if(m[0]&33){r=Oe(o[0].amounts);let f;for(f=0;f<r.length;f+=1){const c=zt(o,r,f);u[f]?u[f].p(c,m):(u[f]=St(c),u[f].c(),u[f].m(t,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=r.length}m[0]&524288&&a!==(a="paginator-select "+o[19])&&d(t,"class",a),m[0]&2&&(t.disabled=o[1]),m[0]&1&&Ct(t,o[0].limit),m[0]&1048576&&i!==(i="paginator-label "+o[20])&&d(e,"class",i)},d(o){o&&h(e),ot(u,o),n=!1,We(l)}}}function St(s){let e,t=s[46]+"",a,i,n,l;return{c(){e=y("option"),a=re(t),i=S(),n=re(s[5]),this.h()},l(r){e=T(r,"OPTION",{});var u=A(e);a=oe(u,t),i=L(u),n=oe(u,s[5]),u.forEach(h),this.h()},h(){e.__value=l=s[46],Ve(e,e.__value)},m(r,u){P(r,e,u),p(e,a),p(e,i),p(e,n)},p(r,u){u[0]&1&&t!==(t=r[46]+"")&&ke(a,t),u[0]&32&&ke(n,r[5]),u[0]&1&&l!==(l=r[46])&&(e.__value=l,Ve(e,e.__value))},d(r){r&&h(e)}}}function Lt(s){let e,t,a,i,n;return{c(){e=y("button"),t=new Pe(!1),this.h()},l(l){e=T(l,"BUTTON",{type:!0,"aria-label":!0,class:!0});var r=A(e);t=Ae(r,!1),r.forEach(h),this.h()},h(){t.a=null,d(e,"type","button"),d(e,"aria-label",s[12]),d(e,"class",s[6]),e.disabled=a=s[1]||s[0].offset===0},m(l,r){P(l,e,r),t.m(s[9],e),i||(n=$(e,"click",s[33]),i=!0)},p(l,r){r[0]&512&&t.p(l[9]),r[0]&4096&&d(e,"aria-label",l[12]),r[0]&64&&d(e,"class",l[6]),r[0]&3&&a!==(a=l[1]||l[0].offset===0)&&(e.disabled=a)},d(l){l&&h(e),i=!1,n()}}}function Mt(s){let e,t,a,i,n;return{c(){e=y("button"),t=new Pe(!1),this.h()},l(l){e=T(l,"BUTTON",{type:!0,"aria-label":!0,class:!0});var r=A(e);t=Ae(r,!1),r.forEach(h),this.h()},h(){t.a=null,d(e,"type","button"),d(e,"aria-label",s[13]),d(e,"class",s[6]),e.disabled=a=s[1]||s[0].offset===0},m(l,r){P(l,e,r),t.m(s[7],e),i||(n=$(e,"click",s[34]),i=!0)},p(l,r){r[0]&128&&t.p(l[7]),r[0]&8192&&d(e,"aria-label",l[13]),r[0]&64&&d(e,"class",l[6]),r[0]&3&&a!==(a=l[1]||l[0].offset===0)&&(e.disabled=a)},d(l){l&&h(e),i=!1,n()}}}function Dl(s){let e,t=Oe(s[17]),a=[];for(let i=0;i<t.length;i+=1)a[i]=Ot(At(s,t,i));return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=Qe()},l(i){for(let n=0;n<a.length;n+=1)a[n].l(i);e=Qe()},m(i,n){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(i,n);P(i,e,n)},p(i,n){if(n[0]&21102656){t=Oe(i[17]);let l;for(l=0;l<t.length;l+=1){const r=At(i,t,l);a[l]?a[l].p(r,n):(a[l]=Ot(r),a[l].c(),a[l].m(e.parentNode,e))}for(;l<a.length;l+=1)a[l].d(1);a.length=t.length}},d(i){i&&h(e),ot(a,i)}}}function Hl(s){let e,t=s[0].offset*s[0].limit+1+"",a,i,n=Math.min(s[0].offset*s[0].limit+s[0].limit,s[0].size)+"",l,r,u,o,m,f=s[0].size+"",c,E;return{c(){e=y("button"),a=re(t),i=re("-"),l=re(n),r=re(" "),u=y("span"),o=re(s[11]),m=S(),c=re(f),this.h()},l(_){e=T(_,"BUTTON",{type:!0,class:!0});var C=A(e);a=oe(C,t),i=oe(C,"-"),l=oe(C,n),r=oe(C," "),u=T(C,"SPAN",{class:!0});var z=A(u);o=oe(z,s[11]),m=L(z),c=oe(z,f),z.forEach(h),C.forEach(h),this.h()},h(){d(u,"class","opacity-50"),d(e,"type","button"),d(e,"class",E=s[6]+" pointer-events-none !text-sm")},m(_,C){P(_,e,C),p(e,a),p(e,i),p(e,l),p(e,r),p(e,u),p(u,o),p(u,m),p(u,c)},p(_,C){C[0]&1&&t!==(t=_[0].offset*_[0].limit+1+"")&&ke(a,t),C[0]&1&&n!==(n=Math.min(_[0].offset*_[0].limit+_[0].limit,_[0].size)+"")&&ke(l,n),C[0]&2048&&ke(o,_[11]),C[0]&1&&f!==(f=_[0].size+"")&&ke(c,f),C[0]&64&&E!==(E=_[6]+" pointer-events-none !text-sm")&&d(e,"class",E)},d(_){_&&h(e)}}}function Ot(s){let e,t=(s[43]>=0?s[43]+1:"...")+"",a,i,n,l,r;function u(){return s[35](s[43])}return{c(){e=y("button"),a=re(t),i=S(),this.h()},l(o){e=T(o,"BUTTON",{type:!0,class:!0});var m=A(e);a=oe(m,t),i=L(m),m.forEach(h),this.h()},h(){d(e,"type","button"),d(e,"class",n=s[6]+" "+s[22](s[43]))},m(o,m){P(o,e,m),p(e,a),p(e,i),l||(r=$(e,"click",u),l=!0)},p(o,m){s=o,m[0]&131072&&t!==(t=(s[43]>=0?s[43]+1:"...")+"")&&ke(a,t),m[0]&4325440&&n!==(n=s[6]+" "+s[22](s[43]))&&d(e,"class",n)},d(o){o&&h(e),l=!1,r()}}}function Dt(s){let e,t,a,i,n;return{c(){e=y("button"),t=new Pe(!1),this.h()},l(l){e=T(l,"BUTTON",{type:!0,"aria-label":!0,class:!0});var r=A(e);t=Ae(r,!1),r.forEach(h),this.h()},h(){t.a=null,d(e,"type","button"),d(e,"aria-label",s[14]),d(e,"class",s[6]),e.disabled=a=s[1]||(s[0].offset+1)*s[0].limit>=s[0].size},m(l,r){P(l,e,r),t.m(s[8],e),i||(n=$(e,"click",s[36]),i=!0)},p(l,r){r[0]&256&&t.p(l[8]),r[0]&16384&&d(e,"aria-label",l[14]),r[0]&64&&d(e,"class",l[6]),r[0]&3&&a!==(a=l[1]||(l[0].offset+1)*l[0].limit>=l[0].size)&&(e.disabled=a)},d(l){l&&h(e),i=!1,n()}}}function Ht(s){let e,t,a,i,n;return{c(){e=y("button"),t=new Pe(!1),this.h()},l(l){e=T(l,"BUTTON",{type:!0,"aria-label":!0,class:!0});var r=A(e);t=Ae(r,!1),r.forEach(h),this.h()},h(){t.a=null,d(e,"type","button"),d(e,"aria-label",s[15]),d(e,"class",s[6]),e.disabled=a=s[1]||(s[0].offset+1)*s[0].limit>=s[0].size},m(l,r){P(l,e,r),t.m(s[10],e),i||(n=$(e,"click",s[37]),i=!0)},p(l,r){r[0]&1024&&t.p(l[10]),r[0]&32768&&d(e,"aria-label",l[15]),r[0]&64&&d(e,"class",l[6]),r[0]&3&&a!==(a=l[1]||(l[0].offset+1)*l[0].limit>=l[0].size)&&(e.disabled=a)},d(l){l&&h(e),i=!1,n()}}}function Fl(s){let e,t,a,i,n,l,r,u,o,m=s[0].amounts.length&&Bt(s),f=s[3]&&Lt(s),c=s[2]&&Mt(s);function E(b,g){return b[4]===!1?Hl:Dl}let _=E(s),C=_(s),z=s[2]&&Dt(s),k=s[3]&&Ht(s);return{c(){e=y("div"),m&&m.c(),t=S(),a=y("div"),f&&f.c(),i=S(),c&&c.c(),n=S(),C.c(),l=S(),z&&z.c(),r=S(),k&&k.c(),this.h()},l(b){e=T(b,"DIV",{class:!0,"data-testid":!0});var g=A(e);m&&m.l(g),t=L(g),a=T(g,"DIV",{class:!0});var N=A(a);f&&f.l(N),i=L(N),c&&c.l(N),n=L(N),C.l(N),l=L(N),z&&z.l(N),r=L(N),k&&k.l(N),N.forEach(h),g.forEach(h),this.h()},h(){d(a,"class",u="paginator-controls "+s[18]),d(e,"class",o="paginator "+s[21]),d(e,"data-testid","paginator")},m(b,g){P(b,e,g),m&&m.m(e,null),p(e,t),p(e,a),f&&f.m(a,null),p(a,i),c&&c.m(a,null),p(a,n),C.m(a,null),p(a,l),z&&z.m(a,null),p(a,r),k&&k.m(a,null)},p(b,g){b[0].amounts.length?m?m.p(b,g):(m=Bt(b),m.c(),m.m(e,t)):m&&(m.d(1),m=null),b[3]?f?f.p(b,g):(f=Lt(b),f.c(),f.m(a,i)):f&&(f.d(1),f=null),b[2]?c?c.p(b,g):(c=Mt(b),c.c(),c.m(a,n)):c&&(c.d(1),c=null),_===(_=E(b))&&C?C.p(b,g):(C.d(1),C=_(b),C&&(C.c(),C.m(a,l))),b[2]?z?z.p(b,g):(z=Dt(b),z.c(),z.m(a,r)):z&&(z.d(1),z=null),b[3]?k?k.p(b,g):(k=Ht(b),k.c(),k.m(a,null)):k&&(k.d(1),k=null),g[0]&262144&&u!==(u="paginator-controls "+b[18])&&d(a,"class",u),g[0]&2097152&&o!==(o="paginator "+b[21])&&d(e,"class",o)},i:q,o:q,d(b){b&&h(e),m&&m.d(),f&&f.d(),c&&c.d(),C.d(),z&&z.d(),k&&k.d()}}}const Il="flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4",Ul="w-full md:w-auto";function jl(s,e,t){let a,i,n,l,r;const u=tl();let{settings:o={offset:0,limit:5,size:0,amounts:[1,2,5,10]}}=e,{disabled:m=!1}=e,{showPreviousNextButtons:f=!0}=e,{showFirstLastButtons:c=!1}=e,{showNumerals:E=!1}=e,{maxNumerals:_=1}=e,{justify:C="justify-between"}=e,{select:z="select min-w-[150px]"}=e,{amountText:k="Items"}=e,{regionControl:b="btn-group"}=e,{controlVariant:g="variant-filled"}=e,{controlSeparator:N=""}=e,{active:M="variant-filled-primary"}=e,{buttonClasses:I="!px-3 !py-1.5 fill-current"}=e,{buttonTextPrevious:x=Sl}=e,{buttonTextNext:de=Ll}=e,{buttonTextFirst:we=Ml}=e,{buttonTextLast:ue=Ol}=e,{separatorText:me="of"}=e,{labelFirst:fe="First page"}=e,{labelPrevious:ne="Previous page"}=e,{labelNext:ve="Next page"}=e,{labelLast:be="Last page"}=e,R=Math.max(0,Math.ceil(o.size/o.limit-1)),B=le();function G(){t(0,o.offset=0,o),u("amount",o.limit),t(16,R=Math.max(0,Math.ceil(o.size/o.limit-1))),t(17,B=le())}function ae(v){v<0||(t(0,o.offset=v,o),u("page",o.offset),t(17,B=le()))}function ye(){const v=[];for(let J=0;J<=R;J++)v.push(J);return v}function le(){const v=[],J=o.offset<_+2,j=o.offset>R-(_+2);if(R<=_*2+1)return ye();if(v.push(0),J||v.push(-1),J||j){const Z=J?1:R-(_+2),te=j?R-1:_+2;for(let U=Z;U<=te;U++)v.push(U)}else for(let Z=o.offset-_;Z<=o.offset+_;Z++)v.push(Z);return j||v.push(-1),v.push(R),v}function K(v){t(16,R=Math.max(0,Math.ceil(v/o.limit-1))),t(17,B=le())}function se(){o.limit=wl(this),t(0,o)}const Be=()=>{ae(0)},Te=()=>{ae(o.offset-1)},Le=v=>ae(v),w=()=>{ae(o.offset+1)},O=()=>{ae(R)};return s.$$set=v=>{t(42,e=V(V({},e),he(v))),"settings"in v&&t(0,o=v.settings),"disabled"in v&&t(1,m=v.disabled),"showPreviousNextButtons"in v&&t(2,f=v.showPreviousNextButtons),"showFirstLastButtons"in v&&t(3,c=v.showFirstLastButtons),"showNumerals"in v&&t(4,E=v.showNumerals),"maxNumerals"in v&&t(25,_=v.maxNumerals),"justify"in v&&t(26,C=v.justify),"select"in v&&t(27,z=v.select),"amountText"in v&&t(5,k=v.amountText),"regionControl"in v&&t(28,b=v.regionControl),"controlVariant"in v&&t(29,g=v.controlVariant),"controlSeparator"in v&&t(30,N=v.controlSeparator),"active"in v&&t(31,M=v.active),"buttonClasses"in v&&t(6,I=v.buttonClasses),"buttonTextPrevious"in v&&t(7,x=v.buttonTextPrevious),"buttonTextNext"in v&&t(8,de=v.buttonTextNext),"buttonTextFirst"in v&&t(9,we=v.buttonTextFirst),"buttonTextLast"in v&&t(10,ue=v.buttonTextLast),"separatorText"in v&&t(11,me=v.separatorText),"labelFirst"in v&&t(12,fe=v.labelFirst),"labelPrevious"in v&&t(13,ne=v.labelPrevious),"labelNext"in v&&t(14,ve=v.labelNext),"labelLast"in v&&t(15,be=v.labelLast)},s.$$.update=()=>{s.$$.dirty[0]&1|s.$$.dirty[1]&1&&t(22,a=v=>v===o.offset?`${M} pointer-events-none`:""),s.$$.dirty[0]&33554432&&G(),s.$$.dirty[0]&1&&K(o.size),t(21,i=`${Il} ${C} ${e.class??""}`),s.$$.dirty[0]&134217728&&t(19,l=`${z}`),s.$$.dirty[0]&1879048192&&t(18,r=`${b} ${g} ${N}`)},t(20,n=`${Ul}`),e=he(e),[o,m,f,c,E,k,I,x,de,we,ue,me,fe,ne,ve,be,R,B,r,l,n,i,a,G,ae,_,C,z,b,g,N,M,se,Be,Te,Le,w,O]}class Zl extends Ee{constructor(e){super(),Ne(this,e,jl,Fl,Ce,{settings:0,disabled:1,showPreviousNextButtons:2,showFirstLastButtons:3,showNumerals:4,maxNumerals:25,justify:26,select:27,amountText:5,regionControl:28,controlVariant:29,controlSeparator:30,active:31,buttonClasses:6,buttonTextPrevious:7,buttonTextNext:8,buttonTextFirst:9,buttonTextLast:10,separatorText:11,labelFirst:12,labelPrevious:13,labelNext:14,labelLast:15},null,[-1,-1])}}var gt={exports:{}};function ul(){var s=Object.create(null),e=0,t=0,a=0,i=!1;this.put=function(l,r,u,o){if(i&&console.log("caching: %s = %j (@%s)",l,r,u),typeof u<"u"&&(typeof u!="number"||isNaN(u)||u<=0))throw new Error("Cache timeout must be a positive number");if(typeof o<"u"&&typeof o!="function")throw new Error("Cache timeout callback must be a function");var m=s[l];m?clearTimeout(m.timeout):a++;var f={value:r,expire:u+Date.now()};return isNaN(f.expire)||(f.timeout=setTimeout((function(){n(l),o&&o(l,r)}).bind(this),u)),s[l]=f,r},this.del=function(l){var r=!0,u=s[l];return u?(clearTimeout(u.timeout),!isNaN(u.expire)&&u.expire<Date.now()&&(r=!1)):r=!1,r&&n(l),r};function n(l){a--,delete s[l]}this.clear=function(){for(var l in s)clearTimeout(s[l].timeout);a=0,s=Object.create(null),i&&(e=0,t=0)},this.get=function(l){var r=s[l];if(typeof r<"u"){if(isNaN(r.expire)||r.expire>=Date.now())return i&&e++,r.value;i&&t++,a--,delete s[l]}else i&&t++;return null},this.size=function(){return a},this.memsize=function(){var l=0,r;for(r in s)l++;return l},this.debug=function(l){i=l},this.hits=function(){return e},this.misses=function(){return t},this.keys=function(){return Object.keys(s)},this.exportJson=function(){var l={};for(var r in s){var u=s[r];l[r]={value:u.value,expire:u.expire||"NaN"}}return JSON.stringify(l)},this.importJson=function(l,r){var u=JSON.parse(l),o=Date.now(),m=r&&r.skipDuplicates;for(var f in u)if(u.hasOwnProperty(f)){if(m){var c=s[f];if(c){i&&console.log("Skipping duplicate imported key '%s'",f);continue}}var E=u[f],_=E.expire-o;if(_<=0){this.del(f);continue}_=_>0?_:void 0,this.put(f,E.value,_)}return this.size()}}gt.exports=new ul;gt.exports.Cache=ul;var Rl=gt.exports;const Ft=_l(Rl);class fl{constructor(e,t){this.cacheName=e,this.ttl=t}get(e){return Ft.get(this.buildKey(e))}buildKey(e){return this.cacheName+"~"+e}put(e,t){Ft.put(this.buildKey(e),t,this.ttl)}}const It=new fl("ARTIST",3600*1e3),Ut=new fl("ARTIST-DISCOGRAPHY",3600*1e3);async function Vl(s){const e=It.get(s);if(e)return e;const t=await Xe({apiPath:"/artist/"+s});return It.put(s,t),t}async function jt(s){const e=Ut.get(s);if(e)return e;const t=await dt({apiPath:"/artist/"+s+"/albums",index:0,limit:100}),a=await Promise.all(t.data.map(async i=>{const n=await dt({apiPath:"/album/"+i.id+"/tracks",index:0,limit:100});return{...i,tracks:n.data}}));return Ut.put(s,a),a}const Jl=!1;async function ql(s){if(s==="NEW"){const e=new Date().toISOString(),t=await Xe({apiPath:"/user/me/playlists",searchParams:{request_method:"POST",title:`New Playlist ${e}`,description:`Playlist created with deezer-artist-playlist-organizer on the ${e}`,public:!0}});throw pl(302,"./"+t.id)}return s}async function Kl({params:s}){const e=await ql(s.id),t=await Xe({apiPath:`/playlist/${e}`}),a=t.tracks.data.reduce((l,r)=>(l[r.artist.id]||(l[r.artist.id]={artist:r.artist,count:0}),l[r.artist.id].count++,l),{}),i=Object.values(a).sort((l,r)=>r.count-l.count);if(t.nb_tracks>400){const l=await dt({apiPath:`/playlist/${e}/tracks`,limit:100,index:t.tracks.data.length});t.tracks.data=[...t.tracks.data,...l.data]}const n=Promise.all(i.map(async l=>await Vl(l.artist.id)));return{playlist:t,topArtists:n}}const ra=Object.freeze(Object.defineProperty({__proto__:null,load:Kl,ssr:Jl},Symbol.toStringTag,{value:"Module"}));function Gl(s){let e,t,a='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm40-84a12 12 0 0 1-5.12 9.83l-40 28A12 12 0 0 1 104 156v-56a12 12 0 0 1 18.88-9.83l40 28A12 12 0 0 1 168 128Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=V(n,i[l]);return{c(){e=De("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ae(r,!0),r.forEach(h),this.h()},h(){t.a=null,pe(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){pe(e,n=Fe(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function Wl(s,e,t){return s.$$set=a=>{t(0,e=V(V({},e),he(a)))},e=he(e),[e]}class Yl extends Ee{constructor(e){super(),Ne(this,e,Wl,Gl,Ce,{})}}function Xl(s){let e,t,a='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84ZM116 96v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Zm48 0v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=V(n,i[l]);return{c(){e=De("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ae(r,!0),r.forEach(h),this.h()},h(){t.a=null,pe(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){pe(e,n=Fe(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function Ql(s,e,t){return s.$$set=a=>{t(0,e=V(V({},e),he(a)))},e=he(e),[e]}class $l extends Ee{constructor(e){super(),Ne(this,e,Ql,Xl,Ce,{})}}function xl(s){let e,t,a,i,n;return t=new $l({}),{c(){e=y("span"),W(t.$$.fragment),this.h()},l(l){e=T(l,"SPAN",{role:!0});var r=A(e);Y(t.$$.fragment,r),r.forEach(h),this.h()},h(){d(e,"role","button")},m(l,r){P(l,e,r),X(t,e,null),a=!0,i||(n=$(e,"click",s[4]),i=!0)},p:q,i(l){a||(H(t.$$.fragment,l),a=!0)},o(l){F(t.$$.fragment,l),a=!1},d(l){l&&h(e),Q(t),i=!1,n()}}}function es(s){let e,t,a,i,n;return t=new Yl({}),{c(){e=y("span"),W(t.$$.fragment),this.h()},l(l){e=T(l,"SPAN",{role:!0});var r=A(e);Y(t.$$.fragment,r),r.forEach(h),this.h()},h(){d(e,"role","button")},m(l,r){P(l,e,r),X(t,e,null),a=!0,i||(n=$(e,"click",s[4]),i=!0)},p:q,i(l){a||(H(t.$$.fragment,l),a=!0)},o(l){F(t.$$.fragment,l),a=!1},d(l){l&&h(e),Q(t),i=!1,n()}}}function ts(s){let e,t,a=!0,i,n,l,r,u,o,m;const f=[es,xl],c=[];function E(_,C){return _[0]?0:1}return l=E(s),r=c[l]=f[l](s),{c(){e=y("audio"),i=S(),n=y("span"),r.c(),this.h()},l(_){e=T(_,"AUDIO",{src:!0}),A(e).forEach(h),i=L(_),n=T(_,"SPAN",{});var C=A(n);r.l(C),C.forEach(h),this.h()},h(){$e(e.src,t=s[1])||d(e,"src",t),e.loop=s[2],xe(n,"text-gray-500",!s[3])},m(_,C){P(_,e,C),P(_,i,C),P(_,n,C),c[l].m(n,null),u=!0,o||(m=[$(e,"play",s[5]),$(e,"pause",s[5])],o=!0)},p(_,[C]){(!u||C&2&&!$e(e.src,t=_[1]))&&d(e,"src",t),(!u||C&4)&&(e.loop=_[2]),C&1&&a!==(a=_[0])&&e[a?"pause":"play"]();let z=l;l=E(_),l===z?c[l].p(_,C):(lt(),F(c[z],1,1,()=>{c[z]=null}),st(),r=c[l],r?r.p(_,C):(r=c[l]=f[l](_),r.c()),H(r,1),r.m(n,null)),(!u||C&8)&&xe(n,"text-gray-500",!_[3])},i(_){u||(H(r),u=!0)},o(_){F(r),u=!1},d(_){_&&(h(e),h(i),h(n)),c[l].d(),o=!1,We(m)}}}function ls(s,e,t){let{src:a}=e,{loop:i=!1}=e,{enabled:n=!0}=e,{paused:l=!0}=e;function r(){n&&t(0,l=!l)}function u(){l=this.paused,t(0,l)}return s.$$set=o=>{"src"in o&&t(1,a=o.src),"loop"in o&&t(2,i=o.loop),"enabled"in o&&t(3,n=o.enabled),"paused"in o&&t(0,l=o.paused)},[l,a,i,n,r,u]}class ss extends Ee{constructor(e){super(),Ne(this,e,ls,ts,Ce,{src:1,loop:2,enabled:3,paused:0})}}function as(s){let e,t;const a=s[1].default,i=ll(a,s,s[0],null);return{c(){e=y("span"),i&&i.c(),this.h()},l(n){e=T(n,"SPAN",{class:!0});var l=A(e);i&&i.l(l),l.forEach(h),this.h()},h(){d(e,"class","flex gap-x-2 items-center mx-2")},m(n,l){P(n,e,l),i&&i.m(e,null),t=!0},p(n,[l]){i&&i.p&&(!t||l&1)&&sl(i,a,n,n[0],t?nl(a,n[0],l,null):al(n[0]),null)},i(n){t||(H(i,n),t=!0)},o(n){F(i,n),t=!1},d(n){n&&h(e),i&&i.d(n)}}}function ns(s,e,t){let{$$slots:a={},$$scope:i}=e;return s.$$set=n=>{"$$scope"in n&&t(0,i=n.$$scope)},[i,a]}class Ge extends Ee{constructor(e){super(),Ne(this,e,ns,as,Ce,{})}}function is(s){let e,t,a,i;const n=s[2].default,l=ll(n,s,s[1],null);return{c(){e=y("td"),t=y("div"),l&&l.c(),this.h()},l(r){e=T(r,"TD",{style:!0});var u=A(e);t=T(u,"DIV",{class:!0});var o=A(t);l&&l.l(o),o.forEach(h),u.forEach(h),this.h()},h(){d(t,"class",a="flex items-center justify-"+s[0]+" gap-x-2 h-full"),kl(e,"vertical-align","middle")},m(r,u){P(r,e,u),p(e,t),l&&l.m(t,null),i=!0},p(r,[u]){l&&l.p&&(!i||u&2)&&sl(l,n,r,r[1],i?nl(n,r[1],u,null):al(r[1]),null),(!i||u&1&&a!==(a="flex items-center justify-"+r[0]+" gap-x-2 h-full"))&&d(t,"class",a)},i(r){i||(H(l,r),i=!0)},o(r){F(l,r),i=!1},d(r){r&&h(e),l&&l.d(r)}}}function rs(s,e,t){let{$$slots:a={},$$scope:i}=e,{justify:n="center"}=e;return s.$$set=l=>{"justify"in l&&t(0,n=l.justify),"$$scope"in l&&t(1,i=l.$$scope)},[n,i,a]}class Ke extends Ee{constructor(e){super(),Ne(this,e,rs,is,Ce,{justify:0})}}function os(s){let e,t,a='<g fill="currentColor"><path d="M10 18a8 8 0 1 0 0-16a8 8 0 0 0 0 16zm0 2C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10s-4.477 10-10 10z"/><path d="M5 12.111h1.82v1H5z"/><path d="M5 11.421h1.82v1H5z"/><path d="M5 10.731h1.82v1H5z"/><path d="M5 10.041h1.82v1H5z"/><path d="M5 9.351h1.82v1H5zm2.041 2.76h1.82v1h-1.82z"/><path d="M7.041 11.421h1.82v1h-1.82z"/><path d="M7.041 10.731h1.82v1h-1.82zm2.041 1.38h1.82v1h-1.82z"/><path d="M9.082 11.421h1.82v1h-1.82z"/><path d="M9.082 10.731h1.82v1h-1.82z"/><path d="M9.082 10.041h1.82v1h-1.82z"/><path d="M9.082 9.351h1.82v1h-1.82z"/><path d="M9.082 8.66h1.82v1h-1.82z"/><path d="M9.082 7.97h1.82v1h-1.82zm2.041 4.141h1.821v1h-1.821z"/><path d="M11.123 11.421h1.821v1h-1.821z"/><path d="M11.123 10.731h1.821v1h-1.821z"/><path d="M11.123 10.041h1.821v1h-1.821z"/><path d="M11.123 9.351h1.821v1h-1.821zm2.041 2.76h1.82v1h-1.82z"/><path d="M13.164 11.421h1.82v1h-1.82z"/><path d="M13.164 10.731h1.82v1h-1.82z"/><path d="M13.164 10.041h1.82v1h-1.82z"/><path d="M13.164 9.35h1.82v1h-1.82z"/><path d="M13.164 8.66h1.82v1h-1.82z"/><path d="M13.164 7.97h1.82v1h-1.82z"/><path d="M13.164 7.28h1.82v1h-1.82z"/></g>',i=[{viewBox:"-2 -2 24 24"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=V(n,i[l]);return{c(){e=De("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ae(r,!0),r.forEach(h),this.h()},h(){t.a=null,pe(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){pe(e,n=Fe(i,[{viewBox:"-2 -2 24 24"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function us(s,e,t){return s.$$set=a=>{t(0,e=V(V({},e),he(a)))},e=he(e),[e]}class fs extends Ee{constructor(e){super(),Ne(this,e,us,os,Ce,{})}}function cs(s){let e,t,a='<path fill="currentColor" d="M160 36a92.09 92.09 0 0 0-81 48.36A68 68 0 1 0 72 220h88a92 92 0 0 0 0-184Zm0 160H72a44 44 0 0 1-1.82-88A91.86 91.86 0 0 0 68 128a12 12 0 0 0 24 0a68 68 0 1 1 68 68Zm40.49-92.49a12 12 0 0 1 0 17l-48 48a12 12 0 0 1-17 0l-24-24a12 12 0 1 1 17-17L144 143l39.51-39.52a12 12 0 0 1 16.98.03Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=V(n,i[l]);return{c(){e=De("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ae(r,!0),r.forEach(h),this.h()},h(){t.a=null,pe(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){pe(e,n=Fe(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function hs(s,e,t){return s.$$set=a=>{t(0,e=V(V({},e),he(a)))},e=he(e),[e]}class Zt extends Ee{constructor(e){super(),Ne(this,e,hs,cs,Ce,{})}}function ms(s){let e,t,a='<path fill="currentColor" d="M180 128a12 12 0 0 1-12 12H88a12 12 0 0 1 0-24h80a12 12 0 0 1 12 12Zm56 0A108 108 0 1 1 128 20a108.12 108.12 0 0 1 108 108Zm-24 0a84 84 0 1 0-84 84a84.09 84.09 0 0 0 84-84Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=V(n,i[l]);return{c(){e=De("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ae(r,!0),r.forEach(h),this.h()},h(){t.a=null,pe(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){pe(e,n=Fe(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function ds(s,e,t){return s.$$set=a=>{t(0,e=V(V({},e),he(a)))},e=he(e),[e]}class cl extends Ee{constructor(e){super(),Ne(this,e,ds,ms,Ce,{})}}function gs(s){let e,t,a='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm52-84a12 12 0 0 1-12 12h-28v28a12 12 0 0 1-24 0v-28H88a12 12 0 0 1 0-24h28V88a12 12 0 0 1 24 0v28h28a12 12 0 0 1 12 12Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=V(n,i[l]);return{c(){e=De("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ae(r,!0),r.forEach(h),this.h()},h(){t.a=null,pe(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){pe(e,n=Fe(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function _s(s,e,t){return s.$$set=a=>{t(0,e=V(V({},e),he(a)))},e=he(e),[e]}class hl extends Ee{constructor(e){super(),Ne(this,e,_s,gs,Ce,{})}}function ps(s){let e,t,a='<path fill="currentColor" d="M128 128a12 12 0 0 1-12 12H48a12 12 0 0 1 0-24h68a12 12 0 0 1 12 12ZM48 76h132a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm52 104H48a12 12 0 0 0 0 24h52a12 12 0 0 0 0-24Zm132.49-20.49a12 12 0 0 0-17 0L196 179v-67a12 12 0 0 0-24 0v67l-19.51-19.52a12 12 0 0 0-17 17l40 40a12 12 0 0 0 17 0l40-40a12 12 0 0 0 0-16.97Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=V(n,i[l]);return{c(){e=De("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ae(r,!0),r.forEach(h),this.h()},h(){t.a=null,pe(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){pe(e,n=Fe(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function vs(s,e,t){return s.$$set=a=>{t(0,e=V(V({},e),he(a)))},e=he(e),[e]}class bs extends Ee{constructor(e){super(),Ne(this,e,vs,ps,Ce,{})}}function ws(s){let e,t,a='<path fill="currentColor" d="M36 128a12 12 0 0 1 12-12h68a12 12 0 0 1 0 24H48a12 12 0 0 1-12-12Zm12-52h52a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm132 104H48a12 12 0 0 0 0 24h132a12 12 0 0 0 0-24Zm52.49-100.49l-40-40a12 12 0 0 0-17 0l-40 40a12 12 0 0 0 17 17L172 77v67a12 12 0 0 0 24 0V77l19.51 19.52a12 12 0 0 0 17-17Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=V(n,i[l]);return{c(){e=De("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ae(r,!0),r.forEach(h),this.h()},h(){t.a=null,pe(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){pe(e,n=Fe(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function ks(s,e,t){return s.$$set=a=>{t(0,e=V(V({},e),he(a)))},e=he(e),[e]}class ys extends Ee{constructor(e){super(),Ne(this,e,ks,ws,Ce,{})}}function Ts(s){let e,t,a='<path fill="currentColor" d="M216 36H68.53a20.09 20.09 0 0 0-17.15 9.71L5.71 121.83a12 12 0 0 0 0 12.34l45.67 76.12A20.09 20.09 0 0 0 68.53 220H216a20 20 0 0 0 20-20V56a20 20 0 0 0-20-20Zm-4 160H70.8L30 128l40.8-68H212Zm-108.49-52.49L119 128l-15.52-15.51a12 12 0 0 1 17-17L136 111l15.51-15.52a12 12 0 0 1 17 17L153 128l15.52 15.51a12 12 0 0 1-17 17L136 145l-15.51 15.52a12 12 0 0 1-17-17Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=V(n,i[l]);return{c(){e=De("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ae(r,!0),r.forEach(h),this.h()},h(){t.a=null,pe(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){pe(e,n=Fe(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function Cs(s,e,t){return s.$$set=a=>{t(0,e=V(V({},e),he(a)))},e=he(e),[e]}class Es extends Ee{constructor(e){super(),Ne(this,e,Cs,Ts,Ce,{})}}function Ns(s){let e,t,a='<path fill="currentColor" d="M136.37 187.53a12 12 0 0 1 0 17l-5.94 5.94a60 60 0 0 1-84.88-84.88l24.12-24.11A60 60 0 0 1 152 99a12 12 0 1 1-16 18a36 36 0 0 0-49.37 1.47l-24.1 24.08a36 36 0 0 0 50.92 50.92l5.94-5.94a12 12 0 0 1 16.98 0Zm74.08-142a60.09 60.09 0 0 0-84.88 0l-5.94 5.94a12 12 0 0 0 17 17l5.94-5.94a36 36 0 0 1 50.92 50.92l-24.11 24.12A36 36 0 0 1 120 139a12 12 0 1 0-16 18a60 60 0 0 0 82.3-2.43l24.12-24.11a60.09 60.09 0 0 0 .03-84.91Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=V(n,i[l]);return{c(){e=De("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ae(r,!0),r.forEach(h),this.h()},h(){t.a=null,pe(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){pe(e,n=Fe(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function Ps(s,e,t){return s.$$set=a=>{t(0,e=V(V({},e),he(a)))},e=he(e),[e]}class As extends Ee{constructor(e){super(),Ne(this,e,Ps,Ns,Ce,{})}}function Rt(s,e,t){const a=s.slice();a[44]=e[t],a[46]=e,a[47]=t;const i=a[44].track;return a[45]=i,a}function Vt(s,e,t){const a=s.slice();a[40]=e[t];const i=a[22](a[40].id);return a[41]=i,a}function zs(s){let e,t,a;function i(){s[34].call(e,s[46],s[47])}return{c(){e=y("input"),this.h()},l(n){e=T(n,"INPUT",{type:!0,class:!0}),this.h()},h(){d(e,"type","checkbox"),d(e,"class","checkbox")},m(n,l){P(n,e,l),e.checked=s[44].selected,t||(a=$(e,"change",i),t=!0)},p(n,l){s=n,l[0]&16&&(e.checked=s[44].selected)},d(n){n&&h(e),t=!1,a()}}}function Bs(s){let e,t=s[47]+1+"",a;return{c(){e=y("span"),a=re(t)},l(i){e=T(i,"SPAN",{});var n=A(e);a=oe(n,t),n.forEach(h)},m(i,n){P(i,e,n),p(e,a)},p:q,d(i){i&&h(e)}}}function Ss(s){let e,t,a,i,n=s[45].title+"",l,r,u;return e=new ss({props:{src:s[45].preview,enabled:s[45].readable}}),{c(){W(e.$$.fragment),t=S(),a=y("a"),i=y("span"),l=re(n),this.h()},l(o){Y(e.$$.fragment,o),t=L(o),a=T(o,"A",{href:!0,title:!0});var m=A(a);i=T(m,"SPAN",{});var f=A(i);l=oe(f,n),f.forEach(h),m.forEach(h),this.h()},h(){d(a,"href",r=s[45].link),d(a,"title","open track in Deezer web interface")},m(o,m){X(e,o,m),P(o,t,m),P(o,a,m),p(a,i),p(i,l),u=!0},p(o,m){const f={};m[0]&16&&(f.src=o[45].preview),m[0]&16&&(f.enabled=o[45].readable),e.$set(f),(!u||m[0]&16)&&n!==(n=o[45].title+"")&&ke(l,n),(!u||m[0]&16&&r!==(r=o[45].link))&&d(a,"href",r)},i(o){u||(H(e.$$.fragment,o),u=!0)},o(o){F(e.$$.fragment,o),u=!1},d(o){o&&(h(t),h(a)),Q(e,o)}}}function Ls(s){let e,t,a,i,n=s[45].album.title+"",l;return{c(){e=y("img"),a=S(),i=y("span"),l=re(n),this.h()},l(r){e=T(r,"IMG",{src:!0,alt:!0}),a=L(r),i=T(r,"SPAN",{});var u=A(i);l=oe(u,n),u.forEach(h),this.h()},h(){$e(e.src,t=s[45].album.cover_small)||d(e,"src",t),d(e,"alt","album cover")},m(r,u){P(r,e,u),P(r,a,u),P(r,i,u),p(i,l)},p(r,u){u[0]&16&&!$e(e.src,t=r[45].album.cover_small)&&d(e,"src",t),u[0]&16&&n!==(n=r[45].album.title+"")&&ke(l,n)},d(r){r&&(h(e),h(a),h(i))}}}function Ms(s){let e,t,a,i;return t=new Ge({props:{$$slots:{default:[Ls]},$$scope:{ctx:s}}}),{c(){e=y("a"),W(t.$$.fragment),this.h()},l(n){e=T(n,"A",{href:!0,title:!0});var l=A(e);Y(t.$$.fragment,l),l.forEach(h),this.h()},h(){d(e,"href",a="https://www.deezer.com/album/"+s[45].album.id),d(e,"title","open album in Deezer web interface")},m(n,l){P(n,e,l),X(t,e,null),i=!0},p(n,l){const r={};l[0]&16|l[1]&131072&&(r.$$scope={dirty:l,ctx:n}),t.$set(r),(!i||l[0]&16&&a!==(a="https://www.deezer.com/album/"+n[45].album.id))&&d(e,"href",a)},i(n){i||(H(t.$$.fragment,n),i=!0)},o(n){F(t.$$.fragment,n),i=!1},d(n){n&&h(e),Q(t)}}}function Os(s){let e,t,a=s[45].artist.name+"",i,n,l,r,u,o,m,f,c,E,_;u=new hl({});function C(){return s[35](s[45])}f=new cl({});function z(){return s[36](s[45])}return{c(){e=y("a"),t=y("span"),i=re(a),l=S(),r=y("button"),W(u.$$.fragment),o=S(),m=y("button"),W(f.$$.fragment),this.h()},l(k){e=T(k,"A",{href:!0,title:!0});var b=A(e);t=T(b,"SPAN",{});var g=A(t);i=oe(g,a),g.forEach(h),b.forEach(h),l=L(k),r=T(k,"BUTTON",{class:!0,title:!0});var N=A(r);Y(u.$$.fragment,N),N.forEach(h),o=L(k),m=T(k,"BUTTON",{class:!0,title:!0});var M=A(m);Y(f.$$.fragment,M),M.forEach(h),this.h()},h(){d(e,"href",n=s[45].artist.link),d(e,"title","open artist in Deezer web interface"),d(r,"class",""),d(r,"title","add all artist titles to the playlist"),d(m,"class",""),d(m,"title","deselect all artist titles from the playlist")},m(k,b){P(k,e,b),p(e,t),p(t,i),P(k,l,b),P(k,r,b),X(u,r,null),P(k,o,b),P(k,m,b),X(f,m,null),c=!0,E||(_=[$(r,"click",C),$(m,"click",z)],E=!0)},p(k,b){s=k,(!c||b[0]&16)&&a!==(a=s[45].artist.name+"")&&ke(i,a),(!c||b[0]&16&&n!==(n=s[45].artist.link))&&d(e,"href",n)},i(k){c||(H(u.$$.fragment,k),H(f.$$.fragment,k),c=!0)},o(k){F(u.$$.fragment,k),F(f.$$.fragment,k),c=!1},d(k){k&&(h(e),h(l),h(r),h(o),h(m)),Q(u),Q(f),E=!1,We(_)}}}function Ds(s){let e,t;return e=new Ge({props:{$$slots:{default:[Os]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,i){X(e,a,i),t=!0},p(a,i){const n={};i[0]&16|i[1]&131072&&(n.$$scope={dirty:i,ctx:a}),e.$set(n)},i(a){t||(H(e.$$.fragment,a),t=!0)},o(a){F(e.$$.fragment,a),t=!1},d(a){Q(e,a)}}}function Hs(s){let e=s[45].rank+"",t;return{c(){t=re(e)},l(a){t=oe(a,e)},m(a,i){P(a,t,i)},p(a,i){i[0]&16&&e!==(e=a[45].rank+"")&&ke(t,e)},d(a){a&&h(t)}}}function Fs(s){let e=yt(s[45].duration*1e3,{units:["m","s"],largest:2})+"",t,a,i;return{c(){t=re(e),a=S(),i=y("span"),this.h()},l(n){t=oe(n,e),a=L(n),i=T(n,"SPAN",{class:!0}),A(i).forEach(h),this.h()},h(){d(i,"class","grow")},m(n,l){P(n,t,l),P(n,a,l),P(n,i,l)},p(n,l){l[0]&16&&e!==(e=yt(n[45].duration*1e3,{units:["m","s"],largest:2})+"")&&ke(t,e)},d(n){n&&(h(t),h(a),h(i))}}}function Jt(s){let e,t,a,i,n,l,r,u,o,m,f,c,E,_,C,z,k;return t=new Ke({props:{$$slots:{default:[zs]},$$scope:{ctx:s}}}),i=new Ke({props:{$$slots:{default:[Bs]},$$scope:{ctx:s}}}),l=new Ke({props:{justify:"start",$$slots:{default:[Ss]},$$scope:{ctx:s}}}),u=new Ke({props:{justify:"start",$$slots:{default:[Ms]},$$scope:{ctx:s}}}),m=new Ke({props:{$$slots:{default:[Ds]},$$scope:{ctx:s}}}),c=new Ke({props:{$$slots:{default:[Hs]},$$scope:{ctx:s}}}),_=new Ke({props:{$$slots:{default:[Fs]},$$scope:{ctx:s}}}),{c(){e=y("tr"),W(t.$$.fragment),a=S(),W(i.$$.fragment),n=S(),W(l.$$.fragment),r=S(),W(u.$$.fragment),o=S(),W(m.$$.fragment),f=S(),W(c.$$.fragment),E=S(),W(_.$$.fragment),C=S(),this.h()},l(b){e=T(b,"TR",{class:!0});var g=A(e);Y(t.$$.fragment,g),a=L(g),Y(i.$$.fragment,g),n=L(g),Y(l.$$.fragment,g),r=L(g),Y(u.$$.fragment,g),o=L(g),Y(m.$$.fragment,g),f=L(g),Y(c.$$.fragment,g),E=L(g),Y(_.$$.fragment,g),C=L(g),g.forEach(h),this.h()},h(){d(e,"class",z=Et(Wt(s[44]))+" svelte-p6m18c"),xe(e,"!text-red-500",!s[45].readable)},m(b,g){P(b,e,g),X(t,e,null),p(e,a),X(i,e,null),p(e,n),X(l,e,null),p(e,r),X(u,e,null),p(e,o),X(m,e,null),p(e,f),X(c,e,null),p(e,E),X(_,e,null),p(e,C),k=!0},p(b,g){const N={};g[0]&16|g[1]&131072&&(N.$$scope={dirty:g,ctx:b}),t.$set(N);const M={};g[1]&131072&&(M.$$scope={dirty:g,ctx:b}),i.$set(M);const I={};g[0]&16|g[1]&131072&&(I.$$scope={dirty:g,ctx:b}),l.$set(I);const x={};g[0]&16|g[1]&131072&&(x.$$scope={dirty:g,ctx:b}),u.$set(x);const de={};g[0]&16|g[1]&131072&&(de.$$scope={dirty:g,ctx:b}),m.$set(de);const we={};g[0]&16|g[1]&131072&&(we.$$scope={dirty:g,ctx:b}),c.$set(we);const ue={};g[0]&16|g[1]&131072&&(ue.$$scope={dirty:g,ctx:b}),_.$set(ue),(!k||g[0]&16&&z!==(z=Et(Wt(b[44]))+" svelte-p6m18c"))&&d(e,"class",z),(!k||g[0]&16)&&xe(e,"!text-red-500",!b[45].readable)},i(b){k||(H(t.$$.fragment,b),H(i.$$.fragment,b),H(l.$$.fragment,b),H(u.$$.fragment,b),H(m.$$.fragment,b),H(c.$$.fragment,b),H(_.$$.fragment,b),k=!0)},o(b){F(t.$$.fragment,b),F(i.$$.fragment,b),F(l.$$.fragment,b),F(u.$$.fragment,b),F(m.$$.fragment,b),F(c.$$.fragment,b),F(_.$$.fragment,b),k=!1},d(b){b&&h(e),Q(t),Q(i),Q(l),Q(u),Q(m),Q(c),Q(_)}}}function Is(s){var vt;let e,t,a,i="Title",n,l,r,u,o,m="Description",f,c,E,_,C="",z,k,b,g=((vt=s[2])==null?void 0:vt.filter(Qt).length)+"",N,M,I=s[0].playlist.tracks.data.length+"",x,de,we,ue,me="",fe,ne,ve,be,R,B,G,ae,ye,le,K,se="Pos.",Be,Te,Le="Title",w,O,v="Album",J,j,Z="Artist",te,U,ie="rank",Ie,Ue,et="duration",ut,Ye,ft,je,ct,Ze,ht,_t,Je=Oe(s[4]),ce=[];for(let D=0;D<Je.length;D+=1)ce[D]=Jt(Rt(s,Je,D));const ml=D=>F(ce[D],1,1,()=>{ce[D]=null});function dl(D){s[37](D)}let pt={showFirstLastButtons:!0,showPreviousNextButtons:!0};return s[1]!==void 0&&(pt.settings=s[1]),je=new Zl({props:pt}),il.push(()=>ol(je,"settings",dl)),{c(){e=y("form"),t=y("label"),a=y("span"),a.textContent=i,n=S(),l=y("input"),r=S(),u=y("label"),o=y("span"),o.textContent=m,f=S(),c=y("textarea"),E=S(),_=y("div"),_.innerHTML=C,z=S(),k=y("div"),b=y("span"),N=re(g),M=re(" Tracks ("),x=re(I),de=re(`
            in playlist)`),we=S(),ue=y("span"),ue.innerHTML=me,fe=S(),ne=y("span"),ve=y("table"),be=y("thead"),R=y("tr"),B=y("th"),G=y("input"),le=S(),K=y("th"),K.textContent=se,Be=S(),Te=y("th"),Te.textContent=Le,w=S(),O=y("th"),O.textContent=v,J=S(),j=y("th"),j.textContent=Z,te=S(),U=y("th"),U.textContent=ie,Ie=S(),Ue=y("th"),Ue.textContent=et,ut=S(),Ye=y("tbody");for(let D=0;D<ce.length;D+=1)ce[D].c();ft=S(),W(je.$$.fragment),this.h()},l(D){e=T(D,"FORM",{class:!0});var ee=A(e);t=T(ee,"LABEL",{class:!0});var Se=A(t);a=T(Se,"SPAN",{"data-svelte-h":!0}),_e(a)!=="svelte-7ccxmo"&&(a.textContent=i),n=L(Se),l=T(Se,"INPUT",{class:!0,type:!0,placeholder:!0}),Se.forEach(h),r=L(ee),u=T(ee,"LABEL",{class:!0});var qe=A(u);o=T(qe,"SPAN",{"data-svelte-h":!0}),_e(o)!=="svelte-rmspr8"&&(o.textContent=m),f=L(qe),c=T(qe,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),A(c).forEach(h),qe.forEach(h),E=L(ee),_=T(ee,"DIV",{class:!0,"data-svelte-h":!0}),_e(_)!=="svelte-10ijpzw"&&(_.innerHTML=C),ee.forEach(h),z=L(D),k=T(D,"DIV",{class:!0});var ge=A(k);b=T(ge,"SPAN",{});var Re=A(b);N=oe(Re,g),M=oe(Re," Tracks ("),x=oe(Re,I),de=oe(Re,`
            in playlist)`),Re.forEach(h),we=L(ge),ue=T(ge,"SPAN",{"data-svelte-h":!0}),_e(ue)!=="svelte-171hy05"&&(ue.innerHTML=me),ge.forEach(h),fe=L(D),ne=T(D,"SPAN",{class:!0});var at=A(ne);ve=T(at,"TABLE",{class:!0});var nt=A(ve);be=T(nt,"THEAD",{});var bt=A(be);R=T(bt,"TR",{class:!0});var ze=A(R);B=T(ze,"TH",{});var wt=A(B);G=T(wt,"INPUT",{type:!0,class:!0}),wt.forEach(h),le=L(ze),K=T(ze,"TH",{"data-svelte-h":!0}),_e(K)!=="svelte-s1pt0e"&&(K.textContent=se),Be=L(ze),Te=T(ze,"TH",{class:!0,"data-svelte-h":!0}),_e(Te)!=="svelte-1b5qsso"&&(Te.textContent=Le),w=L(ze),O=T(ze,"TH",{"data-svelte-h":!0}),_e(O)!=="svelte-12o9w3z"&&(O.textContent=v),J=L(ze),j=T(ze,"TH",{"data-svelte-h":!0}),_e(j)!=="svelte-1tiipkx"&&(j.textContent=Z),te=L(ze),U=T(ze,"TH",{"data-svelte-h":!0}),_e(U)!=="svelte-1btrpio"&&(U.textContent=ie),Ie=L(ze),Ue=T(ze,"TH",{"data-svelte-h":!0}),_e(Ue)!=="svelte-9uwuqy"&&(Ue.textContent=et),ze.forEach(h),bt.forEach(h),ut=L(nt),Ye=T(nt,"TBODY",{});var kt=A(Ye);for(let mt=0;mt<ce.length;mt+=1)ce[mt].l(kt);kt.forEach(h),nt.forEach(h),ft=L(at),Y(je.$$.fragment,at),at.forEach(h),this.h()},h(){d(l,"class","input"),d(l,"type","text"),d(l,"placeholder","title"),d(t,"class","label"),d(c,"class","textarea"),d(c,"rows","4"),d(c,"placeholder","description"),d(u,"class","label"),d(_,"class","flex place-content-start"),d(e,"class","mb-10 space-y-2"),d(k,"class","flex justify-between w-full items-center gap-x-2 my-4"),d(G,"type","checkbox"),d(G,"class","checkbox"),G.checked=ae=s[4].filter($t).length===s[4].length&&s[4].length>0,G.indeterminate=ye=s[4].filter(xt).length!==s[4].length&&s[4].filter(el).length>0,d(Te,"class",".fitwidth"),d(R,"class",""),d(ve,"class","table my-4"),d(ne,"class","table-container")},m(D,ee){P(D,e,ee),p(e,t),p(t,a),p(t,n),p(t,l),Ve(l,s[0].playlist.title),p(e,r),p(e,u),p(u,o),p(u,f),p(u,c),Ve(c,s[0].playlist.description),p(e,E),p(e,_),P(D,z,ee),P(D,k,ee),p(k,b),p(b,N),p(b,M),p(b,x),p(b,de),p(k,we),p(k,ue),P(D,fe,ee),P(D,ne,ee),p(ne,ve),p(ve,be),p(be,R),p(R,B),p(B,G),p(R,le),p(R,K),p(R,Be),p(R,Te),p(R,w),p(R,O),p(R,J),p(R,j),p(R,te),p(R,U),p(R,Ie),p(R,Ue),p(ve,ut),p(ve,Ye);for(let Se=0;Se<ce.length;Se+=1)ce[Se]&&ce[Se].m(Ye,null);p(ne,ft),X(je,ne,null),Ze=!0,ht||(_t=[$(l,"input",s[31]),$(c,"input",s[32]),$(G,"change",s[33])],ht=!0)},p(D,ee){var qe;if(ee[0]&1&&l.value!==D[0].playlist.title&&Ve(l,D[0].playlist.title),ee[0]&1&&Ve(c,D[0].playlist.description),(!Ze||ee[0]&4)&&g!==(g=((qe=D[2])==null?void 0:qe.filter(Qt).length)+"")&&ke(N,g),(!Ze||ee[0]&1)&&I!==(I=D[0].playlist.tracks.data.length+"")&&ke(x,I),(!Ze||ee[0]&16&&ae!==(ae=D[4].filter($t).length===D[4].length&&D[4].length>0))&&(G.checked=ae),(!Ze||ee[0]&16&&ye!==(ye=D[4].filter(xt).length!==D[4].length&&D[4].filter(el).length>0))&&(G.indeterminate=ye),ee[0]&393232){Je=Oe(D[4]);let ge;for(ge=0;ge<Je.length;ge+=1){const Re=Rt(D,Je,ge);ce[ge]?(ce[ge].p(Re,ee),H(ce[ge],1)):(ce[ge]=Jt(Re),ce[ge].c(),H(ce[ge],1),ce[ge].m(Ye,null))}for(lt(),ge=Je.length;ge<ce.length;ge+=1)ml(ge);st()}const Se={};!ct&&ee[0]&2&&(ct=!0,Se.settings=D[1],rl(()=>ct=!1)),je.$set(Se)},i(D){if(!Ze){for(let ee=0;ee<Je.length;ee+=1)H(ce[ee]);H(je.$$.fragment,D),Ze=!0}},o(D){ce=ce.filter(Boolean);for(let ee=0;ee<ce.length;ee+=1)F(ce[ee]);F(je.$$.fragment,D),Ze=!1},d(D){D&&(h(e),h(z),h(k),h(fe),h(ne)),ot(ce,D),Q(je),ht=!1,We(_t)}}}function Us(s){let e,t="Search Artist";return{c(){e=y("h4"),e.textContent=t},l(a){e=T(a,"H4",{"data-svelte-h":!0}),_e(e)!=="svelte-z92qpb"&&(e.textContent=t)},m(a,i){P(a,e,i)},p:q,d(a){a&&h(e)}}}function qt(s){let e,t,a,i,n,l,r;t=new Ge({props:{$$slots:{default:[js]},$$scope:{ctx:s}}}),i=new Ge({props:{$$slots:{default:[qs]},$$scope:{ctx:s}}});let u=Oe(s[8]),o=[];for(let f=0;f<u.length;f+=1)o[f]=Kt(Vt(s,u,f));const m=f=>F(o[f],1,1,()=>{o[f]=null});return{c(){e=y("span"),W(t.$$.fragment),a=S(),W(i.$$.fragment),n=S(),l=y("ul");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=T(f,"SPAN",{class:!0});var c=A(e);Y(t.$$.fragment,c),a=L(c),Y(i.$$.fragment,c),c.forEach(h),n=L(f),l=T(f,"UL",{class:!0});var E=A(l);for(let _=0;_<o.length;_+=1)o[_].l(E);E.forEach(h),this.h()},h(){d(e,"class","flex justify-between w-full items-center gap-x-2 my-4"),d(l,"class","list")},m(f,c){P(f,e,c),X(t,e,null),p(e,a),X(i,e,null),P(f,n,c),P(f,l,c);for(let E=0;E<o.length;E+=1)o[E]&&o[E].m(l,null);r=!0},p(f,c){const E={};c[1]&131072&&(E.$$scope={dirty:c,ctx:f}),t.$set(E);const _={};if(c[0]&8|c[1]&131072&&(_.$$scope={dirty:c,ctx:f}),i.$set(_),c[0]&4587776){u=Oe(f[8]);let C;for(C=0;C<u.length;C+=1){const z=Vt(f,u,C);o[C]?(o[C].p(z,c),H(o[C],1)):(o[C]=Kt(z),o[C].c(),H(o[C],1),o[C].m(l,null))}for(lt(),C=u.length;C<o.length;C+=1)m(C);st()}},i(f){if(!r){H(t.$$.fragment,f),H(i.$$.fragment,f);for(let c=0;c<u.length;c+=1)H(o[c]);r=!0}},o(f){F(t.$$.fragment,f),F(i.$$.fragment,f),o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)F(o[c]);r=!1},d(f){f&&(h(e),h(n),h(l)),Q(t),Q(i),ot(o,f)}}}function js(s){let e,t="Playlists Artists";return{c(){e=y("h4"),e.textContent=t},l(a){e=T(a,"H4",{"data-svelte-h":!0}),_e(e)!=="svelte-1fedd7v"&&(e.textContent=t)},m(a,i){P(a,e,i)},p:q,d(a){a&&h(e)}}}function Zs(s){let e,t="alphabetical",a,i;return{c(){e=y("button"),e.textContent=t},l(n){e=T(n,"BUTTON",{"data-svelte-h":!0}),_e(e)!=="svelte-a0poae"&&(e.textContent=t)},m(n,l){P(n,e,l),a||(i=$(e,"click",s[26]),a=!0)},p:q,d(n){n&&h(e),a=!1,i()}}}function Rs(s){let e,t="# tracks",a,i;return{c(){e=y("button"),e.textContent=t},l(n){e=T(n,"BUTTON",{"data-svelte-h":!0}),_e(e)!=="svelte-ms1gv1"&&(e.textContent=t)},m(n,l){P(n,e,l),a||(i=$(e,"click",s[25]),a=!0)},p:q,d(n){n&&h(e),a=!1,i()}}}function Vs(s){let e,t,a,i,n;return t=new ys({}),{c(){e=y("button"),W(t.$$.fragment)},l(l){e=T(l,"BUTTON",{});var r=A(e);Y(t.$$.fragment,r),r.forEach(h)},m(l,r){P(l,e,r),X(t,e,null),a=!0,i||(n=$(e,"click",s[28]),i=!0)},p:q,i(l){a||(H(t.$$.fragment,l),a=!0)},o(l){F(t.$$.fragment,l),a=!1},d(l){l&&h(e),Q(t),i=!1,n()}}}function Js(s){let e,t,a,i,n;return t=new bs({}),{c(){e=y("button"),W(t.$$.fragment)},l(l){e=T(l,"BUTTON",{});var r=A(e);Y(t.$$.fragment,r),r.forEach(h)},m(l,r){P(l,e,r),X(t,e,null),a=!0,i||(n=$(e,"click",s[27]),i=!0)},p:q,i(l){a||(H(t.$$.fragment,l),a=!0)},o(l){F(t.$$.fragment,l),a=!1},d(l){l&&h(e),Q(t),i=!1,n()}}}function qs(s){let e,t,a,i,n;function l(c,E){if(c[3].orderBy==="trackCount")return Rs;if(c[3].orderBy==="alphabetical")return Zs}let r=l(s),u=r&&r(s);const o=[Js,Vs],m=[];function f(c,E){return c[3].ascending?0:1}return t=f(s),a=m[t]=o[t](s),{c(){u&&u.c(),e=S(),a.c(),i=Qe()},l(c){u&&u.l(c),e=L(c),a.l(c),i=Qe()},m(c,E){u&&u.m(c,E),P(c,e,E),m[t].m(c,E),P(c,i,E),n=!0},p(c,E){r===(r=l(c))&&u?u.p(c,E):(u&&u.d(1),u=r&&r(c),u&&(u.c(),u.m(e.parentNode,e)));let _=t;t=f(c),t===_?m[t].p(c,E):(lt(),F(m[_],1,1,()=>{m[_]=null}),st(),a=m[t],a?a.p(c,E):(a=m[t]=o[t](c),a.c()),H(a,1),a.m(i.parentNode,i))},i(c){n||(H(a),n=!0)},o(c){F(a),n=!1},d(c){c&&(h(e),h(i)),u&&u.d(c),m[t].d(c)}}}function Ks(s){let e,t,a,i,n,l=s[40].name+"",r,u,o,m,f=s[41]+"",c,E,_,C,z,k,b,g;return k=new fs({}),{c(){e=y("img"),i=S(),n=y("span"),r=re(l),u=S(),o=y("small"),m=re("(#"),c=re(f),E=re(")"),C=S(),z=y("a"),W(k.$$.fragment),this.h()},l(N){e=T(N,"IMG",{src:!0,alt:!0}),i=L(N),n=T(N,"SPAN",{});var M=A(n);r=oe(M,l),M.forEach(h),u=L(N),o=T(N,"SMALL",{title:!0});var I=A(o);m=oe(I,"(#"),c=oe(I,f),E=oe(I,")"),I.forEach(h),C=L(N),z=T(N,"A",{href:!0,title:!0});var x=A(z);Y(k.$$.fragment,x),x.forEach(h),this.h()},h(){$e(e.src,t=s[40].picture_small)||d(e,"src",t),d(e,"alt",a=s[40].name),d(o,"title",_="artist has "+s[41]+" tracks in the playlist "),d(z,"href",b=s[40].link),d(z,"title","open artist in Deezer web interface")},m(N,M){P(N,e,M),P(N,i,M),P(N,n,M),p(n,r),P(N,u,M),P(N,o,M),p(o,m),p(o,c),p(o,E),P(N,C,M),P(N,z,M),X(k,z,null),g=!0},p(N,M){(!g||M[0]&256&&!$e(e.src,t=N[40].picture_small))&&d(e,"src",t),(!g||M[0]&256&&a!==(a=N[40].name))&&d(e,"alt",a),(!g||M[0]&256)&&l!==(l=N[40].name+"")&&ke(r,l),(!g||M[0]&256)&&f!==(f=N[41]+"")&&ke(c,f),(!g||M[0]&256&&_!==(_="artist has "+N[41]+" tracks in the playlist "))&&d(o,"title",_),(!g||M[0]&256&&b!==(b=N[40].link))&&d(z,"href",b)},i(N){g||(H(k.$$.fragment,N),g=!0)},o(N){F(k.$$.fragment,N),g=!1},d(N){N&&(h(e),h(i),h(n),h(u),h(o),h(C),h(z)),Q(k)}}}function Gs(s){let e,t,a,i,n,l,r,u;t=new hl({});function o(){return s[29](s[40])}n=new cl({});function m(){return s[30](s[40])}return{c(){e=y("button"),W(t.$$.fragment),a=S(),i=y("button"),W(n.$$.fragment),this.h()},l(f){e=T(f,"BUTTON",{class:!0,title:!0});var c=A(e);Y(t.$$.fragment,c),c.forEach(h),a=L(f),i=T(f,"BUTTON",{class:!0,title:!0});var E=A(i);Y(n.$$.fragment,E),E.forEach(h),this.h()},h(){d(e,"class",""),d(e,"title","add all artist titles to the playlist"),d(i,"class",""),d(i,"title","deselect all artist titles from the playlist"),xe(i,"text-gray-500",s[41]===0)},m(f,c){P(f,e,c),X(t,e,null),P(f,a,c),P(f,i,c),X(n,i,null),l=!0,r||(u=[$(e,"click",o),$(i,"click",m)],r=!0)},p(f,c){s=f,(!l||c[0]&4194560)&&xe(i,"text-gray-500",s[41]===0)},i(f){l||(H(t.$$.fragment,f),H(n.$$.fragment,f),l=!0)},o(f){F(t.$$.fragment,f),F(n.$$.fragment,f),l=!1},d(f){f&&(h(e),h(a),h(i)),Q(t),Q(n),r=!1,We(u)}}}function Kt(s){let e,t,a,i,n,l,r;return a=new Ge({props:{$$slots:{default:[Ks]},$$scope:{ctx:s}}}),n=new Ge({props:{$$slots:{default:[Gs]},$$scope:{ctx:s}}}),{c(){e=y("li"),t=y("span"),W(a.$$.fragment),i=S(),W(n.$$.fragment),l=S(),this.h()},l(u){e=T(u,"LI",{});var o=A(e);t=T(o,"SPAN",{class:!0});var m=A(t);Y(a.$$.fragment,m),i=L(m),Y(n.$$.fragment,m),m.forEach(h),l=L(o),o.forEach(h),this.h()},h(){d(t,"class","flex flex-row justify-between w-full items-center gap-x-2")},m(u,o){P(u,e,o),p(e,t),X(a,t,null),p(t,i),X(n,t,null),p(e,l),r=!0},p(u,o){const m={};o[0]&256|o[1]&131072&&(m.$$scope={dirty:o,ctx:u}),a.$set(m);const f={};o[0]&256|o[1]&131072&&(f.$$scope={dirty:o,ctx:u}),n.$set(f)},i(u){r||(H(a.$$.fragment,u),H(n.$$.fragment,u),r=!0)},o(u){F(a.$$.fragment,u),F(n.$$.fragment,u),r=!1},d(u){u&&h(e),Q(a),Q(n)}}}function Ws(s){var b;let e,t,a,i,n,l,r,u,o,m,f,c,E,_;a=new Ge({props:{$$slots:{default:[Us]},$$scope:{ctx:s}}});function C(g){s[24](g)}let z={options:s[7]};s[6]!==void 0&&(z.input=s[6]),u=new Bl({props:z}),il.push(()=>ol(u,"input",C)),u.$on("selection",s[20]);let k=((b=s[8])==null?void 0:b.length)>0&&qt(s);return{c(){e=y("span"),t=y("span"),W(a.$$.fragment),i=S(),n=y("input"),l=S(),r=y("span"),W(u.$$.fragment),m=S(),k&&k.c(),f=Qe(),this.h()},l(g){e=T(g,"SPAN",{class:!0});var N=A(e);t=T(N,"SPAN",{class:!0});var M=A(t);Y(a.$$.fragment,M),M.forEach(h),i=L(N),n=T(N,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),l=L(N),r=T(N,"SPAN",{class:!0,tabindex:!0});var I=A(r);Y(u.$$.fragment,I),I.forEach(h),N.forEach(h),m=L(g),k&&k.l(g),f=Qe(),this.h()},h(){d(t,"class","mb-2"),d(n,"class","input"),d(n,"type","search"),d(n,"name","demo"),d(n,"placeholder","Search..."),d(r,"class","card w-full max-w-sm max-h-48 p-4 overflow-y-auto inline-block"),d(r,"tabindex","-1"),d(e,"class","my-4")},m(g,N){P(g,e,N),p(e,t),X(a,t,null),p(e,i),p(e,n),Ve(n,s[6]),p(e,l),p(e,r),X(u,r,null),P(g,m,N),k&&k.m(g,N),P(g,f,N),c=!0,E||(_=$(n,"input",s[23]),E=!0)},p(g,N){var x;const M={};N[1]&131072&&(M.$$scope={dirty:N,ctx:g}),a.$set(M),N[0]&64&&n.value!==g[6]&&Ve(n,g[6]);const I={};N[0]&128&&(I.options=g[7]),!o&&N[0]&64&&(o=!0,I.input=g[6],rl(()=>o=!1)),u.$set(I),((x=g[8])==null?void 0:x.length)>0?k?(k.p(g,N),N[0]&256&&H(k,1)):(k=qt(g),k.c(),H(k,1),k.m(f.parentNode,f)):k&&(lt(),F(k,1,1,()=>{k=null}),st())},i(g){c||(H(a.$$.fragment,g),H(u.$$.fragment,g),H(k),c=!0)},o(g){F(a.$$.fragment,g),F(u.$$.fragment,g),F(k),c=!1},d(g){g&&(h(e),h(m),h(f)),Q(a),Q(u),k&&k.d(g),E=!1,_()}}}function Gt(s){let e,t=s[5].message+"",a,i,n,l,r;return{c(){e=y("span"),a=re(t),i=S(),n=y("progress"),this.h()},l(u){e=T(u,"SPAN",{});var o=A(e);a=oe(o,t),o.forEach(h),i=L(u),n=T(u,"PROGRESS",{max:!0}),A(n).forEach(h),this.h()},h(){n.value=l=s[5].value,d(n,"max",r=s[5].max)},m(u,o){P(u,e,o),p(e,a),P(u,i,o),P(u,n,o)},p(u,o){o[0]&32&&t!==(t=u[5].message+"")&&ke(a,t),o[0]&32&&l!==(l=u[5].value)&&(n.value=l),o[0]&32&&r!==(r=u[5].max)&&d(n,"max",r)},d(u){u&&(h(e),h(i),h(n))}}}function Ys(s){let e,t,a="Save to Deezer",i,n,l,r,u,o="Update playlist info",m,f,c,E,_,C="Update Tracks",z,k,b,g="Prepare playlist",N,M,I,x,de,we="retrieve non readable tracks",ue,me,fe,ne,ve,be,R="remove de-selected tracks",B,G,ae,ye;l=new Zt({}),c=new Zt({});let le=s[5]&&Gt(s);return I=new As({}),ne=new Es({}),{c(){e=y("div"),t=y("h3"),t.textContent=a,i=S(),n=y("button"),W(l.$$.fragment),r=S(),u=y("span"),u.textContent=o,m=S(),f=y("button"),W(c.$$.fragment),E=S(),_=y("span"),_.textContent=C,z=S(),le&&le.c(),k=S(),b=y("h3"),b.textContent=g,N=S(),M=y("button"),W(I.$$.fragment),x=S(),de=y("span"),de.textContent=we,me=S(),fe=y("button"),W(ne.$$.fragment),ve=S(),be=y("span"),be.textContent=R,this.h()},l(K){e=T(K,"DIV",{class:!0});var se=A(e);t=T(se,"H3",{"data-svelte-h":!0}),_e(t)!=="svelte-1v8zjx5"&&(t.textContent=a),i=L(se),n=T(se,"BUTTON",{class:!0});var Be=A(n);Y(l.$$.fragment,Be),r=L(Be),u=T(Be,"SPAN",{"data-svelte-h":!0}),_e(u)!=="svelte-wh4rhd"&&(u.textContent=o),Be.forEach(h),m=L(se),f=T(se,"BUTTON",{class:!0});var Te=A(f);Y(c.$$.fragment,Te),E=L(Te),_=T(Te,"SPAN",{"data-svelte-h":!0}),_e(_)!=="svelte-67dhmv"&&(_.textContent=C),Te.forEach(h),z=L(se),le&&le.l(se),k=L(se),b=T(se,"H3",{"data-svelte-h":!0}),_e(b)!=="svelte-1oj9aef"&&(b.textContent=g),N=L(se),M=T(se,"BUTTON",{class:!0,title:!0});var Le=A(M);Y(I.$$.fragment,Le),x=L(Le),de=T(Le,"SPAN",{"data-svelte-h":!0}),_e(de)!=="svelte-dro7np"&&(de.textContent=we),Le.forEach(h),me=L(se),fe=T(se,"BUTTON",{class:!0,title:!0});var w=A(fe);Y(ne.$$.fragment,w),ve=L(w),be=T(w,"SPAN",{"data-svelte-h":!0}),_e(be)!=="svelte-13uzf89"&&(be.textContent=R),w.forEach(h),se.forEach(h),this.h()},h(){d(n,"class","btn variant-filled-primary"),d(f,"class","btn variant-filled-secondary"),d(M,"class","btn variant-filled-tertiary"),M.disabled=ue=s[2].filter(Yt).length===0,d(M,"title","trye to find equivalent of tracks that are not readable anymore"),d(fe,"class","btn variant-filled-tertiary"),fe.disabled=B=s[2].filter(Xt).length===0,d(fe,"title","remove de-selected tracks"),d(e,"class","flex flex-col gap-y-4 w-4/5")},m(K,se){P(K,e,se),p(e,t),p(e,i),p(e,n),X(l,n,null),p(n,r),p(n,u),p(e,m),p(e,f),X(c,f,null),p(f,E),p(f,_),p(e,z),le&&le.m(e,null),p(e,k),p(e,b),p(e,N),p(e,M),X(I,M,null),p(M,x),p(M,de),p(e,me),p(e,fe),X(ne,fe,null),p(fe,ve),p(fe,be),G=!0,ae||(ye=[$(n,"click",rt(s[12])),$(f,"click",rt(s[14])),$(M,"click",rt(s[15])),$(fe,"click",rt(s[16]))],ae=!0)},p(K,se){K[5]?le?le.p(K,se):(le=Gt(K),le.c(),le.m(e,k)):le&&(le.d(1),le=null),(!G||se[0]&4&&ue!==(ue=K[2].filter(Yt).length===0))&&(M.disabled=ue),(!G||se[0]&4&&B!==(B=K[2].filter(Xt).length===0))&&(fe.disabled=B)},i(K){G||(H(l.$$.fragment,K),H(c.$$.fragment,K),H(I.$$.fragment,K),H(ne.$$.fragment,K),G=!0)},o(K){F(l.$$.fragment,K),F(c.$$.fragment,K),F(I.$$.fragment,K),F(ne.$$.fragment,K),G=!1},d(K){K&&h(e),Q(l),Q(c),le&&le.d(),Q(I),Q(ne),ae=!1,We(ye)}}}function Xs(s){let e,t;return e=new vl({props:{$$slots:{sidebarRight:[Ys],sidebarLeft:[Ws],default:[Is]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,i){X(e,a,i),t=!0},p(a,i){const n={};i[0]&511|i[1]&131072&&(n.$$scope={dirty:i,ctx:a}),e.$set(n)},i(a){t||(H(e.$$.fragment,a),t=!0)},o(a){F(e.$$.fragment,a),t=!1},d(a){Q(e,a)}}}function Qs(s,e){const t=[];for(let a=0;a<s.length;a+=e)t.push(s.slice(a,a+e));return t}function Wt(s){return!s.inPlaylist&&s.selected?"!text-lime-500":s.inPlaylist&&!s.selected?"!line-through":""}const Yt=s=>!s.track.readable,Xt=s=>!s.selected,Qt=s=>s.selected,$t=s=>s.selected,xt=s=>s.selected,el=s=>s.selected;function $s(s,e,t){let a,i,n,l,r,u,{data:o}=e;const m=it([]);tt(s,m,w=>t(8,u=w));const f=it([]);tt(s,f,w=>t(2,i=w));const c={ascending:!1,orderBy:"trackCount"};function E(w){w.ascending!==void 0&&t(3,c.ascending=w.ascending,c),w.orderBy!==void 0&&t(3,c.orderBy=w.orderBy,c),m.update(O=>{const v=c.ascending?1:-1,J=(U,ie)=>ue(U.id)-ue(ie.id),j=(U,ie)=>U.name.localeCompare(ie.name),Z=(U,ie)=>(Ie,Ue)=>{const et=U(Ie,Ue);return et===0?ie(Ie,Ue):et};return O.sort((U,ie)=>{switch(c.orderBy){case"trackCount":return v*Z(J,j)(U,ie);case"alphabetical":return v*Z(j,J)(U,ie)}})})}async function _(){const w={request_method:"POST"};o.playlist.title&&(w.title=o.playlist.title),o.playlist.description&&(w.description=o.playlist.description),o.playlist.public&&(w.public=o.playlist.public);try{const O=await Xe({apiPath:`/playlist/${o.playlist.id}`,searchParams:w});Me.trigger({message:`Updated playlist: ${O?"OK":"KO"}`,timeout:3e3})}catch(O){Me.trigger({message:`Updated playlist: error ${O}`,timeout:3e3})}}let C=it(void 0);tt(s,C,w=>t(5,n=w)),C.subscribe(w=>console.log(w));async function z(w,O,v){if(!w.length)return;C.set({message:`sending 0/${w.length} ${O} ${v} `,value:0,max:w.length});let J=0;const j=100;for(const Z of Qs(w,j)){J+=j,C.set({message:`sending ${J} / ${w.length} ${O} ${v} `,value:J,max:w.length}),console.log(`sending ${O} ${v}=${JSON.stringify(Z)}`);const te={request_method:O};te[v]=Z.join(",");const U=await Xe({apiPath:`/playlist/${o.playlist.id}/tracks`,searchParams:te});if(console.log({updateResult:U}),!U)throw new Error(`unable to send ${O} ${v}=${JSON.stringify(Z)}`)}}async function k(){try{const w=i.filter(v=>v.selected&&!v.inPlaylist).map(v=>v.track.id);await z(w,"POST","songs");const O=i.filter(v=>!v.selected&&v.inPlaylist).map(v=>v.track.id);if(await z(O,"DELETE","songs"),w.length>0){const v=i.filter(J=>J.selected).map(J=>J.track.id);await z(v,"POST","order")}if(C.set(void 0),w.length||O.length){const v=Me.trigger({message:"Updated playlist tracks, refreshing playlist data"});await El(),Me.close(v)}}catch(w){Me.trigger({message:`Updated playlist tracks: error ${w}`,timeout:3e3})}finally{C.set(void 0)}}async function b(w){const O=await jt(w.artist.id);if(!O){Me.trigger({message:`Could not find artist ${w.artist.name}`,timeout:3e3});return}const v=O.flatMap(Z=>{const{tracks:te,...U}=Z;return Z.tracks.map(ie=>({...ie,album:U}))}),J={sensitivity:"base",ignorePunctuation:!0,numeric:!1,usage:"search"},j=v.filter(Z=>Z.title.localeCompare(w.title,void 0,J)===0);switch(j.length){case 0:console.log("no match by title",{unreadableTrack:w}),Me.trigger({message:`Could not find matching track for '${w.title}' in album '${w.album.title}'`,timeout:3e3});return;case 1:return j[0];default:{const Z=Object.values(j.reduce((U,ie)=>(U[ie.isrc]=ie,U),{}));if(Z.length===1)return Z[0];const te=j.filter(U=>U.album.title.localeCompare(w.album.title,void 0,J)===0);switch(te.length){case 0:console.log("no match by title and album",{unreadableTrack:w}),Me.trigger({message:`Could not find matching track for '${w.title}' in album '${w.album.title}'`,timeout:3e3});return;case 1:return te[0];default:{const U=Object.values(te.reduce((ie,Ie)=>(ie[Ie.isrc]=Ie,ie),{}));if(U.length===1)return U[0];console.log("multple match by title",{unreadableTrack:w,matchingTracksByTitleAndAlbum:te}),Me.trigger({message:`Found multiple matching tracks for '${w.title}' in album '${w.album.title}' : ${te.map(ie=>ie.id)}`,timeout:3e3});return}}}}}async function g(){const w=yl(f),O=w.filter(j=>j.track.readable).length,v=w.filter(j=>!j.track.readable);for(const j of v){const Z=j.track,te=await b(Z);if(te){j.selected=!1;const U=w.indexOf(j);w.splice(U+1,0,{selected:!0,inPlaylist:!1,track:te})}}const J=w.filter(j=>j.track.readable).length;Me.trigger({message:`Reattached ${J-O} track(s) to readable equivalents.<br/>(${w.length-J} unreadable track remaining)`,timeout:1e4}),f.set(w)}function N(){f.update(w=>{const O=w.filter(v=>v.selected);return Me.trigger({message:`Removed ${w.length-O.length} track(s) from the playlist`,timeout:3e3}),O})}function M(w){f.update(O=>(O.forEach(v=>{v.track.artist.id===w&&(v.selected=!1)}),O))}async function I(w){const O=await jt(w);f.update(v=>{const J=O.sort((Z,te)=>Z.release_date.localeCompare(te.release_date)).flatMap(Z=>{const{tracks:te,...U}=Z;return Z.tracks.map(ie=>({...ie,album:U}))});J.forEach(Z=>{const te=v.find(U=>U.track.id===Z.id);te?te.track.album=Z.album:v.push({track:Z,inPlaylist:!1,selected:!0})});function j(Z){return J.findIndex(te=>te.id===Z.track.id)}return v.sort((Z,te)=>{const U=j(Z),ie=j(te);return U-ie}),v})}let x=it("");tt(s,x,w=>t(6,l=w));function de(w){const O=w.detail.value;I(O)}const we=gl(x,(w,O)=>{if(!w){O([]);return}Xe({apiPath:"/search/artist",searchParams:{q:w}}).then(v=>{const J=v.data.map(j=>({label:`<span class="flex justify-between w-full items-center">
<span class="flex items-center"> <img src="${j.picture_small}" class="mx-2"/>${j.name}</span>
 <button class="btn-icon btn-icon-sm variant-outline-tertiary" title="add all artist titles to the playlist">add</button></span>`,value:j.id,meta:j}));O(J)})});tt(s,we,w=>t(7,r=w));function ue(w){return i.filter(O=>O.track.artist.id===w&&O.selected).length}let me={offset:0,limit:20,size:10,amounts:[10,20,50,100]};function fe(){l=this.value,x.set(l)}function ne(w){l=w,x.set(l)}const ve=()=>E({orderBy:"alphabetical"}),be=()=>E({orderBy:"trackCount"}),R=()=>E({ascending:!1}),B=()=>E({ascending:!0}),G=w=>I(w.id),ae=w=>M(w.id);function ye(){o.playlist.title=this.value,t(0,o)}function le(){o.playlist.description=this.value,t(0,o)}const K=w=>{a.forEach(O=>O.selected=w.target.checked),f.update(O=>O)};function se(w,O){w[O].selected=this.checked,t(4,a),t(2,i),t(1,me)}const Be=w=>I(w.artist.id),Te=w=>M(w.artist.id);function Le(w){me=w,t(1,me),t(2,i)}return s.$$set=w=>{"data"in w&&t(0,o=w.data)},s.$$.update=()=>{if(s.$$.dirty[0]&1&&m.set(o.topArtists),s.$$.dirty[0]&1){const w=o.playlist.tracks.data.map(O=>({track:O,inPlaylist:!0,selected:!0}));f.set(w)}s.$$.dirty[0]&4&&t(1,me.size=i.length,me),s.$$.dirty[0]&6&&t(4,a=i.slice(me.offset*me.limit,me.offset*me.limit+me.limit))},[o,me,i,c,a,n,l,r,u,m,f,E,_,C,k,g,N,M,I,x,de,we,ue,fe,ne,ve,be,R,B,G,ae,ye,le,K,se,Be,Te,Le]}class oa extends Ee{constructor(e){super(),Ne(this,e,$s,Xs,Ce,{data:0},null,[-1,-1])}}export{oa as component,ra as universal};
