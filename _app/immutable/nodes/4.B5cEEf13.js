import{s as f,t as _,d as u,i as d,n as i,f as h,k as g}from"../chunks/scheduler.pzfbVsGb.js";import{S as U,i as I}from"../chunks/index.43Z_d8hB.js";import{p as $}from"../chunks/stores.C2JL4_hK.js";import{D as R,P as b,a as k}from"../chunks/DeezerConfig.Bim8XL35.js";import{T as y,R as C}from"../chunks/CookieManager.P34oS-qs.js";function x(n){let e;return{c(){e=_("signin...")},l(t){e=u(t,"signin...")},m(t,o){d(t,e,o)},p:i,i,o:i,d(t){t&&h(e)}}}function z(n,e,t){let o;g(n,$,r=>t(0,o=r)),y.remove();const a=R.AUTHORIZATION_URL,c=b,m=`${k}/auth/callback`,p=["basic_access","email","manage_library","delete_library","listening_history","manage_community","offline_access"].join(","),l=`${a}?app_id=${c}&redirect_uri=${m}&perms=${p}&output=json&response_type=token`;{const r=document.referrer;if(r){const s=new URL(r);s.host===o.url.host&&(console.log("set redriect to "+s.pathname),C.set(s.pathname))}document.location.href=l}return[]}class E extends U{constructor(e){super(),I(this,e,z,x,f,{})}}export{E as component};
