import{e as Fe,g as pl,R as bl,c as Xe,r as vl,p as kl,u as yl,o as wl}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.DaSrAvTQ.js";import{g as ht,b as Al,h as Tl,P as El}from"../chunks/PlaylistApplicationShell.Cjken1O-.js";import{s as $,e as E,c as P,b as S,f as m,o as d,i as L,v as dt,Q as lt,N as V,O as Q,l as je,a as H,g as M,h as w,r as U,F as we,G as Ae,H as Te,I as Ee,ag as at,ah as ce,w as Re,ai as rt,M as mt,P as ue,K as Ye,aj as Pl,J as We,p as Ue,aa as Oe,T as Ie,ac as ze,U as Ne,ae,n as J,k as Qe,t as te,d as le,j as ye,R as Sl,x as He,q as Ve,u as Je,y as et,m as Ce,C as Bl,ak as Et,B as Cl,al as Il,a9 as Nl}from"../chunks/scheduler.pzfbVsGb.js";import{S as x,i as ee,t as I,g as be,f as ve,b as D,k as Dl,o as Ll,c as F,a as q,m as G,d as K,e as Ze}from"../chunks/index.43Z_d8hB.js";import{d as Ol,w as st}from"../chunks/control.CsvEx2zW.js";import{a as Pe,s as Pt,H as tt,g as zl,e as Rl}from"../chunks/contextKeys.JyP-wBJq.js";import{i as jl}from"../chunks/entry.BE-gc76k.js";function St(n,e,t){const l=n.slice();return l[15]=e[t],l[17]=t,l}const Hl=n=>({}),Bt=n=>({}),Ml=n=>({}),Ct=n=>({}),Ul=n=>({}),It=n=>({}),Vl=n=>({}),Nt=n=>({}),Fl=n=>({}),Dt=n=>({}),ql=n=>({}),Lt=n=>({});function Gl(n){let e,t,l,a,r,s,i,o;const u=[Yl,Zl,Jl],c=[];function h(f,_){return _&1&&(t=null),_&1&&(l=null),t==null&&(t=!!al(f[0],f[17])),t?0:(l==null&&(l=!!rl(f[0],f[17])),l?1:2)}return a=h(n,-1),r=c[a]=u[a](n),{c(){e=E("span"),r.c(),s=H(),this.h()},l(f){e=P(f,"SPAN",{class:!0});var _=S(e);r.l(_),s=M(_),_.forEach(m),this.h()},h(){d(e,"class",i="rating-icon "+n[3])},m(f,_){L(f,e,_),c[a].m(e,null),w(e,s),o=!0},p(f,_){let p=a;a=h(f,_),a===p?c[a].p(f,_):(be(),D(c[p],1,1,()=>{c[p]=null}),ve(),r=c[a],r?r.p(f,_):(r=c[a]=u[a](f),r.c()),I(r,1),r.m(e,s)),(!o||_&8&&i!==(i="rating-icon "+f[3]))&&d(e,"class",i)},i(f){o||(I(r),o=!0)},o(f){D(r),o=!1},d(f){f&&m(e),c[a].d()}}}function Kl(n){let e,t,l,a,r,s,i,o,u,c;const h=[Xl,Ql,Wl],f=[];function _(g,C){return C&1&&(t=null),C&1&&(l=null),t==null&&(t=!!al(g[0],g[17])),t?0:(l==null&&(l=!!rl(g[0],g[17])),l?1:2)}a=_(n,-1),r=f[a]=h[a](n);function p(){return n[12](n[17])}return{c(){e=E("button"),r.c(),s=H(),this.h()},l(g){e=P(g,"BUTTON",{class:!0,type:!0});var C=S(e);r.l(C),s=M(C),C.forEach(m),this.h()},h(){d(e,"class",i="rating-icon "+n[3]),d(e,"type","button")},m(g,C){L(g,e,C),f[a].m(e,null),w(e,s),o=!0,u||(c=U(e,"click",p),u=!0)},p(g,C){n=g;let y=a;a=_(n,C),a===y?f[a].p(n,C):(be(),D(f[y],1,1,()=>{f[y]=null}),ve(),r=f[a],r?r.p(n,C):(r=f[a]=h[a](n),r.c()),I(r,1),r.m(e,s)),(!o||C&8&&i!==(i="rating-icon "+n[3]))&&d(e,"class",i)},i(g){o||(I(r),o=!0)},o(g){D(r),o=!1},d(g){g&&m(e),f[a].d(),u=!1,c()}}}function Jl(n){let e;const t=n[11].empty,l=we(t,n,n[10],Bt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,r){l&&l.m(a,r),e=!0},p(a,r){l&&l.p&&(!e||r&1024)&&Ae(l,t,a,a[10],e?Ee(t,a[10],r,Hl):Te(a[10]),Bt)},i(a){e||(I(l,a),e=!0)},o(a){D(l,a),e=!1},d(a){l&&l.d(a)}}}function Zl(n){let e;const t=n[11].half,l=we(t,n,n[10],Ct);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,r){l&&l.m(a,r),e=!0},p(a,r){l&&l.p&&(!e||r&1024)&&Ae(l,t,a,a[10],e?Ee(t,a[10],r,Ml):Te(a[10]),Ct)},i(a){e||(I(l,a),e=!0)},o(a){D(l,a),e=!1},d(a){l&&l.d(a)}}}function Yl(n){let e;const t=n[11].full,l=we(t,n,n[10],It);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,r){l&&l.m(a,r),e=!0},p(a,r){l&&l.p&&(!e||r&1024)&&Ae(l,t,a,a[10],e?Ee(t,a[10],r,Ul):Te(a[10]),It)},i(a){e||(I(l,a),e=!0)},o(a){D(l,a),e=!1},d(a){l&&l.d(a)}}}function Wl(n){let e;const t=n[11].empty,l=we(t,n,n[10],Nt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,r){l&&l.m(a,r),e=!0},p(a,r){l&&l.p&&(!e||r&1024)&&Ae(l,t,a,a[10],e?Ee(t,a[10],r,Vl):Te(a[10]),Nt)},i(a){e||(I(l,a),e=!0)},o(a){D(l,a),e=!1},d(a){l&&l.d(a)}}}function Ql(n){let e;const t=n[11].half,l=we(t,n,n[10],Dt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,r){l&&l.m(a,r),e=!0},p(a,r){l&&l.p&&(!e||r&1024)&&Ae(l,t,a,a[10],e?Ee(t,a[10],r,Fl):Te(a[10]),Dt)},i(a){e||(I(l,a),e=!0)},o(a){D(l,a),e=!1},d(a){l&&l.d(a)}}}function Xl(n){let e;const t=n[11].full,l=we(t,n,n[10],Lt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,r){l&&l.m(a,r),e=!0},p(a,r){l&&l.p&&(!e||r&1024)&&Ae(l,t,a,a[10],e?Ee(t,a[10],r,ql):Te(a[10]),Lt)},i(a){e||(I(l,a),e=!0)},o(a){D(l,a),e=!1},d(a){l&&l.d(a)}}}function Ot(n){let e,t,l,a;const r=[Kl,Gl],s=[];function i(o,u){return o[2]?0:1}return e=i(n),t=s[e]=r[e](n),{c(){t.c(),l=je()},l(o){t.l(o),l=je()},m(o,u){s[e].m(o,u),L(o,l,u),a=!0},p(o,u){let c=e;e=i(o),e===c?s[e].p(o,u):(be(),D(s[c],1,1,()=>{s[c]=null}),ve(),t=s[e],t?t.p(o,u):(t=s[e]=r[e](o),t.c()),I(t,1),t.m(l.parentNode,l))},i(o){a||(I(t),a=!0)},o(o){D(t),a=!1},d(o){o&&m(l),s[e].d(o)}}}function $l(n){let e,t,l,a=Fe({length:n[1]}),r=[];for(let i=0;i<a.length;i+=1)r[i]=Ot(St(n,a,i));const s=i=>D(r[i],1,1,()=>{r[i]=null});return{c(){e=E("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=P(i,"DIV",{class:!0,"data-testid":!0});var o=S(e);for(let u=0;u<r.length;u+=1)r[u].l(o);o.forEach(m),this.h()},h(){d(e,"class",t="ratings "+n[4]),d(e,"data-testid","rating-bar")},m(i,o){L(i,e,o);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);l=!0},p(i,[o]){if(o&1071){a=Fe({length:i[1]});let u;for(u=0;u<a.length;u+=1){const c=St(i,a,u);r[u]?(r[u].p(c,o),I(r[u],1)):(r[u]=Ot(c),r[u].c(),I(r[u],1),r[u].m(e,null))}for(be(),u=a.length;u<r.length;u+=1)s(u);ve()}(!l||o&16&&t!==(t="ratings "+i[4]))&&d(e,"class",t)},i(i){if(!l){for(let o=0;o<a.length;o+=1)I(r[o]);l=!0}},o(i){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)D(r[o]);l=!1},d(i){i&&m(e),dt(r,i)}}}const xl="w-full flex";function al(n,e){return Math.floor(n)>=e+1}function rl(n,e){return n===e+.5}function en(n,e,t){let l,{$$slots:a={},$$scope:r}=e,{value:s=0}=e,{max:i=5}=e,{interactive:o=!1}=e,{text:u="text-token"}=e,{fill:c="fill-token"}=e,{justify:h="justify-center"}=e,{spacing:f="space-x-2"}=e,{regionIcon:_=""}=e;const p=lt();function g(y){p("icon",{index:y+1})}const C=y=>g(y);return n.$$set=y=>{t(14,e=V(V({},e),Q(y))),"value"in y&&t(0,s=y.value),"max"in y&&t(1,i=y.max),"interactive"in y&&t(2,o=y.interactive),"text"in y&&t(6,u=y.text),"fill"in y&&t(7,c=y.fill),"justify"in y&&t(8,h=y.justify),"spacing"in y&&t(9,f=y.spacing),"regionIcon"in y&&t(3,_=y.regionIcon),"$$scope"in y&&t(10,r=y.$$scope)},n.$$.update=()=>{t(4,l=`${xl} ${u} ${c} ${h} ${f} ${e.class??""}`)},e=Q(e),[s,i,o,_,l,g,u,c,h,f,r,a,C]}class tn extends x{constructor(e){super(),ee(this,e,en,$l,$,{value:0,max:1,interactive:2,text:6,fill:7,justify:8,spacing:9,regionIcon:3})}}function zt(n){let e,t;const l=n[22].default,a=we(l,n,n[21],null);return{c(){e=E("div"),a&&a.c(),this.h()},l(r){e=P(r,"DIV",{class:!0});var s=S(e);a&&a.l(s),s.forEach(m),this.h()},h(){d(e,"class","slide-toggle-text ml-3")},m(r,s){L(r,e,s),a&&a.m(e,null),t=!0},p(r,s){a&&a.p&&(!t||s[0]&2097152)&&Ae(a,l,r,r[21],t?Ee(l,r[21],s,null):Te(r[21]),null)},i(r){t||(I(a,r),t=!0)},o(r){D(a,r),t=!1},d(r){r&&m(e),a&&a.d(r)}}}function ln(n){let e,t,l,a,r,s,i,o,u,c,h,f,_,p,g,C=[{type:"checkbox"},{class:"slide-toggle-input hidden"},{name:n[1]},n[8](),{disabled:a=n[9].disabled}],y={};for(let v=0;v<C.length;v+=1)y=V(y,C[v]);let b=n[10].default&&zt(n);return{c(){e=E("div"),t=E("label"),l=E("input"),r=H(),s=E("div"),i=E("div"),c=H(),b&&b.c(),this.h()},l(v){e=P(v,"DIV",{id:!0,class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-checked":!0,tabindex:!0});var O=S(e);t=P(O,"LABEL",{class:!0});var k=S(t);l=P(k,"INPUT",{type:!0,class:!0,name:!0}),r=M(k),s=P(k,"DIV",{class:!0});var N=S(s);i=P(N,"DIV",{class:!0}),S(i).forEach(m),N.forEach(m),c=M(k),b&&b.l(k),k.forEach(m),O.forEach(m),this.h()},h(){at(l,y),d(i,"class",o="slide-toggle-thumb "+n[3]),ce(i,"cursor-not-allowed",n[9].disabled),d(s,"class",u="slide-toggle-track "+n[4]),ce(s,"cursor-not-allowed",n[9].disabled),d(t,"class",h="slide-toggle-label "+n[5]),d(e,"id",n[2]),d(e,"class",f="slide-toggle "+n[6]),d(e,"data-testid","slide-toggle"),d(e,"role","switch"),d(e,"aria-label",n[2]),d(e,"aria-checked",n[0]),d(e,"tabindex","0")},m(v,O){L(v,e,O),w(e,t),w(t,l),l.autofocus&&l.focus(),l.checked=n[0],w(t,r),w(t,s),w(s,i),w(t,c),b&&b.m(t,null),_=!0,p||(g=[U(l,"change",n[31]),U(l,"click",n[23]),U(l,"keydown",n[24]),U(l,"keyup",n[25]),U(l,"keypress",n[26]),U(l,"mouseover",n[27]),U(l,"change",n[28]),U(l,"focus",n[29]),U(l,"blur",n[30]),U(e,"keydown",n[7])],p=!0)},p(v,O){at(l,y=Pe(C,[{type:"checkbox"},{class:"slide-toggle-input hidden"},(!_||O[0]&2)&&{name:v[1]},v[8](),(!_||O[0]&512&&a!==(a=v[9].disabled))&&{disabled:a}])),O[0]&1&&(l.checked=v[0]),(!_||O[0]&8&&o!==(o="slide-toggle-thumb "+v[3]))&&d(i,"class",o),(!_||O[0]&520)&&ce(i,"cursor-not-allowed",v[9].disabled),(!_||O[0]&16&&u!==(u="slide-toggle-track "+v[4]))&&d(s,"class",u),(!_||O[0]&528)&&ce(s,"cursor-not-allowed",v[9].disabled),v[10].default?b?(b.p(v,O),O[0]&1024&&I(b,1)):(b=zt(v),b.c(),I(b,1),b.m(t,null)):b&&(be(),D(b,1,1,()=>{b=null}),ve()),(!_||O[0]&32&&h!==(h="slide-toggle-label "+v[5]))&&d(t,"class",h),(!_||O[0]&4)&&d(e,"id",v[2]),(!_||O[0]&64&&f!==(f="slide-toggle "+v[6]))&&d(e,"class",f),(!_||O[0]&4)&&d(e,"aria-label",v[2]),(!_||O[0]&1)&&d(e,"aria-checked",v[0])},i(v){_||(I(b),_=!0)},o(v){D(b),_=!1},d(v){v&&m(e),b&&b.d(),p=!1,Re(g)}}}const nn="inline-block",sn="unstyled flex items-center",an="flex transition-all duration-[200ms] cursor-pointer",rn="w-[50%] h-full scale-[0.8] transition-all duration-[200ms] shadow";function on(n,e,t){let l,a,r,s,i,o,u,c;const h=["name","checked","size","background","active","border","rounded","label"];let f=rt(e,h),{$$slots:_={},$$scope:p}=e;const g=mt(_),C=lt();let{name:y}=e,{checked:b=!1}=e,{size:v="md"}=e,{background:O="bg-surface-400 dark:bg-surface-700"}=e,{active:k="bg-surface-900 dark:bg-surface-300"}=e,{border:N=""}=e,{rounded:B="rounded-full"}=e,{label:A=""}=e,T;switch(v){case"sm":T="w-12 h-6";break;case"lg":T="w-20 h-10";break;default:T="w-16 h-8"}function Z(j){["Enter","Space"].includes(j.code)&&(j.preventDefault(),C("keyup",j),j.currentTarget.firstChild.click())}function ie(){return delete f.class,f}function Y(j){ue.call(this,n,j)}function X(j){ue.call(this,n,j)}function ne(j){ue.call(this,n,j)}function Se(j){ue.call(this,n,j)}function me(j){ue.call(this,n,j)}function De(j){ue.call(this,n,j)}function Be(j){ue.call(this,n,j)}function he(j){ue.call(this,n,j)}function R(){b=this.checked,t(0,b)}return n.$$set=j=>{t(9,e=V(V({},e),Q(j))),t(33,f=rt(e,h)),"name"in j&&t(1,y=j.name),"checked"in j&&t(0,b=j.checked),"size"in j&&t(11,v=j.size),"background"in j&&t(12,O=j.background),"active"in j&&t(13,k=j.active),"border"in j&&t(14,N=j.border),"rounded"in j&&t(15,B=j.rounded),"label"in j&&t(2,A=j.label),"$$scope"in j&&t(21,p=j.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&12289&&t(19,l=b?k:`${O} cursor-pointer`),n.$$.dirty[0]&1&&t(18,a=b?"bg-white/75":"bg-white"),n.$$.dirty[0]&1&&t(17,r=b?"translate-x-full":""),t(20,s=e.disabled===!0?"opacity-50":"hover:brightness-[105%] dark:hover:brightness-110 cursor-pointer"),t(6,i=`${nn} ${B} ${s} ${e.class??""}`),n.$$.dirty[0]&638976&&t(4,u=`${an} ${N} ${B} ${T} ${l}`),n.$$.dirty[0]&425984&&t(3,c=`${rn} ${B} ${a} ${r}`)},t(5,o=`${sn}`),e=Q(e),[b,y,A,c,u,o,i,Z,ie,e,g,v,O,k,N,B,T,r,a,l,s,p,_,Y,X,ne,Se,me,De,Be,he,R]}class un extends x{constructor(e){super(),ee(this,e,on,ln,$,{name:1,checked:0,size:11,background:12,active:13,border:14,rounded:15,label:2},null,[-1,-1])}}const cn=n=>({}),Rt=n=>({});function jt(n){let e,t,l;const a=n[17].panel,r=we(a,n,n[16],Rt);return{c(){e=E("div"),r&&r.c(),this.h()},l(s){e=P(s,"DIV",{class:!0,role:!0,"aria-labelledby":!0,tabindex:!0});var i=S(e);r&&r.l(i),i.forEach(m),this.h()},h(){d(e,"class",t="tab-panel "+n[2]),d(e,"role","tabpanel"),d(e,"aria-labelledby",n[1]),d(e,"tabindex","0")},m(s,i){L(s,e,i),r&&r.m(e,null),l=!0},p(s,i){r&&r.p&&(!l||i&65536)&&Ae(r,a,s,s[16],l?Ee(a,s[16],i,cn):Te(s[16]),Rt),(!l||i&4&&t!==(t="tab-panel "+s[2]))&&d(e,"class",t),(!l||i&2)&&d(e,"aria-labelledby",s[1])},i(s){l||(I(r,s),l=!0)},o(s){D(r,s),l=!1},d(s){s&&m(e),r&&r.d(s)}}}function fn(n){let e,t,l,a,r,s,i,o;const u=n[17].default,c=we(u,n,n[16],null);let h=n[5].panel&&jt(n);return{c(){e=E("div"),t=E("div"),c&&c.c(),a=H(),h&&h.c(),this.h()},l(f){e=P(f,"DIV",{class:!0,"data-testid":!0});var _=S(e);t=P(_,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var p=S(t);c&&c.l(p),p.forEach(m),a=M(_),h&&h.l(_),_.forEach(m),this.h()},h(){d(t,"class",l="tab-list "+n[3]),d(t,"role","tablist"),d(t,"aria-labelledby",n[0]),d(e,"class",r="tab-group "+n[4]),d(e,"data-testid","tab-group")},m(f,_){L(f,e,_),w(e,t),c&&c.m(t,null),w(e,a),h&&h.m(e,null),s=!0,i||(o=[U(e,"click",n[18]),U(e,"keypress",n[19]),U(e,"keydown",n[20]),U(e,"keyup",n[21])],i=!0)},p(f,[_]){c&&c.p&&(!s||_&65536)&&Ae(c,u,f,f[16],s?Ee(u,f[16],_,null):Te(f[16]),null),(!s||_&8&&l!==(l="tab-list "+f[3]))&&d(t,"class",l),(!s||_&1)&&d(t,"aria-labelledby",f[0]),f[5].panel?h?(h.p(f,_),_&32&&I(h,1)):(h=jt(f),h.c(),I(h,1),h.m(e,null)):h&&(be(),D(h,1,1,()=>{h=null}),ve()),(!s||_&16&&r!==(r="tab-group "+f[4]))&&d(e,"class",r)},i(f){s||(I(c,f),I(h),s=!0)},o(f){D(c,f),D(h),s=!1},d(f){f&&m(e),c&&c.d(f),h&&h.d(),i=!1,Re(o)}}}const hn="space-y-4",dn="flex overflow-x-auto hide-scrollbar",mn="";function _n(n,e,t){let l,a,r,{$$slots:s={},$$scope:i}=e;const o=mt(s);let{justify:u="justify-start"}=e,{border:c="border-b border-surface-400-500-token"}=e,{active:h="border-b-2 border-surface-900-50-token"}=e,{hover:f="hover:variant-soft"}=e,{flex:_="flex-none"}=e,{padding:p="px-4 py-2"}=e,{rounded:g="rounded-tl-container-token rounded-tr-container-token"}=e,{spacing:C="space-y-1"}=e,{regionList:y=""}=e,{regionPanel:b=""}=e,{labelledby:v=""}=e,{panel:O=""}=e;Ye("active",h),Ye("hover",f),Ye("flex",_),Ye("padding",p),Ye("rounded",g),Ye("spacing",C);function k(T){ue.call(this,n,T)}function N(T){ue.call(this,n,T)}function B(T){ue.call(this,n,T)}function A(T){ue.call(this,n,T)}return n.$$set=T=>{t(22,e=V(V({},e),Q(T))),"justify"in T&&t(6,u=T.justify),"border"in T&&t(7,c=T.border),"active"in T&&t(8,h=T.active),"hover"in T&&t(9,f=T.hover),"flex"in T&&t(10,_=T.flex),"padding"in T&&t(11,p=T.padding),"rounded"in T&&t(12,g=T.rounded),"spacing"in T&&t(13,C=T.spacing),"regionList"in T&&t(14,y=T.regionList),"regionPanel"in T&&t(15,b=T.regionPanel),"labelledby"in T&&t(0,v=T.labelledby),"panel"in T&&t(1,O=T.panel),"$$scope"in T&&t(16,i=T.$$scope)},n.$$.update=()=>{t(4,l=`${hn} ${e.class??""}`),n.$$.dirty&16576&&t(3,a=`${dn} ${u} ${c} ${y}`),n.$$.dirty&32768&&t(2,r=`${mn} ${b}`)},e=Q(e),[v,O,r,a,l,o,u,c,h,f,_,p,g,C,y,b,i,s,k,N,B,A]}class gn extends x{constructor(e){super(),ee(this,e,_n,fn,$,{justify:6,border:7,active:8,hover:9,flex:10,padding:11,rounded:12,spacing:13,regionList:14,regionPanel:15,labelledby:0,panel:1})}}const pn=n=>({}),Ht=n=>({});function Mt(n){let e,t;const l=n[22].lead,a=we(l,n,n[21],Ht);return{c(){e=E("div"),a&&a.c(),this.h()},l(r){e=P(r,"DIV",{class:!0});var s=S(e);a&&a.l(s),s.forEach(m),this.h()},h(){d(e,"class","tab-lead")},m(r,s){L(r,e,s),a&&a.m(e,null),t=!0},p(r,s){a&&a.p&&(!t||s[0]&2097152)&&Ae(a,l,r,r[21],t?Ee(l,r[21],s,pn):Te(r[21]),Ht)},i(r){t||(I(a,r),t=!0)},o(r){D(a,r),t=!1},d(r){r&&m(e),a&&a.d(r)}}}function bn(n){let e,t,l,a,r,s,i,o,u,c,h,f,_,p,g,C=[{type:"radio"},{name:n[1]},{__value:n[2]},n[11](),{tabindex:"-1"}],y={};for(let k=0;k<C.length;k+=1)y=V(y,C[k]);let b=n[12].lead&&Mt(n);const v=n[22].default,O=we(v,n,n[21],null);return _=Pl(n[30][0]),{c(){e=E("label"),t=E("div"),l=E("div"),a=E("input"),r=H(),s=E("div"),b&&b.c(),i=H(),o=E("div"),O&&O.c(),this.h()},l(k){e=P(k,"LABEL",{class:!0,title:!0});var N=S(e);t=P(N,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0});var B=S(t);l=P(B,"DIV",{class:!0});var A=S(l);a=P(A,"INPUT",{type:!0,name:!0,tabindex:!0}),A.forEach(m),r=M(B),s=P(B,"DIV",{class:!0});var T=S(s);b&&b.l(T),i=M(T),o=P(T,"DIV",{class:!0});var Z=S(o);O&&O.l(Z),Z.forEach(m),T.forEach(m),B.forEach(m),N.forEach(m),this.h()},h(){at(a,y),d(l,"class","h-0 w-0 overflow-hidden"),d(o,"class","tab-label"),d(s,"class",u="tab-interface "+n[8]),d(t,"class",c="tab "+n[7]),d(t,"data-testid","tab"),d(t,"role","tab"),d(t,"aria-controls",n[4]),d(t,"aria-selected",n[5]),d(t,"tabindex",h=n[5]?0:-1),d(e,"class",n[9]),d(e,"title",n[3]),_.p(a)},m(k,N){L(k,e,N),w(e,t),w(t,l),w(l,a),a.autofocus&&a.focus(),n[28](a),a.checked=a.__value===n[0],w(t,r),w(t,s),b&&b.m(s,null),w(s,i),w(s,o),O&&O.m(o,null),f=!0,p||(g=[U(a,"change",n[29]),U(a,"click",n[26]),U(a,"change",n[27]),U(t,"keydown",n[10]),U(t,"keydown",n[23]),U(t,"keyup",n[24]),U(t,"keypress",n[25])],p=!0)},p(k,N){at(a,y=Pe(C,[{type:"radio"},(!f||N[0]&2)&&{name:k[1]},(!f||N[0]&4)&&{__value:k[2]},k[11](),{tabindex:"-1"}])),N[0]&1&&(a.checked=a.__value===k[0]),k[12].lead?b?(b.p(k,N),N[0]&4096&&I(b,1)):(b=Mt(k),b.c(),I(b,1),b.m(s,i)):b&&(be(),D(b,1,1,()=>{b=null}),ve()),O&&O.p&&(!f||N[0]&2097152)&&Ae(O,v,k,k[21],f?Ee(v,k[21],N,null):Te(k[21]),null),(!f||N[0]&256&&u!==(u="tab-interface "+k[8]))&&d(s,"class",u),(!f||N[0]&128&&c!==(c="tab "+k[7]))&&d(t,"class",c),(!f||N[0]&16)&&d(t,"aria-controls",k[4]),(!f||N[0]&32)&&d(t,"aria-selected",k[5]),(!f||N[0]&32&&h!==(h=k[5]?0:-1))&&d(t,"tabindex",h),(!f||N[0]&512)&&d(e,"class",k[9]),(!f||N[0]&8)&&d(e,"title",k[3])},i(k){f||(I(b),I(O,k),f=!0)},o(k){D(b),D(O,k),f=!1},d(k){k&&m(e),n[28](null),b&&b.d(),O&&O.d(k),_.r(),p=!1,Re(g)}}}const vn="text-center cursor-pointer transition-colors duration-100",kn="";function yn(n,e,t){let l,a,r,s,i;const o=["group","name","value","title","controls","regionTab","active","hover","flex","padding","rounded","spacing"];let u=rt(e,o),{$$slots:c={},$$scope:h}=e;const f=mt(c);let{group:_}=e,{name:p}=e,{value:g}=e,{title:C=""}=e,{controls:y=""}=e,{regionTab:b=""}=e,{active:v=We("active")}=e,{hover:O=We("hover")}=e,{flex:k=We("flex")}=e,{padding:N=We("padding")}=e,{rounded:B=We("rounded")}=e,{spacing:A=We("spacing")}=e,T;function Z(R){if(["Enter","Space"].includes(R.code))R.preventDefault(),T.click();else if(R.code==="ArrowRight"){const j=T.closest(".tab-list");if(!j)return;const z=Array.from(j.querySelectorAll(".tab")),de=T.closest(".tab");if(!de)return;const fe=z.indexOf(de),_e=fe+1>=z.length?0:fe+1,ge=z[_e],pe=ge==null?void 0:ge.querySelector("input");ge&&pe&&(pe.click(),ge.focus())}else if(R.code==="ArrowLeft"){const j=T.closest(".tab-list");if(!j)return;const z=Array.from(j.querySelectorAll(".tab")),de=T.closest(".tab");if(!de)return;const fe=z.indexOf(de),_e=fe-1<0?z.length-1:fe-1,ge=z[_e],pe=ge==null?void 0:ge.querySelector("input");ge&&pe&&(pe.click(),ge.focus())}}function ie(){return delete u.class,u}const Y=[[]];function X(R){ue.call(this,n,R)}function ne(R){ue.call(this,n,R)}function Se(R){ue.call(this,n,R)}function me(R){ue.call(this,n,R)}function De(R){ue.call(this,n,R)}function Be(R){Ue[R?"unshift":"push"](()=>{T=R,t(6,T)})}function he(){_=this.__value,t(0,_)}return n.$$set=R=>{t(32,e=V(V({},e),Q(R))),t(31,u=rt(e,o)),"group"in R&&t(0,_=R.group),"name"in R&&t(1,p=R.name),"value"in R&&t(2,g=R.value),"title"in R&&t(3,C=R.title),"controls"in R&&t(4,y=R.controls),"regionTab"in R&&t(13,b=R.regionTab),"active"in R&&t(14,v=R.active),"hover"in R&&t(15,O=R.hover),"flex"in R&&t(16,k=R.flex),"padding"in R&&t(17,N=R.padding),"rounded"in R&&t(18,B=R.rounded),"spacing"in R&&t(19,A=R.spacing),"$$scope"in R&&t(21,h=R.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&5&&t(5,l=g===_),n.$$.dirty[0]&49184&&t(20,a=l?v:O),t(9,r=`${vn} ${k} ${N} ${B} ${a} ${e.class??""}`),n.$$.dirty[0]&524288&&t(8,s=`${kn} ${A}`),n.$$.dirty[0]&8192&&t(7,i=`${b}`)},e=Q(e),[_,p,g,C,y,l,T,i,s,r,Z,ie,f,b,v,O,k,N,B,A,a,h,c,X,ne,Se,me,De,Be,he,Y]}class nt extends x{constructor(e){super(),ee(this,e,yn,bn,$,{group:0,name:1,value:2,title:3,controls:4,regionTab:13,active:14,hover:15,flex:16,padding:17,rounded:18,spacing:19},null,[-1,-1])}}var _t={exports:{}};function il(){var n=Object.create(null),e=0,t=0,l=0,a=!1;this.put=function(s,i,o,u){if(a&&console.log("caching: %s = %j (@%s)",s,i,o),typeof o<"u"&&(typeof o!="number"||isNaN(o)||o<=0))throw new Error("Cache timeout must be a positive number");if(typeof u<"u"&&typeof u!="function")throw new Error("Cache timeout callback must be a function");var c=n[s];c?clearTimeout(c.timeout):l++;var h={value:i,expire:o+Date.now()};return isNaN(h.expire)||(h.timeout=setTimeout((function(){r(s),u&&u(s,i)}).bind(this),o)),n[s]=h,i},this.del=function(s){var i=!0,o=n[s];return o?(clearTimeout(o.timeout),!isNaN(o.expire)&&o.expire<Date.now()&&(i=!1)):i=!1,i&&r(s),i};function r(s){l--,delete n[s]}this.clear=function(){for(var s in n)clearTimeout(n[s].timeout);l=0,n=Object.create(null),a&&(e=0,t=0)},this.get=function(s){var i=n[s];if(typeof i<"u"){if(isNaN(i.expire)||i.expire>=Date.now())return a&&e++,i.value;a&&t++,l--,delete n[s]}else a&&t++;return null},this.size=function(){return l},this.memsize=function(){var s=0,i;for(i in n)s++;return s},this.debug=function(s){a=s},this.hits=function(){return e},this.misses=function(){return t},this.keys=function(){return Object.keys(n)},this.exportJson=function(){var s={};for(var i in n){var o=n[i];s[i]={value:o.value,expire:o.expire||"NaN"}}return JSON.stringify(s)},this.importJson=function(s,i){var o=JSON.parse(s),u=Date.now(),c=i&&i.skipDuplicates;for(var h in o)if(o.hasOwnProperty(h)){if(c){var f=n[h];if(f){a&&console.log("Skipping duplicate imported key '%s'",h);continue}}var _=o[h],p=_.expire-u;if(p<=0){this.del(h);continue}p=p>0?p:void 0,this.put(h,_.value,p)}return this.size()}}_t.exports=new il;_t.exports.Cache=il;var wn=_t.exports;const Ut=pl(wn);class ol{constructor(e,t){this.cacheName=e,this.ttl=t}get(e){return Ut.get(this.buildKey(e))}buildKey(e){return this.cacheName+"~"+e}put(e,t){Ut.put(this.buildKey(e),t,this.ttl)}}const gt=bl.extend("api-query"),Vt=new ol("ARTIST",3600*1e3),Ft=new ol("ARTIST-DISCOGRAPHY",3600*1e3);async function An(n){gt("getDeezerArtist "+n);const e=Vt.get(n);if(e)return e;const t=await Xe({apiPath:"/artist/"+n});return Vt.put(n,t),t}async function ul(n){return gt("getAlbumTracks "+n),await ht({apiPath:"/album/"+n+"/tracks",index:0,limit:100})}async function cl(n){gt("getDeezerArtistDiscography "+n);const e=Ft.get(n);if(e)return e;const t=await ht({apiPath:"/artist/"+n+"/albums",index:0,limit:100}),l=await Promise.all(t.data.map(async a=>{const r=await ul(a.id);return{...a,tracks:r.data}}));return Ft.put(n,l),l}const Tn=!1;async function En(n){if(n==="NEW"){const e=new Date().toISOString(),t=await Xe({apiPath:"/user/me/playlists",searchParams:{request_method:"POST",title:`New Playlist ${e}`,description:`Playlist created with deezer-artist-playlist-organizer on the ${e}`,public:!0}});vl(302,"?id="+t.id)}return n}async function Pn({url:n}){const e=await En(n.searchParams.get("id")??""),t=await Xe({apiPath:`/playlist/${e}`});if(t.nb_tracks>400){const s=await ht({apiPath:`/playlist/${e}/tracks`,limit:100,index:t.tracks.data.length});t.tracks.data=[...t.tracks.data,...s.data]}const l=t.tracks.data.reduce((s,i)=>(s[i.artist.id]||(s[i.artist.id]={artist:i.artist,count:0}),s[i.artist.id].count++,s),{}),a=Object.values(l).sort((s,i)=>i.count-s.count),r=Promise.all(a.map(async s=>await An(s.artist.id)));return{playlist:await t,topArtists:await r}}const Ka=Object.freeze(Object.defineProperty({__proto__:null,load:Pn,ssr:Tn},Symbol.toStringTag,{value:"Module"}));function Sn(n){let e,t,l='<path fill="currentColor" d="M216 36H68.53a20.09 20.09 0 0 0-17.15 9.71L5.71 121.83a12 12 0 0 0 0 12.34l45.67 76.12A20.09 20.09 0 0 0 68.53 220H216a20 20 0 0 0 20-20V56a20 20 0 0 0-20-20m-4 160H70.8L30 128l40.8-68H212Zm-108.49-52.49L119 128l-15.52-15.51a12 12 0 0 1 17-17L136 111l15.51-15.52a12 12 0 0 1 17 17L153 128l15.52 15.51a12 12 0 0 1-17 17L136 145l-15.51 15.52a12 12 0 0 1-17-17Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let s=0;s<a.length;s+=1)r=V(r,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var i=S(e);t=Ne(i,!0),i.forEach(m),this.h()},h(){t.a=null,ae(e,r)},m(s,i){L(s,e,i),t.m(l,e)},p(s,[i]){ae(e,r=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&s[0]]))},i:J,o:J,d(s){s&&m(e)}}}function Bn(n,e,t){return n.$$set=l=>{t(0,e=V(V({},e),Q(l)))},e=Q(e),[e]}class Cn extends x{constructor(e){super(),ee(this,e,Bn,Sn,$,{})}}function In(n){let e,t,l='<path fill="currentColor" d="M160 36a92.09 92.09 0 0 0-81 48.36A68 68 0 1 0 72 220h88a92 92 0 0 0 0-184m0 160H72a44 44 0 0 1-1.82-88A91.86 91.86 0 0 0 68 128a12 12 0 0 0 24 0a68 68 0 1 1 68 68m40.49-92.49a12 12 0 0 1 0 17l-48 48a12 12 0 0 1-17 0l-24-24a12 12 0 1 1 17-17L144 143l39.51-39.52a12 12 0 0 1 16.98.03"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let s=0;s<a.length;s+=1)r=V(r,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var i=S(e);t=Ne(i,!0),i.forEach(m),this.h()},h(){t.a=null,ae(e,r)},m(s,i){L(s,e,i),t.m(l,e)},p(s,[i]){ae(e,r=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&s[0]]))},i:J,o:J,d(s){s&&m(e)}}}function Nn(n,e,t){return n.$$set=l=>{t(0,e=V(V({},e),Q(l)))},e=Q(e),[e]}class Dn extends x{constructor(e){super(),ee(this,e,Nn,In,$,{})}}function Ln(n){let e,t,l='<path fill="currentColor" d="M136.37 187.53a12 12 0 0 1 0 17l-5.94 5.94a60 60 0 0 1-84.88-84.88l24.12-24.11A60 60 0 0 1 152 99a12 12 0 1 1-16 18a36 36 0 0 0-49.37 1.47l-24.1 24.08a36 36 0 0 0 50.92 50.92l5.94-5.94a12 12 0 0 1 16.98 0m74.08-142a60.09 60.09 0 0 0-84.88 0l-5.94 5.94a12 12 0 0 0 17 17l5.94-5.94a36 36 0 0 1 50.92 50.92l-24.11 24.12A36 36 0 0 1 120 139a12 12 0 1 0-16 18a60 60 0 0 0 82.3-2.43l24.12-24.11a60.09 60.09 0 0 0 .03-84.91Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let s=0;s<a.length;s+=1)r=V(r,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var i=S(e);t=Ne(i,!0),i.forEach(m),this.h()},h(){t.a=null,ae(e,r)},m(s,i){L(s,e,i),t.m(l,e)},p(s,[i]){ae(e,r=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&s[0]]))},i:J,o:J,d(s){s&&m(e)}}}function On(n,e,t){return n.$$set=l=>{t(0,e=V(V({},e),Q(l)))},e=Q(e),[e]}class zn extends x{constructor(e){super(),ee(this,e,On,Ln,$,{})}}async function Rn(n,e,t){const l=n.filter(s=>s.selected&&s.track.readable).length,a=n.filter(s=>s.selected&&!s.track.readable);for(let s=0;s<a.length;s++){const i=a[s];t.set({message:`trying to fix track ${s} / ${a.length}`,value:s,max:a.length});const o=i.track,u=await jn(o,e);if(u){console.log("adding alternative to "+i.track.id+" : "+u.title),i.selected=!1;const c=n.indexOf(i);n.splice(c+1,0,{selected:!0,inPlaylist:!1,track:u})}}const r=n.filter(s=>s.selected&&s.track.readable).length;e.trigger({message:`Reattached ${r-l} track(s) to readable equivalents.<br/>(${n.filter(s=>s.selected).length-r} unreadable track remaining)`,timeout:1e4})}async function jn(n,e){const t=await cl(n.artist.id);if(!t){e.trigger({message:`Could not find artist ${n.artist.name}`,timeout:3e3});return}const l=t.flatMap(s=>{const{tracks:i,...o}=s;return s.tracks.map(u=>({...u,album:o}))}).filter(s=>s.id!==n.id&&s.readable),a={sensitivity:"base",ignorePunctuation:!0,numeric:!1,usage:"search"},r=l.filter(s=>s.title.localeCompare(n.title,void 0,a)===0);switch(r.length){case 0:console.log("no match by title",{unreadableTrack:n}),e.trigger({message:`Could not find matching track for '${n.title}' in album '${n.album.title}' by '${n.artist.name}'`,timeout:3e3});return;case 1:return r[0];default:{const s=Object.values(r.reduce((o,u)=>(o[u.isrc]=u,o),{}));if(s.length===1)return s[0];const i=r.filter(o=>o.album.title.localeCompare(n.album.title,void 0,a)===0);switch(i.length){case 0:console.log("no match by title and album",{unreadableTrack:n}),e.trigger({message:`Could not find matching track for '${n.title}' in album '${n.album.title}' by '${n.artist.name}'`,timeout:3e3});return;case 1:return i[0];default:{const o=Object.values(i.reduce((u,c)=>(u[c.isrc]=c,u),{}));if(o.length===1)return o[0];console.log("multiple match by title",{unreadableTrack:n,matchingTracksByTitleAndAlbum:i}),e.trigger({message:`Found multiple matching tracks for '${n.title}' in album '${n.album.title}' : ${i.map(u=>u.id)}`,timeout:3e3});return}}}}}function qt(n,e,t){const l=n.slice();return l[37]=e[t],l}const Hn=n=>({option:n[0]&16512,classesButton:n[0]&512}),Gt=n=>({option:n[37],classesButton:n[9],onSelection:n[15]});function Mn(n){let e,t,l;return{c(){e=E("div"),t=te(n[1]),this.h()},l(a){e=P(a,"DIV",{class:!0});var r=S(e);t=le(r,n[1]),r.forEach(m),this.h()},h(){d(e,"class",l="autocomplete-empty "+n[8])},m(a,r){L(a,e,r),w(e,t)},p(a,r){r[0]&2&&ye(t,a[1]),r[0]&256&&l!==(l="autocomplete-empty "+a[8])&&d(e,"class",l)},i:J,o:J,d(a){a&&m(e)}}}function Un(n){let e,t,l=[],a=new Map,r,s,i,o=Fe(n[7].slice(0,n[14]));const u=c=>c[37];for(let c=0;c<o.length;c+=1){let h=qt(n,o,c),f=u(h);a.set(f,l[c]=Kt(f,h))}return{c(){e=E("nav"),t=E("ul");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=P(c,"NAV",{class:!0});var h=S(e);t=P(h,"UL",{class:!0});var f=S(t);for(let _=0;_<l.length;_+=1)l[_].l(f);f.forEach(m),h.forEach(m),this.h()},h(){d(t,"class",r="autocomplete-list "+n[11]),d(e,"class",s="autocomplete-nav "+n[12])},m(c,h){L(c,e,h),w(e,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);i=!0},p(c,h){h[0]&134268644&&(o=Fe(c[7].slice(0,c[14])),be(),l=yl(l,h,u,1,c,o,a,t,wl,Kt,null,qt),ve()),(!i||h[0]&2048&&r!==(r="autocomplete-list "+c[11]))&&d(t,"class",r),(!i||h[0]&4096&&s!==(s="autocomplete-nav "+c[12]))&&d(e,"class",s)},i(c){if(!i){for(let h=0;h<o.length;h+=1)I(l[h]);i=!0}},o(c){for(let h=0;h<l.length;h+=1)D(l[h]);i=!1},d(c){c&&m(e);for(let h=0;h<l.length;h+=1)l[h].d()}}}function Vn(n){let e,t,l=n[37].label+"",a,r,s;function i(){return n[31](n[37])}return{c(){e=E("button"),t=new Ie(!1),this.h()},l(o){e=P(o,"BUTTON",{class:!0,type:!0});var u=S(e);t=Ne(u,!1),u.forEach(m),this.h()},h(){t.a=null,d(e,"class",a="autocomplete-button "+n[9]),d(e,"type","button")},m(o,u){L(o,e,u),t.m(l,e),r||(s=[U(e,"click",i),U(e,"click",n[29]),U(e,"keypress",n[30])],r=!0)},p(o,u){n=o,u[0]&16512&&l!==(l=n[37].label+"")&&t.p(l),u[0]&512&&a!==(a="autocomplete-button "+n[9])&&d(e,"class",a)},d(o){o&&m(e),r=!1,Re(s)}}}function Kt(n,e){let t,l,a,r,s,i;const o=e[28].optionButton,u=we(o,e,e[27],Gt),c=u||Vn(e);return{key:n,first:null,c(){t=E("li"),c&&c.c(),l=H(),this.h()},l(h){t=P(h,"LI",{class:!0});var f=S(t);c&&c.l(f),l=M(f),f.forEach(m),this.h()},h(){d(t,"class",a="autocomplete-item "+e[10]),this.first=t},m(h,f){L(h,t,f),c&&c.m(t,null),w(t,l),i=!0},p(h,f){e=h,u?u.p&&(!i||f[0]&134234752)&&Ae(u,o,e,e[27],i?Ee(o,e[27],f,Hn):Te(e[27]),Gt):c&&c.p&&(!i||f[0]&17024)&&c.p(e,i?f:[-1,-1]),(!i||f[0]&1024&&a!==(a="autocomplete-item "+e[10]))&&d(t,"class",a)},i(h){i||(I(c,h),h&&Sl(()=>{i&&(s&&s.end(1),r=Dl(t,e[0],{transition:e[3],params:e[4],enabled:e[2]}),r.start())}),i=!0)},o(h){D(c,h),r&&r.invalidate(),h&&(s=Ll(t,e[0],{transition:e[5],params:e[6],enabled:e[2]})),i=!1},d(h){h&&m(t),c&&c.d(h),h&&s&&s.end()}}}function Fn(n){let e,t,l,a,r;const s=[Un,Mn],i=[];function o(u,c){return u[7].length>0?0:1}return t=o(n),l=i[t]=s[t](n),{c(){e=E("div"),l.c(),this.h()},l(u){e=P(u,"DIV",{class:!0,"data-testid":!0});var c=S(e);l.l(c),c.forEach(m),this.h()},h(){d(e,"class",a="autocomplete "+n[13]),d(e,"data-testid","autocomplete")},m(u,c){L(u,e,c),i[t].m(e,null),r=!0},p(u,c){let h=t;t=o(u),t===h?i[t].p(u,c):(be(),D(i[h],1,1,()=>{i[h]=null}),ve(),l=i[t],l?l.p(u,c):(l=i[t]=s[t](u),l.c()),I(l,1),l.m(e,null)),(!r||c[0]&8192&&a!==(a="autocomplete "+u[13]))&&d(e,"class",a)},i(u){r||(I(l),r=!0)},o(u){D(l),r=!1},d(u){u&&m(e),i[t].d()}}}function fl(n,e){const{transition:t,params:l,enabled:a}=e;return a?t(n,l):"duration"in l?t(n,{duration:0}):{duration:0}}function qn(n,e,t){let l,a,r,s,i,o,u,c,h,f;Qe(n,kl,z=>t(32,f=z));let{$$slots:_={},$$scope:p}=e;const g=lt();let{input:C=void 0}=e,{options:y=[]}=e,{limit:b=void 0}=e,{allowlist:v=[]}=e,{denylist:O=[]}=e,{emptyState:k="No Results Found."}=e,{regionNav:N=""}=e,{regionList:B="list-nav"}=e,{regionItem:A=""}=e,{regionButton:T="w-full"}=e,{regionEmpty:Z="text-center"}=e,{transitions:ie=!f}=e,{transitionIn:Y=Pt}=e,{transitionInParams:X={duration:200}}=e,{transitionOut:ne=Pt}=e,{transitionOutParams:Se={duration:200}}=e;function me(z,de){let fe=[...y];z.length&&(fe=fe.filter(_e=>z.includes(_e.value))),de.length&&(fe=fe.filter(_e=>!de.includes(_e.value))),!z.length&&!de.length&&(fe=y),t(26,l=fe)}function De(){let z=[...l];return z=z.filter(de=>{const fe=String(C).toLowerCase().trim();if(JSON.stringify([de.label,de.value,de.keywords]).toLowerCase().includes(fe))return de}),z}function Be(z){g("selection",z)}function he(z){ue.call(this,n,z)}function R(z){ue.call(this,n,z)}const j=z=>Be(z);return n.$$set=z=>{t(36,e=V(V({},e),Q(z))),"input"in z&&t(16,C=z.input),"options"in z&&t(17,y=z.options),"limit"in z&&t(18,b=z.limit),"allowlist"in z&&t(19,v=z.allowlist),"denylist"in z&&t(20,O=z.denylist),"emptyState"in z&&t(1,k=z.emptyState),"regionNav"in z&&t(21,N=z.regionNav),"regionList"in z&&t(22,B=z.regionList),"regionItem"in z&&t(23,A=z.regionItem),"regionButton"in z&&t(24,T=z.regionButton),"regionEmpty"in z&&t(25,Z=z.regionEmpty),"transitions"in z&&t(2,ie=z.transitions),"transitionIn"in z&&t(3,Y=z.transitionIn),"transitionInParams"in z&&t(4,X=z.transitionInParams),"transitionOut"in z&&t(5,ne=z.transitionOut),"transitionOutParams"in z&&t(6,Se=z.transitionOutParams),"$$scope"in z&&t(27,p=z.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&131072&&t(26,l=y),n.$$.dirty[0]&1572864&&me(v,O),n.$$.dirty[0]&67174400&&t(7,a=C?De():l),n.$$.dirty[0]&262272&&t(14,r=b!==void 0?b:a.length),t(13,s=`${e.class??""}`),n.$$.dirty[0]&2097152&&t(12,i=`${N}`),n.$$.dirty[0]&4194304&&t(11,o=`${B}`),n.$$.dirty[0]&8388608&&t(10,u=`${A}`),n.$$.dirty[0]&16777216&&t(9,c=`${T}`),n.$$.dirty[0]&33554432&&t(8,h=`${Z}`)},e=Q(e),[fl,k,ie,Y,X,ne,Se,a,h,c,u,o,i,s,r,Be,C,y,b,v,O,N,B,A,T,Z,l,p,_,he,R,j]}class Gn extends x{constructor(e){super(),ee(this,e,qn,Fn,$,{dynamicTransition:0,input:16,options:17,limit:18,allowlist:19,denylist:20,emptyState:1,regionNav:21,regionList:22,regionItem:23,regionButton:24,regionEmpty:25,transitions:2,transitionIn:3,transitionInParams:4,transitionOut:5,transitionOutParams:6},null,[-1,-1])}get dynamicTransition(){return fl}}function Kn(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20m0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84m52-84a12 12 0 0 1-12 12h-28v28a12 12 0 0 1-24 0v-28H88a12 12 0 0 1 0-24h28V88a12 12 0 0 1 24 0v28h28a12 12 0 0 1 12 12"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let s=0;s<a.length;s+=1)r=V(r,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var i=S(e);t=Ne(i,!0),i.forEach(m),this.h()},h(){t.a=null,ae(e,r)},m(s,i){L(s,e,i),t.m(l,e)},p(s,[i]){ae(e,r=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&s[0]]))},i:J,o:J,d(s){s&&m(e)}}}function Jn(n,e,t){return n.$$set=l=>{t(0,e=V(V({},e),Q(l)))},e=Q(e),[e]}class pt extends x{constructor(e){super(),ee(this,e,Jn,Kn,$,{})}}function Zn(n){let e,t,l,a,r,s=n[0].name+"",i,o,u,c,h=n[0].nb_album+"",f,_,p,g,C,y,b,v,O,k;return y=new pt({}),{c(){e=E("span"),t=E("span"),l=E("img"),r=H(),i=te(s),o=H(),u=E("span"),c=E("small"),f=te(h),_=te(" albums"),p=H(),g=E("span"),C=E("button"),F(y.$$.fragment),this.h()},l(N){e=P(N,"SPAN",{class:!0});var B=S(e);t=P(B,"SPAN",{class:!0});var A=S(t);l=P(A,"IMG",{src:!0,alt:!0,class:!0}),r=M(A),i=le(A,s),A.forEach(m),o=M(B),u=P(B,"SPAN",{class:!0});var T=S(u);c=P(T,"SMALL",{});var Z=S(c);f=le(Z,h),_=le(Z," albums"),Z.forEach(m),T.forEach(m),p=M(B),g=P(B,"SPAN",{class:!0});var ie=S(g);C=P(ie,"BUTTON",{class:!0,title:!0});var Y=S(C);q(y.$$.fragment,Y),Y.forEach(m),ie.forEach(m),B.forEach(m),this.h()},h(){He(l.src,a=n[0].picture_small)||d(l,"src",a),d(l,"alt","artist"),d(l,"class","mx-2"),d(t,"class","flex items-center w-1/3"),d(u,"class","w-1/4"),d(C,"class","!p-0"),d(C,"title","add all artist titles to the playlist"),d(g,"class","btn-group-vertical btn btn-sm gap-y-1"),d(e,"class",b="flex justify-between w-full items-center py-1 cursor-pointer "+n[1])},m(N,B){L(N,e,B),w(e,t),w(t,l),w(t,r),w(t,i),w(e,o),w(e,u),w(u,c),w(c,f),w(c,_),w(e,p),w(e,g),w(g,C),G(y,C,null),v=!0,O||(k=[U(e,"pointerenter",n[3]),U(e,"pointerleave",n[4]),U(e,"click",n[2])],O=!0)},p(N,[B]){(!v||B&1&&!He(l.src,a=N[0].picture_small))&&d(l,"src",a),(!v||B&1)&&s!==(s=N[0].name+"")&&ye(i,s),(!v||B&1)&&h!==(h=N[0].nb_album+"")&&ye(f,h),(!v||B&2&&b!==(b="flex justify-between w-full items-center py-1 cursor-pointer "+N[1]))&&d(e,"class",b)},i(N){v||(I(y.$$.fragment,N),v=!0)},o(N){D(y.$$.fragment,N),v=!1},d(N){N&&m(e),K(y),O=!1,Re(k)}}}function Yn(n,e,t){let{artist:l}=e,a="";function r(o){ue.call(this,n,o)}const s=()=>t(1,a="variant-ghost-success"),i=()=>t(1,a="");return n.$$set=o=>{"artist"in o&&t(0,l=o.artist)},[l,a,r,s,i]}class Wn extends x{constructor(e){super(),ee(this,e,Yn,Zn,$,{artist:0})}}function Qn(n){let e,t;function l(){return n[6](n[8])}return e=new Wn({props:{artist:n[8].meta}}),e.$on("click",l),{c(){F(e.$$.fragment)},l(a){q(e.$$.fragment,a)},m(a,r){G(e,a,r),t=!0},p(a,r){n=a;const s={};r&256&&(s.artist=n[8].meta),e.$set(s)},i(a){t||(I(e.$$.fragment,a),t=!0)},o(a){D(e.$$.fragment,a),t=!1},d(a){K(e,a)}}}function Xn(n){let e,t,l,a,r,s,i,o,u;function c(f){n[7](f)}let h={options:n[1],$$slots:{optionButton:[Qn,({option:f})=>({8:f}),({option:f})=>f?256:0]},$$scope:{ctx:n}};return n[0]!==void 0&&(h.input=n[0]),r=new Gn({props:h}),Ue.push(()=>Ze(r,"input",c)),{c(){e=E("span"),t=E("input"),l=H(),a=E("span"),F(r.$$.fragment),this.h()},l(f){e=P(f,"SPAN",{class:!0});var _=S(e);t=P(_,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),l=M(_),a=P(_,"SPAN",{class:!0,tabindex:!0});var p=S(a);q(r.$$.fragment,p),p.forEach(m),_.forEach(m),this.h()},h(){d(t,"class","input"),d(t,"type","search"),d(t,"name","demo"),d(t,"placeholder","Search..."),d(a,"class","card w-full max-h-fit p-4 overflow-y-auto inline-block"),d(a,"tabindex","-1"),d(e,"class","my-4")},m(f,_){L(f,e,_),w(e,t),Ve(t,n[0]),w(e,l),w(e,a),G(r,a,null),i=!0,o||(u=U(t,"input",n[5]),o=!0)},p(f,[_]){_&1&&t.value!==f[0]&&Ve(t,f[0]);const p={};_&2&&(p.options=f[1]),_&768&&(p.$$scope={dirty:_,ctx:f}),!s&&_&1&&(s=!0,p.input=f[0],Je(()=>s=!1)),r.$set(p)},i(f){i||(I(r.$$.fragment,f),i=!0)},o(f){D(r.$$.fragment,f),i=!1},d(f){f&&m(e),K(r),o=!1,u()}}}function $n(n,e,t){let l,a;const r=st("");Qe(n,r,h=>t(0,l=h));const s=lt(),i=Ol(r,(h,f)=>{if(!h){f([]);return}Xe({apiPath:"/search/artist",searchParams:{q:h}}).then(_=>{const p=_.data.map(g=>({label:`<span class="flex justify-between w-full items-center">
<span class="flex items-center"> <img src="${g.picture_small}" class="mx-2"/>${g.name}</span>
 <button class="btn-icon btn-icon-sm variant-outline-tertiary" title="add all artist titles to the playlist">add</button></span>`,value:g.id,meta:g}));f(p)})});Qe(n,i,h=>t(1,a=h));function o(){l=this.value,r.set(l)}const u=h=>s("artistSelection",h.meta);function c(h){l=h,r.set(l)}return[l,a,r,s,i,o,u,c]}class xn extends x{constructor(e){super(),ee(this,e,$n,Xn,$,{})}}function es(n){let e,t,l='<path fill="currentColor" d="M128 128a12 12 0 0 1-12 12H48a12 12 0 0 1 0-24h68a12 12 0 0 1 12 12M48 76h132a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24m52 104H48a12 12 0 0 0 0 24h52a12 12 0 0 0 0-24m132.49-20.49a12 12 0 0 0-17 0L196 179v-67a12 12 0 0 0-24 0v67l-19.51-19.52a12 12 0 0 0-17 17l40 40a12 12 0 0 0 17 0l40-40a12 12 0 0 0 0-16.97"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let s=0;s<a.length;s+=1)r=V(r,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var i=S(e);t=Ne(i,!0),i.forEach(m),this.h()},h(){t.a=null,ae(e,r)},m(s,i){L(s,e,i),t.m(l,e)},p(s,[i]){ae(e,r=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&s[0]]))},i:J,o:J,d(s){s&&m(e)}}}function ts(n,e,t){return n.$$set=l=>{t(0,e=V(V({},e),Q(l)))},e=Q(e),[e]}class ls extends x{constructor(e){super(),ee(this,e,ts,es,$,{})}}function ns(n){let e,t,l='<path fill="currentColor" d="M36 128a12 12 0 0 1 12-12h68a12 12 0 0 1 0 24H48a12 12 0 0 1-12-12m12-52h52a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24m132 104H48a12 12 0 0 0 0 24h132a12 12 0 0 0 0-24m52.49-100.49l-40-40a12 12 0 0 0-17 0l-40 40a12 12 0 0 0 17 17L172 77v67a12 12 0 0 0 24 0V77l19.51 19.52a12 12 0 0 0 17-17Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let s=0;s<a.length;s+=1)r=V(r,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var i=S(e);t=Ne(i,!0),i.forEach(m),this.h()},h(){t.a=null,ae(e,r)},m(s,i){L(s,e,i),t.m(l,e)},p(s,[i]){ae(e,r=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&s[0]]))},i:J,o:J,d(s){s&&m(e)}}}function ss(n,e,t){return n.$$set=l=>{t(0,e=V(V({},e),Q(l)))},e=Q(e),[e]}class as extends x{constructor(e){super(),ee(this,e,ss,ns,$,{})}}function hl(n,e){e.update(t=>(t.forEach(l=>{l.track.artist.id===n&&(l.selected=!1)}),t))}async function bt(n,e,t){const l=n.id,a=await cl(l);e.update(r=>{const s=a.sort((o,u)=>o.release_date.localeCompare(u.release_date)).flatMap(o=>{const{tracks:u,...c}=o;return o.tracks.map(h=>({...h,album:c}))});s.forEach(o=>{const u=r.find(c=>c.track.id===o.id);u?(u.track.album=o.album,u.selected=!0):r.push({track:o,inPlaylist:!1,selected:!0})});function i(o){return s.findIndex(u=>u.id===o.track.id)}return r.sort((o,u)=>{const c=i(o),h=i(u);return c-h}),t.trigger({message:`Added ${s.length} tracks from ${n.name}`,timeout:3e3}),r})}function rs(n,e){e.update(t=>(t.forEach(l=>{l.track.album.id===n&&(l.selected=!1)}),t))}async function is(n,e){const t=await ul(n.id);e.update(l=>{t.data.forEach(o=>{const u=l.find(c=>c.track.id===o.id);o.album=n,u?(u.track.album=o.album,u.selected=!0):l.push({track:o,inPlaylist:!1,selected:!0})});function a(o){return t.data.findIndex(u=>u.id===o.track.id)+1}function r(o){return l.findIndex(u=>u.track.id===o.track.id)+1}const s=l.findIndex(o=>o.track.album.id===n.id);function i(o){const u=a(o);return u===0?r(o)*1e4:s*1e4+u}return console.log({startIndex:s}),l.sort((o,u)=>{const c=s*1e4+i(o),h=s*1e4+i(u);return c-h}),l})}function ft(n,e){return e.filter(t=>t.track.artist.id===n&&t.selected).length}function os(n,e){const t=n.filter(l=>l.selected||l.inPlaylist);return e.trigger({message:`Removed ${n.length-t.length} track(s) from the playlist`,timeout:3e3}),t}function us(n,e,t){const l=e.ascending?1:-1,a=(o,u)=>ft(o.id,t)-ft(u.id,t),r=(o,u)=>o.name.localeCompare(u.name),s=(o,u)=>(c,h)=>{const f=o(c,h);return f===0?u(c,h):f};return n.sort((o,u)=>{switch(e.orderBy){case"trackCount":return l*s(a,r)(o,u);case"alphabetical":return l*s(r,a)(o,u)}})}function cs(n){let e,t,l='<path fill="currentColor" d="M180 128a12 12 0 0 1-12 12H88a12 12 0 0 1 0-24h80a12 12 0 0 1 12 12m56 0A108 108 0 1 1 128 20a108.12 108.12 0 0 1 108 108m-24 0a84 84 0 1 0-84 84a84.09 84.09 0 0 0 84-84"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let s=0;s<a.length;s+=1)r=V(r,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var i=S(e);t=Ne(i,!0),i.forEach(m),this.h()},h(){t.a=null,ae(e,r)},m(s,i){L(s,e,i),t.m(l,e)},p(s,[i]){ae(e,r=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&s[0]]))},i:J,o:J,d(s){s&&m(e)}}}function fs(n,e,t){return n.$$set=l=>{t(0,e=V(V({},e),Q(l)))},e=Q(e),[e]}class dl extends x{constructor(e){super(),ee(this,e,fs,cs,$,{})}}function hs(n){let e,t,l,a,r,s=n[0].name+"",i;return{c(){e=E("img"),a=H(),r=E("span"),i=te(s),this.h()},l(o){e=P(o,"IMG",{src:!0,alt:!0}),a=M(o),r=P(o,"SPAN",{});var u=S(r);i=le(u,s),u.forEach(m),this.h()},h(){He(e.src,t=n[0].picture_small)||d(e,"src",t),d(e,"alt",l=n[0].name)},m(o,u){L(o,e,u),L(o,a,u),L(o,r,u),w(r,i)},p(o,u){u&1&&!He(e.src,t=o[0].picture_small)&&d(e,"src",t),u&1&&l!==(l=o[0].name)&&d(e,"alt",l),u&1&&s!==(s=o[0].name+"")&&ye(i,s)},d(o){o&&(m(e),m(a),m(r))}}}function ds(n){let e,t,l,a,r,s,i,o,u,c,h,f,_,p,g=n[0].nb_album+"",C,y,b,v,O,k,N,B,A,T,Z,ie;return a=new tt({props:{$$slots:{default:[hs]},$$scope:{ctx:n}}}),k=new pt({}),A=new dl({}),{c(){e=E("li"),t=E("span"),l=E("a"),F(a.$$.fragment),s=H(),i=E("span"),o=E("small"),u=te(n[5]),c=te(" tracks in playlist"),f=H(),_=E("span"),p=E("small"),C=te(g),y=te(" albums"),b=H(),v=E("div"),O=E("button"),F(k.$$.fragment),N=H(),B=E("button"),F(A.$$.fragment),this.h()},l(Y){e=P(Y,"LI",{});var X=S(e);t=P(X,"SPAN",{class:!0});var ne=S(t);l=P(ne,"A",{href:!0,title:!0,class:!0});var Se=S(l);q(a.$$.fragment,Se),Se.forEach(m),s=M(ne),i=P(ne,"SPAN",{class:!0});var me=S(i);o=P(me,"SMALL",{title:!0});var De=S(o);u=le(De,n[5]),c=le(De," tracks in playlist"),De.forEach(m),me.forEach(m),f=M(ne),_=P(ne,"SPAN",{class:!0});var Be=S(_);p=P(Be,"SMALL",{});var he=S(p);C=le(he,g),y=le(he," albums"),he.forEach(m),Be.forEach(m),b=M(ne),v=P(ne,"DIV",{class:!0});var R=S(v);O=P(R,"BUTTON",{class:!0,title:!0});var j=S(O);q(k.$$.fragment,j),j.forEach(m),N=M(R),B=P(R,"BUTTON",{class:!0,title:!0});var z=S(B);q(A.$$.fragment,z),z.forEach(m),R.forEach(m),ne.forEach(m),X.forEach(m),this.h()},h(){d(l,"href",r=n[0].link),d(l,"title","open artist in Deezer web interface"),d(l,"class","w-1/3"),d(o,"title",h="artist has "+n[5]+" tracks in the playlist "),d(i,"class","w-1/4"),d(_,"class","w-1/4"),d(O,"class","!p-0"),d(O,"title","add all artist titles to the playlist"),d(B,"class","!p-0"),d(B,"title","deselect all artist titles from the playlist"),ce(B,"text-gray-500",n[5]===0),d(v,"class","btn-group-vertical btn btn-sm gap-y-1"),d(t,"class","flex flex-row justify-between w-full items-center gap-x-2"),ce(e,"variant-ghost-success",n[3]),ce(e,"variant-ghost-error",n[4])},m(Y,X){L(Y,e,X),w(e,t),w(t,l),G(a,l,null),w(t,s),w(t,i),w(i,o),w(o,u),w(o,c),w(t,f),w(t,_),w(_,p),w(p,C),w(p,y),w(t,b),w(t,v),w(v,O),G(k,O,null),w(v,N),w(v,B),G(A,B,null),T=!0,Z||(ie=[U(O,"mouseenter",n[7]),U(O,"mouseleave",n[8]),U(O,"click",n[9]),U(B,"mouseenter",n[10]),U(B,"mouseleave",n[11]),U(B,"click",n[12])],Z=!0)},p(Y,[X]){const ne={};X&8193&&(ne.$$scope={dirty:X,ctx:Y}),a.$set(ne),(!T||X&1&&r!==(r=Y[0].link))&&d(l,"href",r),(!T||X&32)&&ye(u,Y[5]),(!T||X&32&&h!==(h="artist has "+Y[5]+" tracks in the playlist "))&&d(o,"title",h),(!T||X&1)&&g!==(g=Y[0].nb_album+"")&&ye(C,g),(!T||X&32)&&ce(B,"text-gray-500",Y[5]===0),(!T||X&8)&&ce(e,"variant-ghost-success",Y[3]),(!T||X&16)&&ce(e,"variant-ghost-error",Y[4])},i(Y){T||(I(a.$$.fragment,Y),I(k.$$.fragment,Y),I(A.$$.fragment,Y),T=!0)},o(Y){D(a.$$.fragment,Y),D(k.$$.fragment,Y),D(A.$$.fragment,Y),T=!1},d(Y){Y&&m(e),K(a),K(k),K(A),Z=!1,Re(ie)}}}function ms(n,e,t){let l,a,r=J,s=()=>(r(),r=et(o,b=>t(6,a=b)),o);n.$$.on_destroy.push(()=>r());let{topArtist:i}=e,{trackSelections:o}=e;s();let{toastStore:u}=e,c=!1,h=!1;const f=()=>t(3,c=!0),_=()=>t(3,c=!1),p=()=>bt(i,o,u),g=()=>t(4,h=!0),C=()=>t(4,h=!1),y=()=>hl(i.id,o);return n.$$set=b=>{"topArtist"in b&&t(0,i=b.topArtist),"trackSelections"in b&&s(t(1,o=b.trackSelections)),"toastStore"in b&&t(2,u=b.toastStore)},n.$$.update=()=>{n.$$.dirty&65&&t(5,l=ft(i.id,a))},[i,o,u,c,h,l,a,f,_,p,g,C,y]}class _s extends x{constructor(e){super(),ee(this,e,ms,ds,$,{topArtist:0,trackSelections:1,toastStore:2})}}function Jt(n,e,t){const l=n.slice();return l[11]=e[t],l}function Zt(n){let e,t,l,a,r,s,i;t=new tt({props:{$$slots:{default:[gs]},$$scope:{ctx:n}}}),a=new tt({props:{$$slots:{default:[ys]},$$scope:{ctx:n}}});let o=Fe(n[4]),u=[];for(let h=0;h<o.length;h+=1)u[h]=Yt(Jt(n,o,h));const c=h=>D(u[h],1,1,()=>{u[h]=null});return{c(){e=E("span"),F(t.$$.fragment),l=H(),F(a.$$.fragment),r=H(),s=E("ul");for(let h=0;h<u.length;h+=1)u[h].c();this.h()},l(h){e=P(h,"SPAN",{class:!0});var f=S(e);q(t.$$.fragment,f),l=M(f),q(a.$$.fragment,f),f.forEach(m),r=M(h),s=P(h,"UL",{class:!0});var _=S(s);for(let p=0;p<u.length;p+=1)u[p].l(_);_.forEach(m),this.h()},h(){d(e,"class","flex justify-between w-full items-center gap-x-2 my-4"),d(s,"class","list")},m(h,f){L(h,e,f),G(t,e,null),w(e,l),G(a,e,null),L(h,r,f),L(h,s,f);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(s,null);i=!0},p(h,f){const _={};f&16384&&(_.$$scope={dirty:f,ctx:h}),t.$set(_);const p={};if(f&16385&&(p.$$scope={dirty:f,ctx:h}),a.$set(p),f&28){o=Fe(h[4]);let g;for(g=0;g<o.length;g+=1){const C=Jt(h,o,g);u[g]?(u[g].p(C,f),I(u[g],1)):(u[g]=Yt(C),u[g].c(),I(u[g],1),u[g].m(s,null))}for(be(),g=o.length;g<u.length;g+=1)c(g);ve()}},i(h){if(!i){I(t.$$.fragment,h),I(a.$$.fragment,h);for(let f=0;f<o.length;f+=1)I(u[f]);i=!0}},o(h){D(t.$$.fragment,h),D(a.$$.fragment,h),u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)D(u[f]);i=!1},d(h){h&&(m(e),m(r),m(s)),K(t),K(a),dt(u,h)}}}function gs(n){let e,t="Playlists Artists";return{c(){e=E("h4"),e.textContent=t},l(l){e=P(l,"H4",{"data-svelte-h":!0}),Ce(e)!=="svelte-1fedd7v"&&(e.textContent=t)},m(l,a){L(l,e,a)},p:J,d(l){l&&m(e)}}}function ps(n){let e,t="alphabetical",l,a;return{c(){e=E("button"),e.textContent=t},l(r){e=P(r,"BUTTON",{"data-svelte-h":!0}),Ce(e)!=="svelte-a0poae"&&(e.textContent=t)},m(r,s){L(r,e,s),l||(a=U(e,"click",n[7]),l=!0)},p:J,d(r){r&&m(e),l=!1,a()}}}function bs(n){let e,t="# tracks",l,a;return{c(){e=E("button"),e.textContent=t},l(r){e=P(r,"BUTTON",{"data-svelte-h":!0}),Ce(e)!=="svelte-ms1gv1"&&(e.textContent=t)},m(r,s){L(r,e,s),l||(a=U(e,"click",n[6]),l=!0)},p:J,d(r){r&&m(e),l=!1,a()}}}function vs(n){let e,t,l,a,r;return t=new as({}),{c(){e=E("button"),F(t.$$.fragment)},l(s){e=P(s,"BUTTON",{});var i=S(e);q(t.$$.fragment,i),i.forEach(m)},m(s,i){L(s,e,i),G(t,e,null),l=!0,a||(r=U(e,"click",n[9]),a=!0)},p:J,i(s){l||(I(t.$$.fragment,s),l=!0)},o(s){D(t.$$.fragment,s),l=!1},d(s){s&&m(e),K(t),a=!1,r()}}}function ks(n){let e,t,l,a,r;return t=new ls({}),{c(){e=E("button"),F(t.$$.fragment)},l(s){e=P(s,"BUTTON",{});var i=S(e);q(t.$$.fragment,i),i.forEach(m)},m(s,i){L(s,e,i),G(t,e,null),l=!0,a||(r=U(e,"click",n[8]),a=!0)},p:J,i(s){l||(I(t.$$.fragment,s),l=!0)},o(s){D(t.$$.fragment,s),l=!1},d(s){s&&m(e),K(t),a=!1,r()}}}function ys(n){let e,t,l,a,r;function s(f,_){if(f[0].orderBy==="trackCount")return bs;if(f[0].orderBy==="alphabetical")return ps}let i=s(n),o=i&&i(n);const u=[ks,vs],c=[];function h(f,_){return f[0].ascending?0:1}return t=h(n),l=c[t]=u[t](n),{c(){o&&o.c(),e=H(),l.c(),a=je()},l(f){o&&o.l(f),e=M(f),l.l(f),a=je()},m(f,_){o&&o.m(f,_),L(f,e,_),c[t].m(f,_),L(f,a,_),r=!0},p(f,_){i===(i=s(f))&&o?o.p(f,_):(o&&o.d(1),o=i&&i(f),o&&(o.c(),o.m(e.parentNode,e)));let p=t;t=h(f),t===p?c[t].p(f,_):(be(),D(c[p],1,1,()=>{c[p]=null}),ve(),l=c[t],l?l.p(f,_):(l=c[t]=u[t](f),l.c()),I(l,1),l.m(a.parentNode,a))},i(f){r||(I(l),r=!0)},o(f){D(l),r=!1},d(f){f&&(m(e),m(a)),o&&o.d(f),c[t].d(f)}}}function Yt(n){let e,t;return e=new _s({props:{topArtist:n[11],trackSelections:n[2],toastStore:n[3]}}),{c(){F(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,a){const r={};a&16&&(r.topArtist=l[11]),a&4&&(r.trackSelections=l[2]),a&8&&(r.toastStore=l[3]),e.$set(r)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function ws(n){var a;let e,t,l=((a=n[4])==null?void 0:a.length)>0&&Zt(n);return{c(){l&&l.c(),e=je()},l(r){l&&l.l(r),e=je()},m(r,s){l&&l.m(r,s),L(r,e,s),t=!0},p(r,[s]){var i;((i=r[4])==null?void 0:i.length)>0?l?(l.p(r,s),s&16&&I(l,1)):(l=Zt(r),l.c(),I(l,1),l.m(e.parentNode,e)):l&&(be(),D(l,1,1,()=>{l=null}),ve())},i(r){t||(I(l),t=!0)},o(r){D(l),t=!1},d(r){r&&m(e),l&&l.d(r)}}}function As(n,e,t){let l=J,a=()=>(l(),l=et(u,y=>t(10,y)),u),r,s=J,i=()=>(s(),s=et(o,y=>t(4,r=y)),o);n.$$.on_destroy.push(()=>l()),n.$$.on_destroy.push(()=>s());let{playlistArtists:o}=e;i();let{trackSelections:u}=e;a();let{toastStore:c}=e;const h={ascending:!1,orderBy:"trackCount"};function f(y){y.ascending!==void 0&&t(0,h.ascending=y.ascending,h),y.orderBy!==void 0&&t(0,h.orderBy=y.orderBy,h),o.update(b=>us(b,h,y))}const _=()=>f({orderBy:"alphabetical"}),p=()=>f({orderBy:"trackCount"}),g=()=>f({ascending:!1}),C=()=>f({ascending:!0});return n.$$set=y=>{"playlistArtists"in y&&i(t(1,o=y.playlistArtists)),"trackSelections"in y&&a(t(2,u=y.trackSelections)),"toastStore"in y&&t(3,c=y.toastStore)},[h,o,u,c,r,f,_,p,g,C]}class Ts extends x{constructor(e){super(),ee(this,e,As,ws,$,{playlistArtists:1,trackSelections:2,toastStore:3,playlistArtistsSort:0})}get playlistArtistsSort(){return this.$$.ctx[0]}}function Es(n){let e;return{c(){e=te("Private")},l(t){e=le(t,"Private")},m(t,l){L(t,e,l)},d(t){t&&m(e)}}}function Ps(n){let e;return{c(){e=te("Public")},l(t){e=le(t,"Public")},m(t,l){L(t,e,l)},d(t){t&&m(e)}}}function Ss(n){let e;function t(r,s){return r[0].public?Ps:Es}let l=t(n),a=l(n);return{c(){a.c(),e=te(" playlist")},l(r){a.l(r),e=le(r," playlist")},m(r,s){a.m(r,s),L(r,e,s)},p(r,s){l!==(l=t(r))&&(a.d(1),a=l(r),a&&(a.c(),a.m(e.parentNode,e)))},d(r){r&&m(e),a.d(r)}}}function Bs(n){let e,t,l,a,r,s="Title",i,o,u,c,h,f,_,p,g,C="Description",y,b,v,O,k;function N(A){n[2](A)}let B={name:"slider-label",$$slots:{default:[Ss]},$$scope:{ctx:n}};return n[0].public!==void 0&&(B.checked=n[0].public),h=new un({props:B}),Ue.push(()=>Ze(h,"checked",N)),{c(){e=E("form"),t=E("div"),l=E("div"),a=E("label"),r=E("span"),r.textContent=s,i=H(),o=E("input"),u=H(),c=E("div"),F(h.$$.fragment),_=H(),p=E("label"),g=E("span"),g.textContent=C,y=H(),b=E("textarea"),this.h()},l(A){e=P(A,"FORM",{class:!0});var T=S(e);t=P(T,"DIV",{class:!0});var Z=S(t);l=P(Z,"DIV",{class:!0});var ie=S(l);a=P(ie,"LABEL",{class:!0});var Y=S(a);r=P(Y,"SPAN",{"data-svelte-h":!0}),Ce(r)!=="svelte-7ccxmo"&&(r.textContent=s),i=M(Y),o=P(Y,"INPUT",{class:!0,type:!0,placeholder:!0}),Y.forEach(m),ie.forEach(m),u=M(Z),c=P(Z,"DIV",{});var X=S(c);q(h.$$.fragment,X),X.forEach(m),Z.forEach(m),_=M(T),p=P(T,"LABEL",{class:!0});var ne=S(p);g=P(ne,"SPAN",{"data-svelte-h":!0}),Ce(g)!=="svelte-rmspr8"&&(g.textContent=C),y=M(ne),b=P(ne,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),S(b).forEach(m),ne.forEach(m),T.forEach(m),this.h()},h(){d(o,"class","input"),d(o,"type","text"),d(o,"placeholder","title"),ce(o,"input-error",!n[0].title),d(a,"class","label"),d(l,"class","col-span-5"),d(t,"class","grid grid-cols-6"),d(b,"class","textarea"),d(b,"rows","4"),d(b,"placeholder",""),ce(b,"input-error",!n[0].description),d(p,"class","label"),d(e,"class","mb-10 space-y-2")},m(A,T){L(A,e,T),w(e,t),w(t,l),w(l,a),w(a,r),w(a,i),w(a,o),Ve(o,n[0].title),w(t,u),w(t,c),G(h,c,null),w(e,_),w(e,p),w(p,g),w(p,y),w(p,b),Ve(b,n[0].description),v=!0,O||(k=[U(o,"input",n[1]),U(b,"input",n[3])],O=!0)},p(A,[T]){T&1&&o.value!==A[0].title&&Ve(o,A[0].title),(!v||T&1)&&ce(o,"input-error",!A[0].title);const Z={};T&17&&(Z.$$scope={dirty:T,ctx:A}),!f&&T&1&&(f=!0,Z.checked=A[0].public,Je(()=>f=!1)),h.$set(Z),T&1&&Ve(b,A[0].description),(!v||T&1)&&ce(b,"input-error",!A[0].description)},i(A){v||(I(h.$$.fragment,A),v=!0)},o(A){D(h.$$.fragment,A),v=!1},d(A){A&&m(e),K(h),O=!1,Re(k)}}}function Cs(n,e,t){let{playlist:l}=e;function a(){l.title=this.value,t(0,l)}function r(i){n.$$.not_equal(l.public,i)&&(l.public=i,t(0,l))}function s(){l.description=this.value,t(0,l)}return n.$$set=i=>{"playlist"in i&&t(0,l=i.playlist)},[l,a,r,s]}class Is extends x{constructor(e){super(),ee(this,e,Cs,Bs,$,{playlist:0})}}function Ns(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20m0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84m40-84a12 12 0 0 1-5.12 9.83l-40 28A12 12 0 0 1 104 156v-56a12 12 0 0 1 18.88-9.83l40 28A12 12 0 0 1 168 128"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let s=0;s<a.length;s+=1)r=V(r,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var i=S(e);t=Ne(i,!0),i.forEach(m),this.h()},h(){t.a=null,ae(e,r)},m(s,i){L(s,e,i),t.m(l,e)},p(s,[i]){ae(e,r=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&s[0]]))},i:J,o:J,d(s){s&&m(e)}}}function Ds(n,e,t){return n.$$set=l=>{t(0,e=V(V({},e),Q(l)))},e=Q(e),[e]}class Ls extends x{constructor(e){super(),ee(this,e,Ds,Ns,$,{})}}function Os(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20m0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84M116 96v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0m48 0v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let s=0;s<a.length;s+=1)r=V(r,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var i=S(e);t=Ne(i,!0),i.forEach(m),this.h()},h(){t.a=null,ae(e,r)},m(s,i){L(s,e,i),t.m(l,e)},p(s,[i]){ae(e,r=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&s[0]]))},i:J,o:J,d(s){s&&m(e)}}}function zs(n,e,t){return n.$$set=l=>{t(0,e=V(V({},e),Q(l)))},e=Q(e),[e]}class Rs extends x{constructor(e){super(),ee(this,e,zs,Os,$,{})}}function js(n){let e,t,l,a,r;return t=new Rs({}),{c(){e=E("span"),F(t.$$.fragment),this.h()},l(s){e=P(s,"SPAN",{role:!0});var i=S(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){d(e,"role","button")},m(s,i){L(s,e,i),G(t,e,null),l=!0,a||(r=U(e,"click",n[4]),a=!0)},p:J,i(s){l||(I(t.$$.fragment,s),l=!0)},o(s){D(t.$$.fragment,s),l=!1},d(s){s&&m(e),K(t),a=!1,r()}}}function Hs(n){let e,t,l,a,r;return t=new Ls({}),{c(){e=E("span"),F(t.$$.fragment),this.h()},l(s){e=P(s,"SPAN",{role:!0});var i=S(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){d(e,"role","button")},m(s,i){L(s,e,i),G(t,e,null),l=!0,a||(r=U(e,"click",n[4]),a=!0)},p:J,i(s){l||(I(t.$$.fragment,s),l=!0)},o(s){D(t.$$.fragment,s),l=!1},d(s){s&&m(e),K(t),a=!1,r()}}}function Ms(n){let e,t,l=!0,a,r,s,i,o,u,c;const h=[Hs,js],f=[];function _(p,g){return p[0]?0:1}return s=_(n),i=f[s]=h[s](n),{c(){e=E("audio"),a=H(),r=E("span"),i.c(),this.h()},l(p){e=P(p,"AUDIO",{src:!0}),S(e).forEach(m),a=M(p),r=P(p,"SPAN",{});var g=S(r);i.l(g),g.forEach(m),this.h()},h(){He(e.src,t=n[1])||d(e,"src",t),e.loop=n[2],ce(r,"text-gray-500",!n[3])},m(p,g){L(p,e,g),L(p,a,g),L(p,r,g),f[s].m(r,null),o=!0,u||(c=[U(e,"play",n[5]),U(e,"pause",n[5])],u=!0)},p(p,[g]){(!o||g&2&&!He(e.src,t=p[1]))&&d(e,"src",t),(!o||g&4)&&(e.loop=p[2]),g&1&&l!==(l=p[0])&&e[l?"pause":"play"]();let C=s;s=_(p),s===C?f[s].p(p,g):(be(),D(f[C],1,1,()=>{f[C]=null}),ve(),i=f[s],i?i.p(p,g):(i=f[s]=h[s](p),i.c()),I(i,1),i.m(r,null)),(!o||g&8)&&ce(r,"text-gray-500",!p[3])},i(p){o||(I(i),o=!0)},o(p){D(i),o=!1},d(p){p&&(m(e),m(a),m(r)),f[s].d(),u=!1,Re(c)}}}function Us(n,e,t){let{src:l}=e,{loop:a=!1}=e,{enabled:r=!0}=e,{paused:s=!0}=e;function i(){r&&t(0,s=!s)}function o(){s=this.paused,t(0,s)}return n.$$set=u=>{"src"in u&&t(1,l=u.src),"loop"in u&&t(2,a=u.loop),"enabled"in u&&t(3,r=u.enabled),"paused"in u&&t(0,s=u.paused)},[s,l,a,r,i,o]}class Vs extends x{constructor(e){super(),ee(this,e,Us,Ms,$,{src:1,loop:2,enabled:3,paused:0})}}function Fs(n){let e,t,l,a;const r=n[4].default,s=we(r,n,n[3],null);return{c(){e=E("td"),t=E("div"),s&&s.c(),this.h()},l(i){e=P(i,"TD",{style:!0,title:!0,class:!0});var o=S(e);t=P(o,"DIV",{class:!0});var u=S(t);s&&s.l(u),u.forEach(m),o.forEach(m),this.h()},h(){d(t,"class",l="flex items-center justify-"+n[0]+" gap-x-2 h-full"),Bl(e,"vertical-align","middle"),d(e,"title",n[1]),d(e,"class",n[2])},m(i,o){L(i,e,o),w(e,t),s&&s.m(t,null),a=!0},p(i,[o]){s&&s.p&&(!a||o&8)&&Ae(s,r,i,i[3],a?Ee(r,i[3],o,null):Te(i[3]),null),(!a||o&1&&l!==(l="flex items-center justify-"+i[0]+" gap-x-2 h-full"))&&d(t,"class",l),(!a||o&2)&&d(e,"title",i[1]),(!a||o&4)&&d(e,"class",i[2])},i(i){a||(I(s,i),a=!0)},o(i){D(s,i),a=!1},d(i){i&&m(e),s&&s.d(i)}}}function qs(n,e,t){let{$$slots:l={},$$scope:a}=e,{justify:r="center"}=e,{title:s=""}=e,{class:i=""}=e;return n.$$set=o=>{"justify"in o&&t(0,r=o.justify),"title"in o&&t(1,s=o.title),"class"in o&&t(2,i=o.class),"$$scope"in o&&t(3,a=o.$$scope)},[r,s,i,a,l]}class Ke extends x{constructor(e){super(),ee(this,e,qs,Fs,$,{justify:0,title:1,class:2})}}function Gs(n){let e,t,l='<path fill="currentColor" d="M243 96.05a20 20 0 0 0-17.26-13.72l-57-4.93l-22.3-53.14a20 20 0 0 0-36.82 0L87.29 77.4l-57 4.93a20 20 0 0 0-11.42 35.07l43.32 37.8l-13 56.24A20 20 0 0 0 79 233.1l49-29.76l49 29.76a20 20 0 0 0 29.8-21.66l-13-56.24l43.32-37.8A20 20 0 0 0 243 96.05m-66.75 42.62a20 20 0 0 0-6.35 19.63l11.39 49.32l-42.94-26.08a19.9 19.9 0 0 0-20.7 0l-42.94 26.08L86.1 158.3a20 20 0 0 0-6.35-19.63l-38.09-33.23l50.14-4.34a19.92 19.92 0 0 0 16.69-12.19L128 42.42l19.51 46.49a19.92 19.92 0 0 0 16.69 12.19l50.14 4.34Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let s=0;s<a.length;s+=1)r=V(r,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var i=S(e);t=Ne(i,!0),i.forEach(m),this.h()},h(){t.a=null,ae(e,r)},m(s,i){L(s,e,i),t.m(l,e)},p(s,[i]){ae(e,r=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&s[0]]))},i:J,o:J,d(s){s&&m(e)}}}function Ks(n,e,t){return n.$$set=l=>{t(0,e=V(V({},e),Q(l)))},e=Q(e),[e]}class Js extends x{constructor(e){super(),ee(this,e,Ks,Gs,$,{})}}function Zs(n){let e,t,l='<g fill="currentColor"><path d="M184.13 147.7a8.08 8.08 0 0 0-2.54 7.89l13.52 58.54a8 8 0 0 1-11.89 8.69l-51.1-31a7.93 7.93 0 0 0-8.24 0l-51.1 31a8 8 0 0 1-11.89-8.69l13.52-58.54a8.08 8.08 0 0 0-2.54-7.89l-45.11-39.35a8 8 0 0 1 4.54-14.07l59.46-5.14a8 8 0 0 0 6.67-4.88l23.23-55.36a8 8 0 0 1 14.68 0l23.23 55.36a8 8 0 0 0 6.67 4.88l59.46 5.14a8 8 0 0 1 4.54 14.07Z" opacity=".2"/><path d="M239.2 97.29a16 16 0 0 0-13.81-11L166 81.17l-23.28-55.36a15.95 15.95 0 0 0-29.44 0L90.07 81.17l-59.46 5.15a16 16 0 0 0-9.11 28.06l45.11 39.42l-13.52 58.54a16 16 0 0 0 23.84 17.34l51-31l51.11 31a16 16 0 0 0 23.84-17.34l-13.51-58.6l45.1-39.36a16 16 0 0 0 4.73-17.09m-15.22 5l-45.1 39.36a16 16 0 0 0-5.08 15.71L187.35 216l-51.07-31a15.9 15.9 0 0 0-16.54 0l-51 31l13.46-58.6a16 16 0 0 0-5.08-15.71L32 102.35a.37.37 0 0 1 0-.09l59.44-5.14a16 16 0 0 0 13.35-9.75L128 32.08l23.2 55.29a16 16 0 0 0 13.35 9.75l59.45 5.14v.07Z"/></g>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let s=0;s<a.length;s+=1)r=V(r,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var i=S(e);t=Ne(i,!0),i.forEach(m),this.h()},h(){t.a=null,ae(e,r)},m(s,i){L(s,e,i),t.m(l,e)},p(s,[i]){ae(e,r=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&s[0]]))},i:J,o:J,d(s){s&&m(e)}}}function Ys(n,e,t){return n.$$set=l=>{t(0,e=V(V({},e),Q(l)))},e=Q(e),[e]}class Ws extends x{constructor(e){super(),ee(this,e,Ys,Zs,$,{})}}function Qs(n){let e,t,l='<path fill="currentColor" d="m234.5 114.38l-45.1 39.36l13.51 58.6a16 16 0 0 1-23.84 17.34l-51.11-31l-51 31a16 16 0 0 1-23.84-17.34l13.49-58.54l-45.11-39.42a16 16 0 0 1 9.11-28.06l59.46-5.15l23.21-55.36a15.95 15.95 0 0 1 29.44 0L166 81.17l59.44 5.15a16 16 0 0 1 9.11 28.06Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],r={};for(let s=0;s<a.length;s+=1)r=V(r,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var i=S(e);t=Ne(i,!0),i.forEach(m),this.h()},h(){t.a=null,ae(e,r)},m(s,i){L(s,e,i),t.m(l,e)},p(s,[i]){ae(e,r=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&s[0]]))},i:J,o:J,d(s){s&&m(e)}}}function Xs(n,e,t){return n.$$set=l=>{t(0,e=V(V({},e),Q(l)))},e=Q(e),[e]}class $s extends x{constructor(e){super(),ee(this,e,Xs,Qs,$,{})}}function xs(n){let e,t,l,a,r,s,i,o,u,c,h,f;const _=n[5].default,p=we(_,n,n[4],null);return r=new pt({}),o=new dl({}),{c(){e=E("span"),p&&p.c(),t=H(),l=E("span"),a=E("button"),F(r.$$.fragment),s=H(),i=E("button"),F(o.$$.fragment),this.h()},l(g){e=P(g,"SPAN",{class:!0});var C=S(e);p&&p.l(C),t=M(C),l=P(C,"SPAN",{class:!0});var y=S(l);a=P(y,"BUTTON",{class:!0,title:!0});var b=S(a);q(r.$$.fragment,b),b.forEach(m),s=M(y),i=P(y,"BUTTON",{class:!0,title:!0});var v=S(i);q(o.$$.fragment,v),v.forEach(m),y.forEach(m),C.forEach(m),this.h()},h(){d(a,"class","!p-0 "),d(a,"title",n[0]),d(i,"class","!p-0"),d(i,"title",n[1]),d(l,"class","btn-group-vertical btn btn-sm gap-y-1"),d(e,"class",u="flex flex-row justify-between w-full items-center py-1 gap-x-2 "+n[2])},m(g,C){L(g,e,C),p&&p.m(e,null),w(e,t),w(e,l),w(l,a),G(r,a,null),w(l,s),w(l,i),G(o,i,null),c=!0,h||(f=[U(a,"click",n[6]),U(a,"pointerenter",n[7]),U(a,"pointerleave",n[8]),U(i,"click",n[9]),U(i,"pointerenter",n[10]),U(i,"pointerleave",n[11])],h=!0)},p(g,[C]){p&&p.p&&(!c||C&16)&&Ae(p,_,g,g[4],c?Ee(_,g[4],C,null):Te(g[4]),null),(!c||C&1)&&d(a,"title",g[0]),(!c||C&2)&&d(i,"title",g[1]),(!c||C&4&&u!==(u="flex flex-row justify-between w-full items-center py-1 gap-x-2 "+g[2]))&&d(e,"class",u)},i(g){c||(I(p,g),I(r.$$.fragment,g),I(o.$$.fragment,g),c=!0)},o(g){D(p,g),D(r.$$.fragment,g),D(o.$$.fragment,g),c=!1},d(g){g&&m(e),p&&p.d(g),K(r),K(o),h=!1,Re(f)}}}function ea(n,e,t){let{$$slots:l={},$$scope:a}=e;const r=lt();let{addTitle:s="add all album titles to the playlist"}=e,{removeTitle:i="deselect all album titles from the playlist"}=e,o="";const u=()=>r("add"),c=()=>t(2,o="variant-ghost-success"),h=()=>t(2,o=""),f=()=>r("remove"),_=()=>t(2,o="variant-ghost-error"),p=()=>t(2,o="");return n.$$set=g=>{"addTitle"in g&&t(0,s=g.addTitle),"removeTitle"in g&&t(1,i=g.removeTitle),"$$scope"in g&&t(4,a=g.$$scope)},[s,i,o,r,a,l,u,c,h,f,_,p]}class ml extends x{constructor(e){super(),ee(this,e,ea,xs,$,{addTitle:0,removeTitle:1})}}function Wt(n,e,t){const l=n.slice();l[18]=e[t],l[20]=e,l[21]=t;const a=l[18].track;return l[19]=a,l}function ta(n){let e,t,l;function a(){n[11].call(e,n[20],n[21])}return{c(){e=E("input"),this.h()},l(r){e=P(r,"INPUT",{type:!0,class:!0}),this.h()},h(){d(e,"type","checkbox"),d(e,"class","checkbox")},m(r,s){L(r,e,s),e.checked=n[18].selected,t||(l=[U(e,"change",a),U(e,"change",n[12])],t=!0)},p(r,s){n=r,s&128&&(e.checked=n[18].selected)},d(r){r&&m(e),t=!1,Re(l)}}}function la(n){let e,t=n[21]+1+"",l;return{c(){e=E("span"),l=te(t)},l(a){e=P(a,"SPAN",{});var r=S(e);l=le(r,t),r.forEach(m)},m(a,r){L(a,e,r),w(e,l)},p:J,d(a){a&&m(e)}}}function na(n){let e,t,l,a,r=n[19].title+"",s,i,o;return e=new Vs({props:{src:n[19].preview,enabled:n[19].readable}}),{c(){F(e.$$.fragment),t=H(),l=E("a"),a=E("span"),s=te(r),this.h()},l(u){q(e.$$.fragment,u),t=M(u),l=P(u,"A",{href:!0,title:!0});var c=S(l);a=P(c,"SPAN",{class:!0});var h=S(a);s=le(h,r),h.forEach(m),c.forEach(m),this.h()},h(){d(a,"class","whitespace-normal"),d(l,"href",i=n[19].link),d(l,"title","open track in Deezer web interface")},m(u,c){G(e,u,c),L(u,t,c),L(u,l,c),w(l,a),w(a,s),o=!0},p(u,c){const h={};c&128&&(h.src=u[19].preview),c&128&&(h.enabled=u[19].readable),e.$set(h),(!o||c&128)&&r!==(r=u[19].title+"")&&ye(s,r),(!o||c&128&&i!==(i=u[19].link))&&d(l,"href",i)},i(u){o||(I(e.$$.fragment,u),o=!0)},o(u){D(e.$$.fragment,u),o=!1},d(u){u&&(m(t),m(l)),K(e,u)}}}function sa(n){let e,t,l,a,r=n[19].album.title+"",s;return{c(){e=E("img"),l=H(),a=E("span"),s=te(r),this.h()},l(i){e=P(i,"IMG",{class:!0,src:!0,alt:!0}),l=M(i),a=P(i,"SPAN",{class:!0});var o=S(a);s=le(o,r),o.forEach(m),this.h()},h(){d(e,"class","largeonly"),He(e.src,t=n[19].album.cover_small)||d(e,"src",t),d(e,"alt","album cover"),d(a,"class","whitespace-normal")},m(i,o){L(i,e,o),L(i,l,o),L(i,a,o),w(a,s)},p(i,o){o&128&&!He(e.src,t=i[19].album.cover_small)&&d(e,"src",t),o&128&&r!==(r=i[19].album.title+"")&&ye(s,r)},d(i){i&&(m(e),m(l),m(a))}}}function aa(n){let e,t,l,a;return t=new tt({props:{$$slots:{default:[sa]},$$scope:{ctx:n}}}),{c(){e=E("a"),F(t.$$.fragment),this.h()},l(r){e=P(r,"A",{href:!0,title:!0});var s=S(e);q(t.$$.fragment,s),s.forEach(m),this.h()},h(){d(e,"href",l="https://www.deezer.com/album/"+n[19].album.id),d(e,"title","open album in Deezer web interface")},m(r,s){L(r,e,s),G(t,e,null),a=!0},p(r,s){const i={};s&4194432&&(i.$$scope={dirty:s,ctx:r}),t.$set(i),(!a||s&128&&l!==(l="https://www.deezer.com/album/"+r[19].album.id))&&d(e,"href",l)},i(r){a||(I(t.$$.fragment,r),a=!0)},o(r){D(t.$$.fragment,r),a=!1},d(r){r&&m(e),K(t)}}}function ra(n){let e,t;function l(){return n[13](n[19])}function a(){return n[14](n[19])}return e=new ml({props:{addTitle:"add all album titles to the playlist",removeTitle:"deselect all album titles from the playlist",$$slots:{default:[aa]},$$scope:{ctx:n}}}),e.$on("add",l),e.$on("remove",a),{c(){F(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,s){G(e,r,s),t=!0},p(r,s){n=r;const i={};s&4194432&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){D(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ia(n){let e,t,l,a,r=n[19].artist.name+"",s;return{c(){e=E("img"),l=H(),a=E("span"),s=te(r),this.h()},l(i){e=P(i,"IMG",{class:!0,src:!0,alt:!0}),l=M(i),a=P(i,"SPAN",{class:!0});var o=S(a);s=le(o,r),o.forEach(m),this.h()},h(){var i;d(e,"class","largeonly"),He(e.src,t=(i=$t(n[19],n[1]))==null?void 0:i.picture_small)||d(e,"src",t),d(e,"alt","artist"),d(a,"class","whitespace-normal")},m(i,o){L(i,e,o),L(i,l,o),L(i,a,o),w(a,s)},p(i,o){var u;o&130&&!He(e.src,t=(u=$t(i[19],i[1]))==null?void 0:u.picture_small)&&d(e,"src",t),o&128&&r!==(r=i[19].artist.name+"")&&ye(s,r)},d(i){i&&(m(e),m(l),m(a))}}}function oa(n){let e,t,l,a;return t=new tt({props:{$$slots:{default:[ia]},$$scope:{ctx:n}}}),{c(){e=E("a"),F(t.$$.fragment),this.h()},l(r){e=P(r,"A",{href:!0,title:!0});var s=S(e);q(t.$$.fragment,s),s.forEach(m),this.h()},h(){d(e,"href",l=n[19].artist.link),d(e,"title","open artist in Deezer web interface")},m(r,s){L(r,e,s),G(t,e,null),a=!0},p(r,s){const i={};s&4194434&&(i.$$scope={dirty:s,ctx:r}),t.$set(i),(!a||s&128&&l!==(l=r[19].artist.link))&&d(e,"href",l)},i(r){a||(I(t.$$.fragment,r),a=!0)},o(r){D(t.$$.fragment,r),a=!1},d(r){r&&m(e),K(t)}}}function ua(n){let e,t;function l(){return n[15](n[19])}function a(){return n[16](n[19])}return e=new ml({props:{addTitle:"add all artist titles to the playlist",removeTitle:"deselect all artist titles from the playlist",$$slots:{default:[oa]},$$scope:{ctx:n}}}),e.$on("add",l),e.$on("remove",a),{c(){F(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,s){G(e,r,s),t=!0},p(r,s){n=r;const i={};s&4194434&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){D(e.$$.fragment,r),t=!1},d(r){K(e,r)}}}function ca(n){let e,t;return e=new Js({}),{c(){F(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function fa(n){let e,t;return e=new Ws({}),{c(){F(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function ha(n){let e,t;return e=new $s({}),{c(){F(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function da(n){let e,t;return e=new tn({props:{value:5*n[19].rank/n[6],max:5,regionIcon:"!m-0",$$slots:{full:[ha],half:[fa],empty:[ca]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,a){const r={};a&192&&(r.value=5*l[19].rank/l[6]),a&4194304&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function ma(n){let e=n[8](n[19].duration*1e3)+"",t,l,a;return{c(){t=te(e),l=H(),a=E("span"),this.h()},l(r){t=le(r,e),l=M(r),a=P(r,"SPAN",{class:!0}),S(a).forEach(m),this.h()},h(){d(a,"class","grow")},m(r,s){L(r,t,s),L(r,l,s),L(r,a,s)},p(r,s){s&128&&e!==(e=r[8](r[19].duration*1e3)+"")&&ye(t,e)},d(r){r&&(m(t),m(l),m(a))}}}function Qt(n){let e,t,l,a,r,s,i,o,u,c,h,f,_,p,g,C,y;return t=new Ke({props:{$$slots:{default:[ta]},$$scope:{ctx:n}}}),a=new Ke({props:{class:"largeonly",$$slots:{default:[la]},$$scope:{ctx:n}}}),s=new Ke({props:{justify:"start",$$slots:{default:[na]},$$scope:{ctx:n}}}),o=new Ke({props:{justify:"start",$$slots:{default:[ra]},$$scope:{ctx:n}}}),c=new Ke({props:{justify:"start",$$slots:{default:[ua]},$$scope:{ctx:n}}}),f=new Ke({props:{class:"largeonly",title:n[19].rank,$$slots:{default:[da]},$$scope:{ctx:n}}}),p=new Ke({props:{class:"largeonly",$$slots:{default:[ma]},$$scope:{ctx:n}}}),{c(){e=E("tr"),F(t.$$.fragment),l=H(),F(a.$$.fragment),r=H(),F(s.$$.fragment),i=H(),F(o.$$.fragment),u=H(),F(c.$$.fragment),h=H(),F(f.$$.fragment),_=H(),F(p.$$.fragment),g=H(),this.h()},l(b){e=P(b,"TR",{class:!0});var v=S(e);q(t.$$.fragment,v),l=M(v),q(a.$$.fragment,v),r=M(v),q(s.$$.fragment,v),i=M(v),q(o.$$.fragment,v),u=M(v),q(c.$$.fragment,v),h=M(v),q(f.$$.fragment,v),_=M(v),q(p.$$.fragment,v),g=M(v),v.forEach(m),this.h()},h(){d(e,"class",C=Et(Xt(n[18]))+" svelte-156y7de"),ce(e,"!text-red-500",!n[19].readable)},m(b,v){L(b,e,v),G(t,e,null),w(e,l),G(a,e,null),w(e,r),G(s,e,null),w(e,i),G(o,e,null),w(e,u),G(c,e,null),w(e,h),G(f,e,null),w(e,_),G(p,e,null),w(e,g),y=!0},p(b,v){const O={};v&4194433&&(O.$$scope={dirty:v,ctx:b}),t.$set(O);const k={};v&4194304&&(k.$$scope={dirty:v,ctx:b}),a.$set(k);const N={};v&4194432&&(N.$$scope={dirty:v,ctx:b}),s.$set(N);const B={};v&4194433&&(B.$$scope={dirty:v,ctx:b}),o.$set(B);const A={};v&4194439&&(A.$$scope={dirty:v,ctx:b}),c.$set(A);const T={};v&128&&(T.title=b[19].rank),v&4194496&&(T.$$scope={dirty:v,ctx:b}),f.$set(T);const Z={};v&4194432&&(Z.$$scope={dirty:v,ctx:b}),p.$set(Z),(!y||v&128&&C!==(C=Et(Xt(b[18]))+" svelte-156y7de"))&&d(e,"class",C),(!y||v&128)&&ce(e,"!text-red-500",!b[19].readable)},i(b){y||(I(t.$$.fragment,b),I(a.$$.fragment,b),I(s.$$.fragment,b),I(o.$$.fragment,b),I(c.$$.fragment,b),I(f.$$.fragment,b),I(p.$$.fragment,b),y=!0)},o(b){D(t.$$.fragment,b),D(a.$$.fragment,b),D(s.$$.fragment,b),D(o.$$.fragment,b),D(c.$$.fragment,b),D(f.$$.fragment,b),D(p.$$.fragment,b),y=!1},d(b){b&&m(e),K(t),K(a),K(s),K(o),K(c),K(f),K(p)}}}function _a(n){var yt;let e,t,l,a,r,s,i=((yt=n[5])==null?void 0:yt.filter(xt).length)+"",o,u,c=n[5].filter(el).length+"",h,f,_,p,g,C,y,b,v,O,k,N,B,A="Pos.",T,Z,ie="Title",Y,X,ne="Album",Se,me,De="Artist",Be,he,R="rank",j,z,de="duration",fe,_e,ge,pe,it,Me,ot,vt,qe=Fe(n[7]),se=[];for(let W=0;W<qe.length;W+=1)se[W]=Qt(Wt(n,qe,W));const _l=W=>D(se[W],1,1,()=>{se[W]=null});function gl(W){n[17](W)}let kt={showFirstLastButtons:!0,showPreviousNextButtons:!0};return n[3]!==void 0&&(kt.settings=n[3]),pe=new Al({props:kt}),Ue.push(()=>Ze(pe,"settings",gl)),{c(){e=E("span"),t=E("table"),l=E("thead"),a=E("tr"),r=E("td"),s=E("span"),o=te(i),u=te(` selected
                            Tracks (`),h=te(c),f=te(`
                            in playlist)`),_=H(),p=E("td"),g=E("input"),C=H(),y=E("tr"),b=E("th"),v=E("input"),N=H(),B=E("th"),B.textContent=A,T=H(),Z=E("th"),Z.textContent=ie,Y=H(),X=E("th"),X.textContent=ne,Se=H(),me=E("th"),me.textContent=De,Be=H(),he=E("th"),he.textContent=R,j=H(),z=E("th"),z.textContent=de,fe=H(),_e=E("tbody");for(let W=0;W<se.length;W+=1)se[W].c();ge=H(),F(pe.$$.fragment),this.h()},l(W){e=P(W,"SPAN",{class:!0});var re=S(e);t=P(re,"TABLE",{class:!0});var Le=S(t);l=P(Le,"THEAD",{});var Ge=S(l);a=P(Ge,"TR",{});var oe=S(a);r=P(oe,"TD",{colspan:!0});var $e=S(r);s=P($e,"SPAN",{});var xe=S(s);o=le(xe,i),u=le(xe,` selected
                            Tracks (`),h=le(xe,c),f=le(xe,`
                            in playlist)`),xe.forEach(m),$e.forEach(m),_=M(oe),p=P(oe,"TD",{colspan:!0});var wt=S(p);g=P(wt,"INPUT",{class:!0,title:!0,type:!0,placeholder:!0}),wt.forEach(m),oe.forEach(m),C=M(Ge),y=P(Ge,"TR",{class:!0});var ke=S(y);b=P(ke,"TH",{});var At=S(b);v=P(At,"INPUT",{type:!0,class:!0}),At.forEach(m),N=M(ke),B=P(ke,"TH",{class:!0,"data-svelte-h":!0}),Ce(B)!=="svelte-658ja8"&&(B.textContent=A),T=M(ke),Z=P(ke,"TH",{class:!0,"data-svelte-h":!0}),Ce(Z)!=="svelte-72in4j"&&(Z.textContent=ie),Y=M(ke),X=P(ke,"TH",{class:!0,"data-svelte-h":!0}),Ce(X)!=="svelte-1s5xtmm"&&(X.textContent=ne),Se=M(ke),me=P(ke,"TH",{class:!0,"data-svelte-h":!0}),Ce(me)!=="svelte-10j6hm0"&&(me.textContent=De),Be=M(ke),he=P(ke,"TH",{class:!0,"data-svelte-h":!0}),Ce(he)!=="svelte-978f2u"&&(he.textContent=R),j=M(ke),z=P(ke,"TH",{class:!0,"data-svelte-h":!0}),Ce(z)!=="svelte-n6csf5"&&(z.textContent=de),ke.forEach(m),Ge.forEach(m),fe=M(Le),_e=P(Le,"TBODY",{});var Tt=S(_e);for(let ut=0;ut<se.length;ut+=1)se[ut].l(Tt);Tt.forEach(m),Le.forEach(m),ge=M(re),q(pe.$$.fragment,re),re.forEach(m),this.h()},h(){d(r,"colspan","3"),d(g,"class","input"),d(g,"title","Input (search)"),d(g,"type","search"),d(g,"placeholder","Search..."),d(p,"colspan","4"),d(v,"type","checkbox"),d(v,"class","checkbox"),v.checked=O=n[7].filter(tl).length===n[7].length&&n[7].length>0,v.indeterminate=k=n[7].filter(ll).length!==n[7].length&&n[7].filter(nl).length>0,d(B,"class","largeonly"),d(Z,"class",""),d(X,"class","max-w-xs"),d(me,"class","max-w-xs"),d(he,"class","largeonly"),d(z,"class","largeonly w-16"),d(y,"class",""),d(t,"class","table table-compact my-4"),d(e,"class","table-container")},m(W,re){L(W,e,re),w(e,t),w(t,l),w(l,a),w(a,r),w(r,s),w(s,o),w(s,u),w(s,h),w(s,f),w(a,_),w(a,p),w(p,g),Ve(g,n[4]),w(l,C),w(l,y),w(y,b),w(b,v),w(y,N),w(y,B),w(y,T),w(y,Z),w(y,Y),w(y,X),w(y,Se),w(y,me),w(y,Be),w(y,he),w(y,j),w(y,z),w(t,fe),w(t,_e);for(let Le=0;Le<se.length;Le+=1)se[Le]&&se[Le].m(_e,null);w(e,ge),G(pe,e,null),Me=!0,ot||(vt=[U(g,"input",n[9]),U(v,"change",n[10])],ot=!0)},p(W,[re]){var Ge;if((!Me||re&32)&&i!==(i=((Ge=W[5])==null?void 0:Ge.filter(xt).length)+"")&&ye(o,i),(!Me||re&32)&&c!==(c=W[5].filter(el).length+"")&&ye(h,c),re&16&&g.value!==W[4]&&Ve(g,W[4]),(!Me||re&128&&O!==(O=W[7].filter(tl).length===W[7].length&&W[7].length>0))&&(v.checked=O),(!Me||re&128&&k!==(k=W[7].filter(ll).length!==W[7].length&&W[7].filter(nl).length>0))&&(v.indeterminate=k),re&455){qe=Fe(W[7]);let oe;for(oe=0;oe<qe.length;oe+=1){const $e=Wt(W,qe,oe);se[oe]?(se[oe].p($e,re),I(se[oe],1)):(se[oe]=Qt($e),se[oe].c(),I(se[oe],1),se[oe].m(_e,null))}for(be(),oe=qe.length;oe<se.length;oe+=1)_l(oe);ve()}const Le={};!it&&re&8&&(it=!0,Le.settings=W[3],Je(()=>it=!1)),pe.$set(Le)},i(W){if(!Me){for(let re=0;re<qe.length;re+=1)I(se[re]);I(pe.$$.fragment,W),Me=!0}},o(W){se=se.filter(Boolean);for(let re=0;re<se.length;re+=1)D(se[re]);D(pe.$$.fragment,W),Me=!1},d(W){W&&m(e),dt(se,W),K(pe),ot=!1,Re(vt)}}}function Xt(n){return!n.inPlaylist&&n.selected?"!text-lime-500":n.inPlaylist&&!n.selected?"!line-through":""}function $t(n,e){return e.find(t=>t.id===n.artist.id)}const xt=n=>n.selected,el=n=>n.inPlaylist,tl=n=>n.selected,ll=n=>n.selected,nl=n=>n.selected;function ga(n,e,t){let l,a,r,s=J,i=()=>(s(),s=et(o,B=>t(5,r=B)),o);n.$$.on_destroy.push(()=>s());let{trackSelections:o}=e;i();let{artists:u=[]}=e,{toastStore:c}=e,h={page:0,limit:10,size:10,amounts:[10,20,50,100]},f="";const _=Tl.humanizer({language:"shortEn",languages:{shortEn:{y:()=>"y.",mo:()=>"mo.",w:()=>"w.",d:()=>"d.",h:()=>"h.",m:()=>"m.",s:()=>"s.",ms:()=>"ms"}},units:["m","s"],largest:2});function p(){f=this.value,t(4,f)}const g=B=>{l.forEach(A=>{var T;return A.selected=(T=B.target)==null?void 0:T.checked}),o.update(A=>A)};function C(B,A){B[A].selected=this.checked,t(7,l),t(5,r),t(4,f),t(3,h)}const y=()=>o.update(B=>B),b=B=>is(B.album,o),v=B=>rs(B.album.id,o),O=B=>bt(B.artist,o,c),k=B=>hl(B.artist.id,o);function N(B){h=B,t(3,h),t(5,r)}return n.$$set=B=>{"trackSelections"in B&&i(t(0,o=B.trackSelections)),"artists"in B&&t(1,u=B.artists),"toastStore"in B&&t(2,c=B.toastStore)},n.$$.update=()=>{n.$$.dirty&32&&t(3,h.size=r.length,h),n.$$.dirty&56&&t(7,l=r.filter(B=>!f||JSON.stringify(B.track).toLowerCase().includes(f.toLowerCase())).slice(h.page*h.limit,h.page*h.limit+h.limit)),n.$$.dirty&32&&t(6,a=r.reduce((B,A)=>Math.max(B,A.track.rank),0))},[o,u,c,h,f,r,a,l,_,p,g,C,y,b,v,O,k,N]}class pa extends x{constructor(e){super(),ee(this,e,ga,_a,$,{trackSelections:0,artists:1,toastStore:2})}}async function ba(n,e,t,l){const a={request_method:"POST"};n.title&&(a.title=n.title),n.description&&(a.description=n.description),n.public!==void 0&&(a.public=n.public);try{const r=await Xe({apiPath:`/playlist/${n.id}`,searchParams:a});t.trigger({message:`Updated playlist: ${r?"OK":"KO"}`,timeout:3e3})}catch(r){t.trigger({message:`Updated playlist: error ${r}`,timeout:3e3})}await va(n,e,t,l)}async function va(n,e,t,l){try{const a=e.filter(s=>s.selected&&!s.inPlaylist).map(s=>s.track.id);await ct(n,a,"POST","songs",l);const r=e.filter(s=>!s.selected&&s.inPlaylist).map(s=>s.track.id);if(await ct(n,r,"DELETE","songs",l),a.length>0){const s=e.filter(i=>i.selected).map(i=>i.track.id);await ct(n,s,"POST","order",l)}if(l.set(void 0),a.length||r.length){const s=t.trigger({message:"Updated playlist tracks, refreshing playlist data"});await jl(),t.close(s)}}catch(a){t.trigger({message:`Updated playlist tracks: error ${a}`,timeout:3e3})}finally{l.set(void 0)}}async function ct(n,e,t,l,a){if(!e.length)return;a.set({message:`sending 0/${e.length} ${t} ${l} `,value:0,max:e.length});let r=0;const s=100;for(const i of ka(e,s)){r+=s,a.set({message:`sending ${r} / ${e.length} ${t} ${l} `,value:r,max:e.length}),console.log(`sending ${t} ${l}=${JSON.stringify(i)}`);const o={request_method:t};o[l]=i.join(",");const u=await Xe({apiPath:`/playlist/${n.id}/tracks`,searchParams:o});if(console.log({updateResult:u}),!u)throw new Error(`unable to send ${t} ${l}=${JSON.stringify(i)}`)}}function ka(n,e){const t=[];for(let l=0;l<n.length;l+=e)t.push(n.slice(l,l+e));return t}function sl(n){let e,t,l=n[1].message+"",a,r,s,i,o;return{c(){e=E("span"),t=E("span"),a=te(l),r=H(),s=E("progress"),this.h()},l(u){e=P(u,"SPAN",{class:!0});var c=S(e);t=P(c,"SPAN",{});var h=S(t);a=le(h,l),h.forEach(m),r=M(c),s=P(c,"PROGRESS",{max:!0}),S(s).forEach(m),c.forEach(m),this.h()},h(){s.value=i=n[1].value,d(s,"max",o=n[1].max),d(e,"class","my-6")},m(u,c){L(u,e,c),w(e,t),w(t,a),w(e,r),w(e,s)},p(u,c){c&2&&l!==(l=u[1].message+"")&&ye(a,l),c&2&&i!==(i=u[1].value)&&(s.value=i),c&2&&o!==(o=u[1].max)&&d(s,"max",o)},d(u){u&&m(e)}}}function ya(n){let e,t=n[1]&&sl(n);return{c(){t&&t.c(),e=je()},l(l){t&&t.l(l),e=je()},m(l,a){t&&t.m(l,a),L(l,e,a)},p(l,[a]){l[1]?t?t.p(l,a):(t=sl(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(l){l&&m(e),t&&t.d(l)}}}function wa(n,e,t){let l,a=J,r=()=>(a(),a=et(s,i=>t(1,l=i)),s);n.$$.on_destroy.push(()=>a());let{updateTracksProgress:s}=e;return r(),n.$$set=i=>{"updateTracksProgress"in i&&r(t(0,s=i.updateTracksProgress))},[s,l]}class Aa extends x{constructor(e){super(),ee(this,e,wa,ya,$,{updateTracksProgress:0})}}function Ta(n){let e;return{c(){e=te("tracks")},l(t){e=le(t,"tracks")},m(t,l){L(t,e,l)},d(t){t&&m(e)}}}function Ea(n){let e;return{c(){e=te("details")},l(t){e=le(t,"details")},m(t,l){L(t,e,l)},d(t){t&&m(e)}}}function Pa(n){let e;return{c(){e=te("playlist artists")},l(t){e=le(t,"playlist artists")},m(t,l){L(t,e,l)},d(t){t&&m(e)}}}function Sa(n){let e;return{c(){e=te("search new artists")},l(t){e=le(t,"search new artists")},m(t,l){L(t,e,l)},d(t){t&&m(e)}}}function Ba(n){let e,t,l,a,r,s,i,o,u,c,h,f;function _(k){n[11](k)}let p={name:"tabTracks",value:n[9].TRACKS,$$slots:{default:[Ta]},$$scope:{ctx:n}};n[1]!==void 0&&(p.group=n[1]),e=new nt({props:p}),Ue.push(()=>Ze(e,"group",_));function g(k){n[12](k)}let C={name:"tabMain",value:n[9].DESCRIPTION,$$slots:{default:[Ea]},$$scope:{ctx:n}};n[1]!==void 0&&(C.group=n[1]),a=new nt({props:C}),Ue.push(()=>Ze(a,"group",g));function y(k){n[13](k)}let b={name:"tabPlaylistArtists",value:n[9].PLAYLIST_ARTISTS,$$slots:{default:[Pa]},$$scope:{ctx:n}};n[1]!==void 0&&(b.group=n[1]),i=new nt({props:b}),Ue.push(()=>Ze(i,"group",y));function v(k){n[14](k)}let O={name:"tabSearchArtists",value:n[9].SEARCH_ARTISTS,$$slots:{default:[Sa]},$$scope:{ctx:n}};return n[1]!==void 0&&(O.group=n[1]),c=new nt({props:O}),Ue.push(()=>Ze(c,"group",v)),{c(){F(e.$$.fragment),l=H(),F(a.$$.fragment),s=H(),F(i.$$.fragment),u=H(),F(c.$$.fragment)},l(k){q(e.$$.fragment,k),l=M(k),q(a.$$.fragment,k),s=M(k),q(i.$$.fragment,k),u=M(k),q(c.$$.fragment,k)},m(k,N){G(e,k,N),L(k,l,N),G(a,k,N),L(k,s,N),G(i,k,N),L(k,u,N),G(c,k,N),f=!0},p(k,N){const B={};N&2097152&&(B.$$scope={dirty:N,ctx:k}),!t&&N&2&&(t=!0,B.group=k[1],Je(()=>t=!1)),e.$set(B);const A={};N&2097152&&(A.$$scope={dirty:N,ctx:k}),!r&&N&2&&(r=!0,A.group=k[1],Je(()=>r=!1)),a.$set(A);const T={};N&2097152&&(T.$$scope={dirty:N,ctx:k}),!o&&N&2&&(o=!0,T.group=k[1],Je(()=>o=!1)),i.$set(T);const Z={};N&2097152&&(Z.$$scope={dirty:N,ctx:k}),!h&&N&2&&(h=!0,Z.group=k[1],Je(()=>h=!1)),c.$set(Z)},i(k){f||(I(e.$$.fragment,k),I(a.$$.fragment,k),I(i.$$.fragment,k),I(c.$$.fragment,k),f=!0)},o(k){D(e.$$.fragment,k),D(a.$$.fragment,k),D(i.$$.fragment,k),D(c.$$.fragment,k),f=!1},d(k){k&&(m(l),m(s),m(u)),K(e,k),K(a,k),K(i,k),K(c,k)}}}function Ca(n){let e,t="<i>you can add all tracks from a new artist from here</i>",l,a,r;return a=new xn({}),a.$on("artistSelection",n[10]),{c(){e=E("p"),e.innerHTML=t,l=H(),F(a.$$.fragment),this.h()},l(s){e=P(s,"P",{class:!0,"data-svelte-h":!0}),Ce(e)!=="svelte-1xwq8x8"&&(e.innerHTML=t),l=M(s),q(a.$$.fragment,s),this.h()},h(){d(e,"class","my-4")},m(s,i){L(s,e,i),L(s,l,i),G(a,s,i),r=!0},p:J,i(s){r||(I(a.$$.fragment,s),r=!0)},o(s){D(a.$$.fragment,s),r=!1},d(s){s&&(m(e),m(l)),K(a,s)}}}function Ia(n){let e,t="<i>you can add/remove all tracks from a playlist artist from here</i>",l,a,r;return a=new Ts({props:{playlistArtists:n[6],trackSelections:n[7],toastStore:n[4]}}),{c(){e=E("p"),e.innerHTML=t,l=H(),F(a.$$.fragment)},l(s){e=P(s,"P",{"data-svelte-h":!0}),Ce(e)!=="svelte-bd0wd5"&&(e.innerHTML=t),l=M(s),q(a.$$.fragment,s)},m(s,i){L(s,e,i),L(s,l,i),G(a,s,i),r=!0},p:J,i(s){r||(I(a.$$.fragment,s),r=!0)},o(s){D(a.$$.fragment,s),r=!1},d(s){s&&(m(e),m(l)),K(a,s)}}}function Na(n){let e,t;return e=new pa({props:{trackSelections:n[7],artists:n[3],toastStore:n[4]}}),{c(){F(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,a){const r={};a&8&&(r.artists=l[3]),e.$set(r)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Da(n){let e,t;return e=new Is({props:{playlist:n[0].playlist}}),{c(){F(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,a){const r={};a&1&&(r.playlist=l[0].playlist),e.$set(r)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function La(n){let e,t,l,a;const r=[Da,Na,Ia,Ca],s=[];function i(o,u){return o[1]===o[9].DESCRIPTION?0:o[1]===o[9].TRACKS?1:o[1]===o[9].PLAYLIST_ARTISTS?2:o[1]===o[9].SEARCH_ARTISTS?3:-1}return~(e=i(n))&&(t=s[e]=r[e](n)),{c(){t&&t.c(),l=je()},l(o){t&&t.l(o),l=je()},m(o,u){~e&&s[e].m(o,u),L(o,l,u),a=!0},p(o,u){let c=e;e=i(o),e===c?~e&&s[e].p(o,u):(t&&(be(),D(s[c],1,1,()=>{s[c]=null}),ve()),~e?(t=s[e],t?t.p(o,u):(t=s[e]=r[e](o),t.c()),I(t,1),t.m(l.parentNode,l)):t=null)},i(o){a||(I(t),a=!0)},o(o){D(t),a=!1},d(o){o&&m(l),~e&&s[e].d(o)}}}function Oa(n){let e,t,l=n[0].playlist.title+"",a,r,s,i;return s=new gn({props:{$$slots:{panel:[La],default:[Ba]},$$scope:{ctx:n}}}),{c(){e=E("span"),t=E("span"),a=te(l),r=H(),F(s.$$.fragment),this.h()},l(o){e=P(o,"SPAN",{});var u=S(e);t=P(u,"SPAN",{class:!0});var c=S(t);a=le(c,l),c.forEach(m),r=M(u),q(s.$$.fragment,u),u.forEach(m),this.h()},h(){d(t,"class","h3"),ce(e,"opacity-50",n[2])},m(o,u){L(o,e,u),w(e,t),w(t,a),w(e,r),G(s,e,null),i=!0},p(o,u){(!i||u&1)&&l!==(l=o[0].playlist.title+"")&&ye(a,l);const c={};u&2097163&&(c.$$scope={dirty:u,ctx:o}),s.$set(c),(!i||u&4)&&ce(e,"opacity-50",o[2])},i(o){i||(I(s.$$.fragment,o),i=!0)},o(o){D(s.$$.fragment,o),i=!1},d(o){o&&m(e),K(s)}}}function za(n){let e,t;return e=new Aa({props:{updateTracksProgress:n[5]}}),{c(){F(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p:J,i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Ra(n){let e,t;return e=new El({props:{$$slots:{pageHeader:[za],default:[Oa]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,[a]){const r={};a&2097167&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function ja(n,e,t){let l,a,r;const s=zl(),i=st(void 0);Qe(n,i,A=>t(2,a=A));let{data:o}=e;const u=st([]);Qe(n,u,A=>t(3,r=A));const c=st([]);Qe(n,c,A=>t(15,l=A));async function h(){try{const A=Nl(c);await Rn(A,s,i),c.set(A)}finally{i.set(void 0)}}function f(){c.update(A=>os(A,s))}function _(A){l.length===0&&t(0,o.playlist.title=A.name+" - Full Discography",o),u.update(T=>(T.findIndex(ie=>ie.id===A.id)<0&&T.push(A),T)),bt(A,c,s)}var p=(A=>(A[A.DESCRIPTION=0]="DESCRIPTION",A[A.TRACKS=1]="TRACKS",A[A.PLAYLIST_ARTISTS=2]="PLAYLIST_ARTISTS",A[A.SEARCH_ARTISTS=3]="SEARCH_ARTISTS",A))(p||{});let g=1;const C=Rl(),y=[{onclick:()=>ba(o.playlist,l,s,i),title:"Update playlist",icon:Dn},{onclick:()=>h(),title:"Fix missing tracks",icon:zn,disabled:()=>l.filter(A=>A.selected&&!A.track.readable).length===0},{onclick:()=>f(),title:"Clear deselected tracks",icon:Cn,disabled:()=>l.filter(A=>!A.selected&&!A.inPlaylist).length===0}],b=c.subscribe(()=>C.update(A=>A));Cl(()=>{C.update(A=>[...A,...y]),o.playlist.tracks.data.length||t(1,g=3)}),Il(()=>{C.update(A=>A.filter(T=>!y.includes(T))),b()});const v=A=>_(A.detail);function O(A){g=A,t(1,g)}function k(A){g=A,t(1,g)}function N(A){g=A,t(1,g)}function B(A){g=A,t(1,g)}return n.$$set=A=>{"data"in A&&t(0,o=A.data)},n.$$.update=()=>{if(n.$$.dirty&1&&u.set(o.topArtists),n.$$.dirty&1){const A=o.playlist.tracks.data.map(T=>({track:T,inPlaylist:!0,selected:!0}));c.set(A)}},[o,g,a,r,s,i,u,c,_,p,v,O,k,N,B]}class Ja extends x{constructor(e){super(),ee(this,e,ja,Ra,$,{data:0})}}export{Ja as component,Ka as universal};
