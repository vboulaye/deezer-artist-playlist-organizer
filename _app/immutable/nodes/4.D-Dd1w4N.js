import{b as l,a as _}from"../chunks/disclose-version.DIxtxRN2.js";import{e as u,g as d,n as g}from"../chunks/utils.BwDD-hkd.js";import{i as h}from"../chunks/lifecycle.DllKt3QR.js";import{s as $,a as U}from"../chunks/store.CZePPtrh.js";import{p as I}from"../chunks/stores.BbhsVMy_.js";import{D as R,P as b,a as k}from"../chunks/DeezerConfig.Bim8XL35.js";import{T as y,R as z}from"../chunks/CookieManager.P34oS-qs.js";function O(r,t){u(t,!1);const s=$(),a=()=>U(I,"$page",s);y.remove();const i=R.AUTHORIZATION_URL,n=b,p=`${k}/auth/callback`,c=["basic_access","email","manage_library","delete_library","listening_history","manage_community","offline_access"].join(","),m=`${i}?app_id=${n}&redirect_uri=${p}&perms=${c}&output=json&response_type=token`;{const o=document.referrer;if(o){const e=new URL(o);e.host===a().url.host&&(console.log("set redriect to "+e.pathname),z.set(e.pathname))}document.location.href=m}h(),g();var f=l("signin...");_(r,f),d()}export{O as component};
