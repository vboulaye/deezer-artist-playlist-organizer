import{d as vl,w as it}from"../chunks/paths.775f2f9e.js";import{g as bl,c as Ye,r as kl}from"../chunks/DeezerCall.591ca02c.js";import{g as gt,P as wl,h as Et}from"../chunks/PlaylistApplicationShell.c38c6020.js";import{s as Te,f as w,g as y,h as N,d as h,j as g,i as B,r as G,R as al,w as W,E as he,S as Nt,l as re,m as oe,z as p,n as be,H as Pe,a as L,G as Ae,c as z,I as J,K as Je,J as yl,T as Pt,P as ot,U as Ve,V as Tl,e as Xe,L as Ue,M as He,N as ke,Q as Qe,W as $e,y as nl,A as il,B as rl,C as ol,k as Cl,F as et,p as ul,O as _e,X as cl,Y as rt,Z as El,_ as At}from"../chunks/scheduler.2d554b92.js";import{S as Ce,i as Ee,g as lt,t as U,c as st,a as F,b as Q,d as $,m as x,e as ee,o as fl}from"../chunks/index.22319be1.js";import{e as Ie,u as Nl,d as Pl}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.c8271e19.js";import{i as Al}from"../chunks/navigation.0d99b914.js";import{g as Me,t as Oe}from"../chunks/stores.742deb45.js";function Bt(s,e,t){const a=s.slice();return a[32]=e[t],a}function Bl(s){let e,t,a;return{c(){e=w("div"),t=re(s[0]),this.h()},l(i){e=y(i,"DIV",{class:!0});var r=N(e);t=oe(r,s[0]),r.forEach(h),this.h()},h(){g(e,"class",a="autocomplete-empty "+s[2])},m(i,r){B(i,e,r),p(e,t)},p(i,r){r[0]&1&&be(t,i[0]),r[0]&4&&a!==(a="autocomplete-empty "+i[2])&&g(e,"class",a)},d(i){i&&h(e)}}}function Sl(s){let e,t,a=[],i=new Map,r,l,n=Ie(s[1].slice(0,s[8]));const u=o=>o[32];for(let o=0;o<n.length;o+=1){let m=Bt(s,n,o),c=u(m);i.set(c,a[o]=St(c,m))}return{c(){e=w("nav"),t=w("ul");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=y(o,"NAV",{class:!0});var m=N(e);t=y(m,"UL",{class:!0});var c=N(t);for(let f=0;f<a.length;f+=1)a[f].l(c);c.forEach(h),m.forEach(h),this.h()},h(){g(t,"class",r="autocomplete-list "+s[5]),g(e,"class",l="autocomplete-nav "+s[6])},m(o,m){B(o,e,m),p(e,t);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(t,null)},p(o,m){m[0]&794&&(n=Ie(o[1].slice(0,o[8])),a=Nl(a,m,u,1,o,n,i,t,Pl,St,null,Bt)),m[0]&32&&r!==(r="autocomplete-list "+o[5])&&g(t,"class",r),m[0]&64&&l!==(l="autocomplete-nav "+o[6])&&g(e,"class",l)},d(o){o&&h(e);for(let m=0;m<a.length;m+=1)a[m].d()}}}function St(s,e){let t,a,i,r=e[32].label+"",l,n,u,o,m;function c(){return e[26](e[32])}return{key:s,first:null,c(){t=w("li"),a=w("button"),i=new Pe(!1),n=L(),this.h()},l(f){t=y(f,"LI",{class:!0});var C=N(t);a=y(C,"BUTTON",{class:!0,type:!0});var _=N(a);i=Ae(_,!1),_.forEach(h),n=z(C),C.forEach(h),this.h()},h(){i.a=null,g(a,"class",l="autocomplete-button "+e[3]),g(a,"type","button"),g(t,"class",u="autocomplete-item "+e[4]),this.first=t},m(f,C){B(f,t,C),p(t,a),i.m(r,a),p(t,n),o||(m=[J(a,"click",c),J(a,"click",e[24]),J(a,"keypress",e[25])],o=!0)},p(f,C){e=f,C[0]&258&&r!==(r=e[32].label+"")&&i.p(r),C[0]&8&&l!==(l="autocomplete-button "+e[3])&&g(a,"class",l),C[0]&16&&u!==(u="autocomplete-item "+e[4])&&g(t,"class",u)},d(f){f&&h(t),o=!1,Je(m)}}}function Ll(s){let e,t;function a(l,n){return l[1].length>0?Sl:Bl}let i=a(s),r=i(s);return{c(){e=w("div"),r.c(),this.h()},l(l){e=y(l,"DIV",{class:!0,"data-testid":!0});var n=N(e);r.l(n),n.forEach(h),this.h()},h(){g(e,"class",t="autocomplete "+s[7]),g(e,"data-testid","autocomplete")},m(l,n){B(l,e,n),r.m(e,null)},p(l,n){i===(i=a(l))&&r?r.p(l,n):(r.d(1),r=i(l),r&&(r.c(),r.m(e,null))),n[0]&128&&t!==(t="autocomplete "+l[7])&&g(e,"class",t)},i:G,o:G,d(l){l&&h(e),r.d()}}}function zl(s,e,t){let a,i,r,l,n,u,o,m,c;const f=al();let{input:C=void 0}=e,{options:_=[]}=e,{limit:v=void 0}=e,{allowlist:P=[]}=e,{denylist:E=[]}=e,{emptyState:b="No Results Found."}=e,{regionNav:d=""}=e,{regionList:A="list-nav"}=e,{regionItem:O=""}=e,{regionButton:H="w-full"}=e,{regionEmpty:Z="text-center"}=e,{whitelist:te=[]}=e,{blacklist:V=[]}=e,{duration:fe=200}=e;function Be(S,K){let ne=[..._];S.length&&(ne=ne.filter(we=>S.includes(we.value))),K.length&&(ne=ne.filter(we=>!K.includes(we.value))),!S.length&&!K.length&&(ne=_),t(23,a=ne)}function ue(){let S=[...a];return S=S.filter(K=>{const ne=String(C).toLowerCase().trim();if(JSON.stringify([K.label,K.value,K.keywords]).toLowerCase().includes(ne))return K}),S}function ie(S){f("selection",S)}function pe(S){Nt.call(this,s,S)}function ve(S){Nt.call(this,s,S)}const M=S=>ie(S);return s.$$set=S=>{t(31,e=W(W({},e),he(S))),"input"in S&&t(10,C=S.input),"options"in S&&t(11,_=S.options),"limit"in S&&t(12,v=S.limit),"allowlist"in S&&t(13,P=S.allowlist),"denylist"in S&&t(14,E=S.denylist),"emptyState"in S&&t(0,b=S.emptyState),"regionNav"in S&&t(15,d=S.regionNav),"regionList"in S&&t(16,A=S.regionList),"regionItem"in S&&t(17,O=S.regionItem),"regionButton"in S&&t(18,H=S.regionButton),"regionEmpty"in S&&t(19,Z=S.regionEmpty),"whitelist"in S&&t(20,te=S.whitelist),"blacklist"in S&&t(21,V=S.blacklist),"duration"in S&&t(22,fe=S.duration)},s.$$.update=()=>{s.$$.dirty[0]&2048&&t(23,a=_),s.$$.dirty[0]&24576&&Be(P,E),s.$$.dirty[0]&8389632&&t(1,i=C?ue():a),s.$$.dirty[0]&4098&&t(8,r=v!==void 0?v:i.length),t(7,l=`${e.class??""}`),s.$$.dirty[0]&32768&&t(6,n=`${d}`),s.$$.dirty[0]&65536&&t(5,u=`${A}`),s.$$.dirty[0]&131072&&t(4,o=`${O}`),s.$$.dirty[0]&262144&&t(3,m=`${H}`),s.$$.dirty[0]&524288&&t(2,c=`${Z}`)},e=he(e),[b,i,c,m,o,u,n,l,r,ie,C,_,v,P,E,d,A,O,H,Z,te,V,fe,a,pe,ve,M]}class Ol extends Ce{constructor(e){super(),Ee(this,e,zl,Ll,Te,{input:10,options:11,limit:12,allowlist:13,denylist:14,emptyState:0,regionNav:15,regionList:16,regionItem:17,regionButton:18,regionEmpty:19,whitelist:20,blacklist:21,duration:22},null,[-1,-1])}}const Il='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>',Dl='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"/></svg>',Fl='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"/></svg>',jl='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/></svg>';function Lt(s,e,t){const a=s.slice();return a[43]=e[t],a}function zt(s,e,t){const a=s.slice();return a[46]=e[t],a}function Ot(s){let e,t,a,i,r,l,n=Ie(s[0].amounts),u=[];for(let o=0;o<n.length;o+=1)u[o]=It(zt(s,n,o));return{c(){e=w("label"),t=w("select");for(let o=0;o<u.length;o+=1)u[o].c();this.h()},l(o){e=y(o,"LABEL",{class:!0});var m=N(e);t=y(m,"SELECT",{class:!0,"aria-label":!0});var c=N(t);for(let f=0;f<u.length;f+=1)u[f].l(c);c.forEach(h),m.forEach(h),this.h()},h(){g(t,"class",a="paginator-select "+s[19]),t.disabled=s[1],g(t,"aria-label","Select Amount"),s[0].limit===void 0&&yl(()=>s[32].call(t)),g(e,"class",i="paginator-label "+s[20])},m(o,m){B(o,e,m),p(e,t);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(t,null);Pt(t,s[0].limit,!0),r||(l=[J(t,"change",s[32]),J(t,"change",s[23])],r=!0)},p(o,m){if(m[0]&33){n=Ie(o[0].amounts);let c;for(c=0;c<n.length;c+=1){const f=zt(o,n,c);u[c]?u[c].p(f,m):(u[c]=It(f),u[c].c(),u[c].m(t,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=n.length}m[0]&524288&&a!==(a="paginator-select "+o[19])&&g(t,"class",a),m[0]&2&&(t.disabled=o[1]),m[0]&1&&Pt(t,o[0].limit),m[0]&1048576&&i!==(i="paginator-label "+o[20])&&g(e,"class",i)},d(o){o&&h(e),ot(u,o),r=!1,Je(l)}}}function It(s){let e,t=s[46]+"",a,i,r,l;return{c(){e=w("option"),a=re(t),i=L(),r=re(s[5]),this.h()},l(n){e=y(n,"OPTION",{});var u=N(e);a=oe(u,t),i=z(u),r=oe(u,s[5]),u.forEach(h),this.h()},h(){e.__value=l=s[46],Ve(e,e.__value)},m(n,u){B(n,e,u),p(e,a),p(e,i),p(e,r)},p(n,u){u[0]&1&&t!==(t=n[46]+"")&&be(a,t),u[0]&32&&be(r,n[5]),u[0]&1&&l!==(l=n[46])&&(e.__value=l,Ve(e,e.__value))},d(n){n&&h(e)}}}function Dt(s){let e,t,a,i,r;return{c(){e=w("button"),t=new Pe(!1),this.h()},l(l){e=y(l,"BUTTON",{type:!0,"aria-label":!0,class:!0});var n=N(e);t=Ae(n,!1),n.forEach(h),this.h()},h(){t.a=null,g(e,"type","button"),g(e,"aria-label",s[12]),g(e,"class",s[6]),e.disabled=a=s[1]||s[0].offset===0},m(l,n){B(l,e,n),t.m(s[9],e),i||(r=J(e,"click",s[33]),i=!0)},p(l,n){n[0]&512&&t.p(l[9]),n[0]&4096&&g(e,"aria-label",l[12]),n[0]&64&&g(e,"class",l[6]),n[0]&3&&a!==(a=l[1]||l[0].offset===0)&&(e.disabled=a)},d(l){l&&h(e),i=!1,r()}}}function Ft(s){let e,t,a,i,r;return{c(){e=w("button"),t=new Pe(!1),this.h()},l(l){e=y(l,"BUTTON",{type:!0,"aria-label":!0,class:!0});var n=N(e);t=Ae(n,!1),n.forEach(h),this.h()},h(){t.a=null,g(e,"type","button"),g(e,"aria-label",s[13]),g(e,"class",s[6]),e.disabled=a=s[1]||s[0].offset===0},m(l,n){B(l,e,n),t.m(s[7],e),i||(r=J(e,"click",s[34]),i=!0)},p(l,n){n[0]&128&&t.p(l[7]),n[0]&8192&&g(e,"aria-label",l[13]),n[0]&64&&g(e,"class",l[6]),n[0]&3&&a!==(a=l[1]||l[0].offset===0)&&(e.disabled=a)},d(l){l&&h(e),i=!1,r()}}}function Ul(s){let e,t=Ie(s[17]),a=[];for(let i=0;i<t.length;i+=1)a[i]=jt(Lt(s,t,i));return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=Xe()},l(i){for(let r=0;r<a.length;r+=1)a[r].l(i);e=Xe()},m(i,r){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(i,r);B(i,e,r)},p(i,r){if(r[0]&21102656){t=Ie(i[17]);let l;for(l=0;l<t.length;l+=1){const n=Lt(i,t,l);a[l]?a[l].p(n,r):(a[l]=jt(n),a[l].c(),a[l].m(e.parentNode,e))}for(;l<a.length;l+=1)a[l].d(1);a.length=t.length}},d(i){i&&h(e),ot(a,i)}}}function Hl(s){let e,t=s[0].offset*s[0].limit+1+"",a,i,r=Math.min(s[0].offset*s[0].limit+s[0].limit,s[0].size)+"",l,n,u,o,m,c=s[0].size+"",f,C;return{c(){e=w("button"),a=re(t),i=re("-"),l=re(r),n=re(" "),u=w("span"),o=re(s[11]),m=L(),f=re(c),this.h()},l(_){e=y(_,"BUTTON",{type:!0,class:!0});var v=N(e);a=oe(v,t),i=oe(v,"-"),l=oe(v,r),n=oe(v," "),u=y(v,"SPAN",{class:!0});var P=N(u);o=oe(P,s[11]),m=z(P),f=oe(P,c),P.forEach(h),v.forEach(h),this.h()},h(){g(u,"class","opacity-50"),g(e,"type","button"),g(e,"class",C=s[6]+" pointer-events-none !text-sm")},m(_,v){B(_,e,v),p(e,a),p(e,i),p(e,l),p(e,n),p(e,u),p(u,o),p(u,m),p(u,f)},p(_,v){v[0]&1&&t!==(t=_[0].offset*_[0].limit+1+"")&&be(a,t),v[0]&1&&r!==(r=Math.min(_[0].offset*_[0].limit+_[0].limit,_[0].size)+"")&&be(l,r),v[0]&2048&&be(o,_[11]),v[0]&1&&c!==(c=_[0].size+"")&&be(f,c),v[0]&64&&C!==(C=_[6]+" pointer-events-none !text-sm")&&g(e,"class",C)},d(_){_&&h(e)}}}function jt(s){let e,t=(s[43]>=0?s[43]+1:"...")+"",a,i,r,l,n;function u(){return s[35](s[43])}return{c(){e=w("button"),a=re(t),i=L(),this.h()},l(o){e=y(o,"BUTTON",{type:!0,class:!0});var m=N(e);a=oe(m,t),i=z(m),m.forEach(h),this.h()},h(){g(e,"type","button"),g(e,"class",r=s[6]+" "+s[22](s[43]))},m(o,m){B(o,e,m),p(e,a),p(e,i),l||(n=J(e,"click",u),l=!0)},p(o,m){s=o,m[0]&131072&&t!==(t=(s[43]>=0?s[43]+1:"...")+"")&&be(a,t),m[0]&4325440&&r!==(r=s[6]+" "+s[22](s[43]))&&g(e,"class",r)},d(o){o&&h(e),l=!1,n()}}}function Ut(s){let e,t,a,i,r;return{c(){e=w("button"),t=new Pe(!1),this.h()},l(l){e=y(l,"BUTTON",{type:!0,"aria-label":!0,class:!0});var n=N(e);t=Ae(n,!1),n.forEach(h),this.h()},h(){t.a=null,g(e,"type","button"),g(e,"aria-label",s[14]),g(e,"class",s[6]),e.disabled=a=s[1]||(s[0].offset+1)*s[0].limit>=s[0].size},m(l,n){B(l,e,n),t.m(s[8],e),i||(r=J(e,"click",s[36]),i=!0)},p(l,n){n[0]&256&&t.p(l[8]),n[0]&16384&&g(e,"aria-label",l[14]),n[0]&64&&g(e,"class",l[6]),n[0]&3&&a!==(a=l[1]||(l[0].offset+1)*l[0].limit>=l[0].size)&&(e.disabled=a)},d(l){l&&h(e),i=!1,r()}}}function Ht(s){let e,t,a,i,r;return{c(){e=w("button"),t=new Pe(!1),this.h()},l(l){e=y(l,"BUTTON",{type:!0,"aria-label":!0,class:!0});var n=N(e);t=Ae(n,!1),n.forEach(h),this.h()},h(){t.a=null,g(e,"type","button"),g(e,"aria-label",s[15]),g(e,"class",s[6]),e.disabled=a=s[1]||(s[0].offset+1)*s[0].limit>=s[0].size},m(l,n){B(l,e,n),t.m(s[10],e),i||(r=J(e,"click",s[37]),i=!0)},p(l,n){n[0]&1024&&t.p(l[10]),n[0]&32768&&g(e,"aria-label",l[15]),n[0]&64&&g(e,"class",l[6]),n[0]&3&&a!==(a=l[1]||(l[0].offset+1)*l[0].limit>=l[0].size)&&(e.disabled=a)},d(l){l&&h(e),i=!1,r()}}}function Ml(s){let e,t,a,i,r,l,n,u,o,m=s[0].amounts.length&&Ot(s),c=s[3]&&Dt(s),f=s[2]&&Ft(s);function C(b,d){return b[4]===!1?Hl:Ul}let _=C(s),v=_(s),P=s[2]&&Ut(s),E=s[3]&&Ht(s);return{c(){e=w("div"),m&&m.c(),t=L(),a=w("div"),c&&c.c(),i=L(),f&&f.c(),r=L(),v.c(),l=L(),P&&P.c(),n=L(),E&&E.c(),this.h()},l(b){e=y(b,"DIV",{class:!0,"data-testid":!0});var d=N(e);m&&m.l(d),t=z(d),a=y(d,"DIV",{class:!0});var A=N(a);c&&c.l(A),i=z(A),f&&f.l(A),r=z(A),v.l(A),l=z(A),P&&P.l(A),n=z(A),E&&E.l(A),A.forEach(h),d.forEach(h),this.h()},h(){g(a,"class",u="paginator-controls "+s[18]),g(e,"class",o="paginator "+s[21]),g(e,"data-testid","paginator")},m(b,d){B(b,e,d),m&&m.m(e,null),p(e,t),p(e,a),c&&c.m(a,null),p(a,i),f&&f.m(a,null),p(a,r),v.m(a,null),p(a,l),P&&P.m(a,null),p(a,n),E&&E.m(a,null)},p(b,d){b[0].amounts.length?m?m.p(b,d):(m=Ot(b),m.c(),m.m(e,t)):m&&(m.d(1),m=null),b[3]?c?c.p(b,d):(c=Dt(b),c.c(),c.m(a,i)):c&&(c.d(1),c=null),b[2]?f?f.p(b,d):(f=Ft(b),f.c(),f.m(a,r)):f&&(f.d(1),f=null),_===(_=C(b))&&v?v.p(b,d):(v.d(1),v=_(b),v&&(v.c(),v.m(a,l))),b[2]?P?P.p(b,d):(P=Ut(b),P.c(),P.m(a,n)):P&&(P.d(1),P=null),b[3]?E?E.p(b,d):(E=Ht(b),E.c(),E.m(a,null)):E&&(E.d(1),E=null),d[0]&262144&&u!==(u="paginator-controls "+b[18])&&g(a,"class",u),d[0]&2097152&&o!==(o="paginator "+b[21])&&g(e,"class",o)},i:G,o:G,d(b){b&&h(e),m&&m.d(),c&&c.d(),f&&f.d(),v.d(),P&&P.d(),E&&E.d()}}}const Zl="flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4",Rl="w-full md:w-auto";function Vl(s,e,t){let a,i,r,l,n;const u=al();let{settings:o={offset:0,limit:5,size:0,amounts:[1,2,5,10]}}=e,{disabled:m=!1}=e,{showPreviousNextButtons:c=!0}=e,{showFirstLastButtons:f=!1}=e,{showNumerals:C=!1}=e,{maxNumerals:_=1}=e,{justify:v="justify-between"}=e,{select:P="select min-w-[150px]"}=e,{amountText:E="Items"}=e,{regionControl:b="btn-group"}=e,{controlVariant:d="variant-filled"}=e,{controlSeparator:A=""}=e,{active:O="variant-filled-primary"}=e,{buttonClasses:H="!px-3 !py-1.5 fill-current"}=e,{buttonTextPrevious:Z=Il}=e,{buttonTextNext:te=Dl}=e,{buttonTextFirst:V=Fl}=e,{buttonTextLast:fe=jl}=e,{separatorText:Be="of"}=e,{labelFirst:ue="First page"}=e,{labelPrevious:ie="Previous page"}=e,{labelNext:pe="Next page"}=e,{labelLast:ve="Last page"}=e,M=Math.max(0,Math.ceil(o.size/o.limit-1)),S=se();function K(){t(0,o.offset=0,o),u("amount",o.limit),t(16,M=Math.max(0,Math.ceil(o.size/o.limit-1))),t(17,S=se())}function ne(k){k<0||(t(0,o.offset=k,o),u("page",o.offset),t(17,S=se()))}function we(){const k=[];for(let Y=0;Y<=M;Y++)k.push(Y);return k}function se(){const k=[],Y=o.offset<_+2,j=o.offset>M-(_+2);if(M<=_*2+1)return we();if(k.push(0),Y||k.push(-1),Y||j){const le=Y?1:M-(_+2),de=j?M-1:_+2;for(let R=le;R<=de;R++)k.push(R)}else for(let le=o.offset-_;le<=o.offset+_;le++)k.push(le);return j||k.push(-1),k.push(M),k}function q(k){t(16,M=Math.max(0,Math.ceil(k/o.limit-1))),t(17,S=se())}function ae(){o.limit=Tl(this),t(0,o)}const Se=()=>{ne(0)},ye=()=>{ne(o.offset-1)},ze=k=>ne(k),T=()=>{ne(o.offset+1)},I=()=>{ne(M)};return s.$$set=k=>{t(42,e=W(W({},e),he(k))),"settings"in k&&t(0,o=k.settings),"disabled"in k&&t(1,m=k.disabled),"showPreviousNextButtons"in k&&t(2,c=k.showPreviousNextButtons),"showFirstLastButtons"in k&&t(3,f=k.showFirstLastButtons),"showNumerals"in k&&t(4,C=k.showNumerals),"maxNumerals"in k&&t(25,_=k.maxNumerals),"justify"in k&&t(26,v=k.justify),"select"in k&&t(27,P=k.select),"amountText"in k&&t(5,E=k.amountText),"regionControl"in k&&t(28,b=k.regionControl),"controlVariant"in k&&t(29,d=k.controlVariant),"controlSeparator"in k&&t(30,A=k.controlSeparator),"active"in k&&t(31,O=k.active),"buttonClasses"in k&&t(6,H=k.buttonClasses),"buttonTextPrevious"in k&&t(7,Z=k.buttonTextPrevious),"buttonTextNext"in k&&t(8,te=k.buttonTextNext),"buttonTextFirst"in k&&t(9,V=k.buttonTextFirst),"buttonTextLast"in k&&t(10,fe=k.buttonTextLast),"separatorText"in k&&t(11,Be=k.separatorText),"labelFirst"in k&&t(12,ue=k.labelFirst),"labelPrevious"in k&&t(13,ie=k.labelPrevious),"labelNext"in k&&t(14,pe=k.labelNext),"labelLast"in k&&t(15,ve=k.labelLast)},s.$$.update=()=>{s.$$.dirty[0]&1|s.$$.dirty[1]&1&&t(22,a=k=>k===o.offset?`${O} pointer-events-none`:""),s.$$.dirty[0]&33554432&&K(),s.$$.dirty[0]&1&&q(o.size),t(21,i=`${Zl} ${v} ${e.class??""}`),s.$$.dirty[0]&134217728&&t(19,l=`${P}`),s.$$.dirty[0]&1879048192&&t(18,n=`${b} ${d} ${A}`)},t(20,r=`${Rl}`),e=he(e),[o,m,c,f,C,E,H,Z,te,V,fe,Be,ue,ie,pe,ve,M,S,n,l,r,i,a,K,ne,_,v,P,b,d,A,O,ae,Se,ye,ze,T,I]}class Jl extends Ce{constructor(e){super(),Ee(this,e,Vl,Ml,Te,{settings:0,disabled:1,showPreviousNextButtons:2,showFirstLastButtons:3,showNumerals:4,maxNumerals:25,justify:26,select:27,amountText:5,regionControl:28,controlVariant:29,controlSeparator:30,active:31,buttonClasses:6,buttonTextPrevious:7,buttonTextNext:8,buttonTextFirst:9,buttonTextLast:10,separatorText:11,labelFirst:12,labelPrevious:13,labelNext:14,labelLast:15},null,[-1,-1])}}var _t={exports:{}};function hl(){var s=Object.create(null),e=0,t=0,a=0,i=!1;this.put=function(l,n,u,o){if(i&&console.log("caching: %s = %j (@%s)",l,n,u),typeof u<"u"&&(typeof u!="number"||isNaN(u)||u<=0))throw new Error("Cache timeout must be a positive number");if(typeof o<"u"&&typeof o!="function")throw new Error("Cache timeout callback must be a function");var m=s[l];m?clearTimeout(m.timeout):a++;var c={value:n,expire:u+Date.now()};return isNaN(c.expire)||(c.timeout=setTimeout((function(){r(l),o&&o(l,n)}).bind(this),u)),s[l]=c,n},this.del=function(l){var n=!0,u=s[l];return u?(clearTimeout(u.timeout),!isNaN(u.expire)&&u.expire<Date.now()&&(n=!1)):n=!1,n&&r(l),n};function r(l){a--,delete s[l]}this.clear=function(){for(var l in s)clearTimeout(s[l].timeout);a=0,s=Object.create(null),i&&(e=0,t=0)},this.get=function(l){var n=s[l];if(typeof n<"u"){if(isNaN(n.expire)||n.expire>=Date.now())return i&&e++,n.value;i&&t++,a--,delete s[l]}else i&&t++;return null},this.size=function(){return a},this.memsize=function(){var l=0,n;for(n in s)l++;return l},this.debug=function(l){i=l},this.hits=function(){return e},this.misses=function(){return t},this.keys=function(){return Object.keys(s)},this.exportJson=function(){var l={};for(var n in s){var u=s[n];l[n]={value:u.value,expire:u.expire||"NaN"}}return JSON.stringify(l)},this.importJson=function(l,n){var u=JSON.parse(l),o=Date.now(),m=n&&n.skipDuplicates;for(var c in u)if(u.hasOwnProperty(c)){if(m){var f=s[c];if(f){i&&console.log("Skipping duplicate imported key '%s'",c);continue}}var C=u[c],_=C.expire-o;if(_<=0){this.del(c);continue}_=_>0?_:void 0,this.put(c,C.value,_)}return this.size()}}_t.exports=new hl;_t.exports.Cache=hl;var ql=_t.exports;const Mt=bl(ql);class ml{constructor(e,t){this.cacheName=e,this.ttl=t}get(e){return Mt.get(this.buildKey(e))}buildKey(e){return this.cacheName+"~"+e}put(e,t){Mt.put(this.buildKey(e),t,this.ttl)}}const Zt=new ml("ARTIST",3600*1e3),Rt=new ml("ARTIST-DISCOGRAPHY",3600*1e3);async function Kl(s){const e=Zt.get(s);if(e)return e;const t=await Ye({apiPath:"/artist/"+s});return Zt.put(s,t),t}async function dl(s){return await gt({apiPath:"/album/"+s+"/tracks",index:0,limit:100})}async function gl(s){const e=Rt.get(s);if(e)return e;const t=await gt({apiPath:"/artist/"+s+"/albums",index:0,limit:100}),a=await Promise.all(t.data.map(async i=>{const r=await dl(i.id);return{...i,tracks:r.data}}));return Rt.put(s,a),a}const Gl=!1;async function Wl(s){if(s==="NEW"){const e=new Date().toISOString(),t=await Ye({apiPath:"/user/me/playlists",searchParams:{request_method:"POST",title:`New Playlist ${e}`,description:`Playlist created with deezer-artist-playlist-organizer on the ${e}`,public:!0}});throw kl(302,"./"+t.id)}return s}async function Yl({params:s}){const e=await Wl(s.id),t=await Ye({apiPath:`/playlist/${e}`}),a=t.tracks.data.reduce((l,n)=>(l[n.artist.id]||(l[n.artist.id]={artist:n.artist,count:0}),l[n.artist.id].count++,l),{}),i=Object.values(a).sort((l,n)=>n.count-l.count);if(t.nb_tracks>400){const l=await gt({apiPath:`/playlist/${e}/tracks`,limit:100,index:t.tracks.data.length});t.tracks.data=[...t.tracks.data,...l.data]}const r=Promise.all(i.map(async l=>await Kl(l.artist.id)));return{playlist:t,topArtists:r}}const ra=Object.freeze(Object.defineProperty({__proto__:null,load:Yl,ssr:Gl},Symbol.toStringTag,{value:"Module"}));function Xl(s){let e,t,a='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm40-84a12 12 0 0 1-5.12 9.83l-40 28A12 12 0 0 1 104 156v-56a12 12 0 0 1 18.88-9.83l40 28A12 12 0 0 1 168 128Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],r={};for(let l=0;l<i.length;l+=1)r=W(r,i[l]);return{c(){e=Ue("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var n=N(e);t=Ae(n,!0),n.forEach(h),this.h()},h(){t.a=null,ke(e,r)},m(l,n){B(l,e,n),t.m(a,e)},p(l,[n]){ke(e,r=Me(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function Ql(s,e,t){return s.$$set=a=>{t(0,e=W(W({},e),he(a)))},e=he(e),[e]}class $l extends Ce{constructor(e){super(),Ee(this,e,Ql,Xl,Te,{})}}function xl(s){let e,t,a='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84ZM116 96v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Zm48 0v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],r={};for(let l=0;l<i.length;l+=1)r=W(r,i[l]);return{c(){e=Ue("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var n=N(e);t=Ae(n,!0),n.forEach(h),this.h()},h(){t.a=null,ke(e,r)},m(l,n){B(l,e,n),t.m(a,e)},p(l,[n]){ke(e,r=Me(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function es(s,e,t){return s.$$set=a=>{t(0,e=W(W({},e),he(a)))},e=he(e),[e]}class ts extends Ce{constructor(e){super(),Ee(this,e,es,xl,Te,{})}}function ls(s){let e,t,a,i,r;return t=new ts({}),{c(){e=w("span"),Q(t.$$.fragment),this.h()},l(l){e=y(l,"SPAN",{role:!0});var n=N(e);$(t.$$.fragment,n),n.forEach(h),this.h()},h(){g(e,"role","button")},m(l,n){B(l,e,n),x(t,e,null),a=!0,i||(r=J(e,"click",s[4]),i=!0)},p:G,i(l){a||(F(t.$$.fragment,l),a=!0)},o(l){U(t.$$.fragment,l),a=!1},d(l){l&&h(e),ee(t),i=!1,r()}}}function ss(s){let e,t,a,i,r;return t=new $l({}),{c(){e=w("span"),Q(t.$$.fragment),this.h()},l(l){e=y(l,"SPAN",{role:!0});var n=N(e);$(t.$$.fragment,n),n.forEach(h),this.h()},h(){g(e,"role","button")},m(l,n){B(l,e,n),x(t,e,null),a=!0,i||(r=J(e,"click",s[4]),i=!0)},p:G,i(l){a||(F(t.$$.fragment,l),a=!0)},o(l){U(t.$$.fragment,l),a=!1},d(l){l&&h(e),ee(t),i=!1,r()}}}function as(s){let e,t,a=!0,i,r,l,n,u,o,m;const c=[ss,ls],f=[];function C(_,v){return _[0]?0:1}return l=C(s),n=f[l]=c[l](s),{c(){e=w("audio"),i=L(),r=w("span"),n.c(),this.h()},l(_){e=y(_,"AUDIO",{src:!0}),N(e).forEach(h),i=z(_),r=y(_,"SPAN",{});var v=N(r);n.l(v),v.forEach(h),this.h()},h(){Qe(e.src,t=s[1])||g(e,"src",t),e.loop=s[2],$e(r,"text-gray-500",!s[3])},m(_,v){B(_,e,v),B(_,i,v),B(_,r,v),f[l].m(r,null),u=!0,o||(m=[J(e,"play",s[5]),J(e,"pause",s[5])],o=!0)},p(_,[v]){(!u||v&2&&!Qe(e.src,t=_[1]))&&g(e,"src",t),(!u||v&4)&&(e.loop=_[2]),v&1&&a!==(a=_[0])&&e[a?"pause":"play"]();let P=l;l=C(_),l===P?f[l].p(_,v):(lt(),U(f[P],1,1,()=>{f[P]=null}),st(),n=f[l],n?n.p(_,v):(n=f[l]=c[l](_),n.c()),F(n,1),n.m(r,null)),(!u||v&8)&&$e(r,"text-gray-500",!_[3])},i(_){u||(F(n),u=!0)},o(_){U(n),u=!1},d(_){_&&(h(e),h(i),h(r)),f[l].d(),o=!1,Je(m)}}}function ns(s,e,t){let{src:a}=e,{loop:i=!1}=e,{enabled:r=!0}=e,{paused:l=!0}=e;function n(){r&&t(0,l=!l)}function u(){l=this.paused,t(0,l)}return s.$$set=o=>{"src"in o&&t(1,a=o.src),"loop"in o&&t(2,i=o.loop),"enabled"in o&&t(3,r=o.enabled),"paused"in o&&t(0,l=o.paused)},[l,a,i,r,n,u]}class is extends Ce{constructor(e){super(),Ee(this,e,ns,as,Te,{src:1,loop:2,enabled:3,paused:0})}}function rs(s){let e,t;const a=s[1].default,i=nl(a,s,s[0],null);return{c(){e=w("span"),i&&i.c(),this.h()},l(r){e=y(r,"SPAN",{class:!0});var l=N(e);i&&i.l(l),l.forEach(h),this.h()},h(){g(e,"class","flex gap-x-2 items-center mx-2")},m(r,l){B(r,e,l),i&&i.m(e,null),t=!0},p(r,[l]){i&&i.p&&(!t||l&1)&&il(i,a,r,r[0],t?ol(a,r[0],l,null):rl(r[0]),null)},i(r){t||(F(i,r),t=!0)},o(r){U(i,r),t=!1},d(r){r&&h(e),i&&i.d(r)}}}function os(s,e,t){let{$$slots:a={},$$scope:i}=e;return s.$$set=r=>{"$$scope"in r&&t(0,i=r.$$scope)},[i,a]}class tt extends Ce{constructor(e){super(),Ee(this,e,os,rs,Te,{})}}function us(s){let e,t,a,i;const r=s[2].default,l=nl(r,s,s[1],null);return{c(){e=w("td"),t=w("div"),l&&l.c(),this.h()},l(n){e=y(n,"TD",{style:!0});var u=N(e);t=y(u,"DIV",{class:!0});var o=N(t);l&&l.l(o),o.forEach(h),u.forEach(h),this.h()},h(){g(t,"class",a="flex items-center justify-"+s[0]+" gap-x-2 h-full"),Cl(e,"vertical-align","middle")},m(n,u){B(n,e,u),p(e,t),l&&l.m(t,null),i=!0},p(n,[u]){l&&l.p&&(!i||u&2)&&il(l,r,n,n[1],i?ol(r,n[1],u,null):rl(n[1]),null),(!i||u&1&&a!==(a="flex items-center justify-"+n[0]+" gap-x-2 h-full"))&&g(t,"class",a)},i(n){i||(F(l,n),i=!0)},o(n){U(l,n),i=!1},d(n){n&&h(e),l&&l.d(n)}}}function cs(s,e,t){let{$$slots:a={},$$scope:i}=e,{justify:r="center"}=e;return s.$$set=l=>{"justify"in l&&t(0,r=l.justify),"$$scope"in l&&t(1,i=l.$$scope)},[r,i,a]}class Ge extends Ce{constructor(e){super(),Ee(this,e,cs,us,Te,{justify:0})}}function fs(s){let e,t,a='<path fill="currentColor" d="M160 36a92.09 92.09 0 0 0-81 48.36A68 68 0 1 0 72 220h88a92 92 0 0 0 0-184Zm0 160H72a44 44 0 0 1-1.82-88A91.86 91.86 0 0 0 68 128a12 12 0 0 0 24 0a68 68 0 1 1 68 68Zm40.49-92.49a12 12 0 0 1 0 17l-48 48a12 12 0 0 1-17 0l-24-24a12 12 0 1 1 17-17L144 143l39.51-39.52a12 12 0 0 1 16.98.03Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],r={};for(let l=0;l<i.length;l+=1)r=W(r,i[l]);return{c(){e=Ue("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var n=N(e);t=Ae(n,!0),n.forEach(h),this.h()},h(){t.a=null,ke(e,r)},m(l,n){B(l,e,n),t.m(a,e)},p(l,[n]){ke(e,r=Me(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function hs(s,e,t){return s.$$set=a=>{t(0,e=W(W({},e),he(a)))},e=he(e),[e]}class Vt extends Ce{constructor(e){super(),Ee(this,e,hs,fs,Te,{})}}function ms(s){let e,t,a='<path fill="currentColor" d="M180 128a12 12 0 0 1-12 12H88a12 12 0 0 1 0-24h80a12 12 0 0 1 12 12Zm56 0A108 108 0 1 1 128 20a108.12 108.12 0 0 1 108 108Zm-24 0a84 84 0 1 0-84 84a84.09 84.09 0 0 0 84-84Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],r={};for(let l=0;l<i.length;l+=1)r=W(r,i[l]);return{c(){e=Ue("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var n=N(e);t=Ae(n,!0),n.forEach(h),this.h()},h(){t.a=null,ke(e,r)},m(l,n){B(l,e,n),t.m(a,e)},p(l,[n]){ke(e,r=Me(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function ds(s,e,t){return s.$$set=a=>{t(0,e=W(W({},e),he(a)))},e=he(e),[e]}class pt extends Ce{constructor(e){super(),Ee(this,e,ds,ms,Te,{})}}function gs(s){let e,t,a='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm52-84a12 12 0 0 1-12 12h-28v28a12 12 0 0 1-24 0v-28H88a12 12 0 0 1 0-24h28V88a12 12 0 0 1 24 0v28h28a12 12 0 0 1 12 12Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],r={};for(let l=0;l<i.length;l+=1)r=W(r,i[l]);return{c(){e=Ue("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var n=N(e);t=Ae(n,!0),n.forEach(h),this.h()},h(){t.a=null,ke(e,r)},m(l,n){B(l,e,n),t.m(a,e)},p(l,[n]){ke(e,r=Me(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function _s(s,e,t){return s.$$set=a=>{t(0,e=W(W({},e),he(a)))},e=he(e),[e]}class vt extends Ce{constructor(e){super(),Ee(this,e,_s,gs,Te,{})}}function ps(s){let e,t,a='<path fill="currentColor" d="M128 128a12 12 0 0 1-12 12H48a12 12 0 0 1 0-24h68a12 12 0 0 1 12 12ZM48 76h132a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm52 104H48a12 12 0 0 0 0 24h52a12 12 0 0 0 0-24Zm132.49-20.49a12 12 0 0 0-17 0L196 179v-67a12 12 0 0 0-24 0v67l-19.51-19.52a12 12 0 0 0-17 17l40 40a12 12 0 0 0 17 0l40-40a12 12 0 0 0 0-16.97Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],r={};for(let l=0;l<i.length;l+=1)r=W(r,i[l]);return{c(){e=Ue("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var n=N(e);t=Ae(n,!0),n.forEach(h),this.h()},h(){t.a=null,ke(e,r)},m(l,n){B(l,e,n),t.m(a,e)},p(l,[n]){ke(e,r=Me(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function vs(s,e,t){return s.$$set=a=>{t(0,e=W(W({},e),he(a)))},e=he(e),[e]}class bs extends Ce{constructor(e){super(),Ee(this,e,vs,ps,Te,{})}}function ks(s){let e,t,a='<path fill="currentColor" d="M36 128a12 12 0 0 1 12-12h68a12 12 0 0 1 0 24H48a12 12 0 0 1-12-12Zm12-52h52a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm132 104H48a12 12 0 0 0 0 24h132a12 12 0 0 0 0-24Zm52.49-100.49l-40-40a12 12 0 0 0-17 0l-40 40a12 12 0 0 0 17 17L172 77v67a12 12 0 0 0 24 0V77l19.51 19.52a12 12 0 0 0 17-17Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],r={};for(let l=0;l<i.length;l+=1)r=W(r,i[l]);return{c(){e=Ue("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var n=N(e);t=Ae(n,!0),n.forEach(h),this.h()},h(){t.a=null,ke(e,r)},m(l,n){B(l,e,n),t.m(a,e)},p(l,[n]){ke(e,r=Me(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function ws(s,e,t){return s.$$set=a=>{t(0,e=W(W({},e),he(a)))},e=he(e),[e]}class ys extends Ce{constructor(e){super(),Ee(this,e,ws,ks,Te,{})}}function Ts(s){let e,t,a='<path fill="currentColor" d="M216 36H68.53a20.09 20.09 0 0 0-17.15 9.71L5.71 121.83a12 12 0 0 0 0 12.34l45.67 76.12A20.09 20.09 0 0 0 68.53 220H216a20 20 0 0 0 20-20V56a20 20 0 0 0-20-20Zm-4 160H70.8L30 128l40.8-68H212Zm-108.49-52.49L119 128l-15.52-15.51a12 12 0 0 1 17-17L136 111l15.51-15.52a12 12 0 0 1 17 17L153 128l15.52 15.51a12 12 0 0 1-17 17L136 145l-15.51 15.52a12 12 0 0 1-17-17Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],r={};for(let l=0;l<i.length;l+=1)r=W(r,i[l]);return{c(){e=Ue("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var n=N(e);t=Ae(n,!0),n.forEach(h),this.h()},h(){t.a=null,ke(e,r)},m(l,n){B(l,e,n),t.m(a,e)},p(l,[n]){ke(e,r=Me(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function Cs(s,e,t){return s.$$set=a=>{t(0,e=W(W({},e),he(a)))},e=he(e),[e]}class Es extends Ce{constructor(e){super(),Ee(this,e,Cs,Ts,Te,{})}}function Ns(s){let e,t,a='<path fill="currentColor" d="M136.37 187.53a12 12 0 0 1 0 17l-5.94 5.94a60 60 0 0 1-84.88-84.88l24.12-24.11A60 60 0 0 1 152 99a12 12 0 1 1-16 18a36 36 0 0 0-49.37 1.47l-24.1 24.08a36 36 0 0 0 50.92 50.92l5.94-5.94a12 12 0 0 1 16.98 0Zm74.08-142a60.09 60.09 0 0 0-84.88 0l-5.94 5.94a12 12 0 0 0 17 17l5.94-5.94a36 36 0 0 1 50.92 50.92l-24.11 24.12A36 36 0 0 1 120 139a12 12 0 1 0-16 18a60 60 0 0 0 82.3-2.43l24.12-24.11a60.09 60.09 0 0 0 .03-84.91Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],r={};for(let l=0;l<i.length;l+=1)r=W(r,i[l]);return{c(){e=Ue("svg"),t=new Pe(!0),this.h()},l(l){e=He(l,"svg",{viewBox:!0,width:!0,height:!0});var n=N(e);t=Ae(n,!0),n.forEach(h),this.h()},h(){t.a=null,ke(e,r)},m(l,n){B(l,e,n),t.m(a,e)},p(l,[n]){ke(e,r=Me(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function Ps(s,e,t){return s.$$set=a=>{t(0,e=W(W({},e),he(a)))},e=he(e),[e]}class As extends Ce{constructor(e){super(),Ee(this,e,Ps,Ns,Te,{})}}function Jt(s,e){e.update(t=>(t.forEach(a=>{a.track.artist.id===s&&(a.selected=!1)}),t))}async function dt(s,e){const t=await gl(s);e.update(a=>{const i=t.sort((l,n)=>l.release_date.localeCompare(n.release_date)).flatMap(l=>{const{tracks:n,...u}=l;return l.tracks.map(o=>({...o,album:u}))});i.forEach(l=>{const n=a.find(u=>u.track.id===l.id);n?(n.track.album=l.album,n.selected=!0):a.push({track:l,inPlaylist:!1,selected:!0})});function r(l){return i.findIndex(n=>n.id===l.track.id)}return a.sort((l,n)=>{const u=r(l),o=r(n);return u-o}),a})}function Bs(s,e){e.update(t=>(t.forEach(a=>{a.track.album.id===s&&(a.selected=!1)}),t))}async function Ss(s,e){const t=await dl(s.id);e.update(a=>{t.data.forEach(u=>{const o=a.find(m=>m.track.id===u.id);u.album=s,o?(o.track.album=u.album,o.selected=!0):a.push({track:u,inPlaylist:!1,selected:!0})});function i(u){return t.data.findIndex(o=>o.id===u.track.id)+1}function r(u){return a.findIndex(o=>o.track.id===u.track.id)+1}const l=a.findIndex(u=>u.track.album.id===s.id);function n(u){const o=i(u);return o===0?r(u)*1e4:l*1e4+o}return console.log({startIndex:l}),a.sort((u,o)=>{const m=l*1e4+n(u),c=l*1e4+n(o);return m-c}),a})}function qt(s,e,t){const a=s.slice();a[44]=e[t],a[46]=e,a[47]=t;const i=a[44].track;return a[45]=i,a}function Kt(s,e,t){const a=s.slice();a[40]=e[t];const i=a[20](a[40].id);return a[41]=i,a}function Ls(s){let e,t,a;function i(){s[32].call(e,s[46],s[47])}return{c(){e=w("input"),this.h()},l(r){e=y(r,"INPUT",{type:!0,class:!0}),this.h()},h(){g(e,"type","checkbox"),g(e,"class","checkbox")},m(r,l){B(r,e,l),e.checked=s[44].selected,t||(a=J(e,"change",i),t=!0)},p(r,l){s=r,l[0]&16&&(e.checked=s[44].selected)},d(r){r&&h(e),t=!1,a()}}}function zs(s){let e,t=s[47]+1+"",a;return{c(){e=w("span"),a=re(t)},l(i){e=y(i,"SPAN",{});var r=N(e);a=oe(r,t),r.forEach(h)},m(i,r){B(i,e,r),p(e,a)},p:G,d(i){i&&h(e)}}}function Os(s){let e,t,a,i,r=s[45].title+"",l,n,u;return e=new is({props:{src:s[45].preview,enabled:s[45].readable}}),{c(){Q(e.$$.fragment),t=L(),a=w("a"),i=w("span"),l=re(r),this.h()},l(o){$(e.$$.fragment,o),t=z(o),a=y(o,"A",{href:!0,title:!0});var m=N(a);i=y(m,"SPAN",{});var c=N(i);l=oe(c,r),c.forEach(h),m.forEach(h),this.h()},h(){g(a,"href",n=s[45].link),g(a,"title","open track in Deezer web interface")},m(o,m){x(e,o,m),B(o,t,m),B(o,a,m),p(a,i),p(i,l),u=!0},p(o,m){const c={};m[0]&16&&(c.src=o[45].preview),m[0]&16&&(c.enabled=o[45].readable),e.$set(c),(!u||m[0]&16)&&r!==(r=o[45].title+"")&&be(l,r),(!u||m[0]&16&&n!==(n=o[45].link))&&g(a,"href",n)},i(o){u||(F(e.$$.fragment,o),u=!0)},o(o){U(e.$$.fragment,o),u=!1},d(o){o&&(h(t),h(a)),ee(e,o)}}}function Is(s){let e,t,a,i,r=s[45].album.title+"",l;return{c(){e=w("img"),a=L(),i=w("span"),l=re(r),this.h()},l(n){e=y(n,"IMG",{src:!0,alt:!0}),a=z(n),i=y(n,"SPAN",{});var u=N(i);l=oe(u,r),u.forEach(h),this.h()},h(){Qe(e.src,t=s[45].album.cover_small)||g(e,"src",t),g(e,"alt","album cover")},m(n,u){B(n,e,u),B(n,a,u),B(n,i,u),p(i,l)},p(n,u){u[0]&16&&!Qe(e.src,t=n[45].album.cover_small)&&g(e,"src",t),u[0]&16&&r!==(r=n[45].album.title+"")&&be(l,r)},d(n){n&&(h(e),h(a),h(i))}}}function Ds(s){let e,t,a,i,r,l,n,u,o,m,c,f,C,_;a=new tt({props:{$$slots:{default:[Is]},$$scope:{ctx:s}}}),u=new vt({});function v(){return s[33](s[45])}c=new pt({});function P(){return s[34](s[45])}return{c(){e=w("span"),t=w("a"),Q(a.$$.fragment),r=L(),l=w("div"),n=w("button"),Q(u.$$.fragment),o=L(),m=w("button"),Q(c.$$.fragment),this.h()},l(E){e=y(E,"SPAN",{class:!0});var b=N(e);t=y(b,"A",{href:!0,title:!0});var d=N(t);$(a.$$.fragment,d),d.forEach(h),r=z(b),l=y(b,"DIV",{class:!0});var A=N(l);n=y(A,"BUTTON",{class:!0,title:!0});var O=N(n);$(u.$$.fragment,O),O.forEach(h),o=z(A),m=y(A,"BUTTON",{class:!0,title:!0});var H=N(m);$(c.$$.fragment,H),H.forEach(h),A.forEach(h),b.forEach(h),this.h()},h(){g(t,"href",i="https://www.deezer.com/album/"+s[45].album.id),g(t,"title","open album in Deezer web interface"),g(n,"class","!p-0 "),g(n,"title","add all album titles to the playlist"),g(m,"class","!p-0"),g(m,"title","deselect all album titles from the playlist"),g(l,"class","btn-group-vertical btn btn-sm gap-y-1"),g(e,"class","flex flex-row justify-between w-full items-center gap-x-2")},m(E,b){B(E,e,b),p(e,t),x(a,t,null),p(e,r),p(e,l),p(l,n),x(u,n,null),p(l,o),p(l,m),x(c,m,null),f=!0,C||(_=[J(n,"click",v),J(m,"click",P)],C=!0)},p(E,b){s=E;const d={};b[0]&16|b[1]&131072&&(d.$$scope={dirty:b,ctx:s}),a.$set(d),(!f||b[0]&16&&i!==(i="https://www.deezer.com/album/"+s[45].album.id))&&g(t,"href",i)},i(E){f||(F(a.$$.fragment,E),F(u.$$.fragment,E),F(c.$$.fragment,E),f=!0)},o(E){U(a.$$.fragment,E),U(u.$$.fragment,E),U(c.$$.fragment,E),f=!1},d(E){E&&h(e),ee(a),ee(u),ee(c),C=!1,Je(_)}}}function Fs(s){let e,t,a,i=s[45].artist.name+"",r,l,n,u,o,m,c,f,C,_,v,P;m=new vt({});function E(){return s[35](s[45])}C=new pt({});function b(){return s[36](s[45])}return{c(){e=w("span"),t=w("a"),a=w("span"),r=re(i),n=L(),u=w("div"),o=w("button"),Q(m.$$.fragment),c=L(),f=w("button"),Q(C.$$.fragment),this.h()},l(d){e=y(d,"SPAN",{class:!0});var A=N(e);t=y(A,"A",{href:!0,title:!0});var O=N(t);a=y(O,"SPAN",{});var H=N(a);r=oe(H,i),H.forEach(h),O.forEach(h),n=z(A),u=y(A,"DIV",{class:!0});var Z=N(u);o=y(Z,"BUTTON",{class:!0,title:!0});var te=N(o);$(m.$$.fragment,te),te.forEach(h),c=z(Z),f=y(Z,"BUTTON",{class:!0,title:!0});var V=N(f);$(C.$$.fragment,V),V.forEach(h),Z.forEach(h),A.forEach(h),this.h()},h(){g(t,"href",l=s[45].artist.link),g(t,"title","open artist in Deezer web interface"),g(o,"class","!p-0 "),g(o,"title","add all artist titles to the playlist"),g(f,"class","!p-0"),g(f,"title","deselect all artist titles from the playlist"),g(u,"class","btn-group-vertical btn btn-sm gap-y-1"),g(e,"class","flex flex-row justify-between w-full items-center gap-x-2")},m(d,A){B(d,e,A),p(e,t),p(t,a),p(a,r),p(e,n),p(e,u),p(u,o),x(m,o,null),p(u,c),p(u,f),x(C,f,null),_=!0,v||(P=[J(o,"click",E),J(f,"click",b)],v=!0)},p(d,A){s=d,(!_||A[0]&16)&&i!==(i=s[45].artist.name+"")&&be(r,i),(!_||A[0]&16&&l!==(l=s[45].artist.link))&&g(t,"href",l)},i(d){_||(F(m.$$.fragment,d),F(C.$$.fragment,d),_=!0)},o(d){U(m.$$.fragment,d),U(C.$$.fragment,d),_=!1},d(d){d&&h(e),ee(m),ee(C),v=!1,Je(P)}}}function js(s){let e=s[45].rank+"",t;return{c(){t=re(e)},l(a){t=oe(a,e)},m(a,i){B(a,t,i)},p(a,i){i[0]&16&&e!==(e=a[45].rank+"")&&be(t,e)},d(a){a&&h(t)}}}function Us(s){let e=Et(s[45].duration*1e3,{units:["m","s"],largest:2})+"",t,a,i;return{c(){t=re(e),a=L(),i=w("span"),this.h()},l(r){t=oe(r,e),a=z(r),i=y(r,"SPAN",{class:!0}),N(i).forEach(h),this.h()},h(){g(i,"class","grow")},m(r,l){B(r,t,l),B(r,a,l),B(r,i,l)},p(r,l){l[0]&16&&e!==(e=Et(r[45].duration*1e3,{units:["m","s"],largest:2})+"")&&be(t,e)},d(r){r&&(h(t),h(a),h(i))}}}function Gt(s){let e,t,a,i,r,l,n,u,o,m,c,f,C,_,v,P,E;return t=new Ge({props:{$$slots:{default:[Ls]},$$scope:{ctx:s}}}),i=new Ge({props:{$$slots:{default:[zs]},$$scope:{ctx:s}}}),l=new Ge({props:{justify:"start",$$slots:{default:[Os]},$$scope:{ctx:s}}}),u=new Ge({props:{justify:"start",$$slots:{default:[Ds]},$$scope:{ctx:s}}}),m=new Ge({props:{justify:"start",$$slots:{default:[Fs]},$$scope:{ctx:s}}}),f=new Ge({props:{$$slots:{default:[js]},$$scope:{ctx:s}}}),_=new Ge({props:{$$slots:{default:[Us]},$$scope:{ctx:s}}}),{c(){e=w("tr"),Q(t.$$.fragment),a=L(),Q(i.$$.fragment),r=L(),Q(l.$$.fragment),n=L(),Q(u.$$.fragment),o=L(),Q(m.$$.fragment),c=L(),Q(f.$$.fragment),C=L(),Q(_.$$.fragment),v=L(),this.h()},l(b){e=y(b,"TR",{class:!0});var d=N(e);$(t.$$.fragment,d),a=z(d),$(i.$$.fragment,d),r=z(d),$(l.$$.fragment,d),n=z(d),$(u.$$.fragment,d),o=z(d),$(m.$$.fragment,d),c=z(d),$(f.$$.fragment,d),C=z(d),$(_.$$.fragment,d),v=z(d),d.forEach(h),this.h()},h(){g(e,"class",P=At(Qt(s[44]))+" svelte-p6m18c"),$e(e,"!text-red-500",!s[45].readable)},m(b,d){B(b,e,d),x(t,e,null),p(e,a),x(i,e,null),p(e,r),x(l,e,null),p(e,n),x(u,e,null),p(e,o),x(m,e,null),p(e,c),x(f,e,null),p(e,C),x(_,e,null),p(e,v),E=!0},p(b,d){const A={};d[0]&16|d[1]&131072&&(A.$$scope={dirty:d,ctx:b}),t.$set(A);const O={};d[1]&131072&&(O.$$scope={dirty:d,ctx:b}),i.$set(O);const H={};d[0]&16|d[1]&131072&&(H.$$scope={dirty:d,ctx:b}),l.$set(H);const Z={};d[0]&16|d[1]&131072&&(Z.$$scope={dirty:d,ctx:b}),u.$set(Z);const te={};d[0]&16|d[1]&131072&&(te.$$scope={dirty:d,ctx:b}),m.$set(te);const V={};d[0]&16|d[1]&131072&&(V.$$scope={dirty:d,ctx:b}),f.$set(V);const fe={};d[0]&16|d[1]&131072&&(fe.$$scope={dirty:d,ctx:b}),_.$set(fe),(!E||d[0]&16&&P!==(P=At(Qt(b[44]))+" svelte-p6m18c"))&&g(e,"class",P),(!E||d[0]&16)&&$e(e,"!text-red-500",!b[45].readable)},i(b){E||(F(t.$$.fragment,b),F(i.$$.fragment,b),F(l.$$.fragment,b),F(u.$$.fragment,b),F(m.$$.fragment,b),F(f.$$.fragment,b),F(_.$$.fragment,b),E=!0)},o(b){U(t.$$.fragment,b),U(i.$$.fragment,b),U(l.$$.fragment,b),U(u.$$.fragment,b),U(m.$$.fragment,b),U(f.$$.fragment,b),U(_.$$.fragment,b),E=!1},d(b){b&&h(e),ee(t),ee(i),ee(l),ee(u),ee(m),ee(f),ee(_)}}}function Hs(s){var wt;let e,t,a,i="Title",r,l,n,u,o,m="Description",c,f,C,_,v="",P,E,b,d=((wt=s[2])==null?void 0:wt.filter(el).length)+"",A,O,H=s[0].playlist.tracks.data.length+"",Z,te,V,fe,Be="",ue,ie,pe,ve,M,S,K,ne,we,se,q,ae="Pos.",Se,ye,ze="Title",T,I,k="Album",Y,j,le="Artist",de,R,me="rank",De,Fe,xe="duration",ut,We,ct,je,ft,Ze,ht,bt,qe=Ie(s[4]),ce=[];for(let D=0;D<qe.length;D+=1)ce[D]=Gt(qt(s,qe,D));const _l=D=>U(ce[D],1,1,()=>{ce[D]=null});function pl(D){s[37](D)}let kt={showFirstLastButtons:!0,showPreviousNextButtons:!0};return s[1]!==void 0&&(kt.settings=s[1]),je=new Jl({props:kt}),ul.push(()=>fl(je,"settings",pl)),{c(){e=w("form"),t=w("label"),a=w("span"),a.textContent=i,r=L(),l=w("input"),n=L(),u=w("label"),o=w("span"),o.textContent=m,c=L(),f=w("textarea"),C=L(),_=w("div"),_.innerHTML=v,P=L(),E=w("div"),b=w("span"),A=re(d),O=re(" Tracks ("),Z=re(H),te=re(`
            in playlist)`),V=L(),fe=w("span"),fe.innerHTML=Be,ue=L(),ie=w("span"),pe=w("table"),ve=w("thead"),M=w("tr"),S=w("th"),K=w("input"),se=L(),q=w("th"),q.textContent=ae,Se=L(),ye=w("th"),ye.textContent=ze,T=L(),I=w("th"),I.textContent=k,Y=L(),j=w("th"),j.textContent=le,de=L(),R=w("th"),R.textContent=me,De=L(),Fe=w("th"),Fe.textContent=xe,ut=L(),We=w("tbody");for(let D=0;D<ce.length;D+=1)ce[D].c();ct=L(),Q(je.$$.fragment),this.h()},l(D){e=y(D,"FORM",{class:!0});var X=N(e);t=y(X,"LABEL",{class:!0});var Le=N(t);a=y(Le,"SPAN",{"data-svelte-h":!0}),_e(a)!=="svelte-7ccxmo"&&(a.textContent=i),r=z(Le),l=y(Le,"INPUT",{class:!0,type:!0,placeholder:!0}),Le.forEach(h),n=z(X),u=y(X,"LABEL",{class:!0});var Ke=N(u);o=y(Ke,"SPAN",{"data-svelte-h":!0}),_e(o)!=="svelte-rmspr8"&&(o.textContent=m),c=z(Ke),f=y(Ke,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),N(f).forEach(h),Ke.forEach(h),C=z(X),_=y(X,"DIV",{class:!0,"data-svelte-h":!0}),_e(_)!=="svelte-10ijpzw"&&(_.innerHTML=v),X.forEach(h),P=z(D),E=y(D,"DIV",{class:!0});var ge=N(E);b=y(ge,"SPAN",{});var Re=N(b);A=oe(Re,d),O=oe(Re," Tracks ("),Z=oe(Re,H),te=oe(Re,`
            in playlist)`),Re.forEach(h),V=z(ge),fe=y(ge,"SPAN",{"data-svelte-h":!0}),_e(fe)!=="svelte-171hy05"&&(fe.innerHTML=Be),ge.forEach(h),ue=z(D),ie=y(D,"SPAN",{class:!0});var at=N(ie);pe=y(at,"TABLE",{class:!0});var nt=N(pe);ve=y(nt,"THEAD",{});var yt=N(ve);M=y(yt,"TR",{class:!0});var Ne=N(M);S=y(Ne,"TH",{});var Tt=N(S);K=y(Tt,"INPUT",{type:!0,class:!0}),Tt.forEach(h),se=z(Ne),q=y(Ne,"TH",{"data-svelte-h":!0}),_e(q)!=="svelte-s1pt0e"&&(q.textContent=ae),Se=z(Ne),ye=y(Ne,"TH",{class:!0,"data-svelte-h":!0}),_e(ye)!=="svelte-1b5qsso"&&(ye.textContent=ze),T=z(Ne),I=y(Ne,"TH",{"data-svelte-h":!0}),_e(I)!=="svelte-12o9w3z"&&(I.textContent=k),Y=z(Ne),j=y(Ne,"TH",{"data-svelte-h":!0}),_e(j)!=="svelte-1tiipkx"&&(j.textContent=le),de=z(Ne),R=y(Ne,"TH",{"data-svelte-h":!0}),_e(R)!=="svelte-1btrpio"&&(R.textContent=me),De=z(Ne),Fe=y(Ne,"TH",{"data-svelte-h":!0}),_e(Fe)!=="svelte-9uwuqy"&&(Fe.textContent=xe),Ne.forEach(h),yt.forEach(h),ut=z(nt),We=y(nt,"TBODY",{});var Ct=N(We);for(let mt=0;mt<ce.length;mt+=1)ce[mt].l(Ct);Ct.forEach(h),nt.forEach(h),ct=z(at),$(je.$$.fragment,at),at.forEach(h),this.h()},h(){g(l,"class","input"),g(l,"type","text"),g(l,"placeholder","title"),g(t,"class","label"),g(f,"class","textarea"),g(f,"rows","4"),g(f,"placeholder","description"),g(u,"class","label"),g(_,"class","flex place-content-start"),g(e,"class","mb-10 space-y-2"),g(E,"class","flex justify-between w-full items-center gap-x-2 my-4"),g(K,"type","checkbox"),g(K,"class","checkbox"),K.checked=ne=s[4].filter(tl).length===s[4].length&&s[4].length>0,K.indeterminate=we=s[4].filter(ll).length!==s[4].length&&s[4].filter(sl).length>0,g(ye,"class",".fitwidth"),g(M,"class",""),g(pe,"class","table my-4"),g(ie,"class","table-container")},m(D,X){B(D,e,X),p(e,t),p(t,a),p(t,r),p(t,l),Ve(l,s[0].playlist.title),p(e,n),p(e,u),p(u,o),p(u,c),p(u,f),Ve(f,s[0].playlist.description),p(e,C),p(e,_),B(D,P,X),B(D,E,X),p(E,b),p(b,A),p(b,O),p(b,Z),p(b,te),p(E,V),p(E,fe),B(D,ue,X),B(D,ie,X),p(ie,pe),p(pe,ve),p(ve,M),p(M,S),p(S,K),p(M,se),p(M,q),p(M,Se),p(M,ye),p(M,T),p(M,I),p(M,Y),p(M,j),p(M,de),p(M,R),p(M,De),p(M,Fe),p(pe,ut),p(pe,We);for(let Le=0;Le<ce.length;Le+=1)ce[Le]&&ce[Le].m(We,null);p(ie,ct),x(je,ie,null),Ze=!0,ht||(bt=[J(l,"input",s[29]),J(f,"input",s[30]),J(K,"change",s[31])],ht=!0)},p(D,X){var Ke;if(X[0]&1&&l.value!==D[0].playlist.title&&Ve(l,D[0].playlist.title),X[0]&1&&Ve(f,D[0].playlist.description),(!Ze||X[0]&4)&&d!==(d=((Ke=D[2])==null?void 0:Ke.filter(el).length)+"")&&be(A,d),(!Ze||X[0]&1)&&H!==(H=D[0].playlist.tracks.data.length+"")&&be(Z,H),(!Ze||X[0]&16&&ne!==(ne=D[4].filter(tl).length===D[4].length&&D[4].length>0))&&(K.checked=ne),(!Ze||X[0]&16&&we!==(we=D[4].filter(ll).length!==D[4].length&&D[4].filter(sl).length>0))&&(K.indeterminate=we),X[0]&1040){qe=Ie(D[4]);let ge;for(ge=0;ge<qe.length;ge+=1){const Re=qt(D,qe,ge);ce[ge]?(ce[ge].p(Re,X),F(ce[ge],1)):(ce[ge]=Gt(Re),ce[ge].c(),F(ce[ge],1),ce[ge].m(We,null))}for(lt(),ge=qe.length;ge<ce.length;ge+=1)_l(ge);st()}const Le={};!ft&&X[0]&2&&(ft=!0,Le.settings=D[1],cl(()=>ft=!1)),je.$set(Le)},i(D){if(!Ze){for(let X=0;X<qe.length;X+=1)F(ce[X]);F(je.$$.fragment,D),Ze=!0}},o(D){ce=ce.filter(Boolean);for(let X=0;X<ce.length;X+=1)U(ce[X]);U(je.$$.fragment,D),Ze=!1},d(D){D&&(h(e),h(P),h(E),h(ue),h(ie)),ot(ce,D),ee(je),ht=!1,Je(bt)}}}function Ms(s){let e,t="Search Artist";return{c(){e=w("h4"),e.textContent=t},l(a){e=y(a,"H4",{"data-svelte-h":!0}),_e(e)!=="svelte-z92qpb"&&(e.textContent=t)},m(a,i){B(a,e,i)},p:G,d(a){a&&h(e)}}}function Wt(s){let e,t,a,i,r,l,n;t=new tt({props:{$$slots:{default:[Zs]},$$scope:{ctx:s}}}),i=new tt({props:{$$slots:{default:[Ks]},$$scope:{ctx:s}}});let u=Ie(s[8]),o=[];for(let c=0;c<u.length;c+=1)o[c]=Yt(Kt(s,u,c));const m=c=>U(o[c],1,1,()=>{o[c]=null});return{c(){e=w("span"),Q(t.$$.fragment),a=L(),Q(i.$$.fragment),r=L(),l=w("ul");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=y(c,"SPAN",{class:!0});var f=N(e);$(t.$$.fragment,f),a=z(f),$(i.$$.fragment,f),f.forEach(h),r=z(c),l=y(c,"UL",{class:!0});var C=N(l);for(let _=0;_<o.length;_+=1)o[_].l(C);C.forEach(h),this.h()},h(){g(e,"class","flex justify-between w-full items-center gap-x-2 my-4"),g(l,"class","list")},m(c,f){B(c,e,f),x(t,e,null),p(e,a),x(i,e,null),B(c,r,f),B(c,l,f);for(let C=0;C<o.length;C+=1)o[C]&&o[C].m(l,null);n=!0},p(c,f){const C={};f[1]&131072&&(C.$$scope={dirty:f,ctx:c}),t.$set(C);const _={};if(f[0]&8|f[1]&131072&&(_.$$scope={dirty:f,ctx:c}),i.$set(_),f[0]&1049856){u=Ie(c[8]);let v;for(v=0;v<u.length;v+=1){const P=Kt(c,u,v);o[v]?(o[v].p(P,f),F(o[v],1)):(o[v]=Yt(P),o[v].c(),F(o[v],1),o[v].m(l,null))}for(lt(),v=u.length;v<o.length;v+=1)m(v);st()}},i(c){if(!n){F(t.$$.fragment,c),F(i.$$.fragment,c);for(let f=0;f<u.length;f+=1)F(o[f]);n=!0}},o(c){U(t.$$.fragment,c),U(i.$$.fragment,c),o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)U(o[f]);n=!1},d(c){c&&(h(e),h(r),h(l)),ee(t),ee(i),ot(o,c)}}}function Zs(s){let e,t="Playlists Artists";return{c(){e=w("h4"),e.textContent=t},l(a){e=y(a,"H4",{"data-svelte-h":!0}),_e(e)!=="svelte-1fedd7v"&&(e.textContent=t)},m(a,i){B(a,e,i)},p:G,d(a){a&&h(e)}}}function Rs(s){let e,t="alphabetical",a,i;return{c(){e=w("button"),e.textContent=t},l(r){e=y(r,"BUTTON",{"data-svelte-h":!0}),_e(e)!=="svelte-a0poae"&&(e.textContent=t)},m(r,l){B(r,e,l),a||(i=J(e,"click",s[24]),a=!0)},p:G,d(r){r&&h(e),a=!1,i()}}}function Vs(s){let e,t="# tracks",a,i;return{c(){e=w("button"),e.textContent=t},l(r){e=y(r,"BUTTON",{"data-svelte-h":!0}),_e(e)!=="svelte-ms1gv1"&&(e.textContent=t)},m(r,l){B(r,e,l),a||(i=J(e,"click",s[23]),a=!0)},p:G,d(r){r&&h(e),a=!1,i()}}}function Js(s){let e,t,a,i,r;return t=new ys({}),{c(){e=w("button"),Q(t.$$.fragment)},l(l){e=y(l,"BUTTON",{});var n=N(e);$(t.$$.fragment,n),n.forEach(h)},m(l,n){B(l,e,n),x(t,e,null),a=!0,i||(r=J(e,"click",s[26]),i=!0)},p:G,i(l){a||(F(t.$$.fragment,l),a=!0)},o(l){U(t.$$.fragment,l),a=!1},d(l){l&&h(e),ee(t),i=!1,r()}}}function qs(s){let e,t,a,i,r;return t=new bs({}),{c(){e=w("button"),Q(t.$$.fragment)},l(l){e=y(l,"BUTTON",{});var n=N(e);$(t.$$.fragment,n),n.forEach(h)},m(l,n){B(l,e,n),x(t,e,null),a=!0,i||(r=J(e,"click",s[25]),i=!0)},p:G,i(l){a||(F(t.$$.fragment,l),a=!0)},o(l){U(t.$$.fragment,l),a=!1},d(l){l&&h(e),ee(t),i=!1,r()}}}function Ks(s){let e,t,a,i,r;function l(f,C){if(f[3].orderBy==="trackCount")return Vs;if(f[3].orderBy==="alphabetical")return Rs}let n=l(s),u=n&&n(s);const o=[qs,Js],m=[];function c(f,C){return f[3].ascending?0:1}return t=c(s),a=m[t]=o[t](s),{c(){u&&u.c(),e=L(),a.c(),i=Xe()},l(f){u&&u.l(f),e=z(f),a.l(f),i=Xe()},m(f,C){u&&u.m(f,C),B(f,e,C),m[t].m(f,C),B(f,i,C),r=!0},p(f,C){n===(n=l(f))&&u?u.p(f,C):(u&&u.d(1),u=n&&n(f),u&&(u.c(),u.m(e.parentNode,e)));let _=t;t=c(f),t===_?m[t].p(f,C):(lt(),U(m[_],1,1,()=>{m[_]=null}),st(),a=m[t],a?a.p(f,C):(a=m[t]=o[t](f),a.c()),F(a,1),a.m(i.parentNode,i))},i(f){r||(F(a),r=!0)},o(f){U(a),r=!1},d(f){f&&(h(e),h(i)),u&&u.d(f),m[t].d(f)}}}function Gs(s){let e,t,a,i,r,l=s[40].name+"",n,u,o,m,c=s[41]+"",f,C,_;return{c(){e=w("img"),i=L(),r=w("span"),n=re(l),u=L(),o=w("small"),m=re("(#"),f=re(c),C=re(")"),this.h()},l(v){e=y(v,"IMG",{src:!0,alt:!0}),i=z(v),r=y(v,"SPAN",{});var P=N(r);n=oe(P,l),P.forEach(h),u=z(v),o=y(v,"SMALL",{title:!0});var E=N(o);m=oe(E,"(#"),f=oe(E,c),C=oe(E,")"),E.forEach(h),this.h()},h(){Qe(e.src,t=s[40].picture_small)||g(e,"src",t),g(e,"alt",a=s[40].name),g(o,"title",_="artist has "+s[41]+" tracks in the playlist ")},m(v,P){B(v,e,P),B(v,i,P),B(v,r,P),p(r,n),B(v,u,P),B(v,o,P),p(o,m),p(o,f),p(o,C)},p(v,P){P[0]&256&&!Qe(e.src,t=v[40].picture_small)&&g(e,"src",t),P[0]&256&&a!==(a=v[40].name)&&g(e,"alt",a),P[0]&256&&l!==(l=v[40].name+"")&&be(n,l),P[0]&256&&c!==(c=v[41]+"")&&be(f,c),P[0]&256&&_!==(_="artist has "+v[41]+" tracks in the playlist ")&&g(o,"title",_)},d(v){v&&(h(e),h(i),h(r),h(u),h(o))}}}function Yt(s){let e,t,a,i,r,l,n,u,o,m,c,f,C,_,v,P;i=new tt({props:{$$slots:{default:[Gs]},$$scope:{ctx:s}}}),o=new vt({});function E(){return s[27](s[40])}f=new pt({});function b(){return s[28](s[40])}return{c(){e=w("li"),t=w("span"),a=w("a"),Q(i.$$.fragment),l=L(),n=w("div"),u=w("button"),Q(o.$$.fragment),m=L(),c=w("button"),Q(f.$$.fragment),C=L(),this.h()},l(d){e=y(d,"LI",{});var A=N(e);t=y(A,"SPAN",{class:!0});var O=N(t);a=y(O,"A",{href:!0,title:!0});var H=N(a);$(i.$$.fragment,H),H.forEach(h),l=z(O),n=y(O,"DIV",{class:!0});var Z=N(n);u=y(Z,"BUTTON",{class:!0,title:!0});var te=N(u);$(o.$$.fragment,te),te.forEach(h),m=z(Z),c=y(Z,"BUTTON",{class:!0,title:!0});var V=N(c);$(f.$$.fragment,V),V.forEach(h),Z.forEach(h),O.forEach(h),C=z(A),A.forEach(h),this.h()},h(){g(a,"href",r=s[40].link),g(a,"title","open artist in Deezer web interface"),g(u,"class","!p-0 "),g(u,"title","add all artist titles to the playlist"),g(c,"class","!p-0"),g(c,"title","deselect all artist titles from the playlist"),$e(c,"text-gray-500",s[41]===0),g(n,"class","btn-group-vertical btn btn-sm gap-y-1"),g(t,"class","flex flex-row justify-between w-full items-center gap-x-2")},m(d,A){B(d,e,A),p(e,t),p(t,a),x(i,a,null),p(t,l),p(t,n),p(n,u),x(o,u,null),p(n,m),p(n,c),x(f,c,null),p(e,C),_=!0,v||(P=[J(u,"click",E),J(c,"click",b)],v=!0)},p(d,A){s=d;const O={};A[0]&256|A[1]&131072&&(O.$$scope={dirty:A,ctx:s}),i.$set(O),(!_||A[0]&256&&r!==(r=s[40].link))&&g(a,"href",r),(!_||A[0]&1048832)&&$e(c,"text-gray-500",s[41]===0)},i(d){_||(F(i.$$.fragment,d),F(o.$$.fragment,d),F(f.$$.fragment,d),_=!0)},o(d){U(i.$$.fragment,d),U(o.$$.fragment,d),U(f.$$.fragment,d),_=!1},d(d){d&&h(e),ee(i),ee(o),ee(f),v=!1,Je(P)}}}function Ws(s){var b;let e,t,a,i,r,l,n,u,o,m,c,f,C,_;a=new tt({props:{$$slots:{default:[Ms]},$$scope:{ctx:s}}});function v(d){s[22](d)}let P={options:s[7]};s[6]!==void 0&&(P.input=s[6]),u=new Ol({props:P}),ul.push(()=>fl(u,"input",v)),u.$on("selection",s[18]);let E=((b=s[8])==null?void 0:b.length)>0&&Wt(s);return{c(){e=w("span"),t=w("span"),Q(a.$$.fragment),i=L(),r=w("input"),l=L(),n=w("span"),Q(u.$$.fragment),m=L(),E&&E.c(),c=Xe(),this.h()},l(d){e=y(d,"SPAN",{class:!0});var A=N(e);t=y(A,"SPAN",{class:!0});var O=N(t);$(a.$$.fragment,O),O.forEach(h),i=z(A),r=y(A,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),l=z(A),n=y(A,"SPAN",{class:!0,tabindex:!0});var H=N(n);$(u.$$.fragment,H),H.forEach(h),A.forEach(h),m=z(d),E&&E.l(d),c=Xe(),this.h()},h(){g(t,"class","mb-2"),g(r,"class","input"),g(r,"type","search"),g(r,"name","demo"),g(r,"placeholder","Search..."),g(n,"class","card w-full max-w-sm max-h-48 p-4 overflow-y-auto inline-block"),g(n,"tabindex","-1"),g(e,"class","my-4")},m(d,A){B(d,e,A),p(e,t),x(a,t,null),p(e,i),p(e,r),Ve(r,s[6]),p(e,l),p(e,n),x(u,n,null),B(d,m,A),E&&E.m(d,A),B(d,c,A),f=!0,C||(_=J(r,"input",s[21]),C=!0)},p(d,A){var Z;const O={};A[1]&131072&&(O.$$scope={dirty:A,ctx:d}),a.$set(O),A[0]&64&&r.value!==d[6]&&Ve(r,d[6]);const H={};A[0]&128&&(H.options=d[7]),!o&&A[0]&64&&(o=!0,H.input=d[6],cl(()=>o=!1)),u.$set(H),((Z=d[8])==null?void 0:Z.length)>0?E?(E.p(d,A),A[0]&256&&F(E,1)):(E=Wt(d),E.c(),F(E,1),E.m(c.parentNode,c)):E&&(lt(),U(E,1,1,()=>{E=null}),st())},i(d){f||(F(a.$$.fragment,d),F(u.$$.fragment,d),F(E),f=!0)},o(d){U(a.$$.fragment,d),U(u.$$.fragment,d),U(E),f=!1},d(d){d&&(h(e),h(m),h(c)),ee(a),ee(u),E&&E.d(d),C=!1,_()}}}function Xt(s){let e,t=s[5].message+"",a,i,r,l,n;return{c(){e=w("span"),a=re(t),i=L(),r=w("progress"),this.h()},l(u){e=y(u,"SPAN",{});var o=N(e);a=oe(o,t),o.forEach(h),i=z(u),r=y(u,"PROGRESS",{max:!0}),N(r).forEach(h),this.h()},h(){r.value=l=s[5].value,g(r,"max",n=s[5].max)},m(u,o){B(u,e,o),p(e,a),B(u,i,o),B(u,r,o)},p(u,o){o[0]&32&&t!==(t=u[5].message+"")&&be(a,t),o[0]&32&&l!==(l=u[5].value)&&(r.value=l),o[0]&32&&n!==(n=u[5].max)&&g(r,"max",n)},d(u){u&&(h(e),h(i),h(r))}}}function Ys(s){let e,t,a="Save to Deezer",i,r,l,n,u,o="Update playlist info",m,c,f,C,_,v="Update Tracks",P,E,b,d="Prepare playlist",A,O,H,Z,te,V="retrieve non readable tracks",fe,Be,ue,ie,pe,ve,M="remove de-selected tracks",S,K,ne,we;l=new Vt({}),f=new Vt({});let se=s[5]&&Xt(s);return H=new As({}),ie=new Es({}),{c(){e=w("div"),t=w("h3"),t.textContent=a,i=L(),r=w("button"),Q(l.$$.fragment),n=L(),u=w("span"),u.textContent=o,m=L(),c=w("button"),Q(f.$$.fragment),C=L(),_=w("span"),_.textContent=v,P=L(),se&&se.c(),E=L(),b=w("h3"),b.textContent=d,A=L(),O=w("button"),Q(H.$$.fragment),Z=L(),te=w("span"),te.textContent=V,Be=L(),ue=w("button"),Q(ie.$$.fragment),pe=L(),ve=w("span"),ve.textContent=M,this.h()},l(q){e=y(q,"DIV",{class:!0});var ae=N(e);t=y(ae,"H3",{"data-svelte-h":!0}),_e(t)!=="svelte-1v8zjx5"&&(t.textContent=a),i=z(ae),r=y(ae,"BUTTON",{class:!0});var Se=N(r);$(l.$$.fragment,Se),n=z(Se),u=y(Se,"SPAN",{"data-svelte-h":!0}),_e(u)!=="svelte-wh4rhd"&&(u.textContent=o),Se.forEach(h),m=z(ae),c=y(ae,"BUTTON",{class:!0});var ye=N(c);$(f.$$.fragment,ye),C=z(ye),_=y(ye,"SPAN",{"data-svelte-h":!0}),_e(_)!=="svelte-67dhmv"&&(_.textContent=v),ye.forEach(h),P=z(ae),se&&se.l(ae),E=z(ae),b=y(ae,"H3",{"data-svelte-h":!0}),_e(b)!=="svelte-1oj9aef"&&(b.textContent=d),A=z(ae),O=y(ae,"BUTTON",{class:!0,title:!0});var ze=N(O);$(H.$$.fragment,ze),Z=z(ze),te=y(ze,"SPAN",{"data-svelte-h":!0}),_e(te)!=="svelte-dro7np"&&(te.textContent=V),ze.forEach(h),Be=z(ae),ue=y(ae,"BUTTON",{class:!0,title:!0});var T=N(ue);$(ie.$$.fragment,T),pe=z(T),ve=y(T,"SPAN",{"data-svelte-h":!0}),_e(ve)!=="svelte-13uzf89"&&(ve.textContent=M),T.forEach(h),ae.forEach(h),this.h()},h(){g(r,"class","btn variant-filled-primary"),g(c,"class","btn variant-filled-secondary"),g(O,"class","btn variant-filled-tertiary"),O.disabled=fe=s[2].filter($t).length===0,g(O,"title","trye to find equivalent of tracks that are not readable anymore"),g(ue,"class","btn variant-filled-tertiary"),ue.disabled=S=s[2].filter(xt).length===0,g(ue,"title","remove de-selected new tracks"),g(e,"class","flex flex-col gap-y-4 w-4/5")},m(q,ae){B(q,e,ae),p(e,t),p(e,i),p(e,r),x(l,r,null),p(r,n),p(r,u),p(e,m),p(e,c),x(f,c,null),p(c,C),p(c,_),p(e,P),se&&se.m(e,null),p(e,E),p(e,b),p(e,A),p(e,O),x(H,O,null),p(O,Z),p(O,te),p(e,Be),p(e,ue),x(ie,ue,null),p(ue,pe),p(ue,ve),K=!0,ne||(we=[J(r,"click",rt(s[12])),J(c,"click",rt(s[14])),J(O,"click",rt(s[15])),J(ue,"click",rt(s[16]))],ne=!0)},p(q,ae){q[5]?se?se.p(q,ae):(se=Xt(q),se.c(),se.m(e,E)):se&&(se.d(1),se=null),(!K||ae[0]&4&&fe!==(fe=q[2].filter($t).length===0))&&(O.disabled=fe),(!K||ae[0]&4&&S!==(S=q[2].filter(xt).length===0))&&(ue.disabled=S)},i(q){K||(F(l.$$.fragment,q),F(f.$$.fragment,q),F(H.$$.fragment,q),F(ie.$$.fragment,q),K=!0)},o(q){U(l.$$.fragment,q),U(f.$$.fragment,q),U(H.$$.fragment,q),U(ie.$$.fragment,q),K=!1},d(q){q&&h(e),ee(l),ee(f),se&&se.d(),ee(H),ee(ie),ne=!1,Je(we)}}}function Xs(s){let e,t;return e=new wl({props:{$$slots:{sidebarRight:[Ys],sidebarLeft:[Ws],default:[Hs]},$$scope:{ctx:s}}}),{c(){Q(e.$$.fragment)},l(a){$(e.$$.fragment,a)},m(a,i){x(e,a,i),t=!0},p(a,i){const r={};i[0]&511|i[1]&131072&&(r.$$scope={dirty:i,ctx:a}),e.$set(r)},i(a){t||(F(e.$$.fragment,a),t=!0)},o(a){U(e.$$.fragment,a),t=!1},d(a){ee(e,a)}}}function Qs(s,e){const t=[];for(let a=0;a<s.length;a+=e)t.push(s.slice(a,a+e));return t}function Qt(s){return!s.inPlaylist&&s.selected?"!text-lime-500":s.inPlaylist&&!s.selected?"!line-through":""}const $t=s=>s.selected&&!s.track.readable,xt=s=>!s.selected&&!s.inPlaylist,el=s=>s.selected,tl=s=>s.selected,ll=s=>s.selected,sl=s=>s.selected;function $s(s,e,t){let a,i,r,l,n,u,{data:o}=e;const m=it([]);et(s,m,T=>t(8,u=T));const c=it([]);et(s,c,T=>t(2,i=T));const f={ascending:!1,orderBy:"trackCount"};function C(T){T.ascending!==void 0&&t(3,f.ascending=T.ascending,f),T.orderBy!==void 0&&t(3,f.orderBy=T.orderBy,f),m.update(I=>{const k=f.ascending?1:-1,Y=(R,me)=>te(R.id)-te(me.id),j=(R,me)=>R.name.localeCompare(me.name),le=(R,me)=>(De,Fe)=>{const xe=R(De,Fe);return xe===0?me(De,Fe):xe};return I.sort((R,me)=>{switch(f.orderBy){case"trackCount":return k*le(Y,j)(R,me);case"alphabetical":return k*le(j,Y)(R,me)}})})}async function _(){const T={request_method:"POST"};o.playlist.title&&(T.title=o.playlist.title),o.playlist.description&&(T.description=o.playlist.description),o.playlist.public&&(T.public=o.playlist.public);try{const I=await Ye({apiPath:`/playlist/${o.playlist.id}`,searchParams:T});Oe.trigger({message:`Updated playlist: ${I?"OK":"KO"}`,timeout:3e3})}catch(I){Oe.trigger({message:`Updated playlist: error ${I}`,timeout:3e3})}}let v=it(void 0);et(s,v,T=>t(5,r=T));async function P(T,I,k){if(!T.length)return;v.set({message:`sending 0/${T.length} ${I} ${k} `,value:0,max:T.length});let Y=0;const j=100;for(const le of Qs(T,j)){Y+=j,v.set({message:`sending ${Y} / ${T.length} ${I} ${k} `,value:Y,max:T.length}),console.log(`sending ${I} ${k}=${JSON.stringify(le)}`);const de={request_method:I};de[k]=le.join(",");const R=await Ye({apiPath:`/playlist/${o.playlist.id}/tracks`,searchParams:de});if(console.log({updateResult:R}),!R)throw new Error(`unable to send ${I} ${k}=${JSON.stringify(le)}`)}}async function E(){try{const T=i.filter(k=>k.selected&&!k.inPlaylist).map(k=>k.track.id);await P(T,"POST","songs");const I=i.filter(k=>!k.selected&&k.inPlaylist).map(k=>k.track.id);if(await P(I,"DELETE","songs"),T.length>0){const k=i.filter(Y=>Y.selected).map(Y=>Y.track.id);await P(k,"POST","order")}if(v.set(void 0),T.length||I.length){const k=Oe.trigger({message:"Updated playlist tracks, refreshing playlist data"});await Al(),Oe.close(k)}}catch(T){Oe.trigger({message:`Updated playlist tracks: error ${T}`,timeout:3e3})}finally{v.set(void 0)}}async function b(T){const I=await gl(T.artist.id);if(!I){Oe.trigger({message:`Could not find artist ${T.artist.name}`,timeout:3e3});return}const k=I.flatMap(le=>{const{tracks:de,...R}=le;return le.tracks.map(me=>({...me,album:R}))}).filter(le=>le.id!==T.id&&le.readable),Y={sensitivity:"base",ignorePunctuation:!0,numeric:!1,usage:"search"},j=k.filter(le=>le.title.localeCompare(T.title,void 0,Y)===0);switch(j.length){case 0:console.log("no match by title",{unreadableTrack:T}),Oe.trigger({message:`Could not find matching track for '${T.title}' in album '${T.album.title}'`,timeout:3e3});return;case 1:return j[0];default:{const le=Object.values(j.reduce((R,me)=>(R[me.isrc]=me,R),{}));if(le.length===1)return le[0];const de=j.filter(R=>R.album.title.localeCompare(T.album.title,void 0,Y)===0);switch(de.length){case 0:console.log("no match by title and album",{unreadableTrack:T}),Oe.trigger({message:`Could not find matching track for '${T.title}' in album '${T.album.title}'`,timeout:3e3});return;case 1:return de[0];default:{const R=Object.values(de.reduce((me,De)=>(me[De.isrc]=De,me),{}));if(R.length===1)return R[0];console.log("multple match by title",{unreadableTrack:T,matchingTracksByTitleAndAlbum:de}),Oe.trigger({message:`Found multiple matching tracks for '${T.title}' in album '${T.album.title}' : ${de.map(me=>me.id)}`,timeout:3e3});return}}}}}async function d(){const T=El(c),I=T.filter(j=>j.selected&&j.track.readable).length,k=T.filter(j=>j.selected&&!j.track.readable);for(const j of k){const le=j.track,de=await b(le);if(de){console.log("adding alternative to "+j.track.id+" : "+de.title),j.selected=!1;const R=T.indexOf(j);T.splice(R+1,0,{selected:!0,inPlaylist:!1,track:de})}}const Y=T.filter(j=>j.selected&&j.track.readable).length;Oe.trigger({message:`Reattached ${Y-I} track(s) to readable equivalents.<br/>(${T.filter(j=>j.selected).length-Y} unreadable track remaining)`,timeout:1e4}),c.set(T)}function A(){c.update(T=>{const I=T.filter(k=>k.selected||k.inPlaylist);return Oe.trigger({message:`Removed ${T.length-I.length} track(s) from the playlist`,timeout:3e3}),I})}let O=it("");et(s,O,T=>t(6,l=T));function H(T){const I=T.detail.value;dt(I,c)}const Z=vl(O,(T,I)=>{if(!T){I([]);return}Ye({apiPath:"/search/artist",searchParams:{q:T}}).then(k=>{const Y=k.data.map(j=>({label:`<span class="flex justify-between w-full items-center">
<span class="flex items-center"> <img src="${j.picture_small}" class="mx-2"/>${j.name}</span>
 <button class="btn-icon btn-icon-sm variant-outline-tertiary" title="add all artist titles to the playlist">add</button></span>`,value:j.id,meta:j}));I(Y)})});et(s,Z,T=>t(7,n=T));function te(T){return i.filter(I=>I.track.artist.id===T&&I.selected).length}let V={offset:0,limit:20,size:10,amounts:[10,20,50,100]};function fe(){l=this.value,O.set(l)}function Be(T){l=T,O.set(l)}const ue=()=>C({orderBy:"alphabetical"}),ie=()=>C({orderBy:"trackCount"}),pe=()=>C({ascending:!1}),ve=()=>C({ascending:!0}),M=T=>dt(T.id,c),S=T=>Jt(T.id,c);function K(){o.playlist.title=this.value,t(0,o)}function ne(){o.playlist.description=this.value,t(0,o)}const we=T=>{a.forEach(I=>I.selected=T.target.checked),c.update(I=>I)};function se(T,I){T[I].selected=this.checked,t(4,a),t(2,i),t(1,V)}const q=T=>Ss(T.album,c),ae=T=>Bs(T.album.id,c),Se=T=>dt(T.artist.id,c),ye=T=>Jt(T.artist.id,c);function ze(T){V=T,t(1,V),t(2,i)}return s.$$set=T=>{"data"in T&&t(0,o=T.data)},s.$$.update=()=>{if(s.$$.dirty[0]&1&&m.set(o.topArtists),s.$$.dirty[0]&1){const T=o.playlist.tracks.data.map(I=>({track:I,inPlaylist:!0,selected:!0}));c.set(T)}s.$$.dirty[0]&4&&t(1,V.size=i.length,V),s.$$.dirty[0]&6&&t(4,a=i.slice(V.offset*V.limit,V.offset*V.limit+V.limit))},[o,V,i,f,a,r,l,n,u,m,c,C,_,v,E,d,A,O,H,Z,te,fe,Be,ue,ie,pe,ve,M,S,K,ne,we,se,q,ae,Se,ye,ze]}class oa extends Ce{constructor(e){super(),Ee(this,e,$s,Xs,Te,{data:0},null,[-1,-1])}}export{oa as component,ra as universal};
