import{s as u,l as f,m as h,i as U,r as a,d,F as R}from"../chunks/scheduler.dc0f26dd.js";import{S as I,i as g}from"../chunks/index.b6753c13.js";import"../chunks/paths.ec04aea9.js";import{p as E}from"../chunks/stores.29ad5fd3.js";import{e as n}from"../chunks/public.52e3a7d7.js";import{U as L,T,R as C}from"../chunks/CookieManager.d8697515.js";const O={AUTHORIZATION_URL:n.PUBLIC_DEEZER_AUTHORIZATION_URL||"https://connect.deezer.com/oauth/auth.php",TOKEN_URL:n.PUBLIC_DEEZER_TOKEN_URL||"https://connect.deezer.com/oauth/access_token.php"};function A(s){let e;return{c(){e=f("signin...")},l(t){e=h(t,"signin...")},m(t,o){U(t,e,o)},p:a,i:a,o:a,d(t){t&&d(e)}}}function $(s,e,t){let o;R(s,E,r=>t(0,o=r)),L.remove(),T.remove();const c=O.AUTHORIZATION_URL,p=n.PUBLIC_DEEZER_ID,m=`${n.PUBLIC_ORIGIN}/auth/callback`,_=["basic_access","email","manage_library","delete_library","listening_history","manage_community","offline_access"].join(","),l=`${c}?app_id=${p}&redirect_uri=${m}&perms=${_}&output=json&response_type=token`;{const r=document.referrer;if(r){const i=new URL(r);i.host===o.url.host&&(console.log("set redriect to "+i.pathname),C.set(i.pathname))}document.location.href=l}return[]}class x extends I{constructor(e){super(),g(this,e,$,A,u,{})}}export{x as component};
