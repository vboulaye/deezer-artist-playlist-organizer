import{d as ml,w as it}from"../chunks/paths.f3416329.js";import{g as dl,c as Xe,r as gl}from"../chunks/DeezerCall.c9f77ff8.js";import{g as dt,P as _l,h as yt}from"../chunks/PlaylistApplicationShell.8213e3e6.js";import{s as ke,f as k,g as y,h as A,d as h,j as d,i as P,r as G,R as xt,w as q,E as ue,S as Tt,l as ie,m as re,z as p,n as be,H as Ne,a as S,G as Pe,c as L,I as $,K as Ge,J as pl,T as Ct,P as ot,U as Re,V as vl,e as Qe,L as Oe,M as De,N as _e,Q as $e,W as xe,y as el,A as tl,B as ll,C as sl,k as bl,F as tt,p as al,O as ge,X as nl,Y as rt,Z as wl,_ as Et}from"../chunks/scheduler.2d554b92.js";import{S as ye,i as Te,g as lt,t as I,c as st,a as H,b as W,d as Y,m as X,e as Q,o as il}from"../chunks/index.22319be1.js";import{e as Me,u as kl,d as yl}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.a18ca481.js";import{i as Tl}from"../chunks/navigation.82cfa67c.js";import{g as He,t as Le}from"../chunks/stores.f33c79c3.js";function Nt(s,e,t){const a=s.slice();return a[32]=e[t],a}function Cl(s){let e,t,a;return{c(){e=k("div"),t=ie(s[0]),this.h()},l(i){e=y(i,"DIV",{class:!0});var n=A(e);t=re(n,s[0]),n.forEach(h),this.h()},h(){d(e,"class",a="autocomplete-empty "+s[2])},m(i,n){P(i,e,n),p(e,t)},p(i,n){n[0]&1&&be(t,i[0]),n[0]&4&&a!==(a="autocomplete-empty "+i[2])&&d(e,"class",a)},d(i){i&&h(e)}}}function El(s){let e,t,a=[],i=new Map,n,l,r=Me(s[1].slice(0,s[8]));const u=o=>o[32];for(let o=0;o<r.length;o+=1){let m=Nt(s,r,o),f=u(m);i.set(f,a[o]=Pt(f,m))}return{c(){e=k("nav"),t=k("ul");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=y(o,"NAV",{class:!0});var m=A(e);t=y(m,"UL",{class:!0});var f=A(t);for(let c=0;c<a.length;c+=1)a[c].l(f);f.forEach(h),m.forEach(h),this.h()},h(){d(t,"class",n="autocomplete-list "+s[5]),d(e,"class",l="autocomplete-nav "+s[6])},m(o,m){P(o,e,m),p(e,t);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(t,null)},p(o,m){m[0]&794&&(r=Me(o[1].slice(0,o[8])),a=kl(a,m,u,1,o,r,i,t,yl,Pt,null,Nt)),m[0]&32&&n!==(n="autocomplete-list "+o[5])&&d(t,"class",n),m[0]&64&&l!==(l="autocomplete-nav "+o[6])&&d(e,"class",l)},d(o){o&&h(e);for(let m=0;m<a.length;m+=1)a[m].d()}}}function Pt(s,e){let t,a,i,n=e[32].label+"",l,r,u,o,m;function f(){return e[26](e[32])}return{key:s,first:null,c(){t=k("li"),a=k("button"),i=new Ne(!1),r=S(),this.h()},l(c){t=y(c,"LI",{class:!0});var E=A(t);a=y(E,"BUTTON",{class:!0,type:!0});var _=A(a);i=Pe(_,!1),_.forEach(h),r=L(E),E.forEach(h),this.h()},h(){i.a=null,d(a,"class",l="autocomplete-button "+e[3]),d(a,"type","button"),d(t,"class",u="autocomplete-item "+e[4]),this.first=t},m(c,E){P(c,t,E),p(t,a),i.m(n,a),p(t,r),o||(m=[$(a,"click",f),$(a,"click",e[24]),$(a,"keypress",e[25])],o=!0)},p(c,E){e=c,E[0]&258&&n!==(n=e[32].label+"")&&i.p(n),E[0]&8&&l!==(l="autocomplete-button "+e[3])&&d(a,"class",l),E[0]&16&&u!==(u="autocomplete-item "+e[4])&&d(t,"class",u)},d(c){c&&h(t),o=!1,Ge(m)}}}function Nl(s){let e,t;function a(l,r){return l[1].length>0?El:Cl}let i=a(s),n=i(s);return{c(){e=k("div"),n.c(),this.h()},l(l){e=y(l,"DIV",{class:!0,"data-testid":!0});var r=A(e);n.l(r),r.forEach(h),this.h()},h(){d(e,"class",t="autocomplete "+s[7]),d(e,"data-testid","autocomplete")},m(l,r){P(l,e,r),n.m(e,null)},p(l,r){i===(i=a(l))&&n?n.p(l,r):(n.d(1),n=i(l),n&&(n.c(),n.m(e,null))),r[0]&128&&t!==(t="autocomplete "+l[7])&&d(e,"class",t)},i:G,o:G,d(l){l&&h(e),n.d()}}}function Pl(s,e,t){let a,i,n,l,r,u,o,m,f;const c=xt();let{input:E=void 0}=e,{options:_=[]}=e,{limit:C=void 0}=e,{allowlist:z=[]}=e,{denylist:b=[]}=e,{emptyState:v="No Results Found."}=e,{regionNav:g=""}=e,{regionList:N="list-nav"}=e,{regionItem:M=""}=e,{regionButton:U="w-full"}=e,{regionEmpty:x="text-center"}=e,{whitelist:he=[]}=e,{blacklist:ve=[]}=e,{duration:fe=200}=e;function ee(B,ae){let Z=[..._];B.length&&(Z=Z.filter(K=>B.includes(K.value))),ae.length&&(Z=Z.filter(K=>!ae.includes(K.value))),!B.length&&!ae.length&&(Z=_),t(23,a=Z)}function pe(){let B=[...a];return B=B.filter(ae=>{const Z=String(E).toLowerCase().trim();if(JSON.stringify([ae.label,ae.value,ae.keywords]).toLowerCase().includes(Z))return ae}),B}function me(B){c("selection",B)}function ce(B){Tt.call(this,s,B)}function Ce(B){Tt.call(this,s,B)}const V=B=>me(B);return s.$$set=B=>{t(31,e=q(q({},e),ue(B))),"input"in B&&t(10,E=B.input),"options"in B&&t(11,_=B.options),"limit"in B&&t(12,C=B.limit),"allowlist"in B&&t(13,z=B.allowlist),"denylist"in B&&t(14,b=B.denylist),"emptyState"in B&&t(0,v=B.emptyState),"regionNav"in B&&t(15,g=B.regionNav),"regionList"in B&&t(16,N=B.regionList),"regionItem"in B&&t(17,M=B.regionItem),"regionButton"in B&&t(18,U=B.regionButton),"regionEmpty"in B&&t(19,x=B.regionEmpty),"whitelist"in B&&t(20,he=B.whitelist),"blacklist"in B&&t(21,ve=B.blacklist),"duration"in B&&t(22,fe=B.duration)},s.$$.update=()=>{s.$$.dirty[0]&2048&&t(23,a=_),s.$$.dirty[0]&24576&&ee(z,b),s.$$.dirty[0]&8389632&&t(1,i=E?pe():a),s.$$.dirty[0]&4098&&t(8,n=C!==void 0?C:i.length),t(7,l=`${e.class??""}`),s.$$.dirty[0]&32768&&t(6,r=`${g}`),s.$$.dirty[0]&65536&&t(5,u=`${N}`),s.$$.dirty[0]&131072&&t(4,o=`${M}`),s.$$.dirty[0]&262144&&t(3,m=`${U}`),s.$$.dirty[0]&524288&&t(2,f=`${x}`)},e=ue(e),[v,i,f,m,o,u,r,l,n,me,E,_,C,z,b,g,N,M,U,x,he,ve,fe,a,ce,Ce,V]}class Al extends ye{constructor(e){super(),Te(this,e,Pl,Nl,ke,{input:10,options:11,limit:12,allowlist:13,denylist:14,emptyState:0,regionNav:15,regionList:16,regionItem:17,regionButton:18,regionEmpty:19,whitelist:20,blacklist:21,duration:22},null,[-1,-1])}}const zl='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>',Bl='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"/></svg>',Sl='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"/></svg>',Ll='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/></svg>';function At(s,e,t){const a=s.slice();return a[43]=e[t],a}function zt(s,e,t){const a=s.slice();return a[46]=e[t],a}function Bt(s){let e,t,a,i,n,l,r=Me(s[0].amounts),u=[];for(let o=0;o<r.length;o+=1)u[o]=St(zt(s,r,o));return{c(){e=k("label"),t=k("select");for(let o=0;o<u.length;o+=1)u[o].c();this.h()},l(o){e=y(o,"LABEL",{class:!0});var m=A(e);t=y(m,"SELECT",{class:!0,"aria-label":!0});var f=A(t);for(let c=0;c<u.length;c+=1)u[c].l(f);f.forEach(h),m.forEach(h),this.h()},h(){d(t,"class",a="paginator-select "+s[19]),t.disabled=s[1],d(t,"aria-label","Select Amount"),s[0].limit===void 0&&pl(()=>s[32].call(t)),d(e,"class",i="paginator-label "+s[20])},m(o,m){P(o,e,m),p(e,t);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(t,null);Ct(t,s[0].limit,!0),n||(l=[$(t,"change",s[32]),$(t,"change",s[23])],n=!0)},p(o,m){if(m[0]&33){r=Me(o[0].amounts);let f;for(f=0;f<r.length;f+=1){const c=zt(o,r,f);u[f]?u[f].p(c,m):(u[f]=St(c),u[f].c(),u[f].m(t,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=r.length}m[0]&524288&&a!==(a="paginator-select "+o[19])&&d(t,"class",a),m[0]&2&&(t.disabled=o[1]),m[0]&1&&Ct(t,o[0].limit),m[0]&1048576&&i!==(i="paginator-label "+o[20])&&d(e,"class",i)},d(o){o&&h(e),ot(u,o),n=!1,Ge(l)}}}function St(s){let e,t=s[46]+"",a,i,n,l;return{c(){e=k("option"),a=ie(t),i=S(),n=ie(s[5]),this.h()},l(r){e=y(r,"OPTION",{});var u=A(e);a=re(u,t),i=L(u),n=re(u,s[5]),u.forEach(h),this.h()},h(){e.__value=l=s[46],Re(e,e.__value)},m(r,u){P(r,e,u),p(e,a),p(e,i),p(e,n)},p(r,u){u[0]&1&&t!==(t=r[46]+"")&&be(a,t),u[0]&32&&be(n,r[5]),u[0]&1&&l!==(l=r[46])&&(e.__value=l,Re(e,e.__value))},d(r){r&&h(e)}}}function Lt(s){let e,t,a,i,n;return{c(){e=k("button"),t=new Ne(!1),this.h()},l(l){e=y(l,"BUTTON",{type:!0,"aria-label":!0,class:!0});var r=A(e);t=Pe(r,!1),r.forEach(h),this.h()},h(){t.a=null,d(e,"type","button"),d(e,"aria-label",s[12]),d(e,"class",s[6]),e.disabled=a=s[1]||s[0].offset===0},m(l,r){P(l,e,r),t.m(s[9],e),i||(n=$(e,"click",s[33]),i=!0)},p(l,r){r[0]&512&&t.p(l[9]),r[0]&4096&&d(e,"aria-label",l[12]),r[0]&64&&d(e,"class",l[6]),r[0]&3&&a!==(a=l[1]||l[0].offset===0)&&(e.disabled=a)},d(l){l&&h(e),i=!1,n()}}}function Mt(s){let e,t,a,i,n;return{c(){e=k("button"),t=new Ne(!1),this.h()},l(l){e=y(l,"BUTTON",{type:!0,"aria-label":!0,class:!0});var r=A(e);t=Pe(r,!1),r.forEach(h),this.h()},h(){t.a=null,d(e,"type","button"),d(e,"aria-label",s[13]),d(e,"class",s[6]),e.disabled=a=s[1]||s[0].offset===0},m(l,r){P(l,e,r),t.m(s[7],e),i||(n=$(e,"click",s[34]),i=!0)},p(l,r){r[0]&128&&t.p(l[7]),r[0]&8192&&d(e,"aria-label",l[13]),r[0]&64&&d(e,"class",l[6]),r[0]&3&&a!==(a=l[1]||l[0].offset===0)&&(e.disabled=a)},d(l){l&&h(e),i=!1,n()}}}function Ml(s){let e,t=Me(s[17]),a=[];for(let i=0;i<t.length;i+=1)a[i]=Ot(At(s,t,i));return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=Qe()},l(i){for(let n=0;n<a.length;n+=1)a[n].l(i);e=Qe()},m(i,n){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(i,n);P(i,e,n)},p(i,n){if(n[0]&21102656){t=Me(i[17]);let l;for(l=0;l<t.length;l+=1){const r=At(i,t,l);a[l]?a[l].p(r,n):(a[l]=Ot(r),a[l].c(),a[l].m(e.parentNode,e))}for(;l<a.length;l+=1)a[l].d(1);a.length=t.length}},d(i){i&&h(e),ot(a,i)}}}function Ol(s){let e,t=s[0].offset*s[0].limit+1+"",a,i,n=Math.min(s[0].offset*s[0].limit+s[0].limit,s[0].size)+"",l,r,u,o,m,f=s[0].size+"",c,E;return{c(){e=k("button"),a=ie(t),i=ie("-"),l=ie(n),r=ie(" "),u=k("span"),o=ie(s[11]),m=S(),c=ie(f),this.h()},l(_){e=y(_,"BUTTON",{type:!0,class:!0});var C=A(e);a=re(C,t),i=re(C,"-"),l=re(C,n),r=re(C," "),u=y(C,"SPAN",{class:!0});var z=A(u);o=re(z,s[11]),m=L(z),c=re(z,f),z.forEach(h),C.forEach(h),this.h()},h(){d(u,"class","opacity-50"),d(e,"type","button"),d(e,"class",E=s[6]+" pointer-events-none !text-sm")},m(_,C){P(_,e,C),p(e,a),p(e,i),p(e,l),p(e,r),p(e,u),p(u,o),p(u,m),p(u,c)},p(_,C){C[0]&1&&t!==(t=_[0].offset*_[0].limit+1+"")&&be(a,t),C[0]&1&&n!==(n=Math.min(_[0].offset*_[0].limit+_[0].limit,_[0].size)+"")&&be(l,n),C[0]&2048&&be(o,_[11]),C[0]&1&&f!==(f=_[0].size+"")&&be(c,f),C[0]&64&&E!==(E=_[6]+" pointer-events-none !text-sm")&&d(e,"class",E)},d(_){_&&h(e)}}}function Ot(s){let e,t=(s[43]>=0?s[43]+1:"...")+"",a,i,n,l,r;function u(){return s[35](s[43])}return{c(){e=k("button"),a=ie(t),i=S(),this.h()},l(o){e=y(o,"BUTTON",{type:!0,class:!0});var m=A(e);a=re(m,t),i=L(m),m.forEach(h),this.h()},h(){d(e,"type","button"),d(e,"class",n=s[6]+" "+s[22](s[43]))},m(o,m){P(o,e,m),p(e,a),p(e,i),l||(r=$(e,"click",u),l=!0)},p(o,m){s=o,m[0]&131072&&t!==(t=(s[43]>=0?s[43]+1:"...")+"")&&be(a,t),m[0]&4325440&&n!==(n=s[6]+" "+s[22](s[43]))&&d(e,"class",n)},d(o){o&&h(e),l=!1,r()}}}function Dt(s){let e,t,a,i,n;return{c(){e=k("button"),t=new Ne(!1),this.h()},l(l){e=y(l,"BUTTON",{type:!0,"aria-label":!0,class:!0});var r=A(e);t=Pe(r,!1),r.forEach(h),this.h()},h(){t.a=null,d(e,"type","button"),d(e,"aria-label",s[14]),d(e,"class",s[6]),e.disabled=a=s[1]||(s[0].offset+1)*s[0].limit>=s[0].size},m(l,r){P(l,e,r),t.m(s[8],e),i||(n=$(e,"click",s[36]),i=!0)},p(l,r){r[0]&256&&t.p(l[8]),r[0]&16384&&d(e,"aria-label",l[14]),r[0]&64&&d(e,"class",l[6]),r[0]&3&&a!==(a=l[1]||(l[0].offset+1)*l[0].limit>=l[0].size)&&(e.disabled=a)},d(l){l&&h(e),i=!1,n()}}}function Ht(s){let e,t,a,i,n;return{c(){e=k("button"),t=new Ne(!1),this.h()},l(l){e=y(l,"BUTTON",{type:!0,"aria-label":!0,class:!0});var r=A(e);t=Pe(r,!1),r.forEach(h),this.h()},h(){t.a=null,d(e,"type","button"),d(e,"aria-label",s[15]),d(e,"class",s[6]),e.disabled=a=s[1]||(s[0].offset+1)*s[0].limit>=s[0].size},m(l,r){P(l,e,r),t.m(s[10],e),i||(n=$(e,"click",s[37]),i=!0)},p(l,r){r[0]&1024&&t.p(l[10]),r[0]&32768&&d(e,"aria-label",l[15]),r[0]&64&&d(e,"class",l[6]),r[0]&3&&a!==(a=l[1]||(l[0].offset+1)*l[0].limit>=l[0].size)&&(e.disabled=a)},d(l){l&&h(e),i=!1,n()}}}function Dl(s){let e,t,a,i,n,l,r,u,o,m=s[0].amounts.length&&Bt(s),f=s[3]&&Lt(s),c=s[2]&&Mt(s);function E(v,g){return v[4]===!1?Ol:Ml}let _=E(s),C=_(s),z=s[2]&&Dt(s),b=s[3]&&Ht(s);return{c(){e=k("div"),m&&m.c(),t=S(),a=k("div"),f&&f.c(),i=S(),c&&c.c(),n=S(),C.c(),l=S(),z&&z.c(),r=S(),b&&b.c(),this.h()},l(v){e=y(v,"DIV",{class:!0,"data-testid":!0});var g=A(e);m&&m.l(g),t=L(g),a=y(g,"DIV",{class:!0});var N=A(a);f&&f.l(N),i=L(N),c&&c.l(N),n=L(N),C.l(N),l=L(N),z&&z.l(N),r=L(N),b&&b.l(N),N.forEach(h),g.forEach(h),this.h()},h(){d(a,"class",u="paginator-controls "+s[18]),d(e,"class",o="paginator "+s[21]),d(e,"data-testid","paginator")},m(v,g){P(v,e,g),m&&m.m(e,null),p(e,t),p(e,a),f&&f.m(a,null),p(a,i),c&&c.m(a,null),p(a,n),C.m(a,null),p(a,l),z&&z.m(a,null),p(a,r),b&&b.m(a,null)},p(v,g){v[0].amounts.length?m?m.p(v,g):(m=Bt(v),m.c(),m.m(e,t)):m&&(m.d(1),m=null),v[3]?f?f.p(v,g):(f=Lt(v),f.c(),f.m(a,i)):f&&(f.d(1),f=null),v[2]?c?c.p(v,g):(c=Mt(v),c.c(),c.m(a,n)):c&&(c.d(1),c=null),_===(_=E(v))&&C?C.p(v,g):(C.d(1),C=_(v),C&&(C.c(),C.m(a,l))),v[2]?z?z.p(v,g):(z=Dt(v),z.c(),z.m(a,r)):z&&(z.d(1),z=null),v[3]?b?b.p(v,g):(b=Ht(v),b.c(),b.m(a,null)):b&&(b.d(1),b=null),g[0]&262144&&u!==(u="paginator-controls "+v[18])&&d(a,"class",u),g[0]&2097152&&o!==(o="paginator "+v[21])&&d(e,"class",o)},i:G,o:G,d(v){v&&h(e),m&&m.d(),f&&f.d(),c&&c.d(),C.d(),z&&z.d(),b&&b.d()}}}const Hl="flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4",Fl="w-full md:w-auto";function Il(s,e,t){let a,i,n,l,r;const u=xt();let{settings:o={offset:0,limit:5,size:0,amounts:[1,2,5,10]}}=e,{disabled:m=!1}=e,{showPreviousNextButtons:f=!0}=e,{showFirstLastButtons:c=!1}=e,{showNumerals:E=!1}=e,{maxNumerals:_=1}=e,{justify:C="justify-between"}=e,{select:z="select min-w-[150px]"}=e,{amountText:b="Items"}=e,{regionControl:v="btn-group"}=e,{controlVariant:g="variant-filled"}=e,{controlSeparator:N=""}=e,{active:M="variant-filled-primary"}=e,{buttonClasses:U="!px-3 !py-1.5 fill-current"}=e,{buttonTextPrevious:x=zl}=e,{buttonTextNext:he=Bl}=e,{buttonTextFirst:ve=Sl}=e,{buttonTextLast:fe=Ll}=e,{separatorText:ee="of"}=e,{labelFirst:pe="First page"}=e,{labelPrevious:me="Previous page"}=e,{labelNext:ce="Next page"}=e,{labelLast:Ce="Last page"}=e,V=Math.max(0,Math.ceil(o.size/o.limit-1)),B=le();function ae(){t(0,o.offset=0,o),u("amount",o.limit),t(16,V=Math.max(0,Math.ceil(o.size/o.limit-1))),t(17,B=le())}function Z(w){w<0||(t(0,o.offset=w,o),u("page",o.offset),t(17,B=le()))}function K(){const w=[];for(let F=0;F<=V;F++)w.push(F);return w}function le(){const w=[],F=o.offset<_+2,R=o.offset>V-(_+2);if(V<=_*2+1)return K();if(w.push(0),F||w.push(-1),F||R){const J=F?1:V-(_+2),se=R?V-1:_+2;for(let j=J;j<=se;j++)w.push(j)}else for(let J=o.offset-_;J<=o.offset+_;J++)w.push(J);return R||w.push(-1),w.push(V),w}function Ee(w){t(16,V=Math.max(0,Math.ceil(w/o.limit-1))),t(17,B=le())}function Se(){o.limit=vl(this),t(0,o)}const ze=()=>{Z(0)},we=()=>{Z(o.offset-1)},We=w=>Z(w),T=()=>{Z(o.offset+1)},O=()=>{Z(V)};return s.$$set=w=>{t(42,e=q(q({},e),ue(w))),"settings"in w&&t(0,o=w.settings),"disabled"in w&&t(1,m=w.disabled),"showPreviousNextButtons"in w&&t(2,f=w.showPreviousNextButtons),"showFirstLastButtons"in w&&t(3,c=w.showFirstLastButtons),"showNumerals"in w&&t(4,E=w.showNumerals),"maxNumerals"in w&&t(25,_=w.maxNumerals),"justify"in w&&t(26,C=w.justify),"select"in w&&t(27,z=w.select),"amountText"in w&&t(5,b=w.amountText),"regionControl"in w&&t(28,v=w.regionControl),"controlVariant"in w&&t(29,g=w.controlVariant),"controlSeparator"in w&&t(30,N=w.controlSeparator),"active"in w&&t(31,M=w.active),"buttonClasses"in w&&t(6,U=w.buttonClasses),"buttonTextPrevious"in w&&t(7,x=w.buttonTextPrevious),"buttonTextNext"in w&&t(8,he=w.buttonTextNext),"buttonTextFirst"in w&&t(9,ve=w.buttonTextFirst),"buttonTextLast"in w&&t(10,fe=w.buttonTextLast),"separatorText"in w&&t(11,ee=w.separatorText),"labelFirst"in w&&t(12,pe=w.labelFirst),"labelPrevious"in w&&t(13,me=w.labelPrevious),"labelNext"in w&&t(14,ce=w.labelNext),"labelLast"in w&&t(15,Ce=w.labelLast)},s.$$.update=()=>{s.$$.dirty[0]&1|s.$$.dirty[1]&1&&t(22,a=w=>w===o.offset?`${M} pointer-events-none`:""),s.$$.dirty[0]&33554432&&ae(),s.$$.dirty[0]&1&&Ee(o.size),t(21,i=`${Hl} ${C} ${e.class??""}`),s.$$.dirty[0]&134217728&&t(19,l=`${z}`),s.$$.dirty[0]&1879048192&&t(18,r=`${v} ${g} ${N}`)},t(20,n=`${Fl}`),e=ue(e),[o,m,f,c,E,b,U,x,he,ve,fe,ee,pe,me,ce,Ce,V,B,r,l,n,i,a,ae,Z,_,C,z,v,g,N,M,Se,ze,we,We,T,O]}class Ul extends ye{constructor(e){super(),Te(this,e,Il,Dl,ke,{settings:0,disabled:1,showPreviousNextButtons:2,showFirstLastButtons:3,showNumerals:4,maxNumerals:25,justify:26,select:27,amountText:5,regionControl:28,controlVariant:29,controlSeparator:30,active:31,buttonClasses:6,buttonTextPrevious:7,buttonTextNext:8,buttonTextFirst:9,buttonTextLast:10,separatorText:11,labelFirst:12,labelPrevious:13,labelNext:14,labelLast:15},null,[-1,-1])}}var gt={exports:{}};function rl(){var s=Object.create(null),e=0,t=0,a=0,i=!1;this.put=function(l,r,u,o){if(i&&console.log("caching: %s = %j (@%s)",l,r,u),typeof u<"u"&&(typeof u!="number"||isNaN(u)||u<=0))throw new Error("Cache timeout must be a positive number");if(typeof o<"u"&&typeof o!="function")throw new Error("Cache timeout callback must be a function");var m=s[l];m?clearTimeout(m.timeout):a++;var f={value:r,expire:u+Date.now()};return isNaN(f.expire)||(f.timeout=setTimeout((function(){n(l),o&&o(l,r)}).bind(this),u)),s[l]=f,r},this.del=function(l){var r=!0,u=s[l];return u?(clearTimeout(u.timeout),!isNaN(u.expire)&&u.expire<Date.now()&&(r=!1)):r=!1,r&&n(l),r};function n(l){a--,delete s[l]}this.clear=function(){for(var l in s)clearTimeout(s[l].timeout);a=0,s=Object.create(null),i&&(e=0,t=0)},this.get=function(l){var r=s[l];if(typeof r<"u"){if(isNaN(r.expire)||r.expire>=Date.now())return i&&e++,r.value;i&&t++,a--,delete s[l]}else i&&t++;return null},this.size=function(){return a},this.memsize=function(){var l=0,r;for(r in s)l++;return l},this.debug=function(l){i=l},this.hits=function(){return e},this.misses=function(){return t},this.keys=function(){return Object.keys(s)},this.exportJson=function(){var l={};for(var r in s){var u=s[r];l[r]={value:u.value,expire:u.expire||"NaN"}}return JSON.stringify(l)},this.importJson=function(l,r){var u=JSON.parse(l),o=Date.now(),m=r&&r.skipDuplicates;for(var f in u)if(u.hasOwnProperty(f)){if(m){var c=s[f];if(c){i&&console.log("Skipping duplicate imported key '%s'",f);continue}}var E=u[f],_=E.expire-o;if(_<=0){this.del(f);continue}_=_>0?_:void 0,this.put(f,E.value,_)}return this.size()}}gt.exports=new rl;gt.exports.Cache=rl;var jl=gt.exports;const Ft=dl(jl);class ol{constructor(e,t){this.cacheName=e,this.ttl=t}get(e){return Ft.get(this.buildKey(e))}buildKey(e){return this.cacheName+"~"+e}put(e,t){Ft.put(this.buildKey(e),t,this.ttl)}}const It=new ol("ARTIST",3600*1e3),Ut=new ol("ARTIST-DISCOGRAPHY",3600*1e3);async function Zl(s){const e=It.get(s);if(e)return e;const t=await Xe({apiPath:"/artist/"+s});return It.put(s,t),t}async function jt(s){const e=Ut.get(s);if(e)return e;const t=await dt({apiPath:"/artist/"+s+"/albums",index:0,limit:100}),a=await Promise.all(t.data.map(async i=>{const n=await dt({apiPath:"/album/"+i.id+"/tracks",index:0,limit:100});return{...i,tracks:n.data}}));return Ut.put(s,a),a}const Rl=!1;async function Vl(s){if(s==="NEW"){const e=new Date().toISOString(),t=await Xe({apiPath:"/user/me/playlists",searchParams:{request_method:"POST",title:`New Playlist ${e}`,description:`Playlist created with deezer-artist-playlist-organizer on the ${e}`,public:!0}});throw gl(302,"./"+t.id)}return s}async function Jl({params:s}){const e=await Vl(s.id),t=await Xe({apiPath:`/playlist/${e}`}),a=t.tracks.data.reduce((l,r)=>(l[r.artist.id]||(l[r.artist.id]={artist:r.artist,count:0}),l[r.artist.id].count++,l),{}),i=Object.values(a).sort((l,r)=>r.count-l.count);if(t.nb_tracks>400){const l=await dt({apiPath:`/playlist/${e}/tracks`,limit:100,index:t.tracks.data.length});t.tracks.data=[...t.tracks.data,...l.data]}const n=Promise.all(i.map(async l=>await Zl(l.artist.id)));return{playlist:t,topArtists:n}}const na=Object.freeze(Object.defineProperty({__proto__:null,load:Jl,ssr:Rl},Symbol.toStringTag,{value:"Module"}));function ql(s){let e,t,a='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm40-84a12 12 0 0 1-5.12 9.83l-40 28A12 12 0 0 1 104 156v-56a12 12 0 0 1 18.88-9.83l40 28A12 12 0 0 1 168 128Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=q(n,i[l]);return{c(){e=Oe("svg"),t=new Ne(!0),this.h()},l(l){e=De(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Pe(r,!0),r.forEach(h),this.h()},h(){t.a=null,_e(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){_e(e,n=He(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function Kl(s,e,t){return s.$$set=a=>{t(0,e=q(q({},e),ue(a)))},e=ue(e),[e]}class Gl extends ye{constructor(e){super(),Te(this,e,Kl,ql,ke,{})}}function Wl(s){let e,t,a='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84ZM116 96v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Zm48 0v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=q(n,i[l]);return{c(){e=Oe("svg"),t=new Ne(!0),this.h()},l(l){e=De(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Pe(r,!0),r.forEach(h),this.h()},h(){t.a=null,_e(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){_e(e,n=He(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function Yl(s,e,t){return s.$$set=a=>{t(0,e=q(q({},e),ue(a)))},e=ue(e),[e]}class Xl extends ye{constructor(e){super(),Te(this,e,Yl,Wl,ke,{})}}function Ql(s){let e,t,a,i,n;return t=new Xl({}),{c(){e=k("span"),W(t.$$.fragment),this.h()},l(l){e=y(l,"SPAN",{role:!0});var r=A(e);Y(t.$$.fragment,r),r.forEach(h),this.h()},h(){d(e,"role","button")},m(l,r){P(l,e,r),X(t,e,null),a=!0,i||(n=$(e,"click",s[4]),i=!0)},p:G,i(l){a||(H(t.$$.fragment,l),a=!0)},o(l){I(t.$$.fragment,l),a=!1},d(l){l&&h(e),Q(t),i=!1,n()}}}function $l(s){let e,t,a,i,n;return t=new Gl({}),{c(){e=k("span"),W(t.$$.fragment),this.h()},l(l){e=y(l,"SPAN",{role:!0});var r=A(e);Y(t.$$.fragment,r),r.forEach(h),this.h()},h(){d(e,"role","button")},m(l,r){P(l,e,r),X(t,e,null),a=!0,i||(n=$(e,"click",s[4]),i=!0)},p:G,i(l){a||(H(t.$$.fragment,l),a=!0)},o(l){I(t.$$.fragment,l),a=!1},d(l){l&&h(e),Q(t),i=!1,n()}}}function xl(s){let e,t,a=!0,i,n,l,r,u,o,m;const f=[$l,Ql],c=[];function E(_,C){return _[0]?0:1}return l=E(s),r=c[l]=f[l](s),{c(){e=k("audio"),i=S(),n=k("span"),r.c(),this.h()},l(_){e=y(_,"AUDIO",{src:!0}),A(e).forEach(h),i=L(_),n=y(_,"SPAN",{});var C=A(n);r.l(C),C.forEach(h),this.h()},h(){$e(e.src,t=s[1])||d(e,"src",t),e.loop=s[2],xe(n,"text-gray-500",!s[3])},m(_,C){P(_,e,C),P(_,i,C),P(_,n,C),c[l].m(n,null),u=!0,o||(m=[$(e,"play",s[5]),$(e,"pause",s[5])],o=!0)},p(_,[C]){(!u||C&2&&!$e(e.src,t=_[1]))&&d(e,"src",t),(!u||C&4)&&(e.loop=_[2]),C&1&&a!==(a=_[0])&&e[a?"pause":"play"]();let z=l;l=E(_),l===z?c[l].p(_,C):(lt(),I(c[z],1,1,()=>{c[z]=null}),st(),r=c[l],r?r.p(_,C):(r=c[l]=f[l](_),r.c()),H(r,1),r.m(n,null)),(!u||C&8)&&xe(n,"text-gray-500",!_[3])},i(_){u||(H(r),u=!0)},o(_){I(r),u=!1},d(_){_&&(h(e),h(i),h(n)),c[l].d(),o=!1,Ge(m)}}}function es(s,e,t){let{src:a}=e,{loop:i=!1}=e,{enabled:n=!0}=e,{paused:l=!0}=e;function r(){n&&t(0,l=!l)}function u(){l=this.paused,t(0,l)}return s.$$set=o=>{"src"in o&&t(1,a=o.src),"loop"in o&&t(2,i=o.loop),"enabled"in o&&t(3,n=o.enabled),"paused"in o&&t(0,l=o.paused)},[l,a,i,n,r,u]}class ts extends ye{constructor(e){super(),Te(this,e,es,xl,ke,{src:1,loop:2,enabled:3,paused:0})}}function ls(s){let e,t;const a=s[1].default,i=el(a,s,s[0],null);return{c(){e=k("span"),i&&i.c(),this.h()},l(n){e=y(n,"SPAN",{class:!0});var l=A(e);i&&i.l(l),l.forEach(h),this.h()},h(){d(e,"class","flex gap-x-2 items-center mx-2")},m(n,l){P(n,e,l),i&&i.m(e,null),t=!0},p(n,[l]){i&&i.p&&(!t||l&1)&&tl(i,a,n,n[0],t?sl(a,n[0],l,null):ll(n[0]),null)},i(n){t||(H(i,n),t=!0)},o(n){I(i,n),t=!1},d(n){n&&h(e),i&&i.d(n)}}}function ss(s,e,t){let{$$slots:a={},$$scope:i}=e;return s.$$set=n=>{"$$scope"in n&&t(0,i=n.$$scope)},[i,a]}class Ke extends ye{constructor(e){super(),Te(this,e,ss,ls,ke,{})}}function as(s){let e,t,a,i;const n=s[2].default,l=el(n,s,s[1],null);return{c(){e=k("td"),t=k("div"),l&&l.c(),this.h()},l(r){e=y(r,"TD",{style:!0});var u=A(e);t=y(u,"DIV",{class:!0});var o=A(t);l&&l.l(o),o.forEach(h),u.forEach(h),this.h()},h(){d(t,"class",a="flex items-center justify-"+s[0]+" gap-x-2 h-full"),bl(e,"vertical-align","middle")},m(r,u){P(r,e,u),p(e,t),l&&l.m(t,null),i=!0},p(r,[u]){l&&l.p&&(!i||u&2)&&tl(l,n,r,r[1],i?sl(n,r[1],u,null):ll(r[1]),null),(!i||u&1&&a!==(a="flex items-center justify-"+r[0]+" gap-x-2 h-full"))&&d(t,"class",a)},i(r){i||(H(l,r),i=!0)},o(r){I(l,r),i=!1},d(r){r&&h(e),l&&l.d(r)}}}function ns(s,e,t){let{$$slots:a={},$$scope:i}=e,{justify:n="center"}=e;return s.$$set=l=>{"justify"in l&&t(0,n=l.justify),"$$scope"in l&&t(1,i=l.$$scope)},[n,i,a]}class qe extends ye{constructor(e){super(),Te(this,e,ns,as,ke,{justify:0})}}function is(s){let e,t,a='<g fill="currentColor"><path d="M10 18a8 8 0 1 0 0-16a8 8 0 0 0 0 16zm0 2C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10s-4.477 10-10 10z"/><path d="M5 12.111h1.82v1H5z"/><path d="M5 11.421h1.82v1H5z"/><path d="M5 10.731h1.82v1H5z"/><path d="M5 10.041h1.82v1H5z"/><path d="M5 9.351h1.82v1H5zm2.041 2.76h1.82v1h-1.82z"/><path d="M7.041 11.421h1.82v1h-1.82z"/><path d="M7.041 10.731h1.82v1h-1.82zm2.041 1.38h1.82v1h-1.82z"/><path d="M9.082 11.421h1.82v1h-1.82z"/><path d="M9.082 10.731h1.82v1h-1.82z"/><path d="M9.082 10.041h1.82v1h-1.82z"/><path d="M9.082 9.351h1.82v1h-1.82z"/><path d="M9.082 8.66h1.82v1h-1.82z"/><path d="M9.082 7.97h1.82v1h-1.82zm2.041 4.141h1.821v1h-1.821z"/><path d="M11.123 11.421h1.821v1h-1.821z"/><path d="M11.123 10.731h1.821v1h-1.821z"/><path d="M11.123 10.041h1.821v1h-1.821z"/><path d="M11.123 9.351h1.821v1h-1.821zm2.041 2.76h1.82v1h-1.82z"/><path d="M13.164 11.421h1.82v1h-1.82z"/><path d="M13.164 10.731h1.82v1h-1.82z"/><path d="M13.164 10.041h1.82v1h-1.82z"/><path d="M13.164 9.35h1.82v1h-1.82z"/><path d="M13.164 8.66h1.82v1h-1.82z"/><path d="M13.164 7.97h1.82v1h-1.82z"/><path d="M13.164 7.28h1.82v1h-1.82z"/></g>',i=[{viewBox:"-2 -2 24 24"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=q(n,i[l]);return{c(){e=Oe("svg"),t=new Ne(!0),this.h()},l(l){e=De(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Pe(r,!0),r.forEach(h),this.h()},h(){t.a=null,_e(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){_e(e,n=He(i,[{viewBox:"-2 -2 24 24"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function rs(s,e,t){return s.$$set=a=>{t(0,e=q(q({},e),ue(a)))},e=ue(e),[e]}class os extends ye{constructor(e){super(),Te(this,e,rs,is,ke,{})}}function us(s){let e,t,a='<path fill="currentColor" d="M160 36a92.09 92.09 0 0 0-81 48.36A68 68 0 1 0 72 220h88a92 92 0 0 0 0-184Zm0 160H72a44 44 0 0 1-1.82-88A91.86 91.86 0 0 0 68 128a12 12 0 0 0 24 0a68 68 0 1 1 68 68Zm40.49-92.49a12 12 0 0 1 0 17l-48 48a12 12 0 0 1-17 0l-24-24a12 12 0 1 1 17-17L144 143l39.51-39.52a12 12 0 0 1 16.98.03Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=q(n,i[l]);return{c(){e=Oe("svg"),t=new Ne(!0),this.h()},l(l){e=De(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Pe(r,!0),r.forEach(h),this.h()},h(){t.a=null,_e(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){_e(e,n=He(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function fs(s,e,t){return s.$$set=a=>{t(0,e=q(q({},e),ue(a)))},e=ue(e),[e]}class Zt extends ye{constructor(e){super(),Te(this,e,fs,us,ke,{})}}function cs(s){let e,t,a='<path fill="currentColor" d="M180 128a12 12 0 0 1-12 12H88a12 12 0 0 1 0-24h80a12 12 0 0 1 12 12Zm56 0A108 108 0 1 1 128 20a108.12 108.12 0 0 1 108 108Zm-24 0a84 84 0 1 0-84 84a84.09 84.09 0 0 0 84-84Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=q(n,i[l]);return{c(){e=Oe("svg"),t=new Ne(!0),this.h()},l(l){e=De(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Pe(r,!0),r.forEach(h),this.h()},h(){t.a=null,_e(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){_e(e,n=He(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function hs(s,e,t){return s.$$set=a=>{t(0,e=q(q({},e),ue(a)))},e=ue(e),[e]}class ul extends ye{constructor(e){super(),Te(this,e,hs,cs,ke,{})}}function ms(s){let e,t,a='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm52-84a12 12 0 0 1-12 12h-28v28a12 12 0 0 1-24 0v-28H88a12 12 0 0 1 0-24h28V88a12 12 0 0 1 24 0v28h28a12 12 0 0 1 12 12Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=q(n,i[l]);return{c(){e=Oe("svg"),t=new Ne(!0),this.h()},l(l){e=De(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Pe(r,!0),r.forEach(h),this.h()},h(){t.a=null,_e(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){_e(e,n=He(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function ds(s,e,t){return s.$$set=a=>{t(0,e=q(q({},e),ue(a)))},e=ue(e),[e]}class fl extends ye{constructor(e){super(),Te(this,e,ds,ms,ke,{})}}function gs(s){let e,t,a='<path fill="currentColor" d="M128 128a12 12 0 0 1-12 12H48a12 12 0 0 1 0-24h68a12 12 0 0 1 12 12ZM48 76h132a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm52 104H48a12 12 0 0 0 0 24h52a12 12 0 0 0 0-24Zm132.49-20.49a12 12 0 0 0-17 0L196 179v-67a12 12 0 0 0-24 0v67l-19.51-19.52a12 12 0 0 0-17 17l40 40a12 12 0 0 0 17 0l40-40a12 12 0 0 0 0-16.97Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=q(n,i[l]);return{c(){e=Oe("svg"),t=new Ne(!0),this.h()},l(l){e=De(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Pe(r,!0),r.forEach(h),this.h()},h(){t.a=null,_e(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){_e(e,n=He(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function _s(s,e,t){return s.$$set=a=>{t(0,e=q(q({},e),ue(a)))},e=ue(e),[e]}class ps extends ye{constructor(e){super(),Te(this,e,_s,gs,ke,{})}}function vs(s){let e,t,a='<path fill="currentColor" d="M36 128a12 12 0 0 1 12-12h68a12 12 0 0 1 0 24H48a12 12 0 0 1-12-12Zm12-52h52a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm132 104H48a12 12 0 0 0 0 24h132a12 12 0 0 0 0-24Zm52.49-100.49l-40-40a12 12 0 0 0-17 0l-40 40a12 12 0 0 0 17 17L172 77v67a12 12 0 0 0 24 0V77l19.51 19.52a12 12 0 0 0 17-17Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=q(n,i[l]);return{c(){e=Oe("svg"),t=new Ne(!0),this.h()},l(l){e=De(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Pe(r,!0),r.forEach(h),this.h()},h(){t.a=null,_e(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){_e(e,n=He(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function bs(s,e,t){return s.$$set=a=>{t(0,e=q(q({},e),ue(a)))},e=ue(e),[e]}class ws extends ye{constructor(e){super(),Te(this,e,bs,vs,ke,{})}}function ks(s){let e,t,a='<path fill="currentColor" d="M216 36H68.53a20.09 20.09 0 0 0-17.15 9.71L5.71 121.83a12 12 0 0 0 0 12.34l45.67 76.12A20.09 20.09 0 0 0 68.53 220H216a20 20 0 0 0 20-20V56a20 20 0 0 0-20-20Zm-4 160H70.8L30 128l40.8-68H212Zm-108.49-52.49L119 128l-15.52-15.51a12 12 0 0 1 17-17L136 111l15.51-15.52a12 12 0 0 1 17 17L153 128l15.52 15.51a12 12 0 0 1-17 17L136 145l-15.51 15.52a12 12 0 0 1-17-17Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=q(n,i[l]);return{c(){e=Oe("svg"),t=new Ne(!0),this.h()},l(l){e=De(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Pe(r,!0),r.forEach(h),this.h()},h(){t.a=null,_e(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){_e(e,n=He(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function ys(s,e,t){return s.$$set=a=>{t(0,e=q(q({},e),ue(a)))},e=ue(e),[e]}class Ts extends ye{constructor(e){super(),Te(this,e,ys,ks,ke,{})}}function Cs(s){let e,t,a='<path fill="currentColor" d="M136.37 187.53a12 12 0 0 1 0 17l-5.94 5.94a60 60 0 0 1-84.88-84.88l24.12-24.11A60 60 0 0 1 152 99a12 12 0 1 1-16 18a36 36 0 0 0-49.37 1.47l-24.1 24.08a36 36 0 0 0 50.92 50.92l5.94-5.94a12 12 0 0 1 16.98 0Zm74.08-142a60.09 60.09 0 0 0-84.88 0l-5.94 5.94a12 12 0 0 0 17 17l5.94-5.94a36 36 0 0 1 50.92 50.92l-24.11 24.12A36 36 0 0 1 120 139a12 12 0 1 0-16 18a60 60 0 0 0 82.3-2.43l24.12-24.11a60.09 60.09 0 0 0 .03-84.91Z"/>',i=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<i.length;l+=1)n=q(n,i[l]);return{c(){e=Oe("svg"),t=new Ne(!0),this.h()},l(l){e=De(l,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Pe(r,!0),r.forEach(h),this.h()},h(){t.a=null,_e(e,n)},m(l,r){P(l,e,r),t.m(a,e)},p(l,[r]){_e(e,n=He(i,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&l[0]]))},i:G,o:G,d(l){l&&h(e)}}}function Es(s,e,t){return s.$$set=a=>{t(0,e=q(q({},e),ue(a)))},e=ue(e),[e]}class Ns extends ye{constructor(e){super(),Te(this,e,Es,Cs,ke,{})}}function Rt(s,e,t){const a=s.slice();a[44]=e[t],a[46]=e,a[47]=t;const i=a[44].track;return a[45]=i,a}function Vt(s,e,t){const a=s.slice();a[40]=e[t];const i=a[22](a[40].id);return a[41]=i,a}function Ps(s){let e,t,a;function i(){s[34].call(e,s[46],s[47])}return{c(){e=k("input"),this.h()},l(n){e=y(n,"INPUT",{type:!0,class:!0}),this.h()},h(){d(e,"type","checkbox"),d(e,"class","checkbox")},m(n,l){P(n,e,l),e.checked=s[44].selected,t||(a=$(e,"change",i),t=!0)},p(n,l){s=n,l[0]&16&&(e.checked=s[44].selected)},d(n){n&&h(e),t=!1,a()}}}function As(s){let e,t=s[47]+1+"",a;return{c(){e=k("span"),a=ie(t)},l(i){e=y(i,"SPAN",{});var n=A(e);a=re(n,t),n.forEach(h)},m(i,n){P(i,e,n),p(e,a)},p:G,d(i){i&&h(e)}}}function zs(s){let e,t,a,i,n=s[45].title+"",l,r,u;return e=new ts({props:{src:s[45].preview,enabled:s[45].readable}}),{c(){W(e.$$.fragment),t=S(),a=k("a"),i=k("span"),l=ie(n),this.h()},l(o){Y(e.$$.fragment,o),t=L(o),a=y(o,"A",{href:!0,title:!0});var m=A(a);i=y(m,"SPAN",{});var f=A(i);l=re(f,n),f.forEach(h),m.forEach(h),this.h()},h(){d(a,"href",r=s[45].link),d(a,"title","open track in Deezer web interface")},m(o,m){X(e,o,m),P(o,t,m),P(o,a,m),p(a,i),p(i,l),u=!0},p(o,m){const f={};m[0]&16&&(f.src=o[45].preview),m[0]&16&&(f.enabled=o[45].readable),e.$set(f),(!u||m[0]&16)&&n!==(n=o[45].title+"")&&be(l,n),(!u||m[0]&16&&r!==(r=o[45].link))&&d(a,"href",r)},i(o){u||(H(e.$$.fragment,o),u=!0)},o(o){I(e.$$.fragment,o),u=!1},d(o){o&&(h(t),h(a)),Q(e,o)}}}function Bs(s){let e,t,a,i,n=s[45].album.title+"",l;return{c(){e=k("img"),a=S(),i=k("span"),l=ie(n),this.h()},l(r){e=y(r,"IMG",{src:!0,alt:!0}),a=L(r),i=y(r,"SPAN",{});var u=A(i);l=re(u,n),u.forEach(h),this.h()},h(){$e(e.src,t=s[45].album.cover_small)||d(e,"src",t),d(e,"alt","album cover")},m(r,u){P(r,e,u),P(r,a,u),P(r,i,u),p(i,l)},p(r,u){u[0]&16&&!$e(e.src,t=r[45].album.cover_small)&&d(e,"src",t),u[0]&16&&n!==(n=r[45].album.title+"")&&be(l,n)},d(r){r&&(h(e),h(a),h(i))}}}function Ss(s){let e,t,a,i;return t=new Ke({props:{$$slots:{default:[Bs]},$$scope:{ctx:s}}}),{c(){e=k("a"),W(t.$$.fragment),this.h()},l(n){e=y(n,"A",{href:!0,title:!0});var l=A(e);Y(t.$$.fragment,l),l.forEach(h),this.h()},h(){d(e,"href",a="https://www.deezer.com/album/"+s[45].album.id),d(e,"title","open album in Deezer web interface")},m(n,l){P(n,e,l),X(t,e,null),i=!0},p(n,l){const r={};l[0]&16|l[1]&131072&&(r.$$scope={dirty:l,ctx:n}),t.$set(r),(!i||l[0]&16&&a!==(a="https://www.deezer.com/album/"+n[45].album.id))&&d(e,"href",a)},i(n){i||(H(t.$$.fragment,n),i=!0)},o(n){I(t.$$.fragment,n),i=!1},d(n){n&&h(e),Q(t)}}}function Ls(s){let e,t,a=s[45].artist.name+"",i,n,l,r,u,o,m,f,c,E,_;u=new fl({});function C(){return s[35](s[45])}f=new ul({});function z(){return s[36](s[45])}return{c(){e=k("a"),t=k("span"),i=ie(a),l=S(),r=k("button"),W(u.$$.fragment),o=S(),m=k("button"),W(f.$$.fragment),this.h()},l(b){e=y(b,"A",{href:!0,title:!0});var v=A(e);t=y(v,"SPAN",{});var g=A(t);i=re(g,a),g.forEach(h),v.forEach(h),l=L(b),r=y(b,"BUTTON",{class:!0,title:!0});var N=A(r);Y(u.$$.fragment,N),N.forEach(h),o=L(b),m=y(b,"BUTTON",{class:!0,title:!0});var M=A(m);Y(f.$$.fragment,M),M.forEach(h),this.h()},h(){d(e,"href",n=s[45].artist.link),d(e,"title","open artist in Deezer web interface"),d(r,"class",""),d(r,"title","add all artist titles to the playlist"),d(m,"class",""),d(m,"title","deselect all artist titles from the playlist")},m(b,v){P(b,e,v),p(e,t),p(t,i),P(b,l,v),P(b,r,v),X(u,r,null),P(b,o,v),P(b,m,v),X(f,m,null),c=!0,E||(_=[$(r,"click",C),$(m,"click",z)],E=!0)},p(b,v){s=b,(!c||v[0]&16)&&a!==(a=s[45].artist.name+"")&&be(i,a),(!c||v[0]&16&&n!==(n=s[45].artist.link))&&d(e,"href",n)},i(b){c||(H(u.$$.fragment,b),H(f.$$.fragment,b),c=!0)},o(b){I(u.$$.fragment,b),I(f.$$.fragment,b),c=!1},d(b){b&&(h(e),h(l),h(r),h(o),h(m)),Q(u),Q(f),E=!1,Ge(_)}}}function Ms(s){let e,t;return e=new Ke({props:{$$slots:{default:[Ls]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,i){X(e,a,i),t=!0},p(a,i){const n={};i[0]&16|i[1]&131072&&(n.$$scope={dirty:i,ctx:a}),e.$set(n)},i(a){t||(H(e.$$.fragment,a),t=!0)},o(a){I(e.$$.fragment,a),t=!1},d(a){Q(e,a)}}}function Os(s){let e=s[45].rank+"",t;return{c(){t=ie(e)},l(a){t=re(a,e)},m(a,i){P(a,t,i)},p(a,i){i[0]&16&&e!==(e=a[45].rank+"")&&be(t,e)},d(a){a&&h(t)}}}function Ds(s){let e=yt(s[45].duration*1e3,{units:["m","s"],largest:2})+"",t,a,i;return{c(){t=ie(e),a=S(),i=k("span"),this.h()},l(n){t=re(n,e),a=L(n),i=y(n,"SPAN",{class:!0}),A(i).forEach(h),this.h()},h(){d(i,"class","grow")},m(n,l){P(n,t,l),P(n,a,l),P(n,i,l)},p(n,l){l[0]&16&&e!==(e=yt(n[45].duration*1e3,{units:["m","s"],largest:2})+"")&&be(t,e)},d(n){n&&(h(t),h(a),h(i))}}}function Jt(s){let e,t,a,i,n,l,r,u,o,m,f,c,E,_,C,z,b;return t=new qe({props:{$$slots:{default:[Ps]},$$scope:{ctx:s}}}),i=new qe({props:{$$slots:{default:[As]},$$scope:{ctx:s}}}),l=new qe({props:{justify:"start",$$slots:{default:[zs]},$$scope:{ctx:s}}}),u=new qe({props:{justify:"start",$$slots:{default:[Ss]},$$scope:{ctx:s}}}),m=new qe({props:{$$slots:{default:[Ms]},$$scope:{ctx:s}}}),c=new qe({props:{$$slots:{default:[Os]},$$scope:{ctx:s}}}),_=new qe({props:{$$slots:{default:[Ds]},$$scope:{ctx:s}}}),{c(){e=k("tr"),W(t.$$.fragment),a=S(),W(i.$$.fragment),n=S(),W(l.$$.fragment),r=S(),W(u.$$.fragment),o=S(),W(m.$$.fragment),f=S(),W(c.$$.fragment),E=S(),W(_.$$.fragment),C=S(),this.h()},l(v){e=y(v,"TR",{class:!0});var g=A(e);Y(t.$$.fragment,g),a=L(g),Y(i.$$.fragment,g),n=L(g),Y(l.$$.fragment,g),r=L(g),Y(u.$$.fragment,g),o=L(g),Y(m.$$.fragment,g),f=L(g),Y(c.$$.fragment,g),E=L(g),Y(_.$$.fragment,g),C=L(g),g.forEach(h),this.h()},h(){d(e,"class",z=Et(Wt(s[44]))+" svelte-p6m18c"),xe(e,"!text-red-500",!s[45].readable)},m(v,g){P(v,e,g),X(t,e,null),p(e,a),X(i,e,null),p(e,n),X(l,e,null),p(e,r),X(u,e,null),p(e,o),X(m,e,null),p(e,f),X(c,e,null),p(e,E),X(_,e,null),p(e,C),b=!0},p(v,g){const N={};g[0]&16|g[1]&131072&&(N.$$scope={dirty:g,ctx:v}),t.$set(N);const M={};g[1]&131072&&(M.$$scope={dirty:g,ctx:v}),i.$set(M);const U={};g[0]&16|g[1]&131072&&(U.$$scope={dirty:g,ctx:v}),l.$set(U);const x={};g[0]&16|g[1]&131072&&(x.$$scope={dirty:g,ctx:v}),u.$set(x);const he={};g[0]&16|g[1]&131072&&(he.$$scope={dirty:g,ctx:v}),m.$set(he);const ve={};g[0]&16|g[1]&131072&&(ve.$$scope={dirty:g,ctx:v}),c.$set(ve);const fe={};g[0]&16|g[1]&131072&&(fe.$$scope={dirty:g,ctx:v}),_.$set(fe),(!b||g[0]&16&&z!==(z=Et(Wt(v[44]))+" svelte-p6m18c"))&&d(e,"class",z),(!b||g[0]&16)&&xe(e,"!text-red-500",!v[45].readable)},i(v){b||(H(t.$$.fragment,v),H(i.$$.fragment,v),H(l.$$.fragment,v),H(u.$$.fragment,v),H(m.$$.fragment,v),H(c.$$.fragment,v),H(_.$$.fragment,v),b=!0)},o(v){I(t.$$.fragment,v),I(i.$$.fragment,v),I(l.$$.fragment,v),I(u.$$.fragment,v),I(m.$$.fragment,v),I(c.$$.fragment,v),I(_.$$.fragment,v),b=!1},d(v){v&&h(e),Q(t),Q(i),Q(l),Q(u),Q(m),Q(c),Q(_)}}}function Hs(s){var vt;let e,t,a,i="Title",n,l,r,u,o,m="Description",f,c,E,_,C="",z,b,v,g=((vt=s[2])==null?void 0:vt.filter(Yt).length)+"",N,M,U=s[0].playlist.tracks.data.length+"",x,he,ve,fe,ee="",pe,me,ce,Ce,V,B,ae,Z,K,le,Ee,Se="Pos.",ze,we,We="Title",T,O,w="Album",F,R,J="Artist",se,j,ne="rank",Fe,Ie,et="duration",ut,Ye,ft,Ue,ct,je,ht,_t,Ve=Me(s[4]),oe=[];for(let D=0;D<Ve.length;D+=1)oe[D]=Jt(Rt(s,Ve,D));const cl=D=>I(oe[D],1,1,()=>{oe[D]=null});function hl(D){s[37](D)}let pt={showFirstLastButtons:!0,showPreviousNextButtons:!0};return s[1]!==void 0&&(pt.settings=s[1]),Ue=new Ul({props:pt}),al.push(()=>il(Ue,"settings",hl)),{c(){e=k("form"),t=k("label"),a=k("span"),a.textContent=i,n=S(),l=k("input"),r=S(),u=k("label"),o=k("span"),o.textContent=m,f=S(),c=k("textarea"),E=S(),_=k("div"),_.innerHTML=C,z=S(),b=k("div"),v=k("span"),N=ie(g),M=ie(" Tracks ("),x=ie(U),he=ie(`
            in playlist)`),ve=S(),fe=k("span"),fe.innerHTML=ee,pe=S(),me=k("span"),ce=k("table"),Ce=k("thead"),V=k("tr"),B=k("th"),ae=k("input"),le=S(),Ee=k("th"),Ee.textContent=Se,ze=S(),we=k("th"),we.textContent=We,T=S(),O=k("th"),O.textContent=w,F=S(),R=k("th"),R.textContent=J,se=S(),j=k("th"),j.textContent=ne,Fe=S(),Ie=k("th"),Ie.textContent=et,ut=S(),Ye=k("tbody");for(let D=0;D<oe.length;D+=1)oe[D].c();ft=S(),W(Ue.$$.fragment),this.h()},l(D){e=y(D,"FORM",{class:!0});var te=A(e);t=y(te,"LABEL",{class:!0});var Be=A(t);a=y(Be,"SPAN",{"data-svelte-h":!0}),ge(a)!=="svelte-7ccxmo"&&(a.textContent=i),n=L(Be),l=y(Be,"INPUT",{class:!0,type:!0,placeholder:!0}),Be.forEach(h),r=L(te),u=y(te,"LABEL",{class:!0});var Je=A(u);o=y(Je,"SPAN",{"data-svelte-h":!0}),ge(o)!=="svelte-rmspr8"&&(o.textContent=m),f=L(Je),c=y(Je,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),A(c).forEach(h),Je.forEach(h),E=L(te),_=y(te,"DIV",{class:!0,"data-svelte-h":!0}),ge(_)!=="svelte-10ijpzw"&&(_.innerHTML=C),te.forEach(h),z=L(D),b=y(D,"DIV",{class:!0});var de=A(b);v=y(de,"SPAN",{});var Ze=A(v);N=re(Ze,g),M=re(Ze," Tracks ("),x=re(Ze,U),he=re(Ze,`
            in playlist)`),Ze.forEach(h),ve=L(de),fe=y(de,"SPAN",{"data-svelte-h":!0}),ge(fe)!=="svelte-171hy05"&&(fe.innerHTML=ee),de.forEach(h),pe=L(D),me=y(D,"SPAN",{class:!0});var at=A(me);ce=y(at,"TABLE",{class:!0});var nt=A(ce);Ce=y(nt,"THEAD",{});var bt=A(Ce);V=y(bt,"TR",{class:!0});var Ae=A(V);B=y(Ae,"TH",{});var wt=A(B);ae=y(wt,"INPUT",{type:!0,class:!0}),wt.forEach(h),le=L(Ae),Ee=y(Ae,"TH",{"data-svelte-h":!0}),ge(Ee)!=="svelte-s1pt0e"&&(Ee.textContent=Se),ze=L(Ae),we=y(Ae,"TH",{class:!0,"data-svelte-h":!0}),ge(we)!=="svelte-1b5qsso"&&(we.textContent=We),T=L(Ae),O=y(Ae,"TH",{"data-svelte-h":!0}),ge(O)!=="svelte-12o9w3z"&&(O.textContent=w),F=L(Ae),R=y(Ae,"TH",{"data-svelte-h":!0}),ge(R)!=="svelte-1tiipkx"&&(R.textContent=J),se=L(Ae),j=y(Ae,"TH",{"data-svelte-h":!0}),ge(j)!=="svelte-1btrpio"&&(j.textContent=ne),Fe=L(Ae),Ie=y(Ae,"TH",{"data-svelte-h":!0}),ge(Ie)!=="svelte-9uwuqy"&&(Ie.textContent=et),Ae.forEach(h),bt.forEach(h),ut=L(nt),Ye=y(nt,"TBODY",{});var kt=A(Ye);for(let mt=0;mt<oe.length;mt+=1)oe[mt].l(kt);kt.forEach(h),nt.forEach(h),ft=L(at),Y(Ue.$$.fragment,at),at.forEach(h),this.h()},h(){d(l,"class","input"),d(l,"type","text"),d(l,"placeholder","title"),d(t,"class","label"),d(c,"class","textarea"),d(c,"rows","4"),d(c,"placeholder","description"),d(u,"class","label"),d(_,"class","flex place-content-start"),d(e,"class","mb-10 space-y-2"),d(b,"class","flex justify-between w-full items-center gap-x-2 my-4"),d(ae,"type","checkbox"),d(ae,"class","checkbox"),ae.checked=Z=s[4].filter(Xt).length===s[4].length&&s[4].length>0,ae.indeterminate=K=s[4].filter(Qt).length!==s[4].length&&s[4].filter($t).length>0,d(we,"class",".fitwidth"),d(V,"class",""),d(ce,"class","table my-4"),d(me,"class","table-container")},m(D,te){P(D,e,te),p(e,t),p(t,a),p(t,n),p(t,l),Re(l,s[0].playlist.title),p(e,r),p(e,u),p(u,o),p(u,f),p(u,c),Re(c,s[0].playlist.description),p(e,E),p(e,_),P(D,z,te),P(D,b,te),p(b,v),p(v,N),p(v,M),p(v,x),p(v,he),p(b,ve),p(b,fe),P(D,pe,te),P(D,me,te),p(me,ce),p(ce,Ce),p(Ce,V),p(V,B),p(B,ae),p(V,le),p(V,Ee),p(V,ze),p(V,we),p(V,T),p(V,O),p(V,F),p(V,R),p(V,se),p(V,j),p(V,Fe),p(V,Ie),p(ce,ut),p(ce,Ye);for(let Be=0;Be<oe.length;Be+=1)oe[Be]&&oe[Be].m(Ye,null);p(me,ft),X(Ue,me,null),je=!0,ht||(_t=[$(l,"input",s[31]),$(c,"input",s[32]),$(ae,"change",s[33])],ht=!0)},p(D,te){var Je;if(te[0]&1&&l.value!==D[0].playlist.title&&Re(l,D[0].playlist.title),te[0]&1&&Re(c,D[0].playlist.description),(!je||te[0]&4)&&g!==(g=((Je=D[2])==null?void 0:Je.filter(Yt).length)+"")&&be(N,g),(!je||te[0]&1)&&U!==(U=D[0].playlist.tracks.data.length+"")&&be(x,U),(!je||te[0]&16&&Z!==(Z=D[4].filter(Xt).length===D[4].length&&D[4].length>0))&&(ae.checked=Z),(!je||te[0]&16&&K!==(K=D[4].filter(Qt).length!==D[4].length&&D[4].filter($t).length>0))&&(ae.indeterminate=K),te[0]&393232){Ve=Me(D[4]);let de;for(de=0;de<Ve.length;de+=1){const Ze=Rt(D,Ve,de);oe[de]?(oe[de].p(Ze,te),H(oe[de],1)):(oe[de]=Jt(Ze),oe[de].c(),H(oe[de],1),oe[de].m(Ye,null))}for(lt(),de=Ve.length;de<oe.length;de+=1)cl(de);st()}const Be={};!ct&&te[0]&2&&(ct=!0,Be.settings=D[1],nl(()=>ct=!1)),Ue.$set(Be)},i(D){if(!je){for(let te=0;te<Ve.length;te+=1)H(oe[te]);H(Ue.$$.fragment,D),je=!0}},o(D){oe=oe.filter(Boolean);for(let te=0;te<oe.length;te+=1)I(oe[te]);I(Ue.$$.fragment,D),je=!1},d(D){D&&(h(e),h(z),h(b),h(pe),h(me)),ot(oe,D),Q(Ue),ht=!1,Ge(_t)}}}function Fs(s){let e,t="Search Artist";return{c(){e=k("h4"),e.textContent=t},l(a){e=y(a,"H4",{"data-svelte-h":!0}),ge(e)!=="svelte-z92qpb"&&(e.textContent=t)},m(a,i){P(a,e,i)},p:G,d(a){a&&h(e)}}}function qt(s){let e,t,a,i,n,l,r;t=new Ke({props:{$$slots:{default:[Is]},$$scope:{ctx:s}}}),i=new Ke({props:{$$slots:{default:[Vs]},$$scope:{ctx:s}}});let u=Me(s[8]),o=[];for(let f=0;f<u.length;f+=1)o[f]=Kt(Vt(s,u,f));const m=f=>I(o[f],1,1,()=>{o[f]=null});return{c(){e=k("span"),W(t.$$.fragment),a=S(),W(i.$$.fragment),n=S(),l=k("ul");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=y(f,"SPAN",{class:!0});var c=A(e);Y(t.$$.fragment,c),a=L(c),Y(i.$$.fragment,c),c.forEach(h),n=L(f),l=y(f,"UL",{class:!0});var E=A(l);for(let _=0;_<o.length;_+=1)o[_].l(E);E.forEach(h),this.h()},h(){d(e,"class","flex justify-between w-full items-center gap-x-2 my-4"),d(l,"class","list")},m(f,c){P(f,e,c),X(t,e,null),p(e,a),X(i,e,null),P(f,n,c),P(f,l,c);for(let E=0;E<o.length;E+=1)o[E]&&o[E].m(l,null);r=!0},p(f,c){const E={};c[1]&131072&&(E.$$scope={dirty:c,ctx:f}),t.$set(E);const _={};if(c[0]&8|c[1]&131072&&(_.$$scope={dirty:c,ctx:f}),i.$set(_),c[0]&4587776){u=Me(f[8]);let C;for(C=0;C<u.length;C+=1){const z=Vt(f,u,C);o[C]?(o[C].p(z,c),H(o[C],1)):(o[C]=Kt(z),o[C].c(),H(o[C],1),o[C].m(l,null))}for(lt(),C=u.length;C<o.length;C+=1)m(C);st()}},i(f){if(!r){H(t.$$.fragment,f),H(i.$$.fragment,f);for(let c=0;c<u.length;c+=1)H(o[c]);r=!0}},o(f){I(t.$$.fragment,f),I(i.$$.fragment,f),o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)I(o[c]);r=!1},d(f){f&&(h(e),h(n),h(l)),Q(t),Q(i),ot(o,f)}}}function Is(s){let e,t="Playlists Artists";return{c(){e=k("h4"),e.textContent=t},l(a){e=y(a,"H4",{"data-svelte-h":!0}),ge(e)!=="svelte-1fedd7v"&&(e.textContent=t)},m(a,i){P(a,e,i)},p:G,d(a){a&&h(e)}}}function Us(s){let e,t="alphabetical",a,i;return{c(){e=k("button"),e.textContent=t},l(n){e=y(n,"BUTTON",{"data-svelte-h":!0}),ge(e)!=="svelte-a0poae"&&(e.textContent=t)},m(n,l){P(n,e,l),a||(i=$(e,"click",s[26]),a=!0)},p:G,d(n){n&&h(e),a=!1,i()}}}function js(s){let e,t="# tracks",a,i;return{c(){e=k("button"),e.textContent=t},l(n){e=y(n,"BUTTON",{"data-svelte-h":!0}),ge(e)!=="svelte-ms1gv1"&&(e.textContent=t)},m(n,l){P(n,e,l),a||(i=$(e,"click",s[25]),a=!0)},p:G,d(n){n&&h(e),a=!1,i()}}}function Zs(s){let e,t,a,i,n;return t=new ws({}),{c(){e=k("button"),W(t.$$.fragment)},l(l){e=y(l,"BUTTON",{});var r=A(e);Y(t.$$.fragment,r),r.forEach(h)},m(l,r){P(l,e,r),X(t,e,null),a=!0,i||(n=$(e,"click",s[28]),i=!0)},p:G,i(l){a||(H(t.$$.fragment,l),a=!0)},o(l){I(t.$$.fragment,l),a=!1},d(l){l&&h(e),Q(t),i=!1,n()}}}function Rs(s){let e,t,a,i,n;return t=new ps({}),{c(){e=k("button"),W(t.$$.fragment)},l(l){e=y(l,"BUTTON",{});var r=A(e);Y(t.$$.fragment,r),r.forEach(h)},m(l,r){P(l,e,r),X(t,e,null),a=!0,i||(n=$(e,"click",s[27]),i=!0)},p:G,i(l){a||(H(t.$$.fragment,l),a=!0)},o(l){I(t.$$.fragment,l),a=!1},d(l){l&&h(e),Q(t),i=!1,n()}}}function Vs(s){let e,t,a,i,n;function l(c,E){if(c[3].orderBy==="trackCount")return js;if(c[3].orderBy==="alphabetical")return Us}let r=l(s),u=r&&r(s);const o=[Rs,Zs],m=[];function f(c,E){return c[3].ascending?0:1}return t=f(s),a=m[t]=o[t](s),{c(){u&&u.c(),e=S(),a.c(),i=Qe()},l(c){u&&u.l(c),e=L(c),a.l(c),i=Qe()},m(c,E){u&&u.m(c,E),P(c,e,E),m[t].m(c,E),P(c,i,E),n=!0},p(c,E){r===(r=l(c))&&u?u.p(c,E):(u&&u.d(1),u=r&&r(c),u&&(u.c(),u.m(e.parentNode,e)));let _=t;t=f(c),t===_?m[t].p(c,E):(lt(),I(m[_],1,1,()=>{m[_]=null}),st(),a=m[t],a?a.p(c,E):(a=m[t]=o[t](c),a.c()),H(a,1),a.m(i.parentNode,i))},i(c){n||(H(a),n=!0)},o(c){I(a),n=!1},d(c){c&&(h(e),h(i)),u&&u.d(c),m[t].d(c)}}}function Js(s){let e,t,a,i,n,l=s[40].name+"",r,u,o,m,f=s[41]+"",c,E,_,C,z,b,v,g;return b=new os({}),{c(){e=k("img"),i=S(),n=k("span"),r=ie(l),u=S(),o=k("small"),m=ie("(#"),c=ie(f),E=ie(")"),C=S(),z=k("a"),W(b.$$.fragment),this.h()},l(N){e=y(N,"IMG",{src:!0,alt:!0}),i=L(N),n=y(N,"SPAN",{});var M=A(n);r=re(M,l),M.forEach(h),u=L(N),o=y(N,"SMALL",{title:!0});var U=A(o);m=re(U,"(#"),c=re(U,f),E=re(U,")"),U.forEach(h),C=L(N),z=y(N,"A",{href:!0,title:!0});var x=A(z);Y(b.$$.fragment,x),x.forEach(h),this.h()},h(){$e(e.src,t=s[40].picture_small)||d(e,"src",t),d(e,"alt",a=s[40].name),d(o,"title",_="artist has "+s[41]+" tracks in the playlist "),d(z,"href",v=s[40].link),d(z,"title","open artist in Deezer web interface")},m(N,M){P(N,e,M),P(N,i,M),P(N,n,M),p(n,r),P(N,u,M),P(N,o,M),p(o,m),p(o,c),p(o,E),P(N,C,M),P(N,z,M),X(b,z,null),g=!0},p(N,M){(!g||M[0]&256&&!$e(e.src,t=N[40].picture_small))&&d(e,"src",t),(!g||M[0]&256&&a!==(a=N[40].name))&&d(e,"alt",a),(!g||M[0]&256)&&l!==(l=N[40].name+"")&&be(r,l),(!g||M[0]&256)&&f!==(f=N[41]+"")&&be(c,f),(!g||M[0]&256&&_!==(_="artist has "+N[41]+" tracks in the playlist "))&&d(o,"title",_),(!g||M[0]&256&&v!==(v=N[40].link))&&d(z,"href",v)},i(N){g||(H(b.$$.fragment,N),g=!0)},o(N){I(b.$$.fragment,N),g=!1},d(N){N&&(h(e),h(i),h(n),h(u),h(o),h(C),h(z)),Q(b)}}}function qs(s){let e,t,a,i,n,l,r,u;t=new fl({});function o(){return s[29](s[40])}n=new ul({});function m(){return s[30](s[40])}return{c(){e=k("button"),W(t.$$.fragment),a=S(),i=k("button"),W(n.$$.fragment),this.h()},l(f){e=y(f,"BUTTON",{class:!0,title:!0});var c=A(e);Y(t.$$.fragment,c),c.forEach(h),a=L(f),i=y(f,"BUTTON",{class:!0,title:!0});var E=A(i);Y(n.$$.fragment,E),E.forEach(h),this.h()},h(){d(e,"class",""),d(e,"title","add all artist titles to the playlist"),d(i,"class",""),d(i,"title","deselect all artist titles from the playlist"),xe(i,"text-gray-500",s[41]===0)},m(f,c){P(f,e,c),X(t,e,null),P(f,a,c),P(f,i,c),X(n,i,null),l=!0,r||(u=[$(e,"click",o),$(i,"click",m)],r=!0)},p(f,c){s=f,(!l||c[0]&4194560)&&xe(i,"text-gray-500",s[41]===0)},i(f){l||(H(t.$$.fragment,f),H(n.$$.fragment,f),l=!0)},o(f){I(t.$$.fragment,f),I(n.$$.fragment,f),l=!1},d(f){f&&(h(e),h(a),h(i)),Q(t),Q(n),r=!1,Ge(u)}}}function Kt(s){let e,t,a,i,n,l,r;return a=new Ke({props:{$$slots:{default:[Js]},$$scope:{ctx:s}}}),n=new Ke({props:{$$slots:{default:[qs]},$$scope:{ctx:s}}}),{c(){e=k("li"),t=k("span"),W(a.$$.fragment),i=S(),W(n.$$.fragment),l=S(),this.h()},l(u){e=y(u,"LI",{});var o=A(e);t=y(o,"SPAN",{class:!0});var m=A(t);Y(a.$$.fragment,m),i=L(m),Y(n.$$.fragment,m),m.forEach(h),l=L(o),o.forEach(h),this.h()},h(){d(t,"class","flex flex-row justify-between w-full items-center gap-x-2")},m(u,o){P(u,e,o),p(e,t),X(a,t,null),p(t,i),X(n,t,null),p(e,l),r=!0},p(u,o){const m={};o[0]&256|o[1]&131072&&(m.$$scope={dirty:o,ctx:u}),a.$set(m);const f={};o[0]&256|o[1]&131072&&(f.$$scope={dirty:o,ctx:u}),n.$set(f)},i(u){r||(H(a.$$.fragment,u),H(n.$$.fragment,u),r=!0)},o(u){I(a.$$.fragment,u),I(n.$$.fragment,u),r=!1},d(u){u&&h(e),Q(a),Q(n)}}}function Ks(s){var v;let e,t,a,i,n,l,r,u,o,m,f,c,E,_;a=new Ke({props:{$$slots:{default:[Fs]},$$scope:{ctx:s}}});function C(g){s[24](g)}let z={options:s[7]};s[6]!==void 0&&(z.input=s[6]),u=new Al({props:z}),al.push(()=>il(u,"input",C)),u.$on("selection",s[20]);let b=((v=s[8])==null?void 0:v.length)>0&&qt(s);return{c(){e=k("span"),t=k("span"),W(a.$$.fragment),i=S(),n=k("input"),l=S(),r=k("span"),W(u.$$.fragment),m=S(),b&&b.c(),f=Qe(),this.h()},l(g){e=y(g,"SPAN",{class:!0});var N=A(e);t=y(N,"SPAN",{class:!0});var M=A(t);Y(a.$$.fragment,M),M.forEach(h),i=L(N),n=y(N,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),l=L(N),r=y(N,"SPAN",{class:!0,tabindex:!0});var U=A(r);Y(u.$$.fragment,U),U.forEach(h),N.forEach(h),m=L(g),b&&b.l(g),f=Qe(),this.h()},h(){d(t,"class","mb-2"),d(n,"class","input"),d(n,"type","search"),d(n,"name","demo"),d(n,"placeholder","Search..."),d(r,"class","card w-full max-w-sm max-h-48 p-4 overflow-y-auto inline-block"),d(r,"tabindex","-1"),d(e,"class","my-4")},m(g,N){P(g,e,N),p(e,t),X(a,t,null),p(e,i),p(e,n),Re(n,s[6]),p(e,l),p(e,r),X(u,r,null),P(g,m,N),b&&b.m(g,N),P(g,f,N),c=!0,E||(_=$(n,"input",s[23]),E=!0)},p(g,N){var x;const M={};N[1]&131072&&(M.$$scope={dirty:N,ctx:g}),a.$set(M),N[0]&64&&n.value!==g[6]&&Re(n,g[6]);const U={};N[0]&128&&(U.options=g[7]),!o&&N[0]&64&&(o=!0,U.input=g[6],nl(()=>o=!1)),u.$set(U),((x=g[8])==null?void 0:x.length)>0?b?(b.p(g,N),N[0]&256&&H(b,1)):(b=qt(g),b.c(),H(b,1),b.m(f.parentNode,f)):b&&(lt(),I(b,1,1,()=>{b=null}),st())},i(g){c||(H(a.$$.fragment,g),H(u.$$.fragment,g),H(b),c=!0)},o(g){I(a.$$.fragment,g),I(u.$$.fragment,g),I(b),c=!1},d(g){g&&(h(e),h(m),h(f)),Q(a),Q(u),b&&b.d(g),E=!1,_()}}}function Gt(s){let e,t=s[5].message+"",a,i,n,l,r;return{c(){e=k("span"),a=ie(t),i=S(),n=k("progress"),this.h()},l(u){e=y(u,"SPAN",{});var o=A(e);a=re(o,t),o.forEach(h),i=L(u),n=y(u,"PROGRESS",{max:!0}),A(n).forEach(h),this.h()},h(){n.value=l=s[5].value,d(n,"max",r=s[5].max)},m(u,o){P(u,e,o),p(e,a),P(u,i,o),P(u,n,o)},p(u,o){o[0]&32&&t!==(t=u[5].message+"")&&be(a,t),o[0]&32&&l!==(l=u[5].value)&&(n.value=l),o[0]&32&&r!==(r=u[5].max)&&d(n,"max",r)},d(u){u&&(h(e),h(i),h(n))}}}function Gs(s){let e,t,a="Save to Deezer",i,n,l,r,u,o="Update playlist info",m,f,c,E,_,C="Update Tracks",z,b,v,g="Prepare playlist",N,M,U,x,he,ve="retrieve non readable tracks",fe,ee,pe,me,ce,Ce="clear de-selected tracks",V,B,ae;l=new Zt({}),c=new Zt({});let Z=s[5]&&Gt(s);return U=new Ns({}),pe=new Ts({}),{c(){e=k("div"),t=k("h3"),t.textContent=a,i=S(),n=k("button"),W(l.$$.fragment),r=S(),u=k("span"),u.textContent=o,m=S(),f=k("button"),W(c.$$.fragment),E=S(),_=k("span"),_.textContent=C,z=S(),Z&&Z.c(),b=S(),v=k("h3"),v.textContent=g,N=S(),M=k("button"),W(U.$$.fragment),x=S(),he=k("span"),he.textContent=ve,fe=S(),ee=k("button"),W(pe.$$.fragment),me=S(),ce=k("span"),ce.textContent=Ce,this.h()},l(K){e=y(K,"DIV",{class:!0});var le=A(e);t=y(le,"H3",{"data-svelte-h":!0}),ge(t)!=="svelte-1v8zjx5"&&(t.textContent=a),i=L(le),n=y(le,"BUTTON",{class:!0});var Ee=A(n);Y(l.$$.fragment,Ee),r=L(Ee),u=y(Ee,"SPAN",{"data-svelte-h":!0}),ge(u)!=="svelte-wh4rhd"&&(u.textContent=o),Ee.forEach(h),m=L(le),f=y(le,"BUTTON",{class:!0});var Se=A(f);Y(c.$$.fragment,Se),E=L(Se),_=y(Se,"SPAN",{"data-svelte-h":!0}),ge(_)!=="svelte-67dhmv"&&(_.textContent=C),Se.forEach(h),z=L(le),Z&&Z.l(le),b=L(le),v=y(le,"H3",{"data-svelte-h":!0}),ge(v)!=="svelte-1oj9aef"&&(v.textContent=g),N=L(le),M=y(le,"BUTTON",{class:!0,title:!0});var ze=A(M);Y(U.$$.fragment,ze),x=L(ze),he=y(ze,"SPAN",{"data-svelte-h":!0}),ge(he)!=="svelte-dro7np"&&(he.textContent=ve),ze.forEach(h),fe=L(le),ee=y(le,"BUTTON",{class:!0,title:!0});var we=A(ee);Y(pe.$$.fragment,we),me=L(we),ce=y(we,"SPAN",{"data-svelte-h":!0}),ge(ce)!=="svelte-mi84xk"&&(ce.textContent=Ce),we.forEach(h),le.forEach(h),this.h()},h(){d(n,"class","btn variant-filled-primary"),d(f,"class","btn variant-filled-secondary"),d(M,"class","btn variant-filled-tertiary"),d(M,"title","trye to find equivalent of tracks that are not readable anymore"),d(ee,"class","btn variant-filled-tertiary"),d(ee,"title","clear de-selected tracks"),d(e,"class","flex flex-col gap-y-4 w-4/5")},m(K,le){P(K,e,le),p(e,t),p(e,i),p(e,n),X(l,n,null),p(n,r),p(n,u),p(e,m),p(e,f),X(c,f,null),p(f,E),p(f,_),p(e,z),Z&&Z.m(e,null),p(e,b),p(e,v),p(e,N),p(e,M),X(U,M,null),p(M,x),p(M,he),p(e,fe),p(e,ee),X(pe,ee,null),p(ee,me),p(ee,ce),V=!0,B||(ae=[$(n,"click",rt(s[12])),$(f,"click",rt(s[14])),$(M,"click",rt(s[15])),$(ee,"click",rt(s[16]))],B=!0)},p(K,le){K[5]?Z?Z.p(K,le):(Z=Gt(K),Z.c(),Z.m(e,b)):Z&&(Z.d(1),Z=null)},i(K){V||(H(l.$$.fragment,K),H(c.$$.fragment,K),H(U.$$.fragment,K),H(pe.$$.fragment,K),V=!0)},o(K){I(l.$$.fragment,K),I(c.$$.fragment,K),I(U.$$.fragment,K),I(pe.$$.fragment,K),V=!1},d(K){K&&h(e),Q(l),Q(c),Z&&Z.d(),Q(U),Q(pe),B=!1,Ge(ae)}}}function Ws(s){let e,t;return e=new _l({props:{$$slots:{sidebarRight:[Gs],sidebarLeft:[Ks],default:[Hs]},$$scope:{ctx:s}}}),{c(){W(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,i){X(e,a,i),t=!0},p(a,i){const n={};i[0]&511|i[1]&131072&&(n.$$scope={dirty:i,ctx:a}),e.$set(n)},i(a){t||(H(e.$$.fragment,a),t=!0)},o(a){I(e.$$.fragment,a),t=!1},d(a){Q(e,a)}}}function Ys(s,e){const t=[];for(let a=0;a<s.length;a+=e)t.push(s.slice(a,a+e));return t}function Wt(s){return!s.inPlaylist&&s.selected?"!text-lime-500":s.inPlaylist&&!s.selected?"!line-through":""}const Yt=s=>s.selected,Xt=s=>s.selected,Qt=s=>s.selected,$t=s=>s.selected;function Xs(s,e,t){let a,i,n,l,r,u,{data:o}=e;const m=it([]);tt(s,m,T=>t(8,u=T));const f=it([]);tt(s,f,T=>t(2,i=T));const c={ascending:!1,orderBy:"trackCount"};function E(T){T.ascending!==void 0&&t(3,c.ascending=T.ascending,c),T.orderBy!==void 0&&t(3,c.orderBy=T.orderBy,c),m.update(O=>{const w=c.ascending?1:-1,F=(j,ne)=>fe(j.id)-fe(ne.id),R=(j,ne)=>j.name.localeCompare(ne.name),J=(j,ne)=>(Fe,Ie)=>{const et=j(Fe,Ie);return et===0?ne(Fe,Ie):et};return O.sort((j,ne)=>{switch(c.orderBy){case"trackCount":return w*J(F,R)(j,ne);case"alphabetical":return w*J(R,F)(j,ne)}})})}async function _(){const T={request_method:"POST"};o.playlist.title&&(T.title=o.playlist.title),o.playlist.description&&(T.description=o.playlist.description),o.playlist.public&&(T.public=o.playlist.public);try{const O=await Xe({apiPath:`/playlist/${o.playlist.id}`,searchParams:T});Le.trigger({message:`Updated playlist: ${O?"OK":"KO"}`,timeout:3e3})}catch(O){Le.trigger({message:`Updated playlist: error ${O}`,timeout:3e3})}}let C=it(void 0);tt(s,C,T=>t(5,n=T)),C.subscribe(T=>console.log(T));async function z(T,O,w){C.set({message:`sending 0/${T.length} ${O} ${w} `,value:0,max:T.length});let F=0;const R=100;for(const J of Ys(T,R)){F+=R,C.set({message:`sending ${F} / ${T.length} ${O} ${w} `,value:F,max:T.length}),console.log(`sending ${O} ${w}=${JSON.stringify(J)}`);const se={request_method:O};se[w]=J.join(",");const j=await Xe({apiPath:`/playlist/${o.playlist.id}/tracks`,searchParams:se});if(console.log({updateResult:j}),!j)throw new Error(`unable to send ${O} ${w}=${JSON.stringify(J)}`)}}async function b(){try{const T=i.filter(F=>F.selected&&!F.inPlaylist).map(F=>F.track.id);await z(T,"POST","songs");const O=i.filter(F=>!F.selected&&F.inPlaylist).map(F=>F.track.id);await z(O,"DELETE","songs");const w=i.filter(F=>F.selected).map(F=>F.track.id);await z(w,"POST","order"),Le.trigger({message:"Updated playlist tracks",timeout:3e3}),C.set(void 0),await new Promise(F=>setTimeout(F,1e3)),Le.trigger({message:"refresh",timeout:3e3}),await Tl()}catch(T){Le.trigger({message:`Updated playlist tracks: error ${T}`,timeout:3e3})}finally{C.set(void 0)}}async function v(T){const O=await jt(T.artist.id);if(!O){Le.trigger({message:`Could not find artist ${T.artist.name}`,timeout:3e3});return}const w=O.flatMap(J=>{const{tracks:se,...j}=J;return J.tracks.map(ne=>({...ne,album:j}))}),F={sensitivity:"base",ignorePunctuation:!0,numeric:!1,usage:"search"},R=w.filter(J=>J.title.localeCompare(T.title,void 0,F)===0);switch(R.length){case 0:console.log("no match by title",{unreadableTrack:T}),Le.trigger({message:`Could not find matching track for '${T.title}' in album '${T.album.title}'`,timeout:3e3});return;case 1:return R[0];default:{const J=Object.values(R.reduce((j,ne)=>(j[ne.isrc]=ne,j),{}));if(J.length===1)return J[0];const se=R.filter(j=>j.album.title.localeCompare(T.album.title,void 0,F)===0);switch(se.length){case 0:console.log("no match by title and album",{unreadableTrack:T}),Le.trigger({message:`Could not find matching track for '${T.title}' in album '${T.album.title}'`,timeout:3e3});return;case 1:return se[0];default:{const j=Object.values(se.reduce((ne,Fe)=>(ne[Fe.isrc]=Fe,ne),{}));if(j.length===1)return j[0];console.log("multple match by title",{unreadableTrack:T,matchingTracksByTitleAndAlbum:se}),Le.trigger({message:`Found multiple matching tracks for '${T.title}' in album '${T.album.title}' : ${se.map(ne=>ne.id)}`,timeout:3e3});return}}}}}async function g(){const T=wl(f),O=T.filter(R=>R.track.readable).length,w=T.filter(R=>!R.track.readable);for(const R of w){const J=R.track,se=await v(J);if(se){R.selected=!1;const j=T.indexOf(R);T.splice(j+1,0,{selected:!0,inPlaylist:!1,track:se})}}const F=T.filter(R=>R.track.readable).length;Le.trigger({message:`Reattached ${F-O} track(s) to readable equivalents.<br/>(${T.length-F} unreadable track remaining)`,timeout:1e4}),f.set(T)}function N(){f.update(T=>{const O=T.filter(w=>w.selected);return Le.trigger({message:`Removed ${T.length-O.length} track(s) from the playlist`,timeout:3e3}),O})}function M(T){f.update(O=>(O.forEach(w=>{w.track.artist.id===T&&(w.selected=!1)}),O))}async function U(T){const O=await jt(T);f.update(w=>{const F=O.sort((J,se)=>J.release_date.localeCompare(se.release_date)).flatMap(J=>{const{tracks:se,...j}=J;return J.tracks.map(ne=>({...ne,album:j}))});F.forEach(J=>{const se=w.find(j=>j.track.id===J.id);se?se.track.album=J.album:w.push({track:J,inPlaylist:!1,selected:!0})});function R(J){return F.findIndex(se=>se.id===J.track.id)}return w.sort((J,se)=>{const j=R(J),ne=R(se);return j-ne}),w})}let x=it("");tt(s,x,T=>t(6,l=T));function he(T){const O=T.detail.value;U(O)}const ve=ml(x,(T,O)=>{if(!T){O([]);return}Xe({apiPath:"/search/artist",searchParams:{q:T}}).then(w=>{const F=w.data.map(R=>({label:`<span class="flex justify-between w-full items-center">
<span class="flex items-center"> <img src="${R.picture_small}" class="mx-2"/>${R.name}</span>
 <button class="btn-icon btn-icon-sm variant-outline-tertiary" title="add all artist titles to the playlist">add</button></span>`,value:R.id,meta:R}));O(F)})});tt(s,ve,T=>t(7,r=T));function fe(T){return i.filter(O=>O.track.artist.id===T&&O.selected).length}let ee={offset:0,limit:20,size:10,amounts:[10,20,50,100]};function pe(){l=this.value,x.set(l)}function me(T){l=T,x.set(l)}const ce=()=>E({orderBy:"alphabetical"}),Ce=()=>E({orderBy:"trackCount"}),V=()=>E({ascending:!1}),B=()=>E({ascending:!0}),ae=T=>U(T.id),Z=T=>M(T.id);function K(){o.playlist.title=this.value,t(0,o)}function le(){o.playlist.description=this.value,t(0,o)}const Ee=T=>{a.forEach(O=>O.selected=T.target.checked),f.update(O=>O)};function Se(T,O){T[O].selected=this.checked,t(4,a),t(2,i),t(1,ee)}const ze=T=>U(T.artist.id),we=T=>M(T.artist.id);function We(T){ee=T,t(1,ee),t(2,i)}return s.$$set=T=>{"data"in T&&t(0,o=T.data)},s.$$.update=()=>{if(s.$$.dirty[0]&1&&m.set(o.topArtists),s.$$.dirty[0]&1){const T=o.playlist.tracks.data.map(O=>({track:O,inPlaylist:!0,selected:!0}));f.set(T)}s.$$.dirty[0]&4&&t(1,ee.size=i.length,ee),s.$$.dirty[0]&6&&t(4,a=i.slice(ee.offset*ee.limit,ee.offset*ee.limit+ee.limit))},[o,ee,i,c,a,n,l,r,u,m,f,E,_,C,b,g,N,M,U,x,he,ve,fe,pe,me,ce,Ce,V,B,ae,Z,K,le,Ee,Se,ze,we,We]}class ia extends ye{constructor(e){super(),Te(this,e,Xs,Ws,ke,{data:0},null,[-1,-1])}}export{ia as component,na as universal};
