import{d as Ll,w as bt}from"../chunks/paths.ae1a7060.js";import{e as Xe,d as jl,R as Zl,c as it,r as Rl,p as $l,u as Hl,o as Ul}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.19e78303.js";import{g as St,P as Ml,b as Vl,h as Vt}from"../chunks/PlaylistApplicationShell.5f744a36.js";import{s as he,f as y,g as E,h as A,d,j as g,i as N,U as zt,W as kt,C as R,D as Q,e as rt,a as O,c as D,x as b,K as U,w as Ze,y as Re,z as $e,A as He,X as Ft,Y as Me,L as xe,Z as qt,B as Fl,O as Le,F as ze,H as Be,J as Oe,I as Ne,Q as ue,r as K,V as Qe,M as st,l as _e,m as ge,n as je,P as ql,k as Jl,p as Ct,R as be,S as We,T as Bt,_ as Pt,$ as Gl,a0 as Jt}from"../chunks/scheduler.5f6ec423.js";import{S as de,i as me,a as B,g as De,c as Ie,t as S,b as F,d as q,m as J,e as G,j as Kl,k as Yl,o as Nt}from"../chunks/index.c7424e09.js";import{i as Wl}from"../chunks/navigation.ad2ccf0c.js";import{a as Se,s as Gt,g as Xl}from"../chunks/index.2c5e9cbd.js";function Kt(n,e,t){const l=n.slice();return l[15]=e[t],l[17]=t,l}const Ql=n=>({}),Yt=n=>({}),xl=n=>({}),Wt=n=>({}),en=n=>({}),Xt=n=>({}),tn=n=>({}),Qt=n=>({}),ln=n=>({}),xt=n=>({}),nn=n=>({}),el=n=>({});function an(n){let e,t,l,a,i,s,r,o;const u=[un,on,rn],f=[];function c(h,p){return p&1&&(t=null),p&1&&(l=null),t==null&&(t=!!El(h[0],h[17])),t?0:(l==null&&(l=!!Tl(h[0],h[17])),l?1:2)}return a=c(n,-1),i=f[a]=u[a](n),{c(){e=y("span"),i.c(),s=O(),this.h()},l(h){e=E(h,"SPAN",{class:!0});var p=A(e);i.l(p),s=D(p),p.forEach(d),this.h()},h(){g(e,"class",r="rating-icon "+n[3])},m(h,p){N(h,e,p),f[a].m(e,null),b(e,s),o=!0},p(h,p){let v=a;a=c(h,p),a===v?f[a].p(h,p):(De(),S(f[v],1,1,()=>{f[v]=null}),Ie(),i=f[a],i?i.p(h,p):(i=f[a]=u[a](h),i.c()),B(i,1),i.m(e,s)),(!o||p&8&&r!==(r="rating-icon "+h[3]))&&g(e,"class",r)},i(h){o||(B(i),o=!0)},o(h){S(i),o=!1},d(h){h&&d(e),f[a].d()}}}function sn(n){let e,t,l,a,i,s,r,o,u,f;const c=[hn,fn,cn],h=[];function p(m,P){return P&1&&(t=null),P&1&&(l=null),t==null&&(t=!!El(m[0],m[17])),t?0:(l==null&&(l=!!Tl(m[0],m[17])),l?1:2)}a=p(n,-1),i=h[a]=c[a](n);function v(){return n[12](n[17])}return{c(){e=y("button"),i.c(),s=O(),this.h()},l(m){e=E(m,"BUTTON",{class:!0,type:!0});var P=A(e);i.l(P),s=D(P),P.forEach(d),this.h()},h(){g(e,"class",r="rating-icon "+n[3]),g(e,"type","button")},m(m,P){N(m,e,P),h[a].m(e,null),b(e,s),o=!0,u||(f=U(e,"click",v),u=!0)},p(m,P){n=m;let k=a;a=p(n,P),a===k?h[a].p(n,P):(De(),S(h[k],1,1,()=>{h[k]=null}),Ie(),i=h[a],i?i.p(n,P):(i=h[a]=c[a](n),i.c()),B(i,1),i.m(e,s)),(!o||P&8&&r!==(r="rating-icon "+n[3]))&&g(e,"class",r)},i(m){o||(B(i),o=!0)},o(m){S(i),o=!1},d(m){m&&d(e),h[a].d(),u=!1,f()}}}function rn(n){let e;const t=n[11].empty,l=Ze(t,n,n[10],Yt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&Re(l,t,a,a[10],e?He(t,a[10],i,Ql):$e(a[10]),Yt)},i(a){e||(B(l,a),e=!0)},o(a){S(l,a),e=!1},d(a){l&&l.d(a)}}}function on(n){let e;const t=n[11].half,l=Ze(t,n,n[10],Wt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&Re(l,t,a,a[10],e?He(t,a[10],i,xl):$e(a[10]),Wt)},i(a){e||(B(l,a),e=!0)},o(a){S(l,a),e=!1},d(a){l&&l.d(a)}}}function un(n){let e;const t=n[11].full,l=Ze(t,n,n[10],Xt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&Re(l,t,a,a[10],e?He(t,a[10],i,en):$e(a[10]),Xt)},i(a){e||(B(l,a),e=!0)},o(a){S(l,a),e=!1},d(a){l&&l.d(a)}}}function cn(n){let e;const t=n[11].empty,l=Ze(t,n,n[10],Qt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&Re(l,t,a,a[10],e?He(t,a[10],i,tn):$e(a[10]),Qt)},i(a){e||(B(l,a),e=!0)},o(a){S(l,a),e=!1},d(a){l&&l.d(a)}}}function fn(n){let e;const t=n[11].half,l=Ze(t,n,n[10],xt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&Re(l,t,a,a[10],e?He(t,a[10],i,ln):$e(a[10]),xt)},i(a){e||(B(l,a),e=!0)},o(a){S(l,a),e=!1},d(a){l&&l.d(a)}}}function hn(n){let e;const t=n[11].full,l=Ze(t,n,n[10],el);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&Re(l,t,a,a[10],e?He(t,a[10],i,nn):$e(a[10]),el)},i(a){e||(B(l,a),e=!0)},o(a){S(l,a),e=!1},d(a){l&&l.d(a)}}}function tl(n){let e,t,l,a;const i=[sn,an],s=[];function r(o,u){return o[2]?0:1}return e=r(n),t=s[e]=i[e](n),{c(){t.c(),l=rt()},l(o){t.l(o),l=rt()},m(o,u){s[e].m(o,u),N(o,l,u),a=!0},p(o,u){let f=e;e=r(o),e===f?s[e].p(o,u):(De(),S(s[f],1,1,()=>{s[f]=null}),Ie(),t=s[e],t?t.p(o,u):(t=s[e]=i[e](o),t.c()),B(t,1),t.m(l.parentNode,l))},i(o){a||(B(t),a=!0)},o(o){S(t),a=!1},d(o){o&&d(l),s[e].d(o)}}}function dn(n){let e,t,l,a=Xe({length:n[1]}),i=[];for(let r=0;r<a.length;r+=1)i[r]=tl(Kt(n,a,r));const s=r=>S(i[r],1,1,()=>{i[r]=null});return{c(){e=y("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=E(r,"DIV",{class:!0,"data-testid":!0});var o=A(e);for(let u=0;u<i.length;u+=1)i[u].l(o);o.forEach(d),this.h()},h(){g(e,"class",t="ratings "+n[4]),g(e,"data-testid","rating-bar")},m(r,o){N(r,e,o);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);l=!0},p(r,[o]){if(o&1071){a=Xe({length:r[1]});let u;for(u=0;u<a.length;u+=1){const f=Kt(r,a,u);i[u]?(i[u].p(f,o),B(i[u],1)):(i[u]=tl(f),i[u].c(),B(i[u],1),i[u].m(e,null))}for(De(),u=a.length;u<i.length;u+=1)s(u);Ie()}(!l||o&16&&t!==(t="ratings "+r[4]))&&g(e,"class",t)},i(r){if(!l){for(let o=0;o<a.length;o+=1)B(i[o]);l=!0}},o(r){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)S(i[o]);l=!1},d(r){r&&d(e),zt(i,r)}}}const mn="w-full flex";function El(n,e){return Math.floor(n)>=e+1}function Tl(n,e){return n===e+.5}function _n(n,e,t){let l,{$$slots:a={},$$scope:i}=e,{value:s=0}=e,{max:r=5}=e,{interactive:o=!1}=e,{text:u="text-token"}=e,{fill:f="fill-token"}=e,{justify:c="justify-center"}=e,{spacing:h="space-x-2"}=e,{regionIcon:p=""}=e;const v=kt();function m(k){v("icon",{index:k+1})}const P=k=>m(k);return n.$$set=k=>{t(14,e=R(R({},e),Q(k))),"value"in k&&t(0,s=k.value),"max"in k&&t(1,r=k.max),"interactive"in k&&t(2,o=k.interactive),"text"in k&&t(6,u=k.text),"fill"in k&&t(7,f=k.fill),"justify"in k&&t(8,c=k.justify),"spacing"in k&&t(9,h=k.spacing),"regionIcon"in k&&t(3,p=k.regionIcon),"$$scope"in k&&t(10,i=k.$$scope)},n.$$.update=()=>{t(4,l=`${mn} ${u} ${f} ${c} ${h} ${e.class??""}`)},e=Q(e),[s,r,o,p,l,m,u,f,c,h,i,a,P]}class gn extends de{constructor(e){super(),me(this,e,_n,dn,he,{value:0,max:1,interactive:2,text:6,fill:7,justify:8,spacing:9,regionIcon:3})}}function ll(n){let e,t;const l=n[22].default,a=Ze(l,n,n[21],null);return{c(){e=y("div"),a&&a.c(),this.h()},l(i){e=E(i,"DIV",{class:!0});var s=A(e);a&&a.l(s),s.forEach(d),this.h()},h(){g(e,"class","slide-toggle-text ml-3")},m(i,s){N(i,e,s),a&&a.m(e,null),t=!0},p(i,s){a&&a.p&&(!t||s[0]&2097152)&&Re(a,l,i,i[21],t?He(l,i[21],s,null):$e(i[21]),null)},i(i){t||(B(a,i),t=!0)},o(i){S(a,i),t=!1},d(i){i&&d(e),a&&a.d(i)}}}function pn(n){let e,t,l,a,i,s,r,o,u,f,c,h,p,v,m,P=[{type:"checkbox"},{class:"slide-toggle-input hidden"},{name:n[1]},n[8](),{disabled:a=n[9].disabled}],k={};for(let _=0;_<P.length;_+=1)k=R(k,P[_]);let T=n[10].default&&ll(n);return{c(){e=y("div"),t=y("label"),l=y("input"),i=O(),s=y("div"),r=y("div"),f=O(),T&&T.c(),this.h()},l(_){e=E(_,"DIV",{id:!0,class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-checked":!0,tabindex:!0});var C=A(e);t=E(C,"LABEL",{class:!0});var Z=A(t);l=E(Z,"INPUT",{type:!0,class:!0,name:!0}),i=D(Z),s=E(Z,"DIV",{class:!0});var j=A(s);r=E(j,"DIV",{class:!0}),A(r).forEach(d),j.forEach(d),f=D(Z),T&&T.l(Z),Z.forEach(d),C.forEach(d),this.h()},h(){Ft(l,k),g(r,"class",o="slide-toggle-thumb "+n[3]),Me(r,"cursor-not-allowed",n[9].disabled),g(s,"class",u="slide-toggle-track "+n[4]),Me(s,"cursor-not-allowed",n[9].disabled),g(t,"class",c="slide-toggle-label "+n[5]),g(e,"id",n[2]),g(e,"class",h="slide-toggle "+n[6]),g(e,"data-testid","slide-toggle"),g(e,"role","switch"),g(e,"aria-label",n[2]),g(e,"aria-checked",n[0]),g(e,"tabindex","0")},m(_,C){N(_,e,C),b(e,t),b(t,l),l.autofocus&&l.focus(),l.checked=n[0],b(t,i),b(t,s),b(s,r),b(t,f),T&&T.m(t,null),p=!0,v||(m=[U(l,"change",n[31]),U(l,"click",n[23]),U(l,"keydown",n[24]),U(l,"keyup",n[25]),U(l,"keypress",n[26]),U(l,"mouseover",n[27]),U(l,"change",n[28]),U(l,"focus",n[29]),U(l,"blur",n[30]),U(e,"keydown",n[7])],v=!0)},p(_,C){Ft(l,k=Se(P,[{type:"checkbox"},{class:"slide-toggle-input hidden"},(!p||C[0]&2)&&{name:_[1]},_[8](),(!p||C[0]&512&&a!==(a=_[9].disabled))&&{disabled:a}])),C[0]&1&&(l.checked=_[0]),(!p||C[0]&8&&o!==(o="slide-toggle-thumb "+_[3]))&&g(r,"class",o),(!p||C[0]&520)&&Me(r,"cursor-not-allowed",_[9].disabled),(!p||C[0]&16&&u!==(u="slide-toggle-track "+_[4]))&&g(s,"class",u),(!p||C[0]&528)&&Me(s,"cursor-not-allowed",_[9].disabled),_[10].default?T?(T.p(_,C),C[0]&1024&&B(T,1)):(T=ll(_),T.c(),B(T,1),T.m(t,null)):T&&(De(),S(T,1,1,()=>{T=null}),Ie()),(!p||C[0]&32&&c!==(c="slide-toggle-label "+_[5]))&&g(t,"class",c),(!p||C[0]&4)&&g(e,"id",_[2]),(!p||C[0]&64&&h!==(h="slide-toggle "+_[6]))&&g(e,"class",h),(!p||C[0]&4)&&g(e,"aria-label",_[2]),(!p||C[0]&1)&&g(e,"aria-checked",_[0])},i(_){p||(B(T),p=!0)},o(_){S(T),p=!1},d(_){_&&d(e),T&&T.d(),v=!1,xe(m)}}}const vn="inline-block",bn="unstyled flex items-center",kn="flex transition-all duration-[200ms] cursor-pointer",wn="w-[50%] h-full scale-[0.8] transition-all duration-[200ms] shadow";function yn(n,e,t){let l,a,i,s,r,o,u,f;const c=["name","checked","size","background","active","border","rounded","label"];let h=qt(e,c),{$$slots:p={},$$scope:v}=e;const m=Fl(p),P=kt();let{name:k}=e,{checked:T=!1}=e,{size:_="md"}=e,{background:C="bg-surface-400 dark:bg-surface-700"}=e,{active:Z="bg-surface-900 dark:bg-surface-300"}=e,{border:j=""}=e,{rounded:$="rounded-full"}=e,{label:re=""}=e,V;switch(_){case"sm":V="w-12 h-6";break;case"lg":V="w-20 h-10";break;default:V="w-16 h-8"}function x(L){["Enter","Space"].includes(L.code)&&(L.preventDefault(),P("keyup",L),L.currentTarget.firstChild.click())}function fe(){return delete h.class,h}function pe(L){Le.call(this,n,L)}function ke(L){Le.call(this,n,L)}function Te(L){Le.call(this,n,L)}function ae(L){Le.call(this,n,L)}function ee(L){Le.call(this,n,L)}function Y(L){Le.call(this,n,L)}function ce(L){Le.call(this,n,L)}function Pe(L){Le.call(this,n,L)}function te(){T=this.checked,t(0,T)}return n.$$set=L=>{t(9,e=R(R({},e),Q(L))),t(33,h=qt(e,c)),"name"in L&&t(1,k=L.name),"checked"in L&&t(0,T=L.checked),"size"in L&&t(11,_=L.size),"background"in L&&t(12,C=L.background),"active"in L&&t(13,Z=L.active),"border"in L&&t(14,j=L.border),"rounded"in L&&t(15,$=L.rounded),"label"in L&&t(2,re=L.label),"$$scope"in L&&t(21,v=L.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&12289&&t(19,l=T?Z:`${C} cursor-pointer`),n.$$.dirty[0]&1&&t(18,a=T?"bg-white/75":"bg-white"),n.$$.dirty[0]&1&&t(17,i=T?"translate-x-full":""),t(20,s=e.disabled===!0?"opacity-50":"hover:brightness-[105%] dark:hover:brightness-110 cursor-pointer"),t(6,r=`${vn} ${$} ${s} ${e.class??""}`),n.$$.dirty[0]&638976&&t(4,u=`${kn} ${j} ${$} ${V} ${l}`),n.$$.dirty[0]&425984&&t(3,f=`${wn} ${$} ${a} ${i}`)},t(5,o=`${bn}`),e=Q(e),[T,k,re,f,u,o,r,x,fe,e,m,_,C,Z,j,$,V,i,a,l,s,v,p,pe,ke,Te,ae,ee,Y,ce,Pe,te]}class En extends de{constructor(e){super(),me(this,e,yn,pn,he,{name:1,checked:0,size:11,background:12,active:13,border:14,rounded:15,label:2},null,[-1,-1])}}var Ot={exports:{}};function Pl(){var n=Object.create(null),e=0,t=0,l=0,a=!1;this.put=function(s,r,o,u){if(a&&console.log("caching: %s = %j (@%s)",s,r,o),typeof o<"u"&&(typeof o!="number"||isNaN(o)||o<=0))throw new Error("Cache timeout must be a positive number");if(typeof u<"u"&&typeof u!="function")throw new Error("Cache timeout callback must be a function");var f=n[s];f?clearTimeout(f.timeout):l++;var c={value:r,expire:o+Date.now()};return isNaN(c.expire)||(c.timeout=setTimeout((function(){i(s),u&&u(s,r)}).bind(this),o)),n[s]=c,r},this.del=function(s){var r=!0,o=n[s];return o?(clearTimeout(o.timeout),!isNaN(o.expire)&&o.expire<Date.now()&&(r=!1)):r=!1,r&&i(s),r};function i(s){l--,delete n[s]}this.clear=function(){for(var s in n)clearTimeout(n[s].timeout);l=0,n=Object.create(null),a&&(e=0,t=0)},this.get=function(s){var r=n[s];if(typeof r<"u"){if(isNaN(r.expire)||r.expire>=Date.now())return a&&e++,r.value;a&&t++,l--,delete n[s]}else a&&t++;return null},this.size=function(){return l},this.memsize=function(){var s=0,r;for(r in n)s++;return s},this.debug=function(s){a=s},this.hits=function(){return e},this.misses=function(){return t},this.keys=function(){return Object.keys(n)},this.exportJson=function(){var s={};for(var r in n){var o=n[r];s[r]={value:o.value,expire:o.expire||"NaN"}}return JSON.stringify(s)},this.importJson=function(s,r){var o=JSON.parse(s),u=Date.now(),f=r&&r.skipDuplicates;for(var c in o)if(o.hasOwnProperty(c)){if(f){var h=n[c];if(h){a&&console.log("Skipping duplicate imported key '%s'",c);continue}}var p=o[c],v=p.expire-u;if(v<=0){this.del(c);continue}v=v>0?v:void 0,this.put(c,p.value,v)}return this.size()}}Ot.exports=new Pl;Ot.exports.Cache=Pl;var Tn=Ot.exports;const nl=jl(Tn);class Al{constructor(e,t){this.cacheName=e,this.ttl=t}get(e){return nl.get(this.buildKey(e))}buildKey(e){return this.cacheName+"~"+e}put(e,t){nl.put(this.buildKey(e),t,this.ttl)}}const Dt=Zl.extend("api-query"),al=new Al("ARTIST",3600*1e3),sl=new Al("ARTIST-DISCOGRAPHY",3600*1e3);async function Pn(n){Dt("getDeezerArtist "+n);const e=al.get(n);if(e)return e;const t=await it({apiPath:"/artist/"+n});return al.put(n,t),t}async function Cl(n){return Dt("getAlbumTracks "+n),await St({apiPath:"/album/"+n+"/tracks",index:0,limit:100})}async function Bl(n){Dt("getDeezerArtistDiscography "+n);const e=sl.get(n);if(e)return e;const t=await St({apiPath:"/artist/"+n+"/albums",index:0,limit:100}),l=await Promise.all(t.data.map(async a=>{const i=await Cl(a.id);return{...a,tracks:i.data}}));return sl.put(n,l),l}const An=!1;async function Cn(n){if(n==="NEW"){const e=new Date().toISOString(),t=await it({apiPath:"/user/me/playlists",searchParams:{request_method:"POST",title:`New Playlist ${e}`,description:`Playlist created with deezer-artist-playlist-organizer on the ${e}`,public:!0}});throw Rl(302,"./"+t.id)}return n}async function Bn({params:n}){const e=await Cn(n.id),t=await it({apiPath:`/playlist/${e}`}),l=t.tracks.data.reduce((s,r)=>(s[r.artist.id]||(s[r.artist.id]={artist:r.artist,count:0}),s[r.artist.id].count++,s),{}),a=Object.values(l).sort((s,r)=>r.count-s.count);if(t.nb_tracks>400){const s=await St({apiPath:`/playlist/${e}/tracks`,limit:100,index:t.tracks.data.length});t.tracks.data=[...t.tracks.data,...s.data]}const i=Promise.all(a.map(async s=>await Pn(s.artist.id)));return{playlist:t,topArtists:i}}const gs=Object.freeze(Object.defineProperty({__proto__:null,load:Bn,ssr:An},Symbol.toStringTag,{value:"Module"}));function Nn(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm40-84a12 12 0 0 1-5.12 9.83l-40 28A12 12 0 0 1 104 156v-56a12 12 0 0 1 18.88-9.83l40 28A12 12 0 0 1 168 128Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=R(i,a[s]);return{c(){e=ze("svg"),t=new Be(!0),this.h()},l(s){e=Oe(s,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ne(r,!0),r.forEach(d),this.h()},h(){t.a=null,ue(e,i)},m(s,r){N(s,e,r),t.m(l,e)},p(s,[r]){ue(e,i=Se(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&d(e)}}}function Sn(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),Q(l)))},e=Q(e),[e]}class zn extends de{constructor(e){super(),me(this,e,Sn,Nn,he,{})}}function On(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84ZM116 96v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Zm48 0v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=R(i,a[s]);return{c(){e=ze("svg"),t=new Be(!0),this.h()},l(s){e=Oe(s,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ne(r,!0),r.forEach(d),this.h()},h(){t.a=null,ue(e,i)},m(s,r){N(s,e,r),t.m(l,e)},p(s,[r]){ue(e,i=Se(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&d(e)}}}function Dn(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),Q(l)))},e=Q(e),[e]}class In extends de{constructor(e){super(),me(this,e,Dn,On,he,{})}}function Ln(n){let e,t,l,a,i;return t=new In({}),{c(){e=y("span"),F(t.$$.fragment),this.h()},l(s){e=E(s,"SPAN",{role:!0});var r=A(e);q(t.$$.fragment,r),r.forEach(d),this.h()},h(){g(e,"role","button")},m(s,r){N(s,e,r),J(t,e,null),l=!0,a||(i=U(e,"click",n[4]),a=!0)},p:K,i(s){l||(B(t.$$.fragment,s),l=!0)},o(s){S(t.$$.fragment,s),l=!1},d(s){s&&d(e),G(t),a=!1,i()}}}function jn(n){let e,t,l,a,i;return t=new zn({}),{c(){e=y("span"),F(t.$$.fragment),this.h()},l(s){e=E(s,"SPAN",{role:!0});var r=A(e);q(t.$$.fragment,r),r.forEach(d),this.h()},h(){g(e,"role","button")},m(s,r){N(s,e,r),J(t,e,null),l=!0,a||(i=U(e,"click",n[4]),a=!0)},p:K,i(s){l||(B(t.$$.fragment,s),l=!0)},o(s){S(t.$$.fragment,s),l=!1},d(s){s&&d(e),G(t),a=!1,i()}}}function Zn(n){let e,t,l=!0,a,i,s,r,o,u,f;const c=[jn,Ln],h=[];function p(v,m){return v[0]?0:1}return s=p(n),r=h[s]=c[s](n),{c(){e=y("audio"),a=O(),i=y("span"),r.c(),this.h()},l(v){e=E(v,"AUDIO",{src:!0}),A(e).forEach(d),a=D(v),i=E(v,"SPAN",{});var m=A(i);r.l(m),m.forEach(d),this.h()},h(){Qe(e.src,t=n[1])||g(e,"src",t),e.loop=n[2],Me(i,"text-gray-500",!n[3])},m(v,m){N(v,e,m),N(v,a,m),N(v,i,m),h[s].m(i,null),o=!0,u||(f=[U(e,"play",n[5]),U(e,"pause",n[5])],u=!0)},p(v,[m]){(!o||m&2&&!Qe(e.src,t=v[1]))&&g(e,"src",t),(!o||m&4)&&(e.loop=v[2]),m&1&&l!==(l=v[0])&&e[l?"pause":"play"]();let P=s;s=p(v),s===P?h[s].p(v,m):(De(),S(h[P],1,1,()=>{h[P]=null}),Ie(),r=h[s],r?r.p(v,m):(r=h[s]=c[s](v),r.c()),B(r,1),r.m(i,null)),(!o||m&8)&&Me(i,"text-gray-500",!v[3])},i(v){o||(B(r),o=!0)},o(v){S(r),o=!1},d(v){v&&(d(e),d(a),d(i)),h[s].d(),u=!1,xe(f)}}}function Rn(n,e,t){let{src:l}=e,{loop:a=!1}=e,{enabled:i=!0}=e,{paused:s=!0}=e;function r(){i&&t(0,s=!s)}function o(){s=this.paused,t(0,s)}return n.$$set=u=>{"src"in u&&t(1,l=u.src),"loop"in u&&t(2,a=u.loop),"enabled"in u&&t(3,i=u.enabled),"paused"in u&&t(0,s=u.paused)},[s,l,a,i,r,o]}class $n extends de{constructor(e){super(),me(this,e,Rn,Zn,he,{src:1,loop:2,enabled:3,paused:0})}}function il(n,e,t){const l=n.slice();return l[37]=e[t],l}const Hn=n=>({option:n[0]&16512,classesButton:n[0]&512}),rl=n=>({option:n[37],classesButton:n[9],onSelection:n[15]});function Un(n){let e,t,l;return{c(){e=y("div"),t=_e(n[1]),this.h()},l(a){e=E(a,"DIV",{class:!0});var i=A(e);t=ge(i,n[1]),i.forEach(d),this.h()},h(){g(e,"class",l="autocomplete-empty "+n[8])},m(a,i){N(a,e,i),b(e,t)},p(a,i){i[0]&2&&je(t,a[1]),i[0]&256&&l!==(l="autocomplete-empty "+a[8])&&g(e,"class",l)},i:K,o:K,d(a){a&&d(e)}}}function Mn(n){let e,t,l=[],a=new Map,i,s,r,o=Xe(n[7].slice(0,n[14]));const u=f=>f[37];for(let f=0;f<o.length;f+=1){let c=il(n,o,f),h=u(c);a.set(h,l[f]=ol(h,c))}return{c(){e=y("nav"),t=y("ul");for(let f=0;f<l.length;f+=1)l[f].c();this.h()},l(f){e=E(f,"NAV",{class:!0});var c=A(e);t=E(c,"UL",{class:!0});var h=A(t);for(let p=0;p<l.length;p+=1)l[p].l(h);h.forEach(d),c.forEach(d),this.h()},h(){g(t,"class",i="autocomplete-list "+n[11]),g(e,"class",s="autocomplete-nav "+n[12])},m(f,c){N(f,e,c),b(e,t);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(t,null);r=!0},p(f,c){c[0]&134268644&&(o=Xe(f[7].slice(0,f[14])),De(),l=Hl(l,c,u,1,f,o,a,t,Ul,ol,null,il),Ie()),(!r||c[0]&2048&&i!==(i="autocomplete-list "+f[11]))&&g(t,"class",i),(!r||c[0]&4096&&s!==(s="autocomplete-nav "+f[12]))&&g(e,"class",s)},i(f){if(!r){for(let c=0;c<o.length;c+=1)B(l[c]);r=!0}},o(f){for(let c=0;c<l.length;c+=1)S(l[c]);r=!1},d(f){f&&d(e);for(let c=0;c<l.length;c+=1)l[c].d()}}}function Vn(n){let e,t,l=n[37].label+"",a,i,s;function r(){return n[31](n[37])}return{c(){e=y("button"),t=new Be(!1),this.h()},l(o){e=E(o,"BUTTON",{class:!0,type:!0});var u=A(e);t=Ne(u,!1),u.forEach(d),this.h()},h(){t.a=null,g(e,"class",a="autocomplete-button "+n[9]),g(e,"type","button")},m(o,u){N(o,e,u),t.m(l,e),i||(s=[U(e,"click",r),U(e,"click",n[29]),U(e,"keypress",n[30])],i=!0)},p(o,u){n=o,u[0]&16512&&l!==(l=n[37].label+"")&&t.p(l),u[0]&512&&a!==(a="autocomplete-button "+n[9])&&g(e,"class",a)},d(o){o&&d(e),i=!1,xe(s)}}}function ol(n,e){let t,l,a,i,s,r;const o=e[28].optionButton,u=Ze(o,e,e[27],rl),f=u||Vn(e);return{key:n,first:null,c(){t=y("li"),f&&f.c(),l=O(),this.h()},l(c){t=E(c,"LI",{class:!0});var h=A(t);f&&f.l(h),l=D(h),h.forEach(d),this.h()},h(){g(t,"class",a="autocomplete-item "+e[10]),this.first=t},m(c,h){N(c,t,h),f&&f.m(t,null),b(t,l),r=!0},p(c,h){e=c,u?u.p&&(!r||h[0]&134234752)&&Re(u,o,e,e[27],r?He(o,e[27],h,Hn):$e(e[27]),rl):f&&f.p&&(!r||h[0]&17024)&&f.p(e,r?h:[-1,-1]),(!r||h[0]&1024&&a!==(a="autocomplete-item "+e[10]))&&g(t,"class",a)},i(c){r||(B(f,c),c&&ql(()=>{r&&(s&&s.end(1),i=Kl(t,e[0],{transition:e[3],params:e[4],enabled:e[2]}),i.start())}),r=!0)},o(c){S(f,c),i&&i.invalidate(),c&&(s=Yl(t,e[0],{transition:e[5],params:e[6],enabled:e[2]})),r=!1},d(c){c&&d(t),f&&f.d(c),c&&s&&s.end()}}}function Fn(n){let e,t,l,a,i;const s=[Mn,Un],r=[];function o(u,f){return u[7].length>0?0:1}return t=o(n),l=r[t]=s[t](n),{c(){e=y("div"),l.c(),this.h()},l(u){e=E(u,"DIV",{class:!0,"data-testid":!0});var f=A(e);l.l(f),f.forEach(d),this.h()},h(){g(e,"class",a="autocomplete "+n[13]),g(e,"data-testid","autocomplete")},m(u,f){N(u,e,f),r[t].m(e,null),i=!0},p(u,f){let c=t;t=o(u),t===c?r[t].p(u,f):(De(),S(r[c],1,1,()=>{r[c]=null}),Ie(),l=r[t],l?l.p(u,f):(l=r[t]=s[t](u),l.c()),B(l,1),l.m(e,null)),(!i||f[0]&8192&&a!==(a="autocomplete "+u[13]))&&g(e,"class",a)},i(u){i||(B(l),i=!0)},o(u){S(l),i=!1},d(u){u&&d(e),r[t].d()}}}function Nl(n,e){const{transition:t,params:l,enabled:a}=e;return a?t(n,l):"duration"in l?t(n,{duration:0}):{duration:0}}function qn(n,e,t){let l,a,i,s,r,o,u,f,c,h;st(n,$l,z=>t(32,h=z));let{$$slots:p={},$$scope:v}=e;const m=kt();let{input:P=void 0}=e,{options:k=[]}=e,{limit:T=void 0}=e,{allowlist:_=[]}=e,{denylist:C=[]}=e,{emptyState:Z="No Results Found."}=e,{regionNav:j=""}=e,{regionList:$="list-nav"}=e,{regionItem:re=""}=e,{regionButton:V="w-full"}=e,{regionEmpty:x="text-center"}=e,{transitions:fe=!h}=e,{transitionIn:pe=Gt}=e,{transitionInParams:ke={duration:200}}=e,{transitionOut:Te=Gt}=e,{transitionOutParams:ae={duration:200}}=e;function ee(z,we){let ye=[...k];z.length&&(ye=ye.filter(Ue=>z.includes(Ue.value))),we.length&&(ye=ye.filter(Ue=>!we.includes(Ue.value))),!z.length&&!we.length&&(ye=k),t(26,l=ye)}function Y(){let z=[...l];return z=z.filter(we=>{const ye=String(P).toLowerCase().trim();if(JSON.stringify([we.label,we.value,we.keywords]).toLowerCase().includes(ye))return we}),z}function ce(z){m("selection",z)}function Pe(z){Le.call(this,n,z)}function te(z){Le.call(this,n,z)}const L=z=>ce(z);return n.$$set=z=>{t(36,e=R(R({},e),Q(z))),"input"in z&&t(16,P=z.input),"options"in z&&t(17,k=z.options),"limit"in z&&t(18,T=z.limit),"allowlist"in z&&t(19,_=z.allowlist),"denylist"in z&&t(20,C=z.denylist),"emptyState"in z&&t(1,Z=z.emptyState),"regionNav"in z&&t(21,j=z.regionNav),"regionList"in z&&t(22,$=z.regionList),"regionItem"in z&&t(23,re=z.regionItem),"regionButton"in z&&t(24,V=z.regionButton),"regionEmpty"in z&&t(25,x=z.regionEmpty),"transitions"in z&&t(2,fe=z.transitions),"transitionIn"in z&&t(3,pe=z.transitionIn),"transitionInParams"in z&&t(4,ke=z.transitionInParams),"transitionOut"in z&&t(5,Te=z.transitionOut),"transitionOutParams"in z&&t(6,ae=z.transitionOutParams),"$$scope"in z&&t(27,v=z.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&131072&&t(26,l=k),n.$$.dirty[0]&1572864&&ee(_,C),n.$$.dirty[0]&67174400&&t(7,a=P?Y():l),n.$$.dirty[0]&262272&&t(14,i=T!==void 0?T:a.length),t(13,s=`${e.class??""}`),n.$$.dirty[0]&2097152&&t(12,r=`${j}`),n.$$.dirty[0]&4194304&&t(11,o=`${$}`),n.$$.dirty[0]&8388608&&t(10,u=`${re}`),n.$$.dirty[0]&16777216&&t(9,f=`${V}`),n.$$.dirty[0]&33554432&&t(8,c=`${x}`)},e=Q(e),[Nl,Z,fe,pe,ke,Te,ae,a,c,f,u,o,r,s,i,ce,P,k,T,_,C,j,$,re,V,x,l,v,p,Pe,te,L]}class Jn extends de{constructor(e){super(),me(this,e,qn,Fn,he,{dynamicTransition:0,input:16,options:17,limit:18,allowlist:19,denylist:20,emptyState:1,regionNav:21,regionList:22,regionItem:23,regionButton:24,regionEmpty:25,transitions:2,transitionIn:3,transitionInParams:4,transitionOut:5,transitionOutParams:6},null,[-1,-1])}get dynamicTransition(){return Nl}}function Gn(n){let e,t;const l=n[1].default,a=Ze(l,n,n[0],null);return{c(){e=y("span"),a&&a.c(),this.h()},l(i){e=E(i,"SPAN",{class:!0});var s=A(e);a&&a.l(s),s.forEach(d),this.h()},h(){g(e,"class","flex gap-x-2 items-center mx-2")},m(i,s){N(i,e,s),a&&a.m(e,null),t=!0},p(i,[s]){a&&a.p&&(!t||s&1)&&Re(a,l,i,i[0],t?He(l,i[0],s,null):$e(i[0]),null)},i(i){t||(B(a,i),t=!0)},o(i){S(a,i),t=!1},d(i){i&&d(e),a&&a.d(i)}}}function Kn(n,e,t){let{$$slots:l={},$$scope:a}=e;return n.$$set=i=>{"$$scope"in i&&t(0,a=i.$$scope)},[a,l]}class ht extends de{constructor(e){super(),me(this,e,Kn,Gn,he,{})}}function Yn(n){let e,t,l,a;const i=n[3].default,s=Ze(i,n,n[2],null);return{c(){e=y("td"),t=y("div"),s&&s.c(),this.h()},l(r){e=E(r,"TD",{style:!0,title:!0});var o=A(e);t=E(o,"DIV",{class:!0});var u=A(t);s&&s.l(u),u.forEach(d),o.forEach(d),this.h()},h(){g(t,"class",l="flex items-center justify-"+n[0]+" gap-x-2 h-full"),Jl(e,"vertical-align","middle"),g(e,"title",n[1])},m(r,o){N(r,e,o),b(e,t),s&&s.m(t,null),a=!0},p(r,[o]){s&&s.p&&(!a||o&4)&&Re(s,i,r,r[2],a?He(i,r[2],o,null):$e(r[2]),null),(!a||o&1&&l!==(l="flex items-center justify-"+r[0]+" gap-x-2 h-full"))&&g(t,"class",l),(!a||o&2)&&g(e,"title",r[1])},i(r){a||(B(s,r),a=!0)},o(r){S(s,r),a=!1},d(r){r&&d(e),s&&s.d(r)}}}function Wn(n,e,t){let{$$slots:l={},$$scope:a}=e,{justify:i="center"}=e,{title:s=""}=e;return n.$$set=r=>{"justify"in r&&t(0,i=r.justify),"title"in r&&t(1,s=r.title),"$$scope"in r&&t(2,a=r.$$scope)},[i,s,a,l]}class nt extends de{constructor(e){super(),me(this,e,Wn,Yn,he,{justify:0,title:1})}}function Xn(n){let e,t,l='<path fill="currentColor" d="M216 36H68.53a20.09 20.09 0 0 0-17.15 9.71L5.71 121.83a12 12 0 0 0 0 12.34l45.67 76.12A20.09 20.09 0 0 0 68.53 220H216a20 20 0 0 0 20-20V56a20 20 0 0 0-20-20Zm-4 160H70.8L30 128l40.8-68H212Zm-108.49-52.49L119 128l-15.52-15.51a12 12 0 0 1 17-17L136 111l15.51-15.52a12 12 0 0 1 17 17L153 128l15.52 15.51a12 12 0 0 1-17 17L136 145l-15.51 15.52a12 12 0 0 1-17-17Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=R(i,a[s]);return{c(){e=ze("svg"),t=new Be(!0),this.h()},l(s){e=Oe(s,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ne(r,!0),r.forEach(d),this.h()},h(){t.a=null,ue(e,i)},m(s,r){N(s,e,r),t.m(l,e)},p(s,[r]){ue(e,i=Se(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&d(e)}}}function Qn(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),Q(l)))},e=Q(e),[e]}class xn extends de{constructor(e){super(),me(this,e,Qn,Xn,he,{})}}function ea(n){let e,t,l='<path fill="currentColor" d="M160 36a92.09 92.09 0 0 0-81 48.36A68 68 0 1 0 72 220h88a92 92 0 0 0 0-184Zm0 160H72a44 44 0 0 1-1.82-88A91.86 91.86 0 0 0 68 128a12 12 0 0 0 24 0a68 68 0 1 1 68 68Zm40.49-92.49a12 12 0 0 1 0 17l-48 48a12 12 0 0 1-17 0l-24-24a12 12 0 1 1 17-17L144 143l39.51-39.52a12 12 0 0 1 16.98.03Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=R(i,a[s]);return{c(){e=ze("svg"),t=new Be(!0),this.h()},l(s){e=Oe(s,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ne(r,!0),r.forEach(d),this.h()},h(){t.a=null,ue(e,i)},m(s,r){N(s,e,r),t.m(l,e)},p(s,[r]){ue(e,i=Se(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&d(e)}}}function ta(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),Q(l)))},e=Q(e),[e]}class la extends de{constructor(e){super(),me(this,e,ta,ea,he,{})}}function na(n){let e,t,l='<path fill="currentColor" d="M136.37 187.53a12 12 0 0 1 0 17l-5.94 5.94a60 60 0 0 1-84.88-84.88l24.12-24.11A60 60 0 0 1 152 99a12 12 0 1 1-16 18a36 36 0 0 0-49.37 1.47l-24.1 24.08a36 36 0 0 0 50.92 50.92l5.94-5.94a12 12 0 0 1 16.98 0Zm74.08-142a60.09 60.09 0 0 0-84.88 0l-5.94 5.94a12 12 0 0 0 17 17l5.94-5.94a36 36 0 0 1 50.92 50.92l-24.11 24.12A36 36 0 0 1 120 139a12 12 0 1 0-16 18a60 60 0 0 0 82.3-2.43l24.12-24.11a60.09 60.09 0 0 0 .03-84.91Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=R(i,a[s]);return{c(){e=ze("svg"),t=new Be(!0),this.h()},l(s){e=Oe(s,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ne(r,!0),r.forEach(d),this.h()},h(){t.a=null,ue(e,i)},m(s,r){N(s,e,r),t.m(l,e)},p(s,[r]){ue(e,i=Se(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&d(e)}}}function aa(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),Q(l)))},e=Q(e),[e]}class sa extends de{constructor(e){super(),me(this,e,aa,na,he,{})}}function ia(n){let e,t,l='<path fill="currentColor" d="M180 128a12 12 0 0 1-12 12H88a12 12 0 0 1 0-24h80a12 12 0 0 1 12 12Zm56 0A108 108 0 1 1 128 20a108.12 108.12 0 0 1 108 108Zm-24 0a84 84 0 1 0-84 84a84.09 84.09 0 0 0 84-84Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=R(i,a[s]);return{c(){e=ze("svg"),t=new Be(!0),this.h()},l(s){e=Oe(s,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ne(r,!0),r.forEach(d),this.h()},h(){t.a=null,ue(e,i)},m(s,r){N(s,e,r),t.m(l,e)},p(s,[r]){ue(e,i=Se(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&d(e)}}}function ra(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),Q(l)))},e=Q(e),[e]}class Sl extends de{constructor(e){super(),me(this,e,ra,ia,he,{})}}function oa(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm52-84a12 12 0 0 1-12 12h-28v28a12 12 0 0 1-24 0v-28H88a12 12 0 0 1 0-24h28V88a12 12 0 0 1 24 0v28h28a12 12 0 0 1 12 12Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=R(i,a[s]);return{c(){e=ze("svg"),t=new Be(!0),this.h()},l(s){e=Oe(s,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ne(r,!0),r.forEach(d),this.h()},h(){t.a=null,ue(e,i)},m(s,r){N(s,e,r),t.m(l,e)},p(s,[r]){ue(e,i=Se(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&d(e)}}}function ua(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),Q(l)))},e=Q(e),[e]}class It extends de{constructor(e){super(),me(this,e,ua,oa,he,{})}}function ca(n){let e,t,l='<path fill="currentColor" d="M128 128a12 12 0 0 1-12 12H48a12 12 0 0 1 0-24h68a12 12 0 0 1 12 12ZM48 76h132a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm52 104H48a12 12 0 0 0 0 24h52a12 12 0 0 0 0-24Zm132.49-20.49a12 12 0 0 0-17 0L196 179v-67a12 12 0 0 0-24 0v67l-19.51-19.52a12 12 0 0 0-17 17l40 40a12 12 0 0 0 17 0l40-40a12 12 0 0 0 0-16.97Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=R(i,a[s]);return{c(){e=ze("svg"),t=new Be(!0),this.h()},l(s){e=Oe(s,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ne(r,!0),r.forEach(d),this.h()},h(){t.a=null,ue(e,i)},m(s,r){N(s,e,r),t.m(l,e)},p(s,[r]){ue(e,i=Se(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&d(e)}}}function fa(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),Q(l)))},e=Q(e),[e]}class ha extends de{constructor(e){super(),me(this,e,fa,ca,he,{})}}function da(n){let e,t,l='<path fill="currentColor" d="M36 128a12 12 0 0 1 12-12h68a12 12 0 0 1 0 24H48a12 12 0 0 1-12-12Zm12-52h52a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm132 104H48a12 12 0 0 0 0 24h132a12 12 0 0 0 0-24Zm52.49-100.49l-40-40a12 12 0 0 0-17 0l-40 40a12 12 0 0 0 17 17L172 77v67a12 12 0 0 0 24 0V77l19.51 19.52a12 12 0 0 0 17-17Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=R(i,a[s]);return{c(){e=ze("svg"),t=new Be(!0),this.h()},l(s){e=Oe(s,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ne(r,!0),r.forEach(d),this.h()},h(){t.a=null,ue(e,i)},m(s,r){N(s,e,r),t.m(l,e)},p(s,[r]){ue(e,i=Se(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&d(e)}}}function ma(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),Q(l)))},e=Q(e),[e]}class _a extends de{constructor(e){super(),me(this,e,ma,da,he,{})}}function ga(n){let e,t,l='<path fill="currentColor" d="M243 96.05a20 20 0 0 0-17.26-13.72l-57-4.93l-22.3-53.14a20 20 0 0 0-36.82 0L87.29 77.4l-57 4.93a20 20 0 0 0-11.42 35.07l43.32 37.8l-13 56.24A20 20 0 0 0 79 233.1l49-29.76l49 29.76a20 20 0 0 0 29.8-21.66l-13-56.24l43.32-37.8A20 20 0 0 0 243 96.05Zm-66.75 42.62a20 20 0 0 0-6.35 19.63l11.39 49.32l-42.94-26.08a19.9 19.9 0 0 0-20.7 0l-42.94 26.08L86.1 158.3a20 20 0 0 0-6.35-19.63l-38.09-33.23l50.14-4.34a19.92 19.92 0 0 0 16.69-12.19L128 42.42l19.51 46.49a19.92 19.92 0 0 0 16.69 12.19l50.14 4.34Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=R(i,a[s]);return{c(){e=ze("svg"),t=new Be(!0),this.h()},l(s){e=Oe(s,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ne(r,!0),r.forEach(d),this.h()},h(){t.a=null,ue(e,i)},m(s,r){N(s,e,r),t.m(l,e)},p(s,[r]){ue(e,i=Se(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&d(e)}}}function pa(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),Q(l)))},e=Q(e),[e]}class va extends de{constructor(e){super(),me(this,e,pa,ga,he,{})}}function ba(n){let e,t,l='<g fill="currentColor"><path d="M184.13 147.7a8.08 8.08 0 0 0-2.54 7.89l13.52 58.54a8 8 0 0 1-11.89 8.69l-51.1-31a7.93 7.93 0 0 0-8.24 0l-51.1 31a8 8 0 0 1-11.89-8.69l13.52-58.54a8.08 8.08 0 0 0-2.54-7.89l-45.11-39.35a8 8 0 0 1 4.54-14.07l59.46-5.14a8 8 0 0 0 6.67-4.88l23.23-55.36a8 8 0 0 1 14.68 0l23.23 55.36a8 8 0 0 0 6.67 4.88l59.46 5.14a8 8 0 0 1 4.54 14.07Z" opacity=".2"/><path d="M239.2 97.29a16 16 0 0 0-13.81-11L166 81.17l-23.28-55.36a15.95 15.95 0 0 0-29.44 0L90.07 81.17l-59.46 5.15a16 16 0 0 0-9.11 28.06l45.11 39.42l-13.52 58.54a16 16 0 0 0 23.84 17.34l51-31l51.11 31a16 16 0 0 0 23.84-17.34l-13.51-58.6l45.1-39.36a16 16 0 0 0 4.73-17.09Zm-15.22 5l-45.1 39.36a16 16 0 0 0-5.08 15.71L187.35 216l-51.07-31a15.9 15.9 0 0 0-16.54 0l-51 31l13.46-58.6a16 16 0 0 0-5.08-15.71L32 102.35a.37.37 0 0 1 0-.09l59.44-5.14a16 16 0 0 0 13.35-9.75L128 32.08l23.2 55.29a16 16 0 0 0 13.35 9.75l59.45 5.14v.07Z"/></g>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=R(i,a[s]);return{c(){e=ze("svg"),t=new Be(!0),this.h()},l(s){e=Oe(s,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ne(r,!0),r.forEach(d),this.h()},h(){t.a=null,ue(e,i)},m(s,r){N(s,e,r),t.m(l,e)},p(s,[r]){ue(e,i=Se(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&d(e)}}}function ka(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),Q(l)))},e=Q(e),[e]}class wa extends de{constructor(e){super(),me(this,e,ka,ba,he,{})}}function ya(n){let e,t,l='<path fill="currentColor" d="m234.5 114.38l-45.1 39.36l13.51 58.6a16 16 0 0 1-23.84 17.34l-51.11-31l-51 31a16 16 0 0 1-23.84-17.34l13.49-58.54l-45.11-39.42a16 16 0 0 1 9.11-28.06l59.46-5.15l23.21-55.36a15.95 15.95 0 0 1 29.44 0L166 81.17l59.44 5.15a16 16 0 0 1 9.11 28.06Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=R(i,a[s]);return{c(){e=ze("svg"),t=new Be(!0),this.h()},l(s){e=Oe(s,"svg",{viewBox:!0,width:!0,height:!0});var r=A(e);t=Ne(r,!0),r.forEach(d),this.h()},h(){t.a=null,ue(e,i)},m(s,r){N(s,e,r),t.m(l,e)},p(s,[r]){ue(e,i=Se(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&d(e)}}}function Ea(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),Q(l)))},e=Q(e),[e]}class Ta extends de{constructor(e){super(),me(this,e,Ea,ya,he,{})}}function Pa(n){let e,t,l,a,i,s=n[0].name+"",r,o,u,f,c,h,p,v,m;return c=new It({}),{c(){e=y("span"),t=y("span"),l=y("img"),i=O(),r=_e(s),o=O(),u=y("span"),f=y("button"),F(c.$$.fragment),this.h()},l(P){e=E(P,"SPAN",{class:!0});var k=A(e);t=E(k,"SPAN",{class:!0});var T=A(t);l=E(T,"IMG",{src:!0,alt:!0,class:!0}),i=D(T),r=ge(T,s),T.forEach(d),o=D(k),u=E(k,"SPAN",{class:!0});var _=A(u);f=E(_,"BUTTON",{class:!0,title:!0});var C=A(f);q(c.$$.fragment,C),C.forEach(d),_.forEach(d),k.forEach(d),this.h()},h(){Qe(l.src,a=n[0].picture_small)||g(l,"src",a),g(l,"alt","artist"),g(l,"class","mx-2"),g(t,"class","flex items-center"),g(f,"class","!p-0"),g(f,"title","add all artist titles to the playlist"),g(u,"class","btn-group-vertical btn btn-sm gap-y-1"),g(e,"class",h="flex justify-between w-full items-center py-1 "+n[1])},m(P,k){N(P,e,k),b(e,t),b(t,l),b(t,i),b(t,r),b(e,o),b(e,u),b(u,f),J(c,f,null),p=!0,v||(m=[U(f,"click",n[2]),U(f,"pointerenter",n[3]),U(f,"pointerleave",n[4])],v=!0)},p(P,[k]){(!p||k&1&&!Qe(l.src,a=P[0].picture_small))&&g(l,"src",a),(!p||k&1)&&s!==(s=P[0].name+"")&&je(r,s),(!p||k&2&&h!==(h="flex justify-between w-full items-center py-1 "+P[1]))&&g(e,"class",h)},i(P){p||(B(c.$$.fragment,P),p=!0)},o(P){S(c.$$.fragment,P),p=!1},d(P){P&&d(e),G(c),v=!1,xe(m)}}}function Aa(n,e,t){let{artist:l}=e,a="";function i(o){Le.call(this,n,o)}const s=()=>t(1,a="variant-ghost-success"),r=()=>t(1,a="");return n.$$set=o=>{"artist"in o&&t(0,l=o.artist)},[l,a,i,s,r]}class Ca extends de{constructor(e){super(),me(this,e,Aa,Pa,he,{artist:0})}}function ul(n,e){e.update(t=>(t.forEach(l=>{l.track.artist.id===n&&(l.selected=!1)}),t))}async function At(n,e){const t=await Bl(n);e.update(l=>{const a=t.sort((s,r)=>s.release_date.localeCompare(r.release_date)).flatMap(s=>{const{tracks:r,...o}=s;return s.tracks.map(u=>({...u,album:o}))});a.forEach(s=>{const r=l.find(o=>o.track.id===s.id);r?(r.track.album=s.album,r.selected=!0):l.push({track:s,inPlaylist:!1,selected:!0})});function i(s){return a.findIndex(r=>r.id===s.track.id)}return l.sort((s,r)=>{const o=i(s),u=i(r);return o-u}),l})}function Ba(n,e){e.update(t=>(t.forEach(l=>{l.track.album.id===n&&(l.selected=!1)}),t))}async function Na(n,e){const t=await Cl(n.id);e.update(l=>{t.data.forEach(o=>{const u=l.find(f=>f.track.id===o.id);o.album=n,u?(u.track.album=o.album,u.selected=!0):l.push({track:o,inPlaylist:!1,selected:!0})});function a(o){return t.data.findIndex(u=>u.id===o.track.id)+1}function i(o){return l.findIndex(u=>u.track.id===o.track.id)+1}const s=l.findIndex(o=>o.track.album.id===n.id);function r(o){const u=a(o);return u===0?i(o)*1e4:s*1e4+u}return console.log({startIndex:s}),l.sort((o,u)=>{const f=s*1e4+r(o),c=s*1e4+r(u);return f-c}),l})}function Sa(n){let e,t,l,a,i,s,r,o,u,f,c,h;const p=n[5].default,v=Ze(p,n,n[4],null);return i=new It({}),o=new Sl({}),{c(){e=y("span"),v&&v.c(),t=O(),l=y("span"),a=y("button"),F(i.$$.fragment),s=O(),r=y("button"),F(o.$$.fragment),this.h()},l(m){e=E(m,"SPAN",{class:!0});var P=A(e);v&&v.l(P),t=D(P),l=E(P,"SPAN",{class:!0});var k=A(l);a=E(k,"BUTTON",{class:!0,title:!0});var T=A(a);q(i.$$.fragment,T),T.forEach(d),s=D(k),r=E(k,"BUTTON",{class:!0,title:!0});var _=A(r);q(o.$$.fragment,_),_.forEach(d),k.forEach(d),P.forEach(d),this.h()},h(){g(a,"class","!p-0 "),g(a,"title",n[0]),g(r,"class","!p-0"),g(r,"title",n[1]),g(l,"class","btn-group-vertical btn btn-sm gap-y-1"),g(e,"class",u="flex flex-row justify-between w-full items-center py-1 gap-x-2 "+n[2])},m(m,P){N(m,e,P),v&&v.m(e,null),b(e,t),b(e,l),b(l,a),J(i,a,null),b(l,s),b(l,r),J(o,r,null),f=!0,c||(h=[U(a,"click",n[6]),U(a,"pointerenter",n[7]),U(a,"pointerleave",n[8]),U(r,"click",n[9]),U(r,"pointerenter",n[10]),U(r,"pointerleave",n[11])],c=!0)},p(m,[P]){v&&v.p&&(!f||P&16)&&Re(v,p,m,m[4],f?He(p,m[4],P,null):$e(m[4]),null),(!f||P&1)&&g(a,"title",m[0]),(!f||P&2)&&g(r,"title",m[1]),(!f||P&4&&u!==(u="flex flex-row justify-between w-full items-center py-1 gap-x-2 "+m[2]))&&g(e,"class",u)},i(m){f||(B(v,m),B(i.$$.fragment,m),B(o.$$.fragment,m),f=!0)},o(m){S(v,m),S(i.$$.fragment,m),S(o.$$.fragment,m),f=!1},d(m){m&&d(e),v&&v.d(m),G(i),G(o),c=!1,xe(h)}}}function za(n,e,t){let{$$slots:l={},$$scope:a}=e;const i=kt();let{addTitle:s="add all album titles to the playlist"}=e,{removeTitle:r="deselect all album titles from the playlist"}=e,o="";const u=()=>i("add"),f=()=>t(2,o="variant-ghost-success"),c=()=>t(2,o=""),h=()=>i("remove"),p=()=>t(2,o="variant-ghost-error"),v=()=>t(2,o="");return n.$$set=m=>{"addTitle"in m&&t(0,s=m.addTitle),"removeTitle"in m&&t(1,r=m.removeTitle),"$$scope"in m&&t(4,a=m.$$scope)},[s,r,o,i,a,l,u,f,c,h,p,v]}class zl extends de{constructor(e){super(),me(this,e,za,Sa,he,{addTitle:0,removeTitle:1})}}function cl(n,e,t){const l=n.slice();l[51]=e[t],l[53]=e,l[54]=t;const a=l[51].track;return l[52]=a,l}function fl(n,e,t){const l=n.slice();l[46]=e[t];const a=l[20](l[46].id);return l[47]=a,l}function Oa(n){let e;return{c(){e=_e("Private")},l(t){e=ge(t,"Private")},m(t,l){N(t,e,l)},d(t){t&&d(e)}}}function Da(n){let e;return{c(){e=_e("Public")},l(t){e=ge(t,"Public")},m(t,l){N(t,e,l)},d(t){t&&d(e)}}}function Ia(n){let e;function t(i,s){return i[0].playlist.public?Da:Oa}let l=t(n),a=l(n);return{c(){a.c(),e=_e(" playlist")},l(i){a.l(i),e=ge(i," playlist")},m(i,s){a.m(i,s),N(i,e,s)},p(i,s){l!==(l=t(i))&&(a.d(1),a=l(i),a&&(a.c(),a.m(e.parentNode,e)))},d(i){i&&d(e),a.d(i)}}}function La(n){let e,t,l;function a(){n[36].call(e,n[53],n[54])}return{c(){e=y("input"),this.h()},l(i){e=E(i,"INPUT",{type:!0,class:!0}),this.h()},h(){g(e,"type","checkbox"),g(e,"class","checkbox")},m(i,s){N(i,e,s),e.checked=n[51].selected,t||(l=U(e,"change",a),t=!0)},p(i,s){n=i,s[0]&64&&(e.checked=n[51].selected)},d(i){i&&d(e),t=!1,l()}}}function ja(n){let e,t=n[54]+1+"",l;return{c(){e=y("span"),l=_e(t)},l(a){e=E(a,"SPAN",{});var i=A(e);l=ge(i,t),i.forEach(d)},m(a,i){N(a,e,i),b(e,l)},p:K,d(a){a&&d(e)}}}function Za(n){let e,t,l,a,i=n[52].title+"",s,r,o;return e=new $n({props:{src:n[52].preview,enabled:n[52].readable}}),{c(){F(e.$$.fragment),t=O(),l=y("a"),a=y("span"),s=_e(i),this.h()},l(u){q(e.$$.fragment,u),t=D(u),l=E(u,"A",{href:!0,title:!0});var f=A(l);a=E(f,"SPAN",{});var c=A(a);s=ge(c,i),c.forEach(d),f.forEach(d),this.h()},h(){g(l,"href",r=n[52].link),g(l,"title","open track in Deezer web interface")},m(u,f){J(e,u,f),N(u,t,f),N(u,l,f),b(l,a),b(a,s),o=!0},p(u,f){const c={};f[0]&64&&(c.src=u[52].preview),f[0]&64&&(c.enabled=u[52].readable),e.$set(c),(!o||f[0]&64)&&i!==(i=u[52].title+"")&&je(s,i),(!o||f[0]&64&&r!==(r=u[52].link))&&g(l,"href",r)},i(u){o||(B(e.$$.fragment,u),o=!0)},o(u){S(e.$$.fragment,u),o=!1},d(u){u&&(d(t),d(l)),G(e,u)}}}function Ra(n){let e,t,l,a,i=n[52].album.title+"",s;return{c(){e=y("img"),l=O(),a=y("span"),s=_e(i),this.h()},l(r){e=E(r,"IMG",{src:!0,alt:!0}),l=D(r),a=E(r,"SPAN",{});var o=A(a);s=ge(o,i),o.forEach(d),this.h()},h(){Qe(e.src,t=n[52].album.cover_small)||g(e,"src",t),g(e,"alt","album cover")},m(r,o){N(r,e,o),N(r,l,o),N(r,a,o),b(a,s)},p(r,o){o[0]&64&&!Qe(e.src,t=r[52].album.cover_small)&&g(e,"src",t),o[0]&64&&i!==(i=r[52].album.title+"")&&je(s,i)},d(r){r&&(d(e),d(l),d(a))}}}function $a(n){let e,t,l,a;return t=new ht({props:{$$slots:{default:[Ra]},$$scope:{ctx:n}}}),{c(){e=y("a"),F(t.$$.fragment),this.h()},l(i){e=E(i,"A",{href:!0,title:!0});var s=A(e);q(t.$$.fragment,s),s.forEach(d),this.h()},h(){g(e,"href",l="https://www.deezer.com/album/"+n[52].album.id),g(e,"title","open album in Deezer web interface")},m(i,s){N(i,e,s),J(t,e,null),a=!0},p(i,s){const r={};s[0]&64|s[1]&16777216&&(r.$$scope={dirty:s,ctx:i}),t.$set(r),(!a||s[0]&64&&l!==(l="https://www.deezer.com/album/"+i[52].album.id))&&g(e,"href",l)},i(i){a||(B(t.$$.fragment,i),a=!0)},o(i){S(t.$$.fragment,i),a=!1},d(i){i&&d(e),G(t)}}}function Ha(n){let e,t;function l(){return n[37](n[52])}function a(){return n[38](n[52])}return e=new zl({props:{addTitle:"add all album titles to the playlist",removeTitle:"deselect all album titles from the playlist",$$slots:{default:[$a]},$$scope:{ctx:n}}}),e.$on("add",l),e.$on("remove",a),{c(){F(e.$$.fragment)},l(i){q(e.$$.fragment,i)},m(i,s){J(e,i,s),t=!0},p(i,s){n=i;const r={};s[0]&64|s[1]&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){S(e.$$.fragment,i),t=!1},d(i){G(e,i)}}}function Ua(n){let e,t,l=n[52].artist.name+"",a,i;return{c(){e=y("a"),t=y("span"),a=_e(l),this.h()},l(s){e=E(s,"A",{href:!0,title:!0});var r=A(e);t=E(r,"SPAN",{});var o=A(t);a=ge(o,l),o.forEach(d),r.forEach(d),this.h()},h(){g(e,"href",i=n[52].artist.link),g(e,"title","open artist in Deezer web interface")},m(s,r){N(s,e,r),b(e,t),b(t,a)},p(s,r){r[0]&64&&l!==(l=s[52].artist.name+"")&&je(a,l),r[0]&64&&i!==(i=s[52].artist.link)&&g(e,"href",i)},d(s){s&&d(e)}}}function Ma(n){let e,t;function l(){return n[39](n[52])}function a(){return n[40](n[52])}return e=new zl({props:{addTitle:"add all artist titles to the playlist",removeTitle:"deselect all artist titles from the playlist",$$slots:{default:[Ua]},$$scope:{ctx:n}}}),e.$on("add",l),e.$on("remove",a),{c(){F(e.$$.fragment)},l(i){q(e.$$.fragment,i)},m(i,s){J(e,i,s),t=!0},p(i,s){n=i;const r={};s[0]&64|s[1]&16777216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){S(e.$$.fragment,i),t=!1},d(i){G(e,i)}}}function Va(n){let e,t;return e=new va({}),{c(){F(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){J(e,l,a),t=!0},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function Fa(n){let e,t;return e=new wa({}),{c(){F(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){J(e,l,a),t=!0},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function qa(n){let e,t;return e=new Ta({}),{c(){F(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){J(e,l,a),t=!0},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function Ja(n){let e,t;return e=new gn({props:{value:5*n[52].rank/n[5],max:5,$$slots:{full:[qa],half:[Fa],empty:[Va]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){J(e,l,a),t=!0},p(l,a){const i={};a[0]&96&&(i.value=5*l[52].rank/l[5]),a[1]&16777216&&(i.$$scope={dirty:a,ctx:l}),e.$set(i)},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function Ga(n){let e=Vt(n[52].duration*1e3,{units:["m","s"],largest:2})+"",t,l,a;return{c(){t=_e(e),l=O(),a=y("span"),this.h()},l(i){t=ge(i,e),l=D(i),a=E(i,"SPAN",{class:!0}),A(a).forEach(d),this.h()},h(){g(a,"class","grow")},m(i,s){N(i,t,s),N(i,l,s),N(i,a,s)},p(i,s){s[0]&64&&e!==(e=Vt(i[52].duration*1e3,{units:["m","s"],largest:2})+"")&&je(t,e)},d(i){i&&(d(t),d(l),d(a))}}}function hl(n){let e,t,l,a,i,s,r,o,u,f,c,h,p,v,m,P,k;return t=new nt({props:{$$slots:{default:[La]},$$scope:{ctx:n}}}),a=new nt({props:{$$slots:{default:[ja]},$$scope:{ctx:n}}}),s=new nt({props:{justify:"start",$$slots:{default:[Za]},$$scope:{ctx:n}}}),o=new nt({props:{justify:"start",$$slots:{default:[Ha]},$$scope:{ctx:n}}}),f=new nt({props:{justify:"start",$$slots:{default:[Ma]},$$scope:{ctx:n}}}),h=new nt({props:{title:n[52].rank,$$slots:{default:[Ja]},$$scope:{ctx:n}}}),v=new nt({props:{$$slots:{default:[Ga]},$$scope:{ctx:n}}}),{c(){e=y("tr"),F(t.$$.fragment),l=O(),F(a.$$.fragment),i=O(),F(s.$$.fragment),r=O(),F(o.$$.fragment),u=O(),F(f.$$.fragment),c=O(),F(h.$$.fragment),p=O(),F(v.$$.fragment),m=O(),this.h()},l(T){e=E(T,"TR",{class:!0});var _=A(e);q(t.$$.fragment,_),l=D(_),q(a.$$.fragment,_),i=D(_),q(s.$$.fragment,_),r=D(_),q(o.$$.fragment,_),u=D(_),q(f.$$.fragment,_),c=D(_),q(h.$$.fragment,_),p=D(_),q(v.$$.fragment,_),m=D(_),_.forEach(d),this.h()},h(){g(e,"class",P=Jt(gl(n[51]))+" svelte-p6m18c"),Me(e,"!text-red-500",!n[52].readable)},m(T,_){N(T,e,_),J(t,e,null),b(e,l),J(a,e,null),b(e,i),J(s,e,null),b(e,r),J(o,e,null),b(e,u),J(f,e,null),b(e,c),J(h,e,null),b(e,p),J(v,e,null),b(e,m),k=!0},p(T,_){const C={};_[0]&64|_[1]&16777216&&(C.$$scope={dirty:_,ctx:T}),t.$set(C);const Z={};_[1]&16777216&&(Z.$$scope={dirty:_,ctx:T}),a.$set(Z);const j={};_[0]&64|_[1]&16777216&&(j.$$scope={dirty:_,ctx:T}),s.$set(j);const $={};_[0]&64|_[1]&16777216&&($.$$scope={dirty:_,ctx:T}),o.$set($);const re={};_[0]&64|_[1]&16777216&&(re.$$scope={dirty:_,ctx:T}),f.$set(re);const V={};_[0]&64&&(V.title=T[52].rank),_[0]&96|_[1]&16777216&&(V.$$scope={dirty:_,ctx:T}),h.$set(V);const x={};_[0]&64|_[1]&16777216&&(x.$$scope={dirty:_,ctx:T}),v.$set(x),(!k||_[0]&64&&P!==(P=Jt(gl(T[51]))+" svelte-p6m18c"))&&g(e,"class",P),(!k||_[0]&64)&&Me(e,"!text-red-500",!T[52].readable)},i(T){k||(B(t.$$.fragment,T),B(a.$$.fragment,T),B(s.$$.fragment,T),B(o.$$.fragment,T),B(f.$$.fragment,T),B(h.$$.fragment,T),B(v.$$.fragment,T),k=!0)},o(T){S(t.$$.fragment,T),S(a.$$.fragment,T),S(s.$$.fragment,T),S(o.$$.fragment,T),S(f.$$.fragment,T),S(h.$$.fragment,T),S(v.$$.fragment,T),k=!1},d(T){T&&d(e),G(t),G(a),G(s),G(o),G(f),G(h),G(v)}}}function Ka(n){var Rt;let e,t,l,a,i,s="Title",r,o,u,f,c,h,p,v,m,P="Description",k,T,_,C,Z,j,$,re,V,x=((Rt=n[3])==null?void 0:Rt.filter(bl).length)+"",fe,pe,ke=n[0].playlist.tracks.data.length+"",Te,ae,ee,Y,ce,Pe,te,L,z,we,ye,Ue,Je,dt="Pos.",ot,Ve,mt="Title",ut,Ge,w="Album",H,M,se="Artist",X,le,Ee="rank",ne,ie,Ke="duration",at,Fe,wt,qe,yt,Ye,Et,Lt;function Ol(I){n[32](I)}let jt={name:"slider-label",$$slots:{default:[Ia]},$$scope:{ctx:n}};n[0].playlist.public!==void 0&&(jt.checked=n[0].playlist.public),c=new En({props:jt}),Ct.push(()=>Nt(c,"checked",Ol));let et=Xe(n[6]),oe=[];for(let I=0;I<et.length;I+=1)oe[I]=hl(cl(n,et,I));const Dl=I=>S(oe[I],1,1,()=>{oe[I]=null});function Il(I){n[41](I)}let Zt={showFirstLastButtons:!0,showPreviousNextButtons:!0};return n[1]!==void 0&&(Zt.settings=n[1]),qe=new Vl({props:Zt}),Ct.push(()=>Nt(qe,"settings",Il)),{c(){e=y("form"),t=y("div"),l=y("div"),a=y("label"),i=y("span"),i.textContent=s,r=O(),o=y("input"),u=O(),f=y("div"),F(c.$$.fragment),p=O(),v=y("label"),m=y("span"),m.textContent=P,k=O(),T=y("textarea"),_=O(),C=y("span"),Z=y("table"),j=y("thead"),$=y("tr"),re=y("td"),V=y("span"),fe=_e(x),pe=_e(" Tracks ("),Te=_e(ke),ae=_e(`
                            in playlist)`),ee=O(),Y=y("td"),ce=y("input"),Pe=O(),te=y("tr"),L=y("th"),z=y("input"),Ue=O(),Je=y("th"),Je.textContent=dt,ot=O(),Ve=y("th"),Ve.textContent=mt,ut=O(),Ge=y("th"),Ge.textContent=w,H=O(),M=y("th"),M.textContent=se,X=O(),le=y("th"),le.textContent=Ee,ne=O(),ie=y("th"),ie.textContent=Ke,at=O(),Fe=y("tbody");for(let I=0;I<oe.length;I+=1)oe[I].c();wt=O(),F(qe.$$.fragment),this.h()},l(I){e=E(I,"FORM",{class:!0});var W=A(e);t=E(W,"DIV",{class:!0});var Ce=A(t);l=E(Ce,"DIV",{class:!0});var ct=A(l);a=E(ct,"LABEL",{class:!0});var tt=A(a);i=E(tt,"SPAN",{"data-svelte-h":!0}),be(i)!=="svelte-7ccxmo"&&(i.textContent=s),r=D(tt),o=E(tt,"INPUT",{class:!0,type:!0,placeholder:!0}),tt.forEach(d),ct.forEach(d),u=D(Ce),f=E(Ce,"DIV",{});var ve=A(f);q(c.$$.fragment,ve),ve.forEach(d),Ce.forEach(d),p=D(W),v=E(W,"LABEL",{class:!0});var lt=A(v);m=E(lt,"SPAN",{"data-svelte-h":!0}),be(m)!=="svelte-rmspr8"&&(m.textContent=P),k=D(lt),T=E(lt,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),A(T).forEach(d),lt.forEach(d),W.forEach(d),_=D(I),C=E(I,"SPAN",{class:!0});var _t=A(C);Z=E(_t,"TABLE",{class:!0});var gt=A(Z);j=E(gt,"THEAD",{});var pt=A(j);$=E(pt,"TR",{});var vt=A($);re=E(vt,"TD",{colspan:!0});var $t=A(re);V=E($t,"SPAN",{});var ft=A(V);fe=ge(ft,x),pe=ge(ft," Tracks ("),Te=ge(ft,ke),ae=ge(ft,`
                            in playlist)`),ft.forEach(d),$t.forEach(d),ee=D(vt),Y=E(vt,"TD",{colspan:!0});var Ht=A(Y);ce=E(Ht,"INPUT",{class:!0,title:!0,type:!0,placeholder:!0}),Ht.forEach(d),vt.forEach(d),Pe=D(pt),te=E(pt,"TR",{class:!0});var Ae=A(te);L=E(Ae,"TH",{});var Ut=A(L);z=E(Ut,"INPUT",{type:!0,class:!0}),Ut.forEach(d),Ue=D(Ae),Je=E(Ae,"TH",{"data-svelte-h":!0}),be(Je)!=="svelte-s1pt0e"&&(Je.textContent=dt),ot=D(Ae),Ve=E(Ae,"TH",{class:!0,"data-svelte-h":!0}),be(Ve)!=="svelte-1b5qsso"&&(Ve.textContent=mt),ut=D(Ae),Ge=E(Ae,"TH",{"data-svelte-h":!0}),be(Ge)!=="svelte-12o9w3z"&&(Ge.textContent=w),H=D(Ae),M=E(Ae,"TH",{"data-svelte-h":!0}),be(M)!=="svelte-1tiipkx"&&(M.textContent=se),X=D(Ae),le=E(Ae,"TH",{"data-svelte-h":!0}),be(le)!=="svelte-1btrpio"&&(le.textContent=Ee),ne=D(Ae),ie=E(Ae,"TH",{"data-svelte-h":!0}),be(ie)!=="svelte-9uwuqy"&&(ie.textContent=Ke),Ae.forEach(d),pt.forEach(d),at=D(gt),Fe=E(gt,"TBODY",{});var Mt=A(Fe);for(let Tt=0;Tt<oe.length;Tt+=1)oe[Tt].l(Mt);Mt.forEach(d),gt.forEach(d),wt=D(_t),q(qe.$$.fragment,_t),_t.forEach(d),this.h()},h(){g(o,"class","input"),g(o,"type","text"),g(o,"placeholder","title"),g(a,"class","label"),g(l,"class","col-span-5"),g(t,"class","grid grid-cols-6"),g(T,"class","textarea"),g(T,"rows","4"),g(T,"placeholder","description"),g(v,"class","label"),g(e,"class","mb-10 space-y-2"),g(re,"colspan","3"),g(ce,"class","input"),g(ce,"title","Input (search)"),g(ce,"type","search"),g(ce,"placeholder","Search..."),g(Y,"colspan","4"),g(z,"type","checkbox"),g(z,"class","checkbox"),z.checked=we=n[6].filter(kl).length===n[6].length&&n[6].length>0,z.indeterminate=ye=n[6].filter(wl).length!==n[6].length&&n[6].filter(yl).length>0,g(Ve,"class",".fitwidth"),g(te,"class",""),g(Z,"class","table table-compact my-4"),g(C,"class","table-container")},m(I,W){N(I,e,W),b(e,t),b(t,l),b(l,a),b(a,i),b(a,r),b(a,o),We(o,n[0].playlist.title),b(t,u),b(t,f),J(c,f,null),b(e,p),b(e,v),b(v,m),b(v,k),b(v,T),We(T,n[0].playlist.description),N(I,_,W),N(I,C,W),b(C,Z),b(Z,j),b(j,$),b($,re),b(re,V),b(V,fe),b(V,pe),b(V,Te),b(V,ae),b($,ee),b($,Y),b(Y,ce),We(ce,n[2]),b(j,Pe),b(j,te),b(te,L),b(L,z),b(te,Ue),b(te,Je),b(te,ot),b(te,Ve),b(te,ut),b(te,Ge),b(te,H),b(te,M),b(te,X),b(te,le),b(te,ne),b(te,ie),b(Z,at),b(Z,Fe);for(let Ce=0;Ce<oe.length;Ce+=1)oe[Ce]&&oe[Ce].m(Fe,null);b(C,wt),J(qe,C,null),Ye=!0,Et||(Lt=[U(o,"input",n[31]),U(T,"input",n[33]),U(ce,"input",n[34]),U(z,"change",n[35])],Et=!0)},p(I,W){var tt;W[0]&1&&o.value!==I[0].playlist.title&&We(o,I[0].playlist.title);const Ce={};if(W[0]&1|W[1]&16777216&&(Ce.$$scope={dirty:W,ctx:I}),!h&&W[0]&1&&(h=!0,Ce.checked=I[0].playlist.public,Bt(()=>h=!1)),c.$set(Ce),W[0]&1&&We(T,I[0].playlist.description),(!Ye||W[0]&8)&&x!==(x=((tt=I[3])==null?void 0:tt.filter(bl).length)+"")&&je(fe,x),(!Ye||W[0]&1)&&ke!==(ke=I[0].playlist.tracks.data.length+"")&&je(Te,ke),W[0]&4&&ce.value!==I[2]&&We(ce,I[2]),(!Ye||W[0]&64&&we!==(we=I[6].filter(kl).length===I[6].length&&I[6].length>0))&&(z.checked=we),(!Ye||W[0]&64&&ye!==(ye=I[6].filter(wl).length!==I[6].length&&I[6].filter(yl).length>0))&&(z.indeterminate=ye),W[0]&4192){et=Xe(I[6]);let ve;for(ve=0;ve<et.length;ve+=1){const lt=cl(I,et,ve);oe[ve]?(oe[ve].p(lt,W),B(oe[ve],1)):(oe[ve]=hl(lt),oe[ve].c(),B(oe[ve],1),oe[ve].m(Fe,null))}for(De(),ve=et.length;ve<oe.length;ve+=1)Dl(ve);Ie()}const ct={};!yt&&W[0]&2&&(yt=!0,ct.settings=I[1],Bt(()=>yt=!1)),qe.$set(ct)},i(I){if(!Ye){B(c.$$.fragment,I);for(let W=0;W<et.length;W+=1)B(oe[W]);B(qe.$$.fragment,I),Ye=!0}},o(I){S(c.$$.fragment,I),oe=oe.filter(Boolean);for(let W=0;W<oe.length;W+=1)S(oe[W]);S(qe.$$.fragment,I),Ye=!1},d(I){I&&(d(e),d(_),d(C)),G(c),zt(oe,I),G(qe),Et=!1,xe(Lt)}}}function Ya(n){let e,t="Search Artist";return{c(){e=y("h4"),e.textContent=t},l(l){e=E(l,"H4",{"data-svelte-h":!0}),be(e)!=="svelte-z92qpb"&&(e.textContent=t)},m(l,a){N(l,e,a)},p:K,d(l){l&&d(e)}}}function Wa(n){let e,t;function l(){return n[23](n[50])}return e=new Ca({props:{artist:n[50].meta}}),e.$on("click",l),{c(){F(e.$$.fragment)},l(a){q(e.$$.fragment,a)},m(a,i){J(e,a,i),t=!0},p(a,i){n=a;const s={};i[1]&524288&&(s.artist=n[50].meta),e.$set(s)},i(a){t||(B(e.$$.fragment,a),t=!0)},o(a){S(e.$$.fragment,a),t=!1},d(a){G(e,a)}}}function dl(n){let e,t,l,a,i,s,r;t=new ht({props:{$$slots:{default:[Xa]},$$scope:{ctx:n}}}),a=new ht({props:{$$slots:{default:[ls]},$$scope:{ctx:n}}});let o=Xe(n[10]),u=[];for(let c=0;c<o.length;c+=1)u[c]=ml(fl(n,o,c));const f=c=>S(u[c],1,1,()=>{u[c]=null});return{c(){e=y("span"),F(t.$$.fragment),l=O(),F(a.$$.fragment),i=O(),s=y("ul");for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){e=E(c,"SPAN",{class:!0});var h=A(e);q(t.$$.fragment,h),l=D(h),q(a.$$.fragment,h),h.forEach(d),i=D(c),s=E(c,"UL",{class:!0});var p=A(s);for(let v=0;v<u.length;v+=1)u[v].l(p);p.forEach(d),this.h()},h(){g(e,"class","flex justify-between w-full items-center gap-x-2 my-4"),g(s,"class","list")},m(c,h){N(c,e,h),J(t,e,null),b(e,l),J(a,e,null),N(c,i,h),N(c,s,h);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(s,null);r=!0},p(c,h){const p={};h[1]&16777216&&(p.$$scope={dirty:h,ctx:c}),t.$set(p);const v={};if(h[0]&16|h[1]&16777216&&(v.$$scope={dirty:h,ctx:c}),a.$set(v),h[0]&1053696){o=Xe(c[10]);let m;for(m=0;m<o.length;m+=1){const P=fl(c,o,m);u[m]?(u[m].p(P,h),B(u[m],1)):(u[m]=ml(P),u[m].c(),B(u[m],1),u[m].m(s,null))}for(De(),m=o.length;m<u.length;m+=1)f(m);Ie()}},i(c){if(!r){B(t.$$.fragment,c),B(a.$$.fragment,c);for(let h=0;h<o.length;h+=1)B(u[h]);r=!0}},o(c){S(t.$$.fragment,c),S(a.$$.fragment,c),u=u.filter(Boolean);for(let h=0;h<u.length;h+=1)S(u[h]);r=!1},d(c){c&&(d(e),d(i),d(s)),G(t),G(a),zt(u,c)}}}function Xa(n){let e,t="Playlists Artists";return{c(){e=y("h4"),e.textContent=t},l(l){e=E(l,"H4",{"data-svelte-h":!0}),be(e)!=="svelte-1fedd7v"&&(e.textContent=t)},m(l,a){N(l,e,a)},p:K,d(l){l&&d(e)}}}function Qa(n){let e,t="alphabetical",l,a;return{c(){e=y("button"),e.textContent=t},l(i){e=E(i,"BUTTON",{"data-svelte-h":!0}),be(e)!=="svelte-a0poae"&&(e.textContent=t)},m(i,s){N(i,e,s),l||(a=U(e,"click",n[26]),l=!0)},p:K,d(i){i&&d(e),l=!1,a()}}}function xa(n){let e,t="# tracks",l,a;return{c(){e=y("button"),e.textContent=t},l(i){e=E(i,"BUTTON",{"data-svelte-h":!0}),be(e)!=="svelte-ms1gv1"&&(e.textContent=t)},m(i,s){N(i,e,s),l||(a=U(e,"click",n[25]),l=!0)},p:K,d(i){i&&d(e),l=!1,a()}}}function es(n){let e,t,l,a,i;return t=new _a({}),{c(){e=y("button"),F(t.$$.fragment)},l(s){e=E(s,"BUTTON",{});var r=A(e);q(t.$$.fragment,r),r.forEach(d)},m(s,r){N(s,e,r),J(t,e,null),l=!0,a||(i=U(e,"click",n[28]),a=!0)},p:K,i(s){l||(B(t.$$.fragment,s),l=!0)},o(s){S(t.$$.fragment,s),l=!1},d(s){s&&d(e),G(t),a=!1,i()}}}function ts(n){let e,t,l,a,i;return t=new ha({}),{c(){e=y("button"),F(t.$$.fragment)},l(s){e=E(s,"BUTTON",{});var r=A(e);q(t.$$.fragment,r),r.forEach(d)},m(s,r){N(s,e,r),J(t,e,null),l=!0,a||(i=U(e,"click",n[27]),a=!0)},p:K,i(s){l||(B(t.$$.fragment,s),l=!0)},o(s){S(t.$$.fragment,s),l=!1},d(s){s&&d(e),G(t),a=!1,i()}}}function ls(n){let e,t,l,a,i;function s(h,p){if(h[4].orderBy==="trackCount")return xa;if(h[4].orderBy==="alphabetical")return Qa}let r=s(n),o=r&&r(n);const u=[ts,es],f=[];function c(h,p){return h[4].ascending?0:1}return t=c(n),l=f[t]=u[t](n),{c(){o&&o.c(),e=O(),l.c(),a=rt()},l(h){o&&o.l(h),e=D(h),l.l(h),a=rt()},m(h,p){o&&o.m(h,p),N(h,e,p),f[t].m(h,p),N(h,a,p),i=!0},p(h,p){r===(r=s(h))&&o?o.p(h,p):(o&&o.d(1),o=r&&r(h),o&&(o.c(),o.m(e.parentNode,e)));let v=t;t=c(h),t===v?f[t].p(h,p):(De(),S(f[v],1,1,()=>{f[v]=null}),Ie(),l=f[t],l?l.p(h,p):(l=f[t]=u[t](h),l.c()),B(l,1),l.m(a.parentNode,a))},i(h){i||(B(l),i=!0)},o(h){S(l),i=!1},d(h){h&&(d(e),d(a)),o&&o.d(h),f[t].d(h)}}}function ns(n){let e,t,l,a,i,s=n[46].name+"",r,o,u,f,c=n[47]+"",h,p,v;return{c(){e=y("img"),a=O(),i=y("span"),r=_e(s),o=O(),u=y("small"),f=_e("(#"),h=_e(c),p=_e(")"),this.h()},l(m){e=E(m,"IMG",{src:!0,alt:!0}),a=D(m),i=E(m,"SPAN",{});var P=A(i);r=ge(P,s),P.forEach(d),o=D(m),u=E(m,"SMALL",{title:!0});var k=A(u);f=ge(k,"(#"),h=ge(k,c),p=ge(k,")"),k.forEach(d),this.h()},h(){Qe(e.src,t=n[46].picture_small)||g(e,"src",t),g(e,"alt",l=n[46].name),g(u,"title",v="artist has "+n[47]+" tracks in the playlist ")},m(m,P){N(m,e,P),N(m,a,P),N(m,i,P),b(i,r),N(m,o,P),N(m,u,P),b(u,f),b(u,h),b(u,p)},p(m,P){P[0]&1024&&!Qe(e.src,t=m[46].picture_small)&&g(e,"src",t),P[0]&1024&&l!==(l=m[46].name)&&g(e,"alt",l),P[0]&1024&&s!==(s=m[46].name+"")&&je(r,s),P[0]&1024&&c!==(c=m[47]+"")&&je(h,c),P[0]&1024&&v!==(v="artist has "+m[47]+" tracks in the playlist ")&&g(u,"title",v)},d(m){m&&(d(e),d(a),d(i),d(o),d(u))}}}function ml(n){let e,t,l,a,i,s,r,o,u,f,c,h,p,v,m,P;a=new ht({props:{$$slots:{default:[ns]},$$scope:{ctx:n}}}),u=new It({});function k(){return n[29](n[46])}h=new Sl({});function T(){return n[30](n[46])}return{c(){e=y("li"),t=y("span"),l=y("a"),F(a.$$.fragment),s=O(),r=y("div"),o=y("button"),F(u.$$.fragment),f=O(),c=y("button"),F(h.$$.fragment),p=O(),this.h()},l(_){e=E(_,"LI",{});var C=A(e);t=E(C,"SPAN",{class:!0});var Z=A(t);l=E(Z,"A",{href:!0,title:!0});var j=A(l);q(a.$$.fragment,j),j.forEach(d),s=D(Z),r=E(Z,"DIV",{class:!0});var $=A(r);o=E($,"BUTTON",{class:!0,title:!0});var re=A(o);q(u.$$.fragment,re),re.forEach(d),f=D($),c=E($,"BUTTON",{class:!0,title:!0});var V=A(c);q(h.$$.fragment,V),V.forEach(d),$.forEach(d),Z.forEach(d),p=D(C),C.forEach(d),this.h()},h(){g(l,"href",i=n[46].link),g(l,"title","open artist in Deezer web interface"),g(o,"class","!p-0 "),g(o,"title","add all artist titles to the playlist"),g(c,"class","!p-0"),g(c,"title","deselect all artist titles from the playlist"),Me(c,"text-gray-500",n[47]===0),g(r,"class","btn-group-vertical btn btn-sm gap-y-1"),g(t,"class","flex flex-row justify-between w-full items-center gap-x-2")},m(_,C){N(_,e,C),b(e,t),b(t,l),J(a,l,null),b(t,s),b(t,r),b(r,o),J(u,o,null),b(r,f),b(r,c),J(h,c,null),b(e,p),v=!0,m||(P=[U(o,"click",k),U(c,"click",T)],m=!0)},p(_,C){n=_;const Z={};C[0]&1024|C[1]&16777216&&(Z.$$scope={dirty:C,ctx:n}),a.$set(Z),(!v||C[0]&1024&&i!==(i=n[46].link))&&g(l,"href",i),(!v||C[0]&1049600)&&Me(c,"text-gray-500",n[47]===0)},i(_){v||(B(a.$$.fragment,_),B(u.$$.fragment,_),B(h.$$.fragment,_),v=!0)},o(_){S(a.$$.fragment,_),S(u.$$.fragment,_),S(h.$$.fragment,_),v=!1},d(_){_&&d(e),G(a),G(u),G(h),m=!1,xe(P)}}}function as(n){var T;let e,t,l,a,i,s,r,o,u,f,c,h,p,v;l=new ht({props:{$$slots:{default:[Ya]},$$scope:{ctx:n}}});function m(_){n[24](_)}let P={options:n[9],$$slots:{optionButton:[Wa,({option:_})=>({50:_}),({option:_})=>[0,_?524288:0]]},$$scope:{ctx:n}};n[8]!==void 0&&(P.input=n[8]),o=new Jn({props:P}),Ct.push(()=>Nt(o,"input",m));let k=((T=n[10])==null?void 0:T.length)>0&&dl(n);return{c(){e=y("span"),t=y("span"),F(l.$$.fragment),a=O(),i=y("input"),s=O(),r=y("span"),F(o.$$.fragment),f=O(),k&&k.c(),c=rt(),this.h()},l(_){e=E(_,"SPAN",{class:!0});var C=A(e);t=E(C,"SPAN",{class:!0});var Z=A(t);q(l.$$.fragment,Z),Z.forEach(d),a=D(C),i=E(C,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),s=D(C),r=E(C,"SPAN",{class:!0,tabindex:!0});var j=A(r);q(o.$$.fragment,j),j.forEach(d),C.forEach(d),f=D(_),k&&k.l(_),c=rt(),this.h()},h(){g(t,"class","mb-2"),g(i,"class","input"),g(i,"type","search"),g(i,"name","demo"),g(i,"placeholder","Search..."),g(r,"class","card w-full max-w-sm max-h-48 p-4 overflow-y-auto inline-block"),g(r,"tabindex","-1"),g(e,"class","my-4")},m(_,C){N(_,e,C),b(e,t),J(l,t,null),b(e,a),b(e,i),We(i,n[8]),b(e,s),b(e,r),J(o,r,null),N(_,f,C),k&&k.m(_,C),N(_,c,C),h=!0,p||(v=U(i,"input",n[22]),p=!0)},p(_,C){var $;const Z={};C[1]&16777216&&(Z.$$scope={dirty:C,ctx:_}),l.$set(Z),C[0]&256&&i.value!==_[8]&&We(i,_[8]);const j={};C[0]&512&&(j.options=_[9]),C[1]&17301504&&(j.$$scope={dirty:C,ctx:_}),!u&&C[0]&256&&(u=!0,j.input=_[8],Bt(()=>u=!1)),o.$set(j),(($=_[10])==null?void 0:$.length)>0?k?(k.p(_,C),C[0]&1024&&B(k,1)):(k=dl(_),k.c(),B(k,1),k.m(c.parentNode,c)):k&&(De(),S(k,1,1,()=>{k=null}),Ie())},i(_){h||(B(l.$$.fragment,_),B(o.$$.fragment,_),B(k),h=!0)},o(_){S(l.$$.fragment,_),S(o.$$.fragment,_),S(k),h=!1},d(_){_&&(d(e),d(f),d(c)),G(l),G(o),k&&k.d(_),p=!1,v()}}}function _l(n){let e,t=n[7].message+"",l,a,i,s,r;return{c(){e=y("span"),l=_e(t),a=O(),i=y("progress"),this.h()},l(o){e=E(o,"SPAN",{});var u=A(e);l=ge(u,t),u.forEach(d),a=D(o),i=E(o,"PROGRESS",{max:!0}),A(i).forEach(d),this.h()},h(){i.value=s=n[7].value,g(i,"max",r=n[7].max)},m(o,u){N(o,e,u),b(e,l),N(o,a,u),N(o,i,u)},p(o,u){u[0]&128&&t!==(t=o[7].message+"")&&je(l,t),u[0]&128&&s!==(s=o[7].value)&&(i.value=s),u[0]&128&&r!==(r=o[7].max)&&g(i,"max",r)},d(o){o&&(d(e),d(a),d(i))}}}function ss(n){let e,t,l="Save to Deezer",a,i,s,r,o,u="Update playlist",f,c,h,p="Prepare playlist",v,m,P,k,T,_="fix non readable tracks",C,Z,j,$,re,V,x="remove de-selected tracks",fe,pe,ke,Te;s=new la({});let ae=n[7]&&_l(n);return P=new sa({}),$=new xn({}),{c(){e=y("div"),t=y("h3"),t.textContent=l,a=O(),i=y("button"),F(s.$$.fragment),r=O(),o=y("span"),o.textContent=u,f=O(),ae&&ae.c(),c=O(),h=y("h3"),h.textContent=p,v=O(),m=y("button"),F(P.$$.fragment),k=O(),T=y("span"),T.textContent=_,Z=O(),j=y("button"),F($.$$.fragment),re=O(),V=y("span"),V.textContent=x,this.h()},l(ee){e=E(ee,"DIV",{class:!0});var Y=A(e);t=E(Y,"H3",{"data-svelte-h":!0}),be(t)!=="svelte-1v8zjx5"&&(t.textContent=l),a=D(Y),i=E(Y,"BUTTON",{class:!0});var ce=A(i);q(s.$$.fragment,ce),r=D(ce),o=E(ce,"SPAN",{"data-svelte-h":!0}),be(o)!=="svelte-w41jv5"&&(o.textContent=u),ce.forEach(d),f=D(Y),ae&&ae.l(Y),c=D(Y),h=E(Y,"H3",{"data-svelte-h":!0}),be(h)!=="svelte-1oj9aef"&&(h.textContent=p),v=D(Y),m=E(Y,"BUTTON",{class:!0,title:!0});var Pe=A(m);q(P.$$.fragment,Pe),k=D(Pe),T=E(Pe,"SPAN",{"data-svelte-h":!0}),be(T)!=="svelte-1m49f8q"&&(T.textContent=_),Pe.forEach(d),Z=D(Y),j=E(Y,"BUTTON",{class:!0,title:!0});var te=A(j);q($.$$.fragment,te),re=D(te),V=E(te,"SPAN",{"data-svelte-h":!0}),be(V)!=="svelte-13uzf89"&&(V.textContent=x),te.forEach(d),Y.forEach(d),this.h()},h(){g(i,"class","btn variant-filled-primary"),g(m,"class","btn variant-filled-tertiary"),m.disabled=C=n[3].filter(pl).length===0,g(m,"title","try to find an equivalent of tracks that are not readable anymore in deezer (colored in red in the table)"),g(j,"class","btn variant-filled-tertiary"),j.disabled=fe=n[3].filter(vl).length===0,g(j,"title","remove de-selected new tracks"),g(e,"class","flex flex-col gap-y-4 w-4/5")},m(ee,Y){N(ee,e,Y),b(e,t),b(e,a),b(e,i),J(s,i,null),b(i,r),b(i,o),b(e,f),ae&&ae.m(e,null),b(e,c),b(e,h),b(e,v),b(e,m),J(P,m,null),b(m,k),b(m,T),b(e,Z),b(e,j),J($,j,null),b(j,re),b(j,V),pe=!0,ke||(Te=[U(i,"click",Pt(n[14])),U(m,"click",Pt(n[16])),U(j,"click",Pt(n[17]))],ke=!0)},p(ee,Y){ee[7]?ae?ae.p(ee,Y):(ae=_l(ee),ae.c(),ae.m(e,c)):ae&&(ae.d(1),ae=null),(!pe||Y[0]&8&&C!==(C=ee[3].filter(pl).length===0))&&(m.disabled=C),(!pe||Y[0]&8&&fe!==(fe=ee[3].filter(vl).length===0))&&(j.disabled=fe)},i(ee){pe||(B(s.$$.fragment,ee),B(P.$$.fragment,ee),B($.$$.fragment,ee),pe=!0)},o(ee){S(s.$$.fragment,ee),S(P.$$.fragment,ee),S($.$$.fragment,ee),pe=!1},d(ee){ee&&d(e),G(s),ae&&ae.d(),G(P),G($),ke=!1,xe(Te)}}}function is(n){let e,t;return e=new Ml({props:{$$slots:{sidebarRight:[ss],sidebarLeft:[as],default:[Ka]},$$scope:{ctx:n}}}),{c(){F(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,a){J(e,l,a),t=!0},p(l,a){const i={};a[0]&2047|a[1]&16777216&&(i.$$scope={dirty:a,ctx:l}),e.$set(i)},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){G(e,l)}}}function rs(n,e){const t=[];for(let l=0;l<n.length;l+=e)t.push(n.slice(l,l+e));return t}function gl(n){return!n.inPlaylist&&n.selected?"!text-lime-500":n.inPlaylist&&!n.selected?"!line-through":""}const pl=n=>n.selected&&!n.track.readable,vl=n=>!n.selected&&!n.inPlaylist,bl=n=>n.selected,kl=n=>n.selected,wl=n=>n.selected,yl=n=>n.selected;function os(n,e,t){let l,a,i,s,r,o,u;const f=Xl();let{data:c}=e;const h=bt([]);st(n,h,w=>t(10,u=w));const p=bt([]);st(n,p,w=>t(3,i=w));const v={ascending:!1,orderBy:"trackCount"};function m(w){w.ascending!==void 0&&t(4,v.ascending=w.ascending,v),w.orderBy!==void 0&&t(4,v.orderBy=w.orderBy,v),h.update(H=>{const M=v.ascending?1:-1,se=(ne,ie)=>V(ne.id)-V(ie.id),X=(ne,ie)=>ne.name.localeCompare(ie.name),le=(ne,ie)=>(Ke,at)=>{const Fe=ne(Ke,at);return Fe===0?ie(Ke,at):Fe};return H.sort((ne,ie)=>{switch(v.orderBy){case"trackCount":return M*le(se,X)(ne,ie);case"alphabetical":return M*le(X,se)(ne,ie)}})})}async function P(){const w={request_method:"POST"};c.playlist.title!==void 0&&(w.title=c.playlist.title),c.playlist.description!==void 0&&(w.description=c.playlist.description),c.playlist.public!==void 0&&(w.public=c.playlist.public);try{const H=await it({apiPath:`/playlist/${c.playlist.id}`,searchParams:w});f.trigger({message:`Updated playlist: ${H?"OK":"KO"}`,timeout:3e3})}catch(H){f.trigger({message:`Updated playlist: error ${H}`,timeout:3e3})}await _()}let k=bt(void 0);st(n,k,w=>t(7,s=w));async function T(w,H,M){if(!w.length)return;k.set({message:`sending 0/${w.length} ${H} ${M} `,value:0,max:w.length});let se=0;const X=100;for(const le of rs(w,X)){se+=X,k.set({message:`sending ${se} / ${w.length} ${H} ${M} `,value:se,max:w.length}),console.log(`sending ${H} ${M}=${JSON.stringify(le)}`);const Ee={request_method:H};Ee[M]=le.join(",");const ne=await it({apiPath:`/playlist/${c.playlist.id}/tracks`,searchParams:Ee});if(console.log({updateResult:ne}),!ne)throw new Error(`unable to send ${H} ${M}=${JSON.stringify(le)}`)}}async function _(){try{const w=i.filter(M=>M.selected&&!M.inPlaylist).map(M=>M.track.id);await T(w,"POST","songs");const H=i.filter(M=>!M.selected&&M.inPlaylist).map(M=>M.track.id);if(await T(H,"DELETE","songs"),w.length>0){const M=i.filter(se=>se.selected).map(se=>se.track.id);await T(M,"POST","order")}if(k.set(void 0),w.length||H.length){const M=f.trigger({message:"Updated playlist tracks, refreshing playlist data"});await Wl(),f.close(M)}}catch(w){f.trigger({message:`Updated playlist tracks: error ${w}`,timeout:3e3})}finally{k.set(void 0)}}async function C(w){const H=await Bl(w.artist.id);if(!H){f.trigger({message:`Could not find artist ${w.artist.name}`,timeout:3e3});return}const M=H.flatMap(le=>{const{tracks:Ee,...ne}=le;return le.tracks.map(ie=>({...ie,album:ne}))}).filter(le=>le.id!==w.id&&le.readable),se={sensitivity:"base",ignorePunctuation:!0,numeric:!1,usage:"search"},X=M.filter(le=>le.title.localeCompare(w.title,void 0,se)===0);switch(X.length){case 0:console.log("no match by title",{unreadableTrack:w}),f.trigger({message:`Could not find matching track for '${w.title}' in album '${w.album.title}' by '${w.artist.name}'`,timeout:3e3});return;case 1:return X[0];default:{const le=Object.values(X.reduce((ne,ie)=>(ne[ie.isrc]=ie,ne),{}));if(le.length===1)return le[0];const Ee=X.filter(ne=>ne.album.title.localeCompare(w.album.title,void 0,se)===0);switch(Ee.length){case 0:console.log("no match by title and album",{unreadableTrack:w}),f.trigger({message:`Could not find matching track for '${w.title}' in album '${w.album.title}' by '${w.artist.name}'`,timeout:3e3});return;case 1:return Ee[0];default:{const ne=Object.values(Ee.reduce((ie,Ke)=>(ie[Ke.isrc]=Ke,ie),{}));if(ne.length===1)return ne[0];console.log("multiple match by title",{unreadableTrack:w,matchingTracksByTitleAndAlbum:Ee}),f.trigger({message:`Found multiple matching tracks for '${w.title}' in album '${w.album.title}' : ${Ee.map(ie=>ie.id)}`,timeout:3e3});return}}}}}async function Z(){const w=Gl(p),H=w.filter(se=>se.selected&&se.track.readable).length,M=w.filter(se=>se.selected&&!se.track.readable);try{for(let X=0;X<M.length;X++){const le=M[X];k.set({message:`trying to fix track ${X} / ${M.length}`,value:X,max:M.length});const Ee=le.track,ne=await C(Ee);if(ne){console.log("adding alternative to "+le.track.id+" : "+ne.title),le.selected=!1;const ie=w.indexOf(le);w.splice(ie+1,0,{selected:!0,inPlaylist:!1,track:ne})}}const se=w.filter(X=>X.selected&&X.track.readable).length;f.trigger({message:`Reattached ${se-H} track(s) to readable equivalents.<br/>(${w.filter(X=>X.selected).length-se} unreadable track remaining)`,timeout:1e4}),p.set(w)}finally{k.set(void 0)}}function j(){p.update(w=>{const H=w.filter(M=>M.selected||M.inPlaylist);return f.trigger({message:`Removed ${w.length-H.length} track(s) from the playlist`,timeout:3e3}),H})}let $=bt("");st(n,$,w=>t(8,r=w));const re=Ll($,(w,H)=>{if(!w){H([]);return}it({apiPath:"/search/artist",searchParams:{q:w}}).then(M=>{const se=M.data.map(X=>({label:`<span class="flex justify-between w-full items-center">
<span class="flex items-center"> <img src="${X.picture_small}" class="mx-2"/>${X.name}</span>
 <button class="btn-icon btn-icon-sm variant-outline-tertiary" title="add all artist titles to the playlist">add</button></span>`,value:X.id,meta:X}));H(se)})});st(n,re,w=>t(9,o=w));function V(w){return i.filter(H=>H.track.artist.id===w&&H.selected).length}let x={page:0,limit:10,size:10,amounts:[10,20,50,100]},fe="";function pe(w){i.length===0&&t(0,c.playlist.title=w.name+" - Full Discography",c),At(w.id,p)}function ke(){r=this.value,$.set(r)}const Te=w=>pe(w.meta);function ae(w){r=w,$.set(r)}const ee=()=>m({orderBy:"alphabetical"}),Y=()=>m({orderBy:"trackCount"}),ce=()=>m({ascending:!1}),Pe=()=>m({ascending:!0}),te=w=>At(w.id,p),L=w=>ul(w.id,p);function z(){c.playlist.title=this.value,t(0,c)}function we(w){n.$$.not_equal(c.playlist.public,w)&&(c.playlist.public=w,t(0,c))}function ye(){c.playlist.description=this.value,t(0,c)}function Ue(){fe=this.value,t(2,fe)}const Je=w=>{l.forEach(H=>H.selected=w.target.checked),p.update(H=>H)};function dt(w,H){w[H].selected=this.checked,t(6,l),t(3,i),t(2,fe),t(1,x)}const ot=w=>Na(w.album,p),Ve=w=>Ba(w.album.id,p),mt=w=>At(w.artist.id,p),ut=w=>ul(w.artist.id,p);function Ge(w){x=w,t(1,x),t(3,i)}return n.$$set=w=>{"data"in w&&t(0,c=w.data)},n.$$.update=()=>{if(n.$$.dirty[0]&1&&h.set(c.topArtists),n.$$.dirty[0]&1){const w=c.playlist.tracks.data.map(H=>({track:H,inPlaylist:!0,selected:!0}));p.set(w)}n.$$.dirty[0]&8&&t(1,x.size=i.length,x),n.$$.dirty[0]&14&&t(6,l=i.filter(w=>!fe||JSON.stringify(w.track).toLowerCase().includes(fe.toLowerCase())).slice(x.page*x.limit,x.page*x.limit+x.limit)),n.$$.dirty[0]&8&&t(5,a=i.reduce((w,H)=>Math.max(w,H.track.rank),0))},[c,x,fe,i,v,a,l,s,r,o,u,h,p,m,P,k,Z,j,$,re,V,pe,ke,Te,ae,ee,Y,ce,Pe,te,L,z,we,ye,Ue,Je,dt,ot,Ve,mt,ut,Ge]}class ps extends de{constructor(e){super(),me(this,e,os,is,he,{data:0},null,[-1,-1])}}export{ps as component,gs as universal};
