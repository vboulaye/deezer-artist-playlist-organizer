import{s as U,l as u,m as h,i as d,r as a,d as f,F as R}from"../chunks/scheduler.dc0f26dd.js";import{S as I,i as E}from"../chunks/index.b6753c13.js";import"../chunks/paths.ef69fdda.js";import{p as L}from"../chunks/stores.3f614201.js";import{e as o}from"../chunks/public.a668e30b.js";import{U as g,T as A,R as C}from"../chunks/CookieManager.d8697515.js";const T={AUTHORIZATION_URL:o.PUBLIC_DEEZER_AUTHORIZATION_URL||"https://connect.deezer.com/oauth/auth.php",TOKEN_URL:o.PUBLIC_DEEZER_TOKEN_URL||"https://connect.deezer.com/oauth/access_token.php",API_URL:o.PUBLIC_DEEZER_API_URL||"https://api.deezer.com"};function O(s){let e;return{c(){e=u("signin...")},l(t){e=h(t,"signin...")},m(t,r){d(t,e,r)},p:a,i:a,o:a,d(t){t&&f(e)}}}function z(s,e,t){let r;R(s,L,n=>t(0,r=n)),g.remove(),A.remove();const c=T.AUTHORIZATION_URL,p=o.PUBLIC_DEEZER_ID,m=`${o.PUBLIC_ORIGIN}/auth/callback`,_=["basic_access","email","manage_library","delete_library","listening_history","manage_community","offline_access"].join(","),l=`${c}?app_id=${p}&redirect_uri=${m}&perms=${_}&output=json&response_type=token`;{const n=document.referrer;if(n){const i=new URL(n);i.host===r.url.host&&(console.log("set redriect to "+i.pathname),C.set(i.pathname))}document.location.href=l}return[]}class D extends I{constructor(e){super(),E(this,e,z,O,U,{})}}export{D as component};
