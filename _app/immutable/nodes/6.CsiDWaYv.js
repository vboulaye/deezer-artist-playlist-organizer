import{c as x,t as pe,e as ee}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.DaSrAvTQ.js";import{e as ge,a as te,g as me,P as be,b as ve,h as ae}from"../chunks/PlaylistApplicationShell.Cjken1O-.js";import{s as ye,p as Pe,e as _,a as N,t as M,c as p,b as v,m as Te,g as O,f as d,d as H,o as n,i as Y,h as i,q as le,r as se,u as ke,j as Q,v as Ee,w as De,x as re}from"../chunks/scheduler.pzfbVsGb.js";import{S as we,i as Se,c as ce,a as ue,m as de,t as he,b as fe,d as _e,e as Ie}from"../chunks/index.43Z_d8hB.js";const Re=!1;async function $e({url:r}){console.error({xxx:r.searchParams});const t=ge(r),s=r.searchParams.get("search");return s?{playlists:await x({apiPath:"/search/playlist",searchParams:{q:s,limit:1e3,index:t??0}}).then(a=>te(a,t||0))}:t?{playlists:await x({apiPath:"/user/me/playlists",searchParams:{limit:1e3,index:t}}).then(a=>te(a,t))}:{playlists:await pe("getRemainingPages:",async()=>await me({apiPath:"/user/me/playlists",limit:500,index:0}))}}const qe=Object.freeze(Object.defineProperty({__proto__:null,load:$e,ssr:Re},Symbol.toStringTag,{value:"Module"}));function ie(r,t,s){const a=r.slice();return a[9]=t[s],a}function ne(r){let t,s,a,o,c,w,f,y,h,I=r[9].title+"",D,P,T,J,R,E=r[9].creation_date+"",z,j,$,b,q,B,S,C=r[9].nb_tracks+"",G,L,u,U=ae(r[9].duration*1e3,{units:["h","m","s"],largest:2})+"",V,g;return{c(){t=_("tr"),s=_("td"),a=_("a"),o=_("div"),c=_("img"),y=N(),h=_("strong"),D=M(I),J=N(),R=_("td"),z=M(E),j=N(),$=_("td"),b=_("input"),B=N(),S=_("td"),G=M(C),L=N(),u=_("td"),V=M(U),g=N(),this.h()},l(e){t=p(e,"TR",{});var l=v(t);s=p(l,"TD",{});var k=v(s);a=p(k,"A",{href:!0,"data-sveltekit-preload-data":!0});var m=v(a);o=p(m,"DIV",{class:!0});var A=v(o);c=p(A,"IMG",{src:!0,alt:!0,"aria-describedby":!0,class:!0}),y=O(A),h=p(A,"STRONG",{id:!0,class:!0});var W=v(h);D=H(W,I),W.forEach(d),A.forEach(d),m.forEach(d),k.forEach(d),J=O(l),R=p(l,"TD",{class:!0});var X=v(R);z=H(X,E),X.forEach(d),j=O(l),$=p(l,"TD",{class:!0});var Z=v($);b=p(Z,"INPUT",{class:!0,type:!0}),Z.forEach(d),B=O(l),S=p(l,"TD",{class:!0});var F=v(S);G=H(F,C),F.forEach(d),L=O(l),u=p(l,"TD",{class:!0});var K=v(u);V=H(K,U),K.forEach(d),g=O(l),l.forEach(d),this.h()},h(){re(c.src,w=r[9].picture_small)||n(c,"src",w),n(c,"alt","playlist cover"),n(c,"aria-describedby",f=r[9].id+"_title"),n(c,"class","deezer_img_small"),n(h,"id",P=r[9].id+"_title"),n(h,"class","m-2"),n(o,"class","flex items-center"),n(a,"href",T="edit?id="+r[9].id),n(a,"data-sveltekit-preload-data","off"),n(R,"class","items-center largeonly"),n(b,"class","checkbox"),n(b,"type","checkbox"),b.checked=q=r[9].public,b.disabled=!0,n($,"class","largeonly"),n(S,"class","mediumonly"),n(u,"class","largeonly")},m(e,l){Y(e,t,l),i(t,s),i(s,a),i(a,o),i(o,c),i(o,y),i(o,h),i(h,D),i(t,J),i(t,R),i(R,z),i(t,j),i(t,$),i($,b),i(t,B),i(t,S),i(S,G),i(t,L),i(t,u),i(u,V),i(t,g)},p(e,l){l&16&&!re(c.src,w=e[9].picture_small)&&n(c,"src",w),l&16&&f!==(f=e[9].id+"_title")&&n(c,"aria-describedby",f),l&16&&I!==(I=e[9].title+"")&&Q(D,I),l&16&&P!==(P=e[9].id+"_title")&&n(h,"id",P),l&16&&T!==(T="edit?id="+e[9].id)&&n(a,"href",T),l&16&&E!==(E=e[9].creation_date+"")&&Q(z,E),l&16&&q!==(q=e[9].public)&&(b.checked=q),l&16&&C!==(C=e[9].nb_tracks+"")&&Q(G,C),l&16&&U!==(U=ae(e[9].duration*1e3,{units:["h","m","s"],largest:2})+"")&&Q(V,U)},d(e){e&&d(t)}}}function oe(r){let t=JSON.stringify({pageData:r[0].playlists},null,2)+"",s;return{c(){s=M(t)},l(a){s=H(a,t)},m(a,o){Y(a,s,o)},p(a,o){o&1&&t!==(t=JSON.stringify({pageData:a[0].playlists},null,2)+"")&&Q(s,t)},d(a){a&&d(s)}}}function Ne(r){let t,s,a,o,c='<th>Title</th> <th class="largeonly">Created on</th> <th class="largeonly">Public?</th> <th class="mediumonly"># Tracks</th> <th class="largeonly">duration</th>',w,f,y,h,I,D,P,T,J,R,E,z=r[3]?"hide debug":"show debug",j,$,b,q,B,S,C,G,L=ee(r[4]),u=[];for(let e=0;e<L.length;e+=1)u[e]=ne(ie(r,L,e));function U(e){r[7](e)}let V={showFirstLastButtons:!0,showPreviousNextButtons:!0};r[1]!==void 0&&(V.settings=r[1]),T=new ve({props:V}),Pe.push(()=>Ie(T,"settings",U));let g=r[3]&&oe(r);return{c(){t=_("div"),s=_("table"),a=_("thead"),o=_("tr"),o.innerHTML=c,w=N(),f=_("tr"),y=_("td"),h=_("input"),I=N(),D=_("tbody");for(let e=0;e<u.length;e+=1)u[e].c();P=N(),ce(T.$$.fragment),R=N(),E=_("a"),j=M(z),$=N(),b=_("pre"),q=M("        "),g&&g.c(),B=M(`
    `),this.h()},l(e){t=p(e,"DIV",{class:!0});var l=v(t);s=p(l,"TABLE",{class:!0});var k=v(s);a=p(k,"THEAD",{});var m=v(a);o=p(m,"TR",{"data-svelte-h":!0}),Te(o)!=="svelte-m478cj"&&(o.innerHTML=c),w=O(m),f=p(m,"TR",{});var A=v(f);y=p(A,"TD",{colspan:!0});var W=v(y);h=p(W,"INPUT",{class:!0,title:!0,type:!0,placeholder:!0}),W.forEach(d),A.forEach(d),m.forEach(d),I=O(k),D=p(k,"TBODY",{});var X=v(D);for(let K=0;K<u.length;K+=1)u[K].l(X);X.forEach(d),k.forEach(d),P=O(l),ue(T.$$.fragment,l),l.forEach(d),R=O(e),E=p(e,"A",{href:!0});var Z=v(E);j=H(Z,z),Z.forEach(d),$=O(e),b=p(e,"PRE",{id:!0});var F=v(b);q=H(F,"        "),g&&g.l(F),B=H(F,`
    `),F.forEach(d),this.h()},h(){n(h,"class","input"),n(h,"title","Input (search)"),n(h,"type","search"),n(h,"placeholder","Search..."),n(y,"colspan","6"),n(s,"class","table table-hover "),n(t,"class","table-container"),n(E,"href","#showDebug"),n(b,"id","showDebug")},m(e,l){Y(e,t,l),i(t,s),i(s,a),i(a,o),i(a,w),i(a,f),i(f,y),i(y,h),le(h,r[2]),i(s,I),i(s,D);for(let k=0;k<u.length;k+=1)u[k]&&u[k].m(D,null);i(t,P),de(T,t,null),Y(e,R,l),Y(e,E,l),i(E,j),Y(e,$,l),Y(e,b,l),i(b,q),g&&g.m(b,null),i(b,B),S=!0,C||(G=[se(h,"input",r[6]),se(E,"click",r[8])],C=!0)},p(e,l){if(l&4&&h.value!==e[2]&&le(h,e[2]),l&16){L=ee(e[4]);let m;for(m=0;m<L.length;m+=1){const A=ie(e,L,m);u[m]?u[m].p(A,l):(u[m]=ne(A),u[m].c(),u[m].m(D,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=L.length}const k={};!J&&l&2&&(J=!0,k.settings=e[1],ke(()=>J=!1)),T.$set(k),(!S||l&8)&&z!==(z=e[3]?"hide debug":"show debug")&&Q(j,z),e[3]?g?g.p(e,l):(g=oe(e),g.c(),g.m(b,B)):g&&(g.d(1),g=null)},i(e){S||(he(T.$$.fragment,e),S=!0)},o(e){fe(T.$$.fragment,e),S=!1},d(e){e&&(d(t),d(R),d(E),d($),d(b)),Ee(u,e),_e(T),g&&g.d(),C=!1,De(G)}}}function Oe(r){let t,s;return t=new be({props:{$$slots:{default:[Ne]},$$scope:{ctx:r}}}),{c(){ce(t.$$.fragment)},l(a){ue(t.$$.fragment,a)},m(a,o){de(t,a,o),s=!0},p(a,[o]){const c={};o&4127&&(c.$$scope={dirty:o,ctx:a}),t.$set(c)},i(a){s||(he(t.$$.fragment,a),s=!0)},o(a){fe(t.$$.fragment,a),s=!1},d(a){_e(t,a)}}}function ze(r,t,s){let a,o,{data:c}=t,w=!1,f={page:0,limit:5,size:10,amounts:[5,10,20,50,100]},y="";function h(){y=this.value,s(2,y)}function I(P){f=P,s(1,f),s(5,a),s(0,c)}const D=()=>s(3,w=!w);return r.$$set=P=>{"data"in P&&s(0,c=P.data)},r.$$.update=()=>{var P;r.$$.dirty&1&&s(5,a=(P=c==null?void 0:c.playlists)==null?void 0:P.data),r.$$.dirty&32&&s(1,f.size=a==null?void 0:a.length,f),r.$$.dirty&38&&s(4,o=a?a.filter(T=>!y||JSON.stringify(T).toLowerCase().includes(y.toLowerCase())).slice(f.page*f.limit,f.page*f.limit+f.limit):[])},[c,f,y,w,o,a,h,I,D]}class Be extends we{constructor(t){super(),Se(this,t,ze,Oe,ye,{data:0})}}export{Be as component,qe as universal};
