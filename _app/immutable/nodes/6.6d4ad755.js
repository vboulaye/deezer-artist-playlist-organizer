import{c as ae,t as be,e as le}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.ac7f7fa0.js";import{e as ye,a as se,g as Te,P as Pe,b as ke,h as re}from"../chunks/PlaylistApplicationShell.1a567f4a.js";import{s as Ee,p as De,f,a as I,l as K,g as _,h as y,R as ie,c as L,d as u,m as Y,j as o,i as Q,x as r,S as ne,K as oe,T as we,n as W,U as Se,L as ze,V as ce}from"../chunks/scheduler.5f6ec423.js";import{S as Ie,i as Le,b as fe,d as _e,m as pe,a as ge,t as me,e as ve,o as Re}from"../chunks/index.c7424e09.js";import"../chunks/paths.0e4afa75.js";const $e=!1;async function Ne({url:s}){const e=ye(s),l=s.searchParams.get("search");return l?{playlists:ae({apiPath:"/search/playlist",searchParams:{q:l,limit:1e3,index:e||0}}).then(t=>se(t,e||0))}:e?{playlists:ae({apiPath:"/user/me/playlists",searchParams:{limit:1e3,index:e}}).then(t=>se(t,e))}:{playlists:be("getRemainingPages:",async()=>await Te({apiPath:"/user/me/playlists",limit:500,index:0}))}}const Je=Object.freeze(Object.defineProperty({__proto__:null,load:Ne,ssr:$e},Symbol.toStringTag,{value:"Module"}));function ue(s,e,l){const t=s.slice();return t[9]=e[l],t}function de(s){let e,l,t,i,n,R,m,T,d,$=s[9].title+"",z,w,J,O,C,k=s[9].creation_date+"",U,V,E,S,A,G,P,H=s[9].nb_tracks+"",B,j,q,F=re(s[9].duration*1e3,{units:["h","m","s"],largest:2})+"",N,p;return{c(){e=f("tr"),l=f("td"),t=f("a"),i=f("div"),n=f("img"),T=I(),d=f("strong"),z=K($),O=I(),C=f("td"),U=K(k),V=I(),E=f("td"),S=f("input"),G=I(),P=f("td"),B=K(H),j=I(),q=f("td"),N=K(F),p=I(),this.h()},l(b){e=_(b,"TR",{});var c=y(e);l=_(c,"TD",{});var v=y(l);t=_(v,"A",{href:!0,"data-sveltekit-preload-data":!0});var a=y(t);i=_(a,"DIV",{class:!0});var h=y(i);n=_(h,"IMG",{src:!0,alt:!0,"aria-describedby":!0,class:!0}),T=L(h),d=_(h,"STRONG",{id:!0,class:!0});var D=y(d);z=Y(D,$),D.forEach(u),h.forEach(u),a.forEach(u),v.forEach(u),O=L(c),C=_(c,"TD",{class:!0});var g=y(C);U=Y(g,k),g.forEach(u),V=L(c),E=_(c,"TD",{class:!0});var M=y(E);S=_(M,"INPUT",{class:!0,type:!0}),M.forEach(u),G=L(c),P=_(c,"TD",{});var X=y(P);B=Y(X,H),X.forEach(u),j=L(c),q=_(c,"TD",{});var Z=y(q);N=Y(Z,F),Z.forEach(u),p=L(c),c.forEach(u),this.h()},h(){ce(n.src,R=s[9].picture_small)||o(n,"src",R),o(n,"alt","playlist cover"),o(n,"aria-describedby",m=s[9].id+"_title"),o(n,"class","deezer_img_small"),o(d,"id",w=s[9].id+"_title"),o(d,"class","m-2"),o(i,"class","flex items-center"),o(t,"href",J="playlists/"+s[9].id),o(t,"data-sveltekit-preload-data","off"),o(C,"class","items-center large svelte-hzugxo"),o(S,"class","checkbox"),o(S,"type","checkbox"),S.checked=A=s[9].public,S.disabled=!0,o(E,"class","large svelte-hzugxo")},m(b,c){Q(b,e,c),r(e,l),r(l,t),r(t,i),r(i,n),r(i,T),r(i,d),r(d,z),r(e,O),r(e,C),r(C,U),r(e,V),r(e,E),r(E,S),r(e,G),r(e,P),r(P,B),r(e,j),r(e,q),r(q,N),r(e,p)},p(b,c){c&16&&!ce(n.src,R=b[9].picture_small)&&o(n,"src",R),c&16&&m!==(m=b[9].id+"_title")&&o(n,"aria-describedby",m),c&16&&$!==($=b[9].title+"")&&W(z,$),c&16&&w!==(w=b[9].id+"_title")&&o(d,"id",w),c&16&&J!==(J="playlists/"+b[9].id)&&o(t,"href",J),c&16&&k!==(k=b[9].creation_date+"")&&W(U,k),c&16&&A!==(A=b[9].public)&&(S.checked=A),c&16&&H!==(H=b[9].nb_tracks+"")&&W(B,H),c&16&&F!==(F=re(b[9].duration*1e3,{units:["h","m","s"],largest:2})+"")&&W(N,F)},d(b){b&&u(e)}}}function he(s){let e=JSON.stringify({pageData:s[0].playlists},null,2)+"",l;return{c(){l=K(e)},l(t){l=Y(t,e)},m(t,i){Q(t,l,i)},p(t,i){i&1&&e!==(e=JSON.stringify({pageData:t[0].playlists},null,2)+"")&&W(l,e)},d(t){t&&u(l)}}}function Oe(s){let e,l,t,i,n,R="",m,T,d,$,z,w='<th class="w-1/3">Title</th> <th class="large svelte-hzugxo">Created on</th> <th class="large svelte-hzugxo">Public?</th> <th># Tracks</th> <th>duration</th>',J,O,C,k,U,V,E,S=s[3]?"hide debug":"show debug",A,G,P,H,B,j,q,F,N=le(s[4]),p=[];for(let a=0;a<N.length;a+=1)p[a]=de(ue(s,N,a));function b(a){s[7](a)}let c={showFirstLastButtons:!0,showPreviousNextButtons:!0};s[1]!==void 0&&(c.settings=s[1]),k=new ke({props:c}),De.push(()=>Re(k,"settings",b));let v=s[3]&&he(s);return{c(){e=f("div"),l=f("table"),t=f("thead"),i=f("tr"),n=f("td"),n.innerHTML=R,m=I(),T=f("td"),d=f("input"),$=I(),z=f("tr"),z.innerHTML=w,J=I(),O=f("tbody");for(let a=0;a<p.length;a+=1)p[a].c();C=I(),fe(k.$$.fragment),V=I(),E=f("a"),A=K(S),G=I(),P=f("pre"),H=K("        "),v&&v.c(),B=K(`
    `),this.h()},l(a){e=_(a,"DIV",{class:!0});var h=y(e);l=_(h,"TABLE",{class:!0});var D=y(l);t=_(D,"THEAD",{});var g=y(t);i=_(g,"TR",{});var M=y(i);n=_(M,"TD",{colspan:!0,"data-svelte-h":!0}),ie(n)!=="svelte-rxboy"&&(n.innerHTML=R),m=L(M),T=_(M,"TD",{colspan:!0});var X=y(T);d=_(X,"INPUT",{class:!0,title:!0,type:!0,placeholder:!0}),X.forEach(u),M.forEach(u),$=L(g),z=_(g,"TR",{"data-svelte-h":!0}),ie(z)!=="svelte-19oiuv3"&&(z.innerHTML=w),g.forEach(u),J=L(D),O=_(D,"TBODY",{});var Z=y(O);for(let ee=0;ee<p.length;ee+=1)p[ee].l(Z);Z.forEach(u),D.forEach(u),C=L(h),_e(k.$$.fragment,h),h.forEach(u),V=L(a),E=_(a,"A",{href:!0});var te=y(E);A=Y(te,S),te.forEach(u),G=L(a),P=_(a,"PRE",{id:!0});var x=y(P);H=Y(x,"        "),v&&v.l(x),B=Y(x,`
    `),x.forEach(u),this.h()},h(){o(n,"colspan","1"),o(d,"class","input"),o(d,"title","Input (search)"),o(d,"type","search"),o(d,"placeholder","Search..."),o(T,"colspan","5"),o(l,"class","table table-hover"),o(e,"class","table-container"),o(E,"href","#showDebug"),o(P,"id","showDebug")},m(a,h){Q(a,e,h),r(e,l),r(l,t),r(t,i),r(i,n),r(i,m),r(i,T),r(T,d),ne(d,s[2]),r(t,$),r(t,z),r(l,J),r(l,O);for(let D=0;D<p.length;D+=1)p[D]&&p[D].m(O,null);r(e,C),pe(k,e,null),Q(a,V,h),Q(a,E,h),r(E,A),Q(a,G,h),Q(a,P,h),r(P,H),v&&v.m(P,null),r(P,B),j=!0,q||(F=[oe(d,"input",s[6]),oe(E,"click",s[8])],q=!0)},p(a,h){if(h&4&&d.value!==a[2]&&ne(d,a[2]),h&16){N=le(a[4]);let g;for(g=0;g<N.length;g+=1){const M=ue(a,N,g);p[g]?p[g].p(M,h):(p[g]=de(M),p[g].c(),p[g].m(O,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=N.length}const D={};!U&&h&2&&(U=!0,D.settings=a[1],we(()=>U=!1)),k.$set(D),(!j||h&8)&&S!==(S=a[3]?"hide debug":"show debug")&&W(A,S),a[3]?v?v.p(a,h):(v=he(a),v.c(),v.m(P,B)):v&&(v.d(1),v=null)},i(a){j||(ge(k.$$.fragment,a),j=!0)},o(a){me(k.$$.fragment,a),j=!1},d(a){a&&(u(e),u(V),u(E),u(G),u(P)),Se(p,a),ve(k),v&&v.d(),q=!1,ze(F)}}}function Ce(s){let e,l;return e=new Pe({props:{$$slots:{default:[Oe]},$$scope:{ctx:s}}}),{c(){fe(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,i){pe(e,t,i),l=!0},p(t,[i]){const n={};i&4127&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){l||(ge(e.$$.fragment,t),l=!0)},o(t){me(e.$$.fragment,t),l=!1},d(t){ve(e,t)}}}function Me(s,e,l){let t,i,{data:n}=e,R=!1,m={page:0,limit:5,size:10,amounts:[5,10,20,50,100]},T="";function d(){T=this.value,l(2,T)}function $(w){m=w,l(1,m),l(5,t),l(0,n)}const z=()=>l(3,R=!R);return s.$$set=w=>{"data"in w&&l(0,n=w.data)},s.$$.update=()=>{s.$$.dirty&1&&l(5,t=n.playlists.data),s.$$.dirty&32&&l(1,m.size=t.length,m),s.$$.dirty&38&&l(4,i=t.filter(w=>!T||JSON.stringify(w).toLowerCase().includes(T.toLowerCase())).slice(m.page*m.limit,m.page*m.limit+m.limit))},[n,m,T,R,i,t,d,$,z]}class Ue extends Ie{constructor(e){super(),Le(this,e,Me,Ce,Ee,{data:0})}}export{Ue as component,Je as universal};
