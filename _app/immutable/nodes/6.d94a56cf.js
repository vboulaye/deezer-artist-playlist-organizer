import{c as x,t as he}from"../chunks/DeezerCall.5bb2dd57.js";import{e as _e,a as ee,g as pe,P as ge,b as me,h as te}from"../chunks/PlaylistApplicationShell.340749a7.js";import{s as be,p as ve,f as v,a as O,l as C,g as y,h as D,O as ye,c as R,d as f,m as H,j as p,i as J,x as i,I as Pe,P as ke,n as V,Q as Ee,R as ae}from"../chunks/scheduler.e7e5d74b.js";import{S as Te,i as De,b as ne,d as oe,m as ce,a as ue,t as de,e as fe,o as we}from"../chunks/index.380c371d.js";import{e as le}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.32e534c8.js";import"../chunks/paths.9136c39e.js";const $e=!1;async function Se({url:s}){const e=_e(s),l=s.searchParams.get("search");return l?{playlists:x({apiPath:"/search/playlist",searchParams:{q:l,limit:1e3,index:e||0}}).then(t=>ee(t,e||0))}:e?{playlists:x({apiPath:"/user/me/playlists",searchParams:{limit:1e3,index:e}}).then(t=>ee(t,e))}:{playlists:he("getRemainingPages:",async()=>await pe({apiPath:"/user/me/playlists",limit:500,index:0}))}}const Me=Object.freeze(Object.defineProperty({__proto__:null,load:Se,ssr:$e},Symbol.toStringTag,{value:"Module"}));function se(s,e,l){const t=s.slice();return t[7]=e[l],t}function ie(s){let e,l,t,n,o,P,g,k,T,E=s[7].title+"",w,I,z,M,b,A=s[7].creation_date+"",N,q,B,$,S,u,G,j=s[7].nb_tracks+"",d,a,c,m=te(s[7].duration*1e3,{units:["h","m","s"],largest:2})+"",h,L;return{c(){e=v("tr"),l=v("td"),t=v("a"),n=v("div"),o=v("img"),k=O(),T=v("strong"),w=C(E),M=O(),b=v("td"),N=C(A),q=O(),B=v("td"),$=v("input"),u=O(),G=v("td"),d=C(j),a=O(),c=v("td"),h=C(m),L=O(),this.h()},l(_){e=y(_,"TR",{});var r=D(e);l=y(r,"TD",{});var Q=D(l);t=y(Q,"A",{href:!0,"data-sveltekit-preload-data":!0});var U=D(t);n=y(U,"DIV",{class:!0});var F=D(n);o=y(F,"IMG",{src:!0,alt:!0,"aria-describedby":!0,class:!0}),k=R(F),T=y(F,"STRONG",{id:!0,class:!0});var Y=D(T);w=H(Y,E),Y.forEach(f),F.forEach(f),U.forEach(f),Q.forEach(f),M=R(r),b=y(r,"TD",{class:!0});var K=D(b);N=H(K,A),K.forEach(f),q=R(r),B=y(r,"TD",{});var W=D(B);$=y(W,"INPUT",{class:!0,type:!0}),W.forEach(f),u=R(r),G=y(r,"TD",{});var X=D(G);d=H(X,j),X.forEach(f),a=R(r),c=y(r,"TD",{});var Z=D(c);h=H(Z,m),Z.forEach(f),L=R(r),r.forEach(f),this.h()},h(){ae(o.src,P=s[7].picture_small)||p(o,"src",P),p(o,"alt","playlist cover"),p(o,"aria-describedby",g=s[7].id+"_title"),p(o,"class","deezer_img_small"),p(T,"id",I=s[7].id+"_title"),p(T,"class","m-2"),p(n,"class","flex items-center"),p(t,"href",z="playlists/"+s[7].id),p(t,"data-sveltekit-preload-data","off"),p(b,"class","items-center"),p($,"class","checkbox"),p($,"type","checkbox"),$.checked=S=s[7].public,$.disabled=!0},m(_,r){J(_,e,r),i(e,l),i(l,t),i(t,n),i(n,o),i(n,k),i(n,T),i(T,w),i(e,M),i(e,b),i(b,N),i(e,q),i(e,B),i(B,$),i(e,u),i(e,G),i(G,d),i(e,a),i(e,c),i(c,h),i(e,L)},p(_,r){r&8&&!ae(o.src,P=_[7].picture_small)&&p(o,"src",P),r&8&&g!==(g=_[7].id+"_title")&&p(o,"aria-describedby",g),r&8&&E!==(E=_[7].title+"")&&V(w,E),r&8&&I!==(I=_[7].id+"_title")&&p(T,"id",I),r&8&&z!==(z="playlists/"+_[7].id)&&p(t,"href",z),r&8&&A!==(A=_[7].creation_date+"")&&V(N,A),r&8&&S!==(S=_[7].public)&&($.checked=S),r&8&&j!==(j=_[7].nb_tracks+"")&&V(d,j),r&8&&m!==(m=te(_[7].duration*1e3,{units:["h","m","s"],largest:2})+"")&&V(h,m)},d(_){_&&f(e)}}}function re(s){let e=JSON.stringify({pageData:s[0].playlists},null,2)+"",l;return{c(){l=C(e)},l(t){l=H(t,e)},m(t,n){J(t,l,n)},p(t,n){n&1&&e!==(e=JSON.stringify({pageData:t[0].playlists},null,2)+"")&&V(l,e)},d(t){t&&f(l)}}}function Ie(s){let e,l,t,n='<tr><th class="w-1/3">Title</th> <th>Created on</th> <th>Public?</th> <th># Tracks</th> <th>duration</th></tr>',o,P,g,k,T,E,w,I=s[2]?"hide debug":"show debug",z,M,b,A,N,q,B,$,S=le(s[3]),u=[];for(let a=0;a<S.length;a+=1)u[a]=ie(se(s,S,a));function G(a){s[5](a)}let j={showFirstLastButtons:!0,showPreviousNextButtons:!0};s[1]!==void 0&&(j.settings=s[1]),k=new me({props:j}),ve.push(()=>we(k,"settings",G));let d=s[2]&&re(s);return{c(){e=v("div"),l=v("table"),t=v("thead"),t.innerHTML=n,o=O(),P=v("tbody");for(let a=0;a<u.length;a+=1)u[a].c();g=O(),ne(k.$$.fragment),E=O(),w=v("a"),z=C(I),M=O(),b=v("pre"),A=C("        "),d&&d.c(),N=C(`
    `),this.h()},l(a){e=y(a,"DIV",{class:!0});var c=D(e);l=y(c,"TABLE",{class:!0});var m=D(l);t=y(m,"THEAD",{"data-svelte-h":!0}),ye(t)!=="svelte-6qymf2"&&(t.innerHTML=n),o=R(m),P=y(m,"TBODY",{});var h=D(P);for(let r=0;r<u.length;r+=1)u[r].l(h);h.forEach(f),m.forEach(f),g=R(c),oe(k.$$.fragment,c),c.forEach(f),E=R(a),w=y(a,"A",{href:!0});var L=D(w);z=H(L,I),L.forEach(f),M=R(a),b=y(a,"PRE",{id:!0});var _=D(b);A=H(_,"        "),d&&d.l(_),N=H(_,`
    `),_.forEach(f),this.h()},h(){p(l,"class","table table-hover"),p(e,"class","table-container"),p(w,"href","#showDebug"),p(b,"id","showDebug")},m(a,c){J(a,e,c),i(e,l),i(l,t),i(l,o),i(l,P);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(P,null);i(e,g),ce(k,e,null),J(a,E,c),J(a,w,c),i(w,z),J(a,M,c),J(a,b,c),i(b,A),d&&d.m(b,null),i(b,N),q=!0,B||($=Pe(w,"click",s[6]),B=!0)},p(a,c){if(c&8){S=le(a[3]);let h;for(h=0;h<S.length;h+=1){const L=se(a,S,h);u[h]?u[h].p(L,c):(u[h]=ie(L),u[h].c(),u[h].m(P,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=S.length}const m={};!T&&c&2&&(T=!0,m.settings=a[1],ke(()=>T=!1)),k.$set(m),(!q||c&4)&&I!==(I=a[2]?"hide debug":"show debug")&&V(z,I),a[2]?d?d.p(a,c):(d=re(a),d.c(),d.m(b,N)):d&&(d.d(1),d=null)},i(a){q||(ue(k.$$.fragment,a),q=!0)},o(a){de(k.$$.fragment,a),q=!1},d(a){a&&(f(e),f(E),f(w),f(M),f(b)),Ee(u,a),fe(k),d&&d.d(),B=!1,$()}}}function Oe(s){let e,l;return e=new ge({props:{$$slots:{default:[Ie]},$$scope:{ctx:s}}}),{c(){ne(e.$$.fragment)},l(t){oe(e.$$.fragment,t)},m(t,n){ce(e,t,n),l=!0},p(t,[n]){const o={};n&1039&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(ue(e.$$.fragment,t),l=!0)},o(t){de(e.$$.fragment,t),l=!1},d(t){fe(e,t)}}}function Re(s,e,l){let t,n,{data:o}=e,P=!1,g={page:0,limit:5,size:10,amounts:[5,10,20,50,100]};function k(E){g=E,l(1,g),l(4,t),l(0,o)}const T=()=>l(2,P=!P);return s.$$set=E=>{"data"in E&&l(0,o=E.data)},s.$$.update=()=>{s.$$.dirty&1&&l(4,t=o.playlists.data),s.$$.dirty&16&&l(1,g.size=t.length,g),s.$$.dirty&18&&l(3,n=t.slice(g.page*g.limit,g.page*g.limit+g.limit))},[o,g,P,n,t,k,T]}class je extends Te{constructor(e){super(),De(this,e,Re,Oe,be,{data:0})}}export{je as component,Me as universal};
