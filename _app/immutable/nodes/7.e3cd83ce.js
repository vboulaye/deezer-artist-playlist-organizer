import{d as hl,w as xe}from"../chunks/paths.0e4afa75.js";import{e as Me,d as dl,R as ml,c as Ye,r as _l,p as gl,u as pl,o as vl}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.ac7f7fa0.js";import{g as rt,P as bl,b as kl,h as wt}from"../chunks/PlaylistApplicationShell.1a567f4a.js";import{s as ne,f as E,g as T,h as P,d as m,j as g,i as B,U as ot,W as et,C as R,D as W,e as We,a as D,c as S,x as b,K as H,w as Oe,y as Ie,z as De,A as Se,X as yt,Y as $e,L as Le,Z as Et,B as wl,O as Ne,F as Te,H as ke,J as Pe,I as we,Q as le,r as G,V as Ve,M as Ke,l as re,m as oe,n as ze,P as yl,k as El,p as ut,R as me,S as Ue,T as ct,_ as nt,$ as Tl,a0 as Tt}from"../chunks/scheduler.5f6ec423.js";import{S as ae,i as se,a as C,g as Ae,c as Ce,t as N,b as V,d as F,m as q,e as J,j as Pl,k as Al,o as ft}from"../chunks/index.c7424e09.js";import{a as ye,s as Pt,g as Cl}from"../chunks/index.9d25f3e1.js";import{i as Bl}from"../chunks/navigation.04c29384.js";function At(n,e,t){const l=n.slice();return l[15]=e[t],l[17]=t,l}const Nl=n=>({}),Ct=n=>({}),zl=n=>({}),Bt=n=>({}),Ol=n=>({}),Nt=n=>({}),Il=n=>({}),zt=n=>({}),Dl=n=>({}),Ot=n=>({}),Sl=n=>({}),It=n=>({});function $l(n){let e,t,l,s,i,a,r,o;const u=[Rl,Zl,Ll],h=[];function c(f,v){return v&1&&(t=null),v&1&&(l=null),t==null&&(t=!!tl(f[0],f[17])),t?0:(l==null&&(l=!!ll(f[0],f[17])),l?1:2)}return s=c(n,-1),i=h[s]=u[s](n),{c(){e=E("span"),i.c(),a=D(),this.h()},l(f){e=T(f,"SPAN",{class:!0});var v=P(e);i.l(v),a=S(v),v.forEach(m),this.h()},h(){g(e,"class",r="rating-icon "+n[3])},m(f,v){B(f,e,v),h[s].m(e,null),b(e,a),o=!0},p(f,v){let p=s;s=c(f,v),s===p?h[s].p(f,v):(Ae(),N(h[p],1,1,()=>{h[p]=null}),Ce(),i=h[s],i?i.p(f,v):(i=h[s]=u[s](f),i.c()),C(i,1),i.m(e,a)),(!o||v&8&&r!==(r="rating-icon "+f[3]))&&g(e,"class",r)},i(f){o||(C(i),o=!0)},o(f){N(i),o=!1},d(f){f&&m(e),h[s].d()}}}function jl(n){let e,t,l,s,i,a,r,o,u,h;const c=[Ml,Ul,Hl],f=[];function v(_,w){return w&1&&(t=null),w&1&&(l=null),t==null&&(t=!!tl(_[0],_[17])),t?0:(l==null&&(l=!!ll(_[0],_[17])),l?1:2)}s=v(n,-1),i=f[s]=c[s](n);function p(){return n[12](n[17])}return{c(){e=E("button"),i.c(),a=D(),this.h()},l(_){e=T(_,"BUTTON",{class:!0,type:!0});var w=P(e);i.l(w),a=S(w),w.forEach(m),this.h()},h(){g(e,"class",r="rating-icon "+n[3]),g(e,"type","button")},m(_,w){B(_,e,w),f[s].m(e,null),b(e,a),o=!0,u||(h=H(e,"click",p),u=!0)},p(_,w){n=_;let k=s;s=v(n,w),s===k?f[s].p(n,w):(Ae(),N(f[k],1,1,()=>{f[k]=null}),Ce(),i=f[s],i?i.p(n,w):(i=f[s]=c[s](n),i.c()),C(i,1),i.m(e,a)),(!o||w&8&&r!==(r="rating-icon "+n[3]))&&g(e,"class",r)},i(_){o||(C(i),o=!0)},o(_){N(i),o=!1},d(_){_&&m(e),f[s].d(),u=!1,h()}}}function Ll(n){let e;const t=n[11].empty,l=Oe(t,n,n[10],Ct);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),e=!0},p(s,i){l&&l.p&&(!e||i&1024)&&Ie(l,t,s,s[10],e?Se(t,s[10],i,Nl):De(s[10]),Ct)},i(s){e||(C(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function Zl(n){let e;const t=n[11].half,l=Oe(t,n,n[10],Bt);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),e=!0},p(s,i){l&&l.p&&(!e||i&1024)&&Ie(l,t,s,s[10],e?Se(t,s[10],i,zl):De(s[10]),Bt)},i(s){e||(C(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function Rl(n){let e;const t=n[11].full,l=Oe(t,n,n[10],Nt);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),e=!0},p(s,i){l&&l.p&&(!e||i&1024)&&Ie(l,t,s,s[10],e?Se(t,s[10],i,Ol):De(s[10]),Nt)},i(s){e||(C(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function Hl(n){let e;const t=n[11].empty,l=Oe(t,n,n[10],zt);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),e=!0},p(s,i){l&&l.p&&(!e||i&1024)&&Ie(l,t,s,s[10],e?Se(t,s[10],i,Il):De(s[10]),zt)},i(s){e||(C(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function Ul(n){let e;const t=n[11].half,l=Oe(t,n,n[10],Ot);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),e=!0},p(s,i){l&&l.p&&(!e||i&1024)&&Ie(l,t,s,s[10],e?Se(t,s[10],i,Dl):De(s[10]),Ot)},i(s){e||(C(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function Ml(n){let e;const t=n[11].full,l=Oe(t,n,n[10],It);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),e=!0},p(s,i){l&&l.p&&(!e||i&1024)&&Ie(l,t,s,s[10],e?Se(t,s[10],i,Sl):De(s[10]),It)},i(s){e||(C(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function Dt(n){let e,t,l,s;const i=[jl,$l],a=[];function r(o,u){return o[2]?0:1}return e=r(n),t=a[e]=i[e](n),{c(){t.c(),l=We()},l(o){t.l(o),l=We()},m(o,u){a[e].m(o,u),B(o,l,u),s=!0},p(o,u){let h=e;e=r(o),e===h?a[e].p(o,u):(Ae(),N(a[h],1,1,()=>{a[h]=null}),Ce(),t=a[e],t?t.p(o,u):(t=a[e]=i[e](o),t.c()),C(t,1),t.m(l.parentNode,l))},i(o){s||(C(t),s=!0)},o(o){N(t),s=!1},d(o){o&&m(l),a[e].d(o)}}}function Vl(n){let e,t,l,s=Me({length:n[1]}),i=[];for(let r=0;r<s.length;r+=1)i[r]=Dt(At(n,s,r));const a=r=>N(i[r],1,1,()=>{i[r]=null});return{c(){e=E("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=T(r,"DIV",{class:!0,"data-testid":!0});var o=P(e);for(let u=0;u<i.length;u+=1)i[u].l(o);o.forEach(m),this.h()},h(){g(e,"class",t="ratings "+n[4]),g(e,"data-testid","rating-bar")},m(r,o){B(r,e,o);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);l=!0},p(r,[o]){if(o&1071){s=Me({length:r[1]});let u;for(u=0;u<s.length;u+=1){const h=At(r,s,u);i[u]?(i[u].p(h,o),C(i[u],1)):(i[u]=Dt(h),i[u].c(),C(i[u],1),i[u].m(e,null))}for(Ae(),u=s.length;u<i.length;u+=1)a(u);Ce()}(!l||o&16&&t!==(t="ratings "+r[4]))&&g(e,"class",t)},i(r){if(!l){for(let o=0;o<s.length;o+=1)C(i[o]);l=!0}},o(r){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)N(i[o]);l=!1},d(r){r&&m(e),ot(i,r)}}}const Fl="w-full flex";function tl(n,e){return Math.floor(n)>=e+1}function ll(n,e){return n===e+.5}function ql(n,e,t){let l,{$$slots:s={},$$scope:i}=e,{value:a=0}=e,{max:r=5}=e,{interactive:o=!1}=e,{text:u="text-token"}=e,{fill:h="fill-token"}=e,{justify:c="justify-center"}=e,{spacing:f="space-x-2"}=e,{regionIcon:v=""}=e;const p=et();function _(k){p("icon",{index:k+1})}const w=k=>_(k);return n.$$set=k=>{t(14,e=R(R({},e),W(k))),"value"in k&&t(0,a=k.value),"max"in k&&t(1,r=k.max),"interactive"in k&&t(2,o=k.interactive),"text"in k&&t(6,u=k.text),"fill"in k&&t(7,h=k.fill),"justify"in k&&t(8,c=k.justify),"spacing"in k&&t(9,f=k.spacing),"regionIcon"in k&&t(3,v=k.regionIcon),"$$scope"in k&&t(10,i=k.$$scope)},n.$$.update=()=>{t(4,l=`${Fl} ${u} ${h} ${c} ${f} ${e.class??""}`)},e=W(e),[a,r,o,v,l,_,u,h,c,f,i,s,w]}class Jl extends ae{constructor(e){super(),se(this,e,ql,Vl,ne,{value:0,max:1,interactive:2,text:6,fill:7,justify:8,spacing:9,regionIcon:3})}}function St(n){let e,t;const l=n[22].default,s=Oe(l,n,n[21],null);return{c(){e=E("div"),s&&s.c(),this.h()},l(i){e=T(i,"DIV",{class:!0});var a=P(e);s&&s.l(a),a.forEach(m),this.h()},h(){g(e,"class","slide-toggle-text ml-3")},m(i,a){B(i,e,a),s&&s.m(e,null),t=!0},p(i,a){s&&s.p&&(!t||a[0]&2097152)&&Ie(s,l,i,i[21],t?Se(l,i[21],a,null):De(i[21]),null)},i(i){t||(C(s,i),t=!0)},o(i){N(s,i),t=!1},d(i){i&&m(e),s&&s.d(i)}}}function Gl(n){let e,t,l,s,i,a,r,o,u,h,c,f,v,p,_,w=[{type:"checkbox"},{class:"slide-toggle-input hidden"},{name:n[1]},n[8](),{disabled:s=n[9].disabled}],k={};for(let d=0;d<w.length;d+=1)k=R(k,w[d]);let y=n[10].default&&St(n);return{c(){e=E("div"),t=E("label"),l=E("input"),i=D(),a=E("div"),r=E("div"),h=D(),y&&y.c(),this.h()},l(d){e=T(d,"DIV",{id:!0,class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-checked":!0,tabindex:!0});var A=P(e);t=T(A,"LABEL",{class:!0});var O=P(t);l=T(O,"INPUT",{type:!0,class:!0,name:!0}),i=S(O),a=T(O,"DIV",{class:!0});var $=P(a);r=T($,"DIV",{class:!0}),P(r).forEach(m),$.forEach(m),h=S(O),y&&y.l(O),O.forEach(m),A.forEach(m),this.h()},h(){yt(l,k),g(r,"class",o="slide-toggle-thumb "+n[3]),$e(r,"cursor-not-allowed",n[9].disabled),g(a,"class",u="slide-toggle-track "+n[4]),$e(a,"cursor-not-allowed",n[9].disabled),g(t,"class",c="slide-toggle-label "+n[5]),g(e,"id",n[2]),g(e,"class",f="slide-toggle "+n[6]),g(e,"data-testid","slide-toggle"),g(e,"role","switch"),g(e,"aria-label",n[2]),g(e,"aria-checked",n[0]),g(e,"tabindex","0")},m(d,A){B(d,e,A),b(e,t),b(t,l),l.autofocus&&l.focus(),l.checked=n[0],b(t,i),b(t,a),b(a,r),b(t,h),y&&y.m(t,null),v=!0,p||(_=[H(l,"change",n[31]),H(l,"click",n[23]),H(l,"keydown",n[24]),H(l,"keyup",n[25]),H(l,"keypress",n[26]),H(l,"mouseover",n[27]),H(l,"change",n[28]),H(l,"focus",n[29]),H(l,"blur",n[30]),H(e,"keydown",n[7])],p=!0)},p(d,A){yt(l,k=ye(w,[{type:"checkbox"},{class:"slide-toggle-input hidden"},(!v||A[0]&2)&&{name:d[1]},d[8](),(!v||A[0]&512&&s!==(s=d[9].disabled))&&{disabled:s}])),A[0]&1&&(l.checked=d[0]),(!v||A[0]&8&&o!==(o="slide-toggle-thumb "+d[3]))&&g(r,"class",o),(!v||A[0]&520)&&$e(r,"cursor-not-allowed",d[9].disabled),(!v||A[0]&16&&u!==(u="slide-toggle-track "+d[4]))&&g(a,"class",u),(!v||A[0]&528)&&$e(a,"cursor-not-allowed",d[9].disabled),d[10].default?y?(y.p(d,A),A[0]&1024&&C(y,1)):(y=St(d),y.c(),C(y,1),y.m(t,null)):y&&(Ae(),N(y,1,1,()=>{y=null}),Ce()),(!v||A[0]&32&&c!==(c="slide-toggle-label "+d[5]))&&g(t,"class",c),(!v||A[0]&4)&&g(e,"id",d[2]),(!v||A[0]&64&&f!==(f="slide-toggle "+d[6]))&&g(e,"class",f),(!v||A[0]&4)&&g(e,"aria-label",d[2]),(!v||A[0]&1)&&g(e,"aria-checked",d[0])},i(d){v||(C(y),v=!0)},o(d){N(y),v=!1},d(d){d&&m(e),y&&y.d(),p=!1,Le(_)}}}const Kl="inline-block",Wl="unstyled flex items-center",Yl="flex transition-all duration-[200ms] cursor-pointer",Xl="w-[50%] h-full scale-[0.8] transition-all duration-[200ms] shadow";function Ql(n,e,t){let l,s,i,a,r,o,u,h;const c=["name","checked","size","background","active","border","rounded","label"];let f=Et(e,c),{$$slots:v={},$$scope:p}=e;const _=wl(v),w=et();let{name:k}=e,{checked:y=!1}=e,{size:d="md"}=e,{background:A="bg-surface-400 dark:bg-surface-700"}=e,{active:O="bg-surface-900 dark:bg-surface-300"}=e,{border:$=""}=e,{rounded:M="rounded-full"}=e,{label:U=""}=e,Z;switch(d){case"sm":Z="w-12 h-6";break;case"lg":Z="w-20 h-10";break;default:Z="w-16 h-8"}function ee(j){["Enter","Space"].includes(j.code)&&(j.preventDefault(),w("keyup",j),j.currentTarget.firstChild.click())}function ue(){return delete f.class,f}function Q(j){Ne.call(this,n,j)}function _e(j){Ne.call(this,n,j)}function ce(j){Ne.call(this,n,j)}function K(j){Ne.call(this,n,j)}function Y(j){Ne.call(this,n,j)}function X(j){Ne.call(this,n,j)}function fe(j){Ne.call(this,n,j)}function be(j){Ne.call(this,n,j)}function ge(){y=this.checked,t(0,y)}return n.$$set=j=>{t(9,e=R(R({},e),W(j))),t(33,f=Et(e,c)),"name"in j&&t(1,k=j.name),"checked"in j&&t(0,y=j.checked),"size"in j&&t(11,d=j.size),"background"in j&&t(12,A=j.background),"active"in j&&t(13,O=j.active),"border"in j&&t(14,$=j.border),"rounded"in j&&t(15,M=j.rounded),"label"in j&&t(2,U=j.label),"$$scope"in j&&t(21,p=j.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&12289&&t(19,l=y?O:`${A} cursor-pointer`),n.$$.dirty[0]&1&&t(18,s=y?"bg-white/75":"bg-white"),n.$$.dirty[0]&1&&t(17,i=y?"translate-x-full":""),t(20,a=e.disabled===!0?"opacity-50":"hover:brightness-[105%] dark:hover:brightness-110 cursor-pointer"),t(6,r=`${Kl} ${M} ${a} ${e.class??""}`),n.$$.dirty[0]&638976&&t(4,u=`${Yl} ${$} ${M} ${Z} ${l}`),n.$$.dirty[0]&425984&&t(3,h=`${Xl} ${M} ${s} ${i}`)},t(5,o=`${Wl}`),e=W(e),[y,k,U,h,u,o,r,ee,ue,e,_,d,A,O,$,M,Z,i,s,l,a,p,v,Q,_e,ce,K,Y,X,fe,be,ge]}class xl extends ae{constructor(e){super(),se(this,e,Ql,Gl,ne,{name:1,checked:0,size:11,background:12,active:13,border:14,rounded:15,label:2},null,[-1,-1])}}var ht={exports:{}};function nl(){var n=Object.create(null),e=0,t=0,l=0,s=!1;this.put=function(a,r,o,u){if(s&&console.log("caching: %s = %j (@%s)",a,r,o),typeof o<"u"&&(typeof o!="number"||isNaN(o)||o<=0))throw new Error("Cache timeout must be a positive number");if(typeof u<"u"&&typeof u!="function")throw new Error("Cache timeout callback must be a function");var h=n[a];h?clearTimeout(h.timeout):l++;var c={value:r,expire:o+Date.now()};return isNaN(c.expire)||(c.timeout=setTimeout((function(){i(a),u&&u(a,r)}).bind(this),o)),n[a]=c,r},this.del=function(a){var r=!0,o=n[a];return o?(clearTimeout(o.timeout),!isNaN(o.expire)&&o.expire<Date.now()&&(r=!1)):r=!1,r&&i(a),r};function i(a){l--,delete n[a]}this.clear=function(){for(var a in n)clearTimeout(n[a].timeout);l=0,n=Object.create(null),s&&(e=0,t=0)},this.get=function(a){var r=n[a];if(typeof r<"u"){if(isNaN(r.expire)||r.expire>=Date.now())return s&&e++,r.value;s&&t++,l--,delete n[a]}else s&&t++;return null},this.size=function(){return l},this.memsize=function(){var a=0,r;for(r in n)a++;return a},this.debug=function(a){s=a},this.hits=function(){return e},this.misses=function(){return t},this.keys=function(){return Object.keys(n)},this.exportJson=function(){var a={};for(var r in n){var o=n[r];a[r]={value:o.value,expire:o.expire||"NaN"}}return JSON.stringify(a)},this.importJson=function(a,r){var o=JSON.parse(a),u=Date.now(),h=r&&r.skipDuplicates;for(var c in o)if(o.hasOwnProperty(c)){if(h){var f=n[c];if(f){s&&console.log("Skipping duplicate imported key '%s'",c);continue}}var v=o[c],p=v.expire-u;if(p<=0){this.del(c);continue}p=p>0?p:void 0,this.put(c,v.value,p)}return this.size()}}ht.exports=new nl;ht.exports.Cache=nl;var en=ht.exports;const $t=dl(en);class al{constructor(e,t){this.cacheName=e,this.ttl=t}get(e){return $t.get(this.buildKey(e))}buildKey(e){return this.cacheName+"~"+e}put(e,t){$t.put(this.buildKey(e),t,this.ttl)}}const dt=ml.extend("api-query"),jt=new al("ARTIST",3600*1e3),Lt=new al("ARTIST-DISCOGRAPHY",3600*1e3);async function tn(n){dt("getDeezerArtist "+n);const e=jt.get(n);if(e)return e;const t=await Ye({apiPath:"/artist/"+n});return jt.put(n,t),t}async function sl(n){return dt("getAlbumTracks "+n),await rt({apiPath:"/album/"+n+"/tracks",index:0,limit:100})}async function il(n){dt("getDeezerArtistDiscography "+n);const e=Lt.get(n);if(e)return e;const t=await rt({apiPath:"/artist/"+n+"/albums",index:0,limit:100}),l=await Promise.all(t.data.map(async s=>{const i=await sl(s.id);return{...s,tracks:i.data}}));return Lt.put(n,l),l}const ln=!1;async function nn(n){if(n==="NEW"){const e=new Date().toISOString(),t=await Ye({apiPath:"/user/me/playlists",searchParams:{request_method:"POST",title:`New Playlist ${e}`,description:`Playlist created with deezer-artist-playlist-organizer on the ${e}`,public:!0}});throw _l(302,"./"+t.id)}return n}async function an({params:n}){const e=await nn(n.id),t=await Ye({apiPath:`/playlist/${e}`}),l=t.tracks.data.reduce((a,r)=>(a[r.artist.id]||(a[r.artist.id]={artist:r.artist,count:0}),a[r.artist.id].count++,a),{}),s=Object.values(l).sort((a,r)=>r.count-a.count);if(t.nb_tracks>400){const a=await rt({apiPath:`/playlist/${e}/tracks`,limit:100,index:t.tracks.data.length});t.tracks.data=[...t.tracks.data,...a.data]}const i=Promise.all(s.map(async a=>await tn(a.artist.id)));return{playlist:t,topArtists:i}}const ls=Object.freeze(Object.defineProperty({__proto__:null,load:an,ssr:ln},Symbol.toStringTag,{value:"Module"}));function sn(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm40-84a12 12 0 0 1-5.12 9.83l-40 28A12 12 0 0 1 104 156v-56a12 12 0 0 1 18.88-9.83l40 28A12 12 0 0 1 168 128Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=R(i,s[a]);return{c(){e=Te("svg"),t=new ke(!0),this.h()},l(a){e=Pe(a,"svg",{viewBox:!0,width:!0,height:!0});var r=P(e);t=we(r,!0),r.forEach(m),this.h()},h(){t.a=null,le(e,i)},m(a,r){B(a,e,r),t.m(l,e)},p(a,[r]){le(e,i=ye(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function rn(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),W(l)))},e=W(e),[e]}class on extends ae{constructor(e){super(),se(this,e,rn,sn,ne,{})}}function un(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84ZM116 96v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Zm48 0v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=R(i,s[a]);return{c(){e=Te("svg"),t=new ke(!0),this.h()},l(a){e=Pe(a,"svg",{viewBox:!0,width:!0,height:!0});var r=P(e);t=we(r,!0),r.forEach(m),this.h()},h(){t.a=null,le(e,i)},m(a,r){B(a,e,r),t.m(l,e)},p(a,[r]){le(e,i=ye(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function cn(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),W(l)))},e=W(e),[e]}class fn extends ae{constructor(e){super(),se(this,e,cn,un,ne,{})}}function hn(n){let e,t,l,s,i;return t=new fn({}),{c(){e=E("span"),V(t.$$.fragment),this.h()},l(a){e=T(a,"SPAN",{role:!0});var r=P(e);F(t.$$.fragment,r),r.forEach(m),this.h()},h(){g(e,"role","button")},m(a,r){B(a,e,r),q(t,e,null),l=!0,s||(i=H(e,"click",n[4]),s=!0)},p:G,i(a){l||(C(t.$$.fragment,a),l=!0)},o(a){N(t.$$.fragment,a),l=!1},d(a){a&&m(e),J(t),s=!1,i()}}}function dn(n){let e,t,l,s,i;return t=new on({}),{c(){e=E("span"),V(t.$$.fragment),this.h()},l(a){e=T(a,"SPAN",{role:!0});var r=P(e);F(t.$$.fragment,r),r.forEach(m),this.h()},h(){g(e,"role","button")},m(a,r){B(a,e,r),q(t,e,null),l=!0,s||(i=H(e,"click",n[4]),s=!0)},p:G,i(a){l||(C(t.$$.fragment,a),l=!0)},o(a){N(t.$$.fragment,a),l=!1},d(a){a&&m(e),J(t),s=!1,i()}}}function mn(n){let e,t,l=!0,s,i,a,r,o,u,h;const c=[dn,hn],f=[];function v(p,_){return p[0]?0:1}return a=v(n),r=f[a]=c[a](n),{c(){e=E("audio"),s=D(),i=E("span"),r.c(),this.h()},l(p){e=T(p,"AUDIO",{src:!0}),P(e).forEach(m),s=S(p),i=T(p,"SPAN",{});var _=P(i);r.l(_),_.forEach(m),this.h()},h(){Ve(e.src,t=n[1])||g(e,"src",t),e.loop=n[2],$e(i,"text-gray-500",!n[3])},m(p,_){B(p,e,_),B(p,s,_),B(p,i,_),f[a].m(i,null),o=!0,u||(h=[H(e,"play",n[5]),H(e,"pause",n[5])],u=!0)},p(p,[_]){(!o||_&2&&!Ve(e.src,t=p[1]))&&g(e,"src",t),(!o||_&4)&&(e.loop=p[2]),_&1&&l!==(l=p[0])&&e[l?"pause":"play"]();let w=a;a=v(p),a===w?f[a].p(p,_):(Ae(),N(f[w],1,1,()=>{f[w]=null}),Ce(),r=f[a],r?r.p(p,_):(r=f[a]=c[a](p),r.c()),C(r,1),r.m(i,null)),(!o||_&8)&&$e(i,"text-gray-500",!p[3])},i(p){o||(C(r),o=!0)},o(p){N(r),o=!1},d(p){p&&(m(e),m(s),m(i)),f[a].d(),u=!1,Le(h)}}}function _n(n,e,t){let{src:l}=e,{loop:s=!1}=e,{enabled:i=!0}=e,{paused:a=!0}=e;function r(){i&&t(0,a=!a)}function o(){a=this.paused,t(0,a)}return n.$$set=u=>{"src"in u&&t(1,l=u.src),"loop"in u&&t(2,s=u.loop),"enabled"in u&&t(3,i=u.enabled),"paused"in u&&t(0,a=u.paused)},[a,l,s,i,r,o]}class gn extends ae{constructor(e){super(),se(this,e,_n,mn,ne,{src:1,loop:2,enabled:3,paused:0})}}function Zt(n,e,t){const l=n.slice();return l[37]=e[t],l}const pn=n=>({option:n[0]&16512,classesButton:n[0]&512}),Rt=n=>({option:n[37],classesButton:n[9],onSelection:n[15]});function vn(n){let e,t,l;return{c(){e=E("div"),t=re(n[1]),this.h()},l(s){e=T(s,"DIV",{class:!0});var i=P(e);t=oe(i,n[1]),i.forEach(m),this.h()},h(){g(e,"class",l="autocomplete-empty "+n[8])},m(s,i){B(s,e,i),b(e,t)},p(s,i){i[0]&2&&ze(t,s[1]),i[0]&256&&l!==(l="autocomplete-empty "+s[8])&&g(e,"class",l)},i:G,o:G,d(s){s&&m(e)}}}function bn(n){let e,t,l=[],s=new Map,i,a,r,o=Me(n[7].slice(0,n[14]));const u=h=>h[37];for(let h=0;h<o.length;h+=1){let c=Zt(n,o,h),f=u(c);s.set(f,l[h]=Ht(f,c))}return{c(){e=E("nav"),t=E("ul");for(let h=0;h<l.length;h+=1)l[h].c();this.h()},l(h){e=T(h,"NAV",{class:!0});var c=P(e);t=T(c,"UL",{class:!0});var f=P(t);for(let v=0;v<l.length;v+=1)l[v].l(f);f.forEach(m),c.forEach(m),this.h()},h(){g(t,"class",i="autocomplete-list "+n[11]),g(e,"class",a="autocomplete-nav "+n[12])},m(h,c){B(h,e,c),b(e,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);r=!0},p(h,c){c[0]&134268644&&(o=Me(h[7].slice(0,h[14])),Ae(),l=pl(l,c,u,1,h,o,s,t,vl,Ht,null,Zt),Ce()),(!r||c[0]&2048&&i!==(i="autocomplete-list "+h[11]))&&g(t,"class",i),(!r||c[0]&4096&&a!==(a="autocomplete-nav "+h[12]))&&g(e,"class",a)},i(h){if(!r){for(let c=0;c<o.length;c+=1)C(l[c]);r=!0}},o(h){for(let c=0;c<l.length;c+=1)N(l[c]);r=!1},d(h){h&&m(e);for(let c=0;c<l.length;c+=1)l[c].d()}}}function kn(n){let e,t,l=n[37].label+"",s,i,a;function r(){return n[31](n[37])}return{c(){e=E("button"),t=new ke(!1),this.h()},l(o){e=T(o,"BUTTON",{class:!0,type:!0});var u=P(e);t=we(u,!1),u.forEach(m),this.h()},h(){t.a=null,g(e,"class",s="autocomplete-button "+n[9]),g(e,"type","button")},m(o,u){B(o,e,u),t.m(l,e),i||(a=[H(e,"click",r),H(e,"click",n[29]),H(e,"keypress",n[30])],i=!0)},p(o,u){n=o,u[0]&16512&&l!==(l=n[37].label+"")&&t.p(l),u[0]&512&&s!==(s="autocomplete-button "+n[9])&&g(e,"class",s)},d(o){o&&m(e),i=!1,Le(a)}}}function Ht(n,e){let t,l,s,i,a,r;const o=e[28].optionButton,u=Oe(o,e,e[27],Rt),h=u||kn(e);return{key:n,first:null,c(){t=E("li"),h&&h.c(),l=D(),this.h()},l(c){t=T(c,"LI",{class:!0});var f=P(t);h&&h.l(f),l=S(f),f.forEach(m),this.h()},h(){g(t,"class",s="autocomplete-item "+e[10]),this.first=t},m(c,f){B(c,t,f),h&&h.m(t,null),b(t,l),r=!0},p(c,f){e=c,u?u.p&&(!r||f[0]&134234752)&&Ie(u,o,e,e[27],r?Se(o,e[27],f,pn):De(e[27]),Rt):h&&h.p&&(!r||f[0]&17024)&&h.p(e,r?f:[-1,-1]),(!r||f[0]&1024&&s!==(s="autocomplete-item "+e[10]))&&g(t,"class",s)},i(c){r||(C(h,c),c&&yl(()=>{r&&(a&&a.end(1),i=Pl(t,e[0],{transition:e[3],params:e[4],enabled:e[2]}),i.start())}),r=!0)},o(c){N(h,c),i&&i.invalidate(),c&&(a=Al(t,e[0],{transition:e[5],params:e[6],enabled:e[2]})),r=!1},d(c){c&&m(t),h&&h.d(c),c&&a&&a.end()}}}function wn(n){let e,t,l,s,i;const a=[bn,vn],r=[];function o(u,h){return u[7].length>0?0:1}return t=o(n),l=r[t]=a[t](n),{c(){e=E("div"),l.c(),this.h()},l(u){e=T(u,"DIV",{class:!0,"data-testid":!0});var h=P(e);l.l(h),h.forEach(m),this.h()},h(){g(e,"class",s="autocomplete "+n[13]),g(e,"data-testid","autocomplete")},m(u,h){B(u,e,h),r[t].m(e,null),i=!0},p(u,h){let c=t;t=o(u),t===c?r[t].p(u,h):(Ae(),N(r[c],1,1,()=>{r[c]=null}),Ce(),l=r[t],l?l.p(u,h):(l=r[t]=a[t](u),l.c()),C(l,1),l.m(e,null)),(!i||h[0]&8192&&s!==(s="autocomplete "+u[13]))&&g(e,"class",s)},i(u){i||(C(l),i=!0)},o(u){N(l),i=!1},d(u){u&&m(e),r[t].d()}}}function rl(n,e){const{transition:t,params:l,enabled:s}=e;return s?t(n,l):"duration"in l?t(n,{duration:0}):{duration:0}}function yn(n,e,t){let l,s,i,a,r,o,u,h,c,f;Ke(n,gl,I=>t(32,f=I));let{$$slots:v={},$$scope:p}=e;const _=et();let{input:w=void 0}=e,{options:k=[]}=e,{limit:y=void 0}=e,{allowlist:d=[]}=e,{denylist:A=[]}=e,{emptyState:O="No Results Found."}=e,{regionNav:$=""}=e,{regionList:M="list-nav"}=e,{regionItem:U=""}=e,{regionButton:Z="w-full"}=e,{regionEmpty:ee="text-center"}=e,{transitions:ue=!f}=e,{transitionIn:Q=Pt}=e,{transitionInParams:_e={duration:200}}=e,{transitionOut:ce=Pt}=e,{transitionOutParams:K={duration:200}}=e;function Y(I,pe){let de=[...k];I.length&&(de=de.filter(je=>I.includes(je.value))),pe.length&&(de=de.filter(je=>!pe.includes(je.value))),!I.length&&!pe.length&&(de=k),t(26,l=de)}function X(){let I=[...l];return I=I.filter(pe=>{const de=String(w).toLowerCase().trim();if(JSON.stringify([pe.label,pe.value,pe.keywords]).toLowerCase().includes(de))return pe}),I}function fe(I){_("selection",I)}function be(I){Ne.call(this,n,I)}function ge(I){Ne.call(this,n,I)}const j=I=>fe(I);return n.$$set=I=>{t(36,e=R(R({},e),W(I))),"input"in I&&t(16,w=I.input),"options"in I&&t(17,k=I.options),"limit"in I&&t(18,y=I.limit),"allowlist"in I&&t(19,d=I.allowlist),"denylist"in I&&t(20,A=I.denylist),"emptyState"in I&&t(1,O=I.emptyState),"regionNav"in I&&t(21,$=I.regionNav),"regionList"in I&&t(22,M=I.regionList),"regionItem"in I&&t(23,U=I.regionItem),"regionButton"in I&&t(24,Z=I.regionButton),"regionEmpty"in I&&t(25,ee=I.regionEmpty),"transitions"in I&&t(2,ue=I.transitions),"transitionIn"in I&&t(3,Q=I.transitionIn),"transitionInParams"in I&&t(4,_e=I.transitionInParams),"transitionOut"in I&&t(5,ce=I.transitionOut),"transitionOutParams"in I&&t(6,K=I.transitionOutParams),"$$scope"in I&&t(27,p=I.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&131072&&t(26,l=k),n.$$.dirty[0]&1572864&&Y(d,A),n.$$.dirty[0]&67174400&&t(7,s=w?X():l),n.$$.dirty[0]&262272&&t(14,i=y!==void 0?y:s.length),t(13,a=`${e.class??""}`),n.$$.dirty[0]&2097152&&t(12,r=`${$}`),n.$$.dirty[0]&4194304&&t(11,o=`${M}`),n.$$.dirty[0]&8388608&&t(10,u=`${U}`),n.$$.dirty[0]&16777216&&t(9,h=`${Z}`),n.$$.dirty[0]&33554432&&t(8,c=`${ee}`)},e=W(e),[rl,O,ue,Q,_e,ce,K,s,c,h,u,o,r,a,i,fe,w,k,y,d,A,$,M,U,Z,ee,l,p,v,be,ge,j]}class En extends ae{constructor(e){super(),se(this,e,yn,wn,ne,{dynamicTransition:0,input:16,options:17,limit:18,allowlist:19,denylist:20,emptyState:1,regionNav:21,regionList:22,regionItem:23,regionButton:24,regionEmpty:25,transitions:2,transitionIn:3,transitionInParams:4,transitionOut:5,transitionOutParams:6},null,[-1,-1])}get dynamicTransition(){return rl}}function Tn(n){let e,t;const l=n[1].default,s=Oe(l,n,n[0],null);return{c(){e=E("span"),s&&s.c(),this.h()},l(i){e=T(i,"SPAN",{class:!0});var a=P(e);s&&s.l(a),a.forEach(m),this.h()},h(){g(e,"class","flex gap-x-2 items-center mx-2")},m(i,a){B(i,e,a),s&&s.m(e,null),t=!0},p(i,[a]){s&&s.p&&(!t||a&1)&&Ie(s,l,i,i[0],t?Se(l,i[0],a,null):De(i[0]),null)},i(i){t||(C(s,i),t=!0)},o(i){N(s,i),t=!1},d(i){i&&m(e),s&&s.d(i)}}}function Pn(n,e,t){let{$$slots:l={},$$scope:s}=e;return n.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,l]}class Qe extends ae{constructor(e){super(),se(this,e,Pn,Tn,ne,{})}}function An(n){let e,t,l,s;const i=n[3].default,a=Oe(i,n,n[2],null);return{c(){e=E("td"),t=E("div"),a&&a.c(),this.h()},l(r){e=T(r,"TD",{style:!0,title:!0});var o=P(e);t=T(o,"DIV",{class:!0});var u=P(t);a&&a.l(u),u.forEach(m),o.forEach(m),this.h()},h(){g(t,"class",l="flex items-center justify-"+n[0]+" gap-x-2 h-full"),El(e,"vertical-align","middle"),g(e,"title",n[1])},m(r,o){B(r,e,o),b(e,t),a&&a.m(t,null),s=!0},p(r,[o]){a&&a.p&&(!s||o&4)&&Ie(a,i,r,r[2],s?Se(i,r[2],o,null):De(r[2]),null),(!s||o&1&&l!==(l="flex items-center justify-"+r[0]+" gap-x-2 h-full"))&&g(t,"class",l),(!s||o&2)&&g(e,"title",r[1])},i(r){s||(C(a,r),s=!0)},o(r){N(a,r),s=!1},d(r){r&&m(e),a&&a.d(r)}}}function Cn(n,e,t){let{$$slots:l={},$$scope:s}=e,{justify:i="center"}=e,{title:a=""}=e;return n.$$set=r=>{"justify"in r&&t(0,i=r.justify),"title"in r&&t(1,a=r.title),"$$scope"in r&&t(2,s=r.$$scope)},[i,a,s,l]}class Ge extends ae{constructor(e){super(),se(this,e,Cn,An,ne,{justify:0,title:1})}}function Bn(n){let e,t,l='<path fill="currentColor" d="M216 36H68.53a20.09 20.09 0 0 0-17.15 9.71L5.71 121.83a12 12 0 0 0 0 12.34l45.67 76.12A20.09 20.09 0 0 0 68.53 220H216a20 20 0 0 0 20-20V56a20 20 0 0 0-20-20Zm-4 160H70.8L30 128l40.8-68H212Zm-108.49-52.49L119 128l-15.52-15.51a12 12 0 0 1 17-17L136 111l15.51-15.52a12 12 0 0 1 17 17L153 128l15.52 15.51a12 12 0 0 1-17 17L136 145l-15.51 15.52a12 12 0 0 1-17-17Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=R(i,s[a]);return{c(){e=Te("svg"),t=new ke(!0),this.h()},l(a){e=Pe(a,"svg",{viewBox:!0,width:!0,height:!0});var r=P(e);t=we(r,!0),r.forEach(m),this.h()},h(){t.a=null,le(e,i)},m(a,r){B(a,e,r),t.m(l,e)},p(a,[r]){le(e,i=ye(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function Nn(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),W(l)))},e=W(e),[e]}class zn extends ae{constructor(e){super(),se(this,e,Nn,Bn,ne,{})}}function On(n){let e,t,l='<path fill="currentColor" d="M160 36a92.09 92.09 0 0 0-81 48.36A68 68 0 1 0 72 220h88a92 92 0 0 0 0-184Zm0 160H72a44 44 0 0 1-1.82-88A91.86 91.86 0 0 0 68 128a12 12 0 0 0 24 0a68 68 0 1 1 68 68Zm40.49-92.49a12 12 0 0 1 0 17l-48 48a12 12 0 0 1-17 0l-24-24a12 12 0 1 1 17-17L144 143l39.51-39.52a12 12 0 0 1 16.98.03Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=R(i,s[a]);return{c(){e=Te("svg"),t=new ke(!0),this.h()},l(a){e=Pe(a,"svg",{viewBox:!0,width:!0,height:!0});var r=P(e);t=we(r,!0),r.forEach(m),this.h()},h(){t.a=null,le(e,i)},m(a,r){B(a,e,r),t.m(l,e)},p(a,[r]){le(e,i=ye(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function In(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),W(l)))},e=W(e),[e]}class Dn extends ae{constructor(e){super(),se(this,e,In,On,ne,{})}}function Sn(n){let e,t,l='<path fill="currentColor" d="M136.37 187.53a12 12 0 0 1 0 17l-5.94 5.94a60 60 0 0 1-84.88-84.88l24.12-24.11A60 60 0 0 1 152 99a12 12 0 1 1-16 18a36 36 0 0 0-49.37 1.47l-24.1 24.08a36 36 0 0 0 50.92 50.92l5.94-5.94a12 12 0 0 1 16.98 0Zm74.08-142a60.09 60.09 0 0 0-84.88 0l-5.94 5.94a12 12 0 0 0 17 17l5.94-5.94a36 36 0 0 1 50.92 50.92l-24.11 24.12A36 36 0 0 1 120 139a12 12 0 1 0-16 18a60 60 0 0 0 82.3-2.43l24.12-24.11a60.09 60.09 0 0 0 .03-84.91Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=R(i,s[a]);return{c(){e=Te("svg"),t=new ke(!0),this.h()},l(a){e=Pe(a,"svg",{viewBox:!0,width:!0,height:!0});var r=P(e);t=we(r,!0),r.forEach(m),this.h()},h(){t.a=null,le(e,i)},m(a,r){B(a,e,r),t.m(l,e)},p(a,[r]){le(e,i=ye(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function $n(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),W(l)))},e=W(e),[e]}class jn extends ae{constructor(e){super(),se(this,e,$n,Sn,ne,{})}}function Ln(n){let e,t,l='<path fill="currentColor" d="M180 128a12 12 0 0 1-12 12H88a12 12 0 0 1 0-24h80a12 12 0 0 1 12 12Zm56 0A108 108 0 1 1 128 20a108.12 108.12 0 0 1 108 108Zm-24 0a84 84 0 1 0-84 84a84.09 84.09 0 0 0 84-84Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=R(i,s[a]);return{c(){e=Te("svg"),t=new ke(!0),this.h()},l(a){e=Pe(a,"svg",{viewBox:!0,width:!0,height:!0});var r=P(e);t=we(r,!0),r.forEach(m),this.h()},h(){t.a=null,le(e,i)},m(a,r){B(a,e,r),t.m(l,e)},p(a,[r]){le(e,i=ye(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function Zn(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),W(l)))},e=W(e),[e]}class ol extends ae{constructor(e){super(),se(this,e,Zn,Ln,ne,{})}}function Rn(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm52-84a12 12 0 0 1-12 12h-28v28a12 12 0 0 1-24 0v-28H88a12 12 0 0 1 0-24h28V88a12 12 0 0 1 24 0v28h28a12 12 0 0 1 12 12Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=R(i,s[a]);return{c(){e=Te("svg"),t=new ke(!0),this.h()},l(a){e=Pe(a,"svg",{viewBox:!0,width:!0,height:!0});var r=P(e);t=we(r,!0),r.forEach(m),this.h()},h(){t.a=null,le(e,i)},m(a,r){B(a,e,r),t.m(l,e)},p(a,[r]){le(e,i=ye(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function Hn(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),W(l)))},e=W(e),[e]}class mt extends ae{constructor(e){super(),se(this,e,Hn,Rn,ne,{})}}function Un(n){let e,t,l='<path fill="currentColor" d="M128 128a12 12 0 0 1-12 12H48a12 12 0 0 1 0-24h68a12 12 0 0 1 12 12ZM48 76h132a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm52 104H48a12 12 0 0 0 0 24h52a12 12 0 0 0 0-24Zm132.49-20.49a12 12 0 0 0-17 0L196 179v-67a12 12 0 0 0-24 0v67l-19.51-19.52a12 12 0 0 0-17 17l40 40a12 12 0 0 0 17 0l40-40a12 12 0 0 0 0-16.97Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=R(i,s[a]);return{c(){e=Te("svg"),t=new ke(!0),this.h()},l(a){e=Pe(a,"svg",{viewBox:!0,width:!0,height:!0});var r=P(e);t=we(r,!0),r.forEach(m),this.h()},h(){t.a=null,le(e,i)},m(a,r){B(a,e,r),t.m(l,e)},p(a,[r]){le(e,i=ye(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function Mn(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),W(l)))},e=W(e),[e]}class Vn extends ae{constructor(e){super(),se(this,e,Mn,Un,ne,{})}}function Fn(n){let e,t,l='<path fill="currentColor" d="M36 128a12 12 0 0 1 12-12h68a12 12 0 0 1 0 24H48a12 12 0 0 1-12-12Zm12-52h52a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm132 104H48a12 12 0 0 0 0 24h132a12 12 0 0 0 0-24Zm52.49-100.49l-40-40a12 12 0 0 0-17 0l-40 40a12 12 0 0 0 17 17L172 77v67a12 12 0 0 0 24 0V77l19.51 19.52a12 12 0 0 0 17-17Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=R(i,s[a]);return{c(){e=Te("svg"),t=new ke(!0),this.h()},l(a){e=Pe(a,"svg",{viewBox:!0,width:!0,height:!0});var r=P(e);t=we(r,!0),r.forEach(m),this.h()},h(){t.a=null,le(e,i)},m(a,r){B(a,e,r),t.m(l,e)},p(a,[r]){le(e,i=ye(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function qn(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),W(l)))},e=W(e),[e]}class Jn extends ae{constructor(e){super(),se(this,e,qn,Fn,ne,{})}}function Gn(n){let e,t,l='<path fill="currentColor" d="M243 96.05a20 20 0 0 0-17.26-13.72l-57-4.93l-22.3-53.14a20 20 0 0 0-36.82 0L87.29 77.4l-57 4.93a20 20 0 0 0-11.42 35.07l43.32 37.8l-13 56.24A20 20 0 0 0 79 233.1l49-29.76l49 29.76a20 20 0 0 0 29.8-21.66l-13-56.24l43.32-37.8A20 20 0 0 0 243 96.05Zm-66.75 42.62a20 20 0 0 0-6.35 19.63l11.39 49.32l-42.94-26.08a19.9 19.9 0 0 0-20.7 0l-42.94 26.08L86.1 158.3a20 20 0 0 0-6.35-19.63l-38.09-33.23l50.14-4.34a19.92 19.92 0 0 0 16.69-12.19L128 42.42l19.51 46.49a19.92 19.92 0 0 0 16.69 12.19l50.14 4.34Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=R(i,s[a]);return{c(){e=Te("svg"),t=new ke(!0),this.h()},l(a){e=Pe(a,"svg",{viewBox:!0,width:!0,height:!0});var r=P(e);t=we(r,!0),r.forEach(m),this.h()},h(){t.a=null,le(e,i)},m(a,r){B(a,e,r),t.m(l,e)},p(a,[r]){le(e,i=ye(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function Kn(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),W(l)))},e=W(e),[e]}class Wn extends ae{constructor(e){super(),se(this,e,Kn,Gn,ne,{})}}function Yn(n){let e,t,l='<g fill="currentColor"><path d="M184.13 147.7a8.08 8.08 0 0 0-2.54 7.89l13.52 58.54a8 8 0 0 1-11.89 8.69l-51.1-31a7.93 7.93 0 0 0-8.24 0l-51.1 31a8 8 0 0 1-11.89-8.69l13.52-58.54a8.08 8.08 0 0 0-2.54-7.89l-45.11-39.35a8 8 0 0 1 4.54-14.07l59.46-5.14a8 8 0 0 0 6.67-4.88l23.23-55.36a8 8 0 0 1 14.68 0l23.23 55.36a8 8 0 0 0 6.67 4.88l59.46 5.14a8 8 0 0 1 4.54 14.07Z" opacity=".2"/><path d="M239.2 97.29a16 16 0 0 0-13.81-11L166 81.17l-23.28-55.36a15.95 15.95 0 0 0-29.44 0L90.07 81.17l-59.46 5.15a16 16 0 0 0-9.11 28.06l45.11 39.42l-13.52 58.54a16 16 0 0 0 23.84 17.34l51-31l51.11 31a16 16 0 0 0 23.84-17.34l-13.51-58.6l45.1-39.36a16 16 0 0 0 4.73-17.09Zm-15.22 5l-45.1 39.36a16 16 0 0 0-5.08 15.71L187.35 216l-51.07-31a15.9 15.9 0 0 0-16.54 0l-51 31l13.46-58.6a16 16 0 0 0-5.08-15.71L32 102.35a.37.37 0 0 1 0-.09l59.44-5.14a16 16 0 0 0 13.35-9.75L128 32.08l23.2 55.29a16 16 0 0 0 13.35 9.75l59.45 5.14v.07Z"/></g>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=R(i,s[a]);return{c(){e=Te("svg"),t=new ke(!0),this.h()},l(a){e=Pe(a,"svg",{viewBox:!0,width:!0,height:!0});var r=P(e);t=we(r,!0),r.forEach(m),this.h()},h(){t.a=null,le(e,i)},m(a,r){B(a,e,r),t.m(l,e)},p(a,[r]){le(e,i=ye(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function Xn(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),W(l)))},e=W(e),[e]}class Qn extends ae{constructor(e){super(),se(this,e,Xn,Yn,ne,{})}}function xn(n){let e,t,l='<path fill="currentColor" d="m234.5 114.38l-45.1 39.36l13.51 58.6a16 16 0 0 1-23.84 17.34l-51.11-31l-51 31a16 16 0 0 1-23.84-17.34l13.49-58.54l-45.11-39.42a16 16 0 0 1 9.11-28.06l59.46-5.15l23.21-55.36a15.95 15.95 0 0 1 29.44 0L166 81.17l59.44 5.15a16 16 0 0 1 9.11 28.06Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=R(i,s[a]);return{c(){e=Te("svg"),t=new ke(!0),this.h()},l(a){e=Pe(a,"svg",{viewBox:!0,width:!0,height:!0});var r=P(e);t=we(r,!0),r.forEach(m),this.h()},h(){t.a=null,le(e,i)},m(a,r){B(a,e,r),t.m(l,e)},p(a,[r]){le(e,i=ye(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&m(e)}}}function ea(n,e,t){return n.$$set=l=>{t(0,e=R(R({},e),W(l)))},e=W(e),[e]}class ta extends ae{constructor(e){super(),se(this,e,ea,xn,ne,{})}}async function la(n,e,t){const l=n.filter(a=>a.selected&&a.track.readable).length,s=n.filter(a=>a.selected&&!a.track.readable);for(let a=0;a<s.length;a++){const r=s[a];t.set({message:`trying to fix track ${a} / ${s.length}`,value:a,max:s.length});const o=r.track,u=await na(o,e);if(u){console.log("adding alternative to "+r.track.id+" : "+u.title),r.selected=!1;const h=n.indexOf(r);n.splice(h+1,0,{selected:!0,inPlaylist:!1,track:u})}}const i=n.filter(a=>a.selected&&a.track.readable).length;e.trigger({message:`Reattached ${i-l} track(s) to readable equivalents.<br/>(${n.filter(a=>a.selected).length-i} unreadable track remaining)`,timeout:1e4})}async function na(n,e){const t=await il(n.artist.id);if(!t){e.trigger({message:`Could not find artist ${n.artist.name}`,timeout:3e3});return}const l=t.flatMap(a=>{const{tracks:r,...o}=a;return a.tracks.map(u=>({...u,album:o}))}).filter(a=>a.id!==n.id&&a.readable),s={sensitivity:"base",ignorePunctuation:!0,numeric:!1,usage:"search"},i=l.filter(a=>a.title.localeCompare(n.title,void 0,s)===0);switch(i.length){case 0:console.log("no match by title",{unreadableTrack:n}),e.trigger({message:`Could not find matching track for '${n.title}' in album '${n.album.title}' by '${n.artist.name}'`,timeout:3e3});return;case 1:return i[0];default:{const a=Object.values(i.reduce((o,u)=>(o[u.isrc]=u,o),{}));if(a.length===1)return a[0];const r=i.filter(o=>o.album.title.localeCompare(n.album.title,void 0,s)===0);switch(r.length){case 0:console.log("no match by title and album",{unreadableTrack:n}),e.trigger({message:`Could not find matching track for '${n.title}' in album '${n.album.title}' by '${n.artist.name}'`,timeout:3e3});return;case 1:return r[0];default:{const o=Object.values(r.reduce((u,h)=>(u[h.isrc]=h,u),{}));if(o.length===1)return o[0];console.log("multiple match by title",{unreadableTrack:n,matchingTracksByTitleAndAlbum:r}),e.trigger({message:`Found multiple matching tracks for '${n.title}' in album '${n.album.title}' : ${r.map(u=>u.id)}`,timeout:3e3});return}}}}}function aa(n){let e,t,l,s,i,a=n[0].name+"",r,o,u,h,c,f,v,p,_;return c=new mt({}),{c(){e=E("span"),t=E("span"),l=E("img"),i=D(),r=re(a),o=D(),u=E("span"),h=E("button"),V(c.$$.fragment),this.h()},l(w){e=T(w,"SPAN",{class:!0});var k=P(e);t=T(k,"SPAN",{class:!0});var y=P(t);l=T(y,"IMG",{src:!0,alt:!0,class:!0}),i=S(y),r=oe(y,a),y.forEach(m),o=S(k),u=T(k,"SPAN",{class:!0});var d=P(u);h=T(d,"BUTTON",{class:!0,title:!0});var A=P(h);F(c.$$.fragment,A),A.forEach(m),d.forEach(m),k.forEach(m),this.h()},h(){Ve(l.src,s=n[0].picture_small)||g(l,"src",s),g(l,"alt","artist"),g(l,"class","mx-2"),g(t,"class","flex items-center"),g(h,"class","!p-0"),g(h,"title","add all artist titles to the playlist"),g(u,"class","btn-group-vertical btn btn-sm gap-y-1"),g(e,"class",f="flex justify-between w-full items-center py-1 "+n[1])},m(w,k){B(w,e,k),b(e,t),b(t,l),b(t,i),b(t,r),b(e,o),b(e,u),b(u,h),q(c,h,null),v=!0,p||(_=[H(h,"click",n[2]),H(h,"pointerenter",n[3]),H(h,"pointerleave",n[4])],p=!0)},p(w,[k]){(!v||k&1&&!Ve(l.src,s=w[0].picture_small))&&g(l,"src",s),(!v||k&1)&&a!==(a=w[0].name+"")&&ze(r,a),(!v||k&2&&f!==(f="flex justify-between w-full items-center py-1 "+w[1]))&&g(e,"class",f)},i(w){v||(C(c.$$.fragment,w),v=!0)},o(w){N(c.$$.fragment,w),v=!1},d(w){w&&m(e),J(c),p=!1,Le(_)}}}function sa(n,e,t){let{artist:l}=e,s="";function i(o){Ne.call(this,n,o)}const a=()=>t(1,s="variant-ghost-success"),r=()=>t(1,s="");return n.$$set=o=>{"artist"in o&&t(0,l=o.artist)},[l,s,i,a,r]}class ia extends ae{constructor(e){super(),se(this,e,sa,aa,ne,{artist:0})}}function Ut(n,e){e.update(t=>(t.forEach(l=>{l.track.artist.id===n&&(l.selected=!1)}),t))}async function at(n,e){const t=await il(n);e.update(l=>{const s=t.sort((a,r)=>a.release_date.localeCompare(r.release_date)).flatMap(a=>{const{tracks:r,...o}=a;return a.tracks.map(u=>({...u,album:o}))});s.forEach(a=>{const r=l.find(o=>o.track.id===a.id);r?(r.track.album=a.album,r.selected=!0):l.push({track:a,inPlaylist:!1,selected:!0})});function i(a){return s.findIndex(r=>r.id===a.track.id)}return l.sort((a,r)=>{const o=i(a),u=i(r);return o-u}),l})}function ra(n,e){e.update(t=>(t.forEach(l=>{l.track.album.id===n&&(l.selected=!1)}),t))}async function oa(n,e){const t=await sl(n.id);e.update(l=>{t.data.forEach(o=>{const u=l.find(h=>h.track.id===o.id);o.album=n,u?(u.track.album=o.album,u.selected=!0):l.push({track:o,inPlaylist:!1,selected:!0})});function s(o){return t.data.findIndex(u=>u.id===o.track.id)+1}function i(o){return l.findIndex(u=>u.track.id===o.track.id)+1}const a=l.findIndex(o=>o.track.album.id===n.id);function r(o){const u=s(o);return u===0?i(o)*1e4:a*1e4+u}return console.log({startIndex:a}),l.sort((o,u)=>{const h=a*1e4+r(o),c=a*1e4+r(u);return h-c}),l})}function it(n,e){return e.filter(t=>t.track.artist.id===n&&t.selected).length}function ua(n,e){const t=n.filter(l=>l.selected||l.inPlaylist);return e.trigger({message:`Removed ${n.length-t.length} track(s) from the playlist`,timeout:3e3}),t}function ca(n,e,t){const l=e.ascending?1:-1,s=(o,u)=>it(o.id,t)-it(u.id,t),i=(o,u)=>o.name.localeCompare(u.name),a=(o,u)=>(h,c)=>{const f=o(h,c);return f===0?u(h,c):f};return n.sort((o,u)=>{switch(e.orderBy){case"trackCount":return l*a(s,i)(o,u);case"alphabetical":return l*a(i,s)(o,u)}})}function fa(n){let e;return{c(){e=re("Private")},l(t){e=oe(t,"Private")},m(t,l){B(t,e,l)},d(t){t&&m(e)}}}function ha(n){let e;return{c(){e=re("Public")},l(t){e=oe(t,"Public")},m(t,l){B(t,e,l)},d(t){t&&m(e)}}}function da(n){let e;function t(i,a){return i[0].public?ha:fa}let l=t(n),s=l(n);return{c(){s.c(),e=re(" playlist")},l(i){s.l(i),e=oe(i," playlist")},m(i,a){s.m(i,a),B(i,e,a)},p(i,a){l!==(l=t(i))&&(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&m(e),s.d(i)}}}function ma(n){let e,t,l,s,i,a="Title",r,o,u,h,c,f,v,p,_,w="Description",k,y,d,A,O;function $(U){n[2](U)}let M={name:"slider-label",$$slots:{default:[da]},$$scope:{ctx:n}};return n[0].public!==void 0&&(M.checked=n[0].public),c=new xl({props:M}),ut.push(()=>ft(c,"checked",$)),{c(){e=E("form"),t=E("div"),l=E("div"),s=E("label"),i=E("span"),i.textContent=a,r=D(),o=E("input"),u=D(),h=E("div"),V(c.$$.fragment),v=D(),p=E("label"),_=E("span"),_.textContent=w,k=D(),y=E("textarea"),this.h()},l(U){e=T(U,"FORM",{class:!0});var Z=P(e);t=T(Z,"DIV",{class:!0});var ee=P(t);l=T(ee,"DIV",{class:!0});var ue=P(l);s=T(ue,"LABEL",{class:!0});var Q=P(s);i=T(Q,"SPAN",{"data-svelte-h":!0}),me(i)!=="svelte-7ccxmo"&&(i.textContent=a),r=S(Q),o=T(Q,"INPUT",{class:!0,type:!0,placeholder:!0}),Q.forEach(m),ue.forEach(m),u=S(ee),h=T(ee,"DIV",{});var _e=P(h);F(c.$$.fragment,_e),_e.forEach(m),ee.forEach(m),v=S(Z),p=T(Z,"LABEL",{class:!0});var ce=P(p);_=T(ce,"SPAN",{"data-svelte-h":!0}),me(_)!=="svelte-rmspr8"&&(_.textContent=w),k=S(ce),y=T(ce,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),P(y).forEach(m),ce.forEach(m),Z.forEach(m),this.h()},h(){g(o,"class","input"),g(o,"type","text"),g(o,"placeholder","title"),g(s,"class","label"),g(l,"class","col-span-5"),g(t,"class","grid grid-cols-6"),g(y,"class","textarea"),g(y,"rows","4"),g(y,"placeholder","description"),g(p,"class","label"),g(e,"class","mb-10 space-y-2")},m(U,Z){B(U,e,Z),b(e,t),b(t,l),b(l,s),b(s,i),b(s,r),b(s,o),Ue(o,n[0].title),b(t,u),b(t,h),q(c,h,null),b(e,v),b(e,p),b(p,_),b(p,k),b(p,y),Ue(y,n[0].description),d=!0,A||(O=[H(o,"input",n[1]),H(y,"input",n[3])],A=!0)},p(U,[Z]){Z&1&&o.value!==U[0].title&&Ue(o,U[0].title);const ee={};Z&17&&(ee.$$scope={dirty:Z,ctx:U}),!f&&Z&1&&(f=!0,ee.checked=U[0].public,ct(()=>f=!1)),c.$set(ee),Z&1&&Ue(y,U[0].description)},i(U){d||(C(c.$$.fragment,U),d=!0)},o(U){N(c.$$.fragment,U),d=!1},d(U){U&&m(e),J(c),A=!1,Le(O)}}}function _a(n,e,t){let{playlist:l}=e;function s(){l.title=this.value,t(0,l)}function i(r){n.$$.not_equal(l.public,r)&&(l.public=r,t(0,l))}function a(){l.description=this.value,t(0,l)}return n.$$set=r=>{"playlist"in r&&t(0,l=r.playlist)},[l,s,i,a]}class ga extends ae{constructor(e){super(),se(this,e,_a,ma,ne,{playlist:0})}}async function pa(n,e,t,l){const s={request_method:"POST"};n.title&&(s.title=n.title),n.description&&(s.description=n.description),n.public!==void 0&&(s.public=n.public);try{const i=await Ye({apiPath:`/playlist/${n.id}`,searchParams:s});t.trigger({message:`Updated playlist: ${i?"OK":"KO"}`,timeout:3e3})}catch(i){t.trigger({message:`Updated playlist: error ${i}`,timeout:3e3})}await va(n,e,t,l)}async function va(n,e,t,l){try{const s=e.filter(a=>a.selected&&!a.inPlaylist).map(a=>a.track.id);await st(n,s,"POST","songs",l);const i=e.filter(a=>!a.selected&&a.inPlaylist).map(a=>a.track.id);if(await st(n,i,"DELETE","songs",l),s.length>0){const a=e.filter(r=>r.selected).map(r=>r.track.id);await st(n,a,"POST","order",l)}if(l.set(void 0),s.length||i.length){const a=t.trigger({message:"Updated playlist tracks, refreshing playlist data"});await Bl(),t.close(a)}}catch(s){t.trigger({message:`Updated playlist tracks: error ${s}`,timeout:3e3})}finally{l.set(void 0)}}async function st(n,e,t,l,s){if(!e.length)return;s.set({message:`sending 0/${e.length} ${t} ${l} `,value:0,max:e.length});let i=0;const a=100;for(const r of ba(e,a)){i+=a,s.set({message:`sending ${i} / ${e.length} ${t} ${l} `,value:i,max:e.length}),console.log(`sending ${t} ${l}=${JSON.stringify(r)}`);const o={request_method:t};o[l]=r.join(",");const u=await Ye({apiPath:`/playlist/${n.id}/tracks`,searchParams:o});if(console.log({updateResult:u}),!u)throw new Error(`unable to send ${t} ${l}=${JSON.stringify(r)}`)}}function ba(n,e){const t=[];for(let l=0;l<n.length;l+=e)t.push(n.slice(l,l+e));return t}function ka(n){let e,t,l,s,i,a,r,o,u,h,c,f;const v=n[5].default,p=Oe(v,n,n[4],null);return i=new mt({}),o=new ol({}),{c(){e=E("span"),p&&p.c(),t=D(),l=E("span"),s=E("button"),V(i.$$.fragment),a=D(),r=E("button"),V(o.$$.fragment),this.h()},l(_){e=T(_,"SPAN",{class:!0});var w=P(e);p&&p.l(w),t=S(w),l=T(w,"SPAN",{class:!0});var k=P(l);s=T(k,"BUTTON",{class:!0,title:!0});var y=P(s);F(i.$$.fragment,y),y.forEach(m),a=S(k),r=T(k,"BUTTON",{class:!0,title:!0});var d=P(r);F(o.$$.fragment,d),d.forEach(m),k.forEach(m),w.forEach(m),this.h()},h(){g(s,"class","!p-0 "),g(s,"title",n[0]),g(r,"class","!p-0"),g(r,"title",n[1]),g(l,"class","btn-group-vertical btn btn-sm gap-y-1"),g(e,"class",u="flex flex-row justify-between w-full items-center py-1 gap-x-2 "+n[2])},m(_,w){B(_,e,w),p&&p.m(e,null),b(e,t),b(e,l),b(l,s),q(i,s,null),b(l,a),b(l,r),q(o,r,null),h=!0,c||(f=[H(s,"click",n[6]),H(s,"pointerenter",n[7]),H(s,"pointerleave",n[8]),H(r,"click",n[9]),H(r,"pointerenter",n[10]),H(r,"pointerleave",n[11])],c=!0)},p(_,[w]){p&&p.p&&(!h||w&16)&&Ie(p,v,_,_[4],h?Se(v,_[4],w,null):De(_[4]),null),(!h||w&1)&&g(s,"title",_[0]),(!h||w&2)&&g(r,"title",_[1]),(!h||w&4&&u!==(u="flex flex-row justify-between w-full items-center py-1 gap-x-2 "+_[2]))&&g(e,"class",u)},i(_){h||(C(p,_),C(i.$$.fragment,_),C(o.$$.fragment,_),h=!0)},o(_){N(p,_),N(i.$$.fragment,_),N(o.$$.fragment,_),h=!1},d(_){_&&m(e),p&&p.d(_),J(i),J(o),c=!1,Le(f)}}}function wa(n,e,t){let{$$slots:l={},$$scope:s}=e;const i=et();let{addTitle:a="add all album titles to the playlist"}=e,{removeTitle:r="deselect all album titles from the playlist"}=e,o="";const u=()=>i("add"),h=()=>t(2,o="variant-ghost-success"),c=()=>t(2,o=""),f=()=>i("remove"),v=()=>t(2,o="variant-ghost-error"),p=()=>t(2,o="");return n.$$set=_=>{"addTitle"in _&&t(0,a=_.addTitle),"removeTitle"in _&&t(1,r=_.removeTitle),"$$scope"in _&&t(4,s=_.$$scope)},[a,r,o,i,s,l,u,h,c,f,v,p]}class ul extends ae{constructor(e){super(),se(this,e,wa,ka,ne,{addTitle:0,removeTitle:1})}}function Mt(n,e,t){const l=n.slice();l[44]=e[t],l[46]=e,l[47]=t;const s=l[44].track;return l[45]=s,l}function Vt(n,e,t){const l=n.slice();l[39]=e[t];const s=it(l[39].id,l[4]);return l[40]=s,l}function ya(n){let e,t,l;function s(){n[33].call(e,n[46],n[47])}return{c(){e=E("input"),this.h()},l(i){e=T(i,"INPUT",{type:!0,class:!0}),this.h()},h(){g(e,"type","checkbox"),g(e,"class","checkbox")},m(i,a){B(i,e,a),e.checked=n[44].selected,t||(l=H(e,"change",s),t=!0)},p(i,a){n=i,a[0]&64&&(e.checked=n[44].selected)},d(i){i&&m(e),t=!1,l()}}}function Ea(n){let e,t=n[47]+1+"",l;return{c(){e=E("span"),l=re(t)},l(s){e=T(s,"SPAN",{});var i=P(e);l=oe(i,t),i.forEach(m)},m(s,i){B(s,e,i),b(e,l)},p:G,d(s){s&&m(e)}}}function Ta(n){let e,t,l,s,i=n[45].title+"",a,r,o;return e=new gn({props:{src:n[45].preview,enabled:n[45].readable}}),{c(){V(e.$$.fragment),t=D(),l=E("a"),s=E("span"),a=re(i),this.h()},l(u){F(e.$$.fragment,u),t=S(u),l=T(u,"A",{href:!0,title:!0});var h=P(l);s=T(h,"SPAN",{});var c=P(s);a=oe(c,i),c.forEach(m),h.forEach(m),this.h()},h(){g(l,"href",r=n[45].link),g(l,"title","open track in Deezer web interface")},m(u,h){q(e,u,h),B(u,t,h),B(u,l,h),b(l,s),b(s,a),o=!0},p(u,h){const c={};h[0]&64&&(c.src=u[45].preview),h[0]&64&&(c.enabled=u[45].readable),e.$set(c),(!o||h[0]&64)&&i!==(i=u[45].title+"")&&ze(a,i),(!o||h[0]&64&&r!==(r=u[45].link))&&g(l,"href",r)},i(u){o||(C(e.$$.fragment,u),o=!0)},o(u){N(e.$$.fragment,u),o=!1},d(u){u&&(m(t),m(l)),J(e,u)}}}function Pa(n){let e,t,l,s,i=n[45].album.title+"",a;return{c(){e=E("img"),l=D(),s=E("span"),a=re(i),this.h()},l(r){e=T(r,"IMG",{src:!0,alt:!0}),l=S(r),s=T(r,"SPAN",{});var o=P(s);a=oe(o,i),o.forEach(m),this.h()},h(){Ve(e.src,t=n[45].album.cover_small)||g(e,"src",t),g(e,"alt","album cover")},m(r,o){B(r,e,o),B(r,l,o),B(r,s,o),b(s,a)},p(r,o){o[0]&64&&!Ve(e.src,t=r[45].album.cover_small)&&g(e,"src",t),o[0]&64&&i!==(i=r[45].album.title+"")&&ze(a,i)},d(r){r&&(m(e),m(l),m(s))}}}function Aa(n){let e,t,l,s;return t=new Qe({props:{$$slots:{default:[Pa]},$$scope:{ctx:n}}}),{c(){e=E("a"),V(t.$$.fragment),this.h()},l(i){e=T(i,"A",{href:!0,title:!0});var a=P(e);F(t.$$.fragment,a),a.forEach(m),this.h()},h(){g(e,"href",l="https://www.deezer.com/album/"+n[45].album.id),g(e,"title","open album in Deezer web interface")},m(i,a){B(i,e,a),q(t,e,null),s=!0},p(i,a){const r={};a[0]&64|a[1]&131072&&(r.$$scope={dirty:a,ctx:i}),t.$set(r),(!s||a[0]&64&&l!==(l="https://www.deezer.com/album/"+i[45].album.id))&&g(e,"href",l)},i(i){s||(C(t.$$.fragment,i),s=!0)},o(i){N(t.$$.fragment,i),s=!1},d(i){i&&m(e),J(t)}}}function Ca(n){let e,t;function l(){return n[34](n[45])}function s(){return n[35](n[45])}return e=new ul({props:{addTitle:"add all album titles to the playlist",removeTitle:"deselect all album titles from the playlist",$$slots:{default:[Aa]},$$scope:{ctx:n}}}),e.$on("add",l),e.$on("remove",s),{c(){V(e.$$.fragment)},l(i){F(e.$$.fragment,i)},m(i,a){q(e,i,a),t=!0},p(i,a){n=i;const r={};a[0]&64|a[1]&131072&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(i){t||(C(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function Ba(n){let e,t,l=n[45].artist.name+"",s,i;return{c(){e=E("a"),t=E("span"),s=re(l),this.h()},l(a){e=T(a,"A",{href:!0,title:!0});var r=P(e);t=T(r,"SPAN",{});var o=P(t);s=oe(o,l),o.forEach(m),r.forEach(m),this.h()},h(){g(e,"href",i=n[45].artist.link),g(e,"title","open artist in Deezer web interface")},m(a,r){B(a,e,r),b(e,t),b(t,s)},p(a,r){r[0]&64&&l!==(l=a[45].artist.name+"")&&ze(s,l),r[0]&64&&i!==(i=a[45].artist.link)&&g(e,"href",i)},d(a){a&&m(e)}}}function Na(n){let e,t;function l(){return n[36](n[45])}function s(){return n[37](n[45])}return e=new ul({props:{addTitle:"add all artist titles to the playlist",removeTitle:"deselect all artist titles from the playlist",$$slots:{default:[Ba]},$$scope:{ctx:n}}}),e.$on("add",l),e.$on("remove",s),{c(){V(e.$$.fragment)},l(i){F(e.$$.fragment,i)},m(i,a){q(e,i,a),t=!0},p(i,a){n=i;const r={};a[0]&64|a[1]&131072&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(i){t||(C(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function za(n){let e,t;return e=new Wn({}),{c(){V(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,s){q(e,l,s),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Oa(n){let e,t;return e=new Qn({}),{c(){V(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,s){q(e,l,s),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Ia(n){let e,t;return e=new ta({}),{c(){V(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,s){q(e,l,s),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Da(n){let e,t;return e=new Jl({props:{value:5*n[45].rank/n[5],max:5,$$slots:{full:[Ia],half:[Oa],empty:[za]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,s){q(e,l,s),t=!0},p(l,s){const i={};s[0]&96&&(i.value=5*l[45].rank/l[5]),s[1]&131072&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Sa(n){let e=wt(n[45].duration*1e3,{units:["m","s"],largest:2})+"",t,l,s;return{c(){t=re(e),l=D(),s=E("span"),this.h()},l(i){t=oe(i,e),l=S(i),s=T(i,"SPAN",{class:!0}),P(s).forEach(m),this.h()},h(){g(s,"class","grow")},m(i,a){B(i,t,a),B(i,l,a),B(i,s,a)},p(i,a){a[0]&64&&e!==(e=wt(i[45].duration*1e3,{units:["m","s"],largest:2})+"")&&ze(t,e)},d(i){i&&(m(t),m(l),m(s))}}}function Ft(n){let e,t,l,s,i,a,r,o,u,h,c,f,v,p,_,w,k;return t=new Ge({props:{$$slots:{default:[ya]},$$scope:{ctx:n}}}),s=new Ge({props:{$$slots:{default:[Ea]},$$scope:{ctx:n}}}),a=new Ge({props:{justify:"start",$$slots:{default:[Ta]},$$scope:{ctx:n}}}),o=new Ge({props:{justify:"start",$$slots:{default:[Ca]},$$scope:{ctx:n}}}),h=new Ge({props:{justify:"start",$$slots:{default:[Na]},$$scope:{ctx:n}}}),f=new Ge({props:{title:n[45].rank,$$slots:{default:[Da]},$$scope:{ctx:n}}}),p=new Ge({props:{$$slots:{default:[Sa]},$$scope:{ctx:n}}}),{c(){e=E("tr"),V(t.$$.fragment),l=D(),V(s.$$.fragment),i=D(),V(a.$$.fragment),r=D(),V(o.$$.fragment),u=D(),V(h.$$.fragment),c=D(),V(f.$$.fragment),v=D(),V(p.$$.fragment),_=D(),this.h()},l(y){e=T(y,"TR",{class:!0});var d=P(e);F(t.$$.fragment,d),l=S(d),F(s.$$.fragment,d),i=S(d),F(a.$$.fragment,d),r=S(d),F(o.$$.fragment,d),u=S(d),F(h.$$.fragment,d),c=S(d),F(f.$$.fragment,d),v=S(d),F(p.$$.fragment,d),_=S(d),d.forEach(m),this.h()},h(){g(e,"class",w=Tt(Kt(n[44]))+" svelte-p6m18c"),$e(e,"!text-red-500",!n[45].readable)},m(y,d){B(y,e,d),q(t,e,null),b(e,l),q(s,e,null),b(e,i),q(a,e,null),b(e,r),q(o,e,null),b(e,u),q(h,e,null),b(e,c),q(f,e,null),b(e,v),q(p,e,null),b(e,_),k=!0},p(y,d){const A={};d[0]&64|d[1]&131072&&(A.$$scope={dirty:d,ctx:y}),t.$set(A);const O={};d[1]&131072&&(O.$$scope={dirty:d,ctx:y}),s.$set(O);const $={};d[0]&64|d[1]&131072&&($.$$scope={dirty:d,ctx:y}),a.$set($);const M={};d[0]&64|d[1]&131072&&(M.$$scope={dirty:d,ctx:y}),o.$set(M);const U={};d[0]&64|d[1]&131072&&(U.$$scope={dirty:d,ctx:y}),h.$set(U);const Z={};d[0]&64&&(Z.title=y[45].rank),d[0]&96|d[1]&131072&&(Z.$$scope={dirty:d,ctx:y}),f.$set(Z);const ee={};d[0]&64|d[1]&131072&&(ee.$$scope={dirty:d,ctx:y}),p.$set(ee),(!k||d[0]&64&&w!==(w=Tt(Kt(y[44]))+" svelte-p6m18c"))&&g(e,"class",w),(!k||d[0]&64)&&$e(e,"!text-red-500",!y[45].readable)},i(y){k||(C(t.$$.fragment,y),C(s.$$.fragment,y),C(a.$$.fragment,y),C(o.$$.fragment,y),C(h.$$.fragment,y),C(f.$$.fragment,y),C(p.$$.fragment,y),k=!0)},o(y){N(t.$$.fragment,y),N(s.$$.fragment,y),N(a.$$.fragment,y),N(o.$$.fragment,y),N(h.$$.fragment,y),N(f.$$.fragment,y),N(p.$$.fragment,y),k=!1},d(y){y&&m(e),J(t),J(s),J(a),J(o),J(h),J(f),J(p)}}}function $a(n){var pt;let e,t,l,s,i,a,r,o,u=((pt=n[4])==null?void 0:pt.filter(Xt).length)+"",h,c,f=n[0].playlist.tracks.data.length+"",v,p,_,w,k,y,d,A,O,$,M,U,Z,ee="Pos.",ue,Q,_e="Title",ce,K,Y="Album",X,fe,be="Artist",ge,j,I="rank",pe,de,je="duration",z,ie,Xe,Be,Ze,Re,tt,_t;e=new ga({props:{playlist:n[0].playlist}});let Fe=Me(n[6]),te=[];for(let L=0;L<Fe.length;L+=1)te[L]=Ft(Mt(n,Fe,L));const cl=L=>N(te[L],1,1,()=>{te[L]=null});function fl(L){n[38](L)}let gt={showFirstLastButtons:!0,showPreviousNextButtons:!0};return n[2]!==void 0&&(gt.settings=n[2]),Be=new kl({props:gt}),ut.push(()=>ft(Be,"settings",fl)),{c(){V(e.$$.fragment),t=D(),l=E("span"),s=E("table"),i=E("thead"),a=E("tr"),r=E("td"),o=E("span"),h=re(u),c=re(`
                            Tracks (`),v=re(f),p=re(`
                            in playlist)`),_=D(),w=E("td"),k=E("input"),y=D(),d=E("tr"),A=E("th"),O=E("input"),U=D(),Z=E("th"),Z.textContent=ee,ue=D(),Q=E("th"),Q.textContent=_e,ce=D(),K=E("th"),K.textContent=Y,X=D(),fe=E("th"),fe.textContent=be,ge=D(),j=E("th"),j.textContent=I,pe=D(),de=E("th"),de.textContent=je,z=D(),ie=E("tbody");for(let L=0;L<te.length;L+=1)te[L].c();Xe=D(),V(Be.$$.fragment),this.h()},l(L){F(e.$$.fragment,L),t=S(L),l=T(L,"SPAN",{class:!0});var x=P(l);s=T(x,"TABLE",{class:!0});var Ee=P(s);i=T(Ee,"THEAD",{});var qe=P(i);a=T(qe,"TR",{});var Je=P(a);r=T(Je,"TD",{colspan:!0});var he=P(r);o=T(he,"SPAN",{});var He=P(o);h=oe(He,u),c=oe(He,`
                            Tracks (`),v=oe(He,f),p=oe(He,`
                            in playlist)`),He.forEach(m),he.forEach(m),_=S(Je),w=T(Je,"TD",{colspan:!0});var vt=P(w);k=T(vt,"INPUT",{class:!0,title:!0,type:!0,placeholder:!0}),vt.forEach(m),Je.forEach(m),y=S(qe),d=T(qe,"TR",{class:!0});var ve=P(d);A=T(ve,"TH",{});var bt=P(A);O=T(bt,"INPUT",{type:!0,class:!0}),bt.forEach(m),U=S(ve),Z=T(ve,"TH",{"data-svelte-h":!0}),me(Z)!=="svelte-s1pt0e"&&(Z.textContent=ee),ue=S(ve),Q=T(ve,"TH",{class:!0,"data-svelte-h":!0}),me(Q)!=="svelte-1b5qsso"&&(Q.textContent=_e),ce=S(ve),K=T(ve,"TH",{"data-svelte-h":!0}),me(K)!=="svelte-12o9w3z"&&(K.textContent=Y),X=S(ve),fe=T(ve,"TH",{"data-svelte-h":!0}),me(fe)!=="svelte-1tiipkx"&&(fe.textContent=be),ge=S(ve),j=T(ve,"TH",{"data-svelte-h":!0}),me(j)!=="svelte-1btrpio"&&(j.textContent=I),pe=S(ve),de=T(ve,"TH",{"data-svelte-h":!0}),me(de)!=="svelte-9uwuqy"&&(de.textContent=je),ve.forEach(m),qe.forEach(m),z=S(Ee),ie=T(Ee,"TBODY",{});var kt=P(ie);for(let lt=0;lt<te.length;lt+=1)te[lt].l(kt);kt.forEach(m),Ee.forEach(m),Xe=S(x),F(Be.$$.fragment,x),x.forEach(m),this.h()},h(){g(r,"colspan","3"),g(k,"class","input"),g(k,"title","Input (search)"),g(k,"type","search"),g(k,"placeholder","Search..."),g(w,"colspan","4"),g(O,"type","checkbox"),g(O,"class","checkbox"),O.checked=$=n[6].filter(Qt).length===n[6].length&&n[6].length>0,O.indeterminate=M=n[6].filter(xt).length!==n[6].length&&n[6].filter(el).length>0,g(Q,"class",".fitwidth"),g(d,"class",""),g(s,"class","table table-compact my-4"),g(l,"class","table-container")},m(L,x){q(e,L,x),B(L,t,x),B(L,l,x),b(l,s),b(s,i),b(i,a),b(a,r),b(r,o),b(o,h),b(o,c),b(o,v),b(o,p),b(a,_),b(a,w),b(w,k),Ue(k,n[3]),b(i,y),b(i,d),b(d,A),b(A,O),b(d,U),b(d,Z),b(d,ue),b(d,Q),b(d,ce),b(d,K),b(d,X),b(d,fe),b(d,ge),b(d,j),b(d,pe),b(d,de),b(s,z),b(s,ie);for(let Ee=0;Ee<te.length;Ee+=1)te[Ee]&&te[Ee].m(ie,null);b(l,Xe),q(Be,l,null),Re=!0,tt||(_t=[H(k,"input",n[31]),H(O,"change",n[32])],tt=!0)},p(L,x){var Je;const Ee={};if(x[0]&1&&(Ee.playlist=L[0].playlist),e.$set(Ee),(!Re||x[0]&16)&&u!==(u=((Je=L[4])==null?void 0:Je.filter(Xt).length)+"")&&ze(h,u),(!Re||x[0]&1)&&f!==(f=L[0].playlist.tracks.data.length+"")&&ze(v,f),x[0]&8&&k.value!==L[3]&&Ue(k,L[3]),(!Re||x[0]&64&&$!==($=L[6].filter(Qt).length===L[6].length&&L[6].length>0))&&(O.checked=$),(!Re||x[0]&64&&M!==(M=L[6].filter(xt).length!==L[6].length&&L[6].filter(el).length>0))&&(O.indeterminate=M),x[0]&16480){Fe=Me(L[6]);let he;for(he=0;he<Fe.length;he+=1){const He=Mt(L,Fe,he);te[he]?(te[he].p(He,x),C(te[he],1)):(te[he]=Ft(He),te[he].c(),C(te[he],1),te[he].m(ie,null))}for(Ae(),he=Fe.length;he<te.length;he+=1)cl(he);Ce()}const qe={};!Ze&&x[0]&4&&(Ze=!0,qe.settings=L[2],ct(()=>Ze=!1)),Be.$set(qe)},i(L){if(!Re){C(e.$$.fragment,L);for(let x=0;x<Fe.length;x+=1)C(te[x]);C(Be.$$.fragment,L),Re=!0}},o(L){N(e.$$.fragment,L),te=te.filter(Boolean);for(let x=0;x<te.length;x+=1)N(te[x]);N(Be.$$.fragment,L),Re=!1},d(L){L&&(m(t),m(l)),J(e,L),ot(te,L),J(Be),tt=!1,Le(_t)}}}function ja(n){let e,t="Search Artist";return{c(){e=E("h4"),e.textContent=t},l(l){e=T(l,"H4",{"data-svelte-h":!0}),me(e)!=="svelte-z92qpb"&&(e.textContent=t)},m(l,s){B(l,e,s)},p:G,d(l){l&&m(e)}}}function La(n){let e,t;function l(){return n[23](n[43])}return e=new ia({props:{artist:n[43].meta}}),e.$on("click",l),{c(){V(e.$$.fragment)},l(s){F(e.$$.fragment,s)},m(s,i){q(e,s,i),t=!0},p(s,i){n=s;const a={};i[1]&4096&&(a.artist=n[43].meta),e.$set(a)},i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){N(e.$$.fragment,s),t=!1},d(s){J(e,s)}}}function qt(n){let e,t,l,s,i,a,r;t=new Qe({props:{$$slots:{default:[Za]},$$scope:{ctx:n}}}),s=new Qe({props:{$$slots:{default:[Va]},$$scope:{ctx:n}}});let o=Me(n[10]),u=[];for(let c=0;c<o.length;c+=1)u[c]=Jt(Vt(n,o,c));const h=c=>N(u[c],1,1,()=>{u[c]=null});return{c(){e=E("span"),V(t.$$.fragment),l=D(),V(s.$$.fragment),i=D(),a=E("ul");for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){e=T(c,"SPAN",{class:!0});var f=P(e);F(t.$$.fragment,f),l=S(f),F(s.$$.fragment,f),f.forEach(m),i=S(c),a=T(c,"UL",{class:!0});var v=P(a);for(let p=0;p<u.length;p+=1)u[p].l(v);v.forEach(m),this.h()},h(){g(e,"class","flex justify-between w-full items-center gap-x-2 my-4"),g(a,"class","list")},m(c,f){B(c,e,f),q(t,e,null),b(e,l),q(s,e,null),B(c,i,f),B(c,a,f);for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(a,null);r=!0},p(c,f){const v={};f[1]&131072&&(v.$$scope={dirty:f,ctx:c}),t.$set(v);const p={};if(f[0]&2|f[1]&131072&&(p.$$scope={dirty:f,ctx:c}),s.$set(p),f[0]&17424){o=Me(c[10]);let _;for(_=0;_<o.length;_+=1){const w=Vt(c,o,_);u[_]?(u[_].p(w,f),C(u[_],1)):(u[_]=Jt(w),u[_].c(),C(u[_],1),u[_].m(a,null))}for(Ae(),_=o.length;_<u.length;_+=1)h(_);Ce()}},i(c){if(!r){C(t.$$.fragment,c),C(s.$$.fragment,c);for(let f=0;f<o.length;f+=1)C(u[f]);r=!0}},o(c){N(t.$$.fragment,c),N(s.$$.fragment,c),u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)N(u[f]);r=!1},d(c){c&&(m(e),m(i),m(a)),J(t),J(s),ot(u,c)}}}function Za(n){let e,t="Playlists Artists";return{c(){e=E("h4"),e.textContent=t},l(l){e=T(l,"H4",{"data-svelte-h":!0}),me(e)!=="svelte-1fedd7v"&&(e.textContent=t)},m(l,s){B(l,e,s)},p:G,d(l){l&&m(e)}}}function Ra(n){let e,t="alphabetical",l,s;return{c(){e=E("button"),e.textContent=t},l(i){e=T(i,"BUTTON",{"data-svelte-h":!0}),me(e)!=="svelte-a0poae"&&(e.textContent=t)},m(i,a){B(i,e,a),l||(s=H(e,"click",n[26]),l=!0)},p:G,d(i){i&&m(e),l=!1,s()}}}function Ha(n){let e,t="# tracks",l,s;return{c(){e=E("button"),e.textContent=t},l(i){e=T(i,"BUTTON",{"data-svelte-h":!0}),me(e)!=="svelte-ms1gv1"&&(e.textContent=t)},m(i,a){B(i,e,a),l||(s=H(e,"click",n[25]),l=!0)},p:G,d(i){i&&m(e),l=!1,s()}}}function Ua(n){let e,t,l,s,i;return t=new Jn({}),{c(){e=E("button"),V(t.$$.fragment)},l(a){e=T(a,"BUTTON",{});var r=P(e);F(t.$$.fragment,r),r.forEach(m)},m(a,r){B(a,e,r),q(t,e,null),l=!0,s||(i=H(e,"click",n[28]),s=!0)},p:G,i(a){l||(C(t.$$.fragment,a),l=!0)},o(a){N(t.$$.fragment,a),l=!1},d(a){a&&m(e),J(t),s=!1,i()}}}function Ma(n){let e,t,l,s,i;return t=new Vn({}),{c(){e=E("button"),V(t.$$.fragment)},l(a){e=T(a,"BUTTON",{});var r=P(e);F(t.$$.fragment,r),r.forEach(m)},m(a,r){B(a,e,r),q(t,e,null),l=!0,s||(i=H(e,"click",n[27]),s=!0)},p:G,i(a){l||(C(t.$$.fragment,a),l=!0)},o(a){N(t.$$.fragment,a),l=!1},d(a){a&&m(e),J(t),s=!1,i()}}}function Va(n){let e,t,l,s,i;function a(f,v){if(f[1].orderBy==="trackCount")return Ha;if(f[1].orderBy==="alphabetical")return Ra}let r=a(n),o=r&&r(n);const u=[Ma,Ua],h=[];function c(f,v){return f[1].ascending?0:1}return t=c(n),l=h[t]=u[t](n),{c(){o&&o.c(),e=D(),l.c(),s=We()},l(f){o&&o.l(f),e=S(f),l.l(f),s=We()},m(f,v){o&&o.m(f,v),B(f,e,v),h[t].m(f,v),B(f,s,v),i=!0},p(f,v){r===(r=a(f))&&o?o.p(f,v):(o&&o.d(1),o=r&&r(f),o&&(o.c(),o.m(e.parentNode,e)));let p=t;t=c(f),t===p?h[t].p(f,v):(Ae(),N(h[p],1,1,()=>{h[p]=null}),Ce(),l=h[t],l?l.p(f,v):(l=h[t]=u[t](f),l.c()),C(l,1),l.m(s.parentNode,s))},i(f){i||(C(l),i=!0)},o(f){N(l),i=!1},d(f){f&&(m(e),m(s)),o&&o.d(f),h[t].d(f)}}}function Fa(n){let e,t,l,s,i,a=n[39].name+"",r,o,u,h,c=n[40]+"",f,v,p;return{c(){e=E("img"),s=D(),i=E("span"),r=re(a),o=D(),u=E("small"),h=re("(#"),f=re(c),v=re(`
                                       )`),this.h()},l(_){e=T(_,"IMG",{src:!0,alt:!0}),s=S(_),i=T(_,"SPAN",{});var w=P(i);r=oe(w,a),w.forEach(m),o=S(_),u=T(_,"SMALL",{title:!0});var k=P(u);h=oe(k,"(#"),f=oe(k,c),v=oe(k,`
                                       )`),k.forEach(m),this.h()},h(){Ve(e.src,t=n[39].picture_small)||g(e,"src",t),g(e,"alt",l=n[39].name),g(u,"title",p="artist has "+n[40]+" tracks in the playlist ")},m(_,w){B(_,e,w),B(_,s,w),B(_,i,w),b(i,r),B(_,o,w),B(_,u,w),b(u,h),b(u,f),b(u,v)},p(_,w){w[0]&1024&&!Ve(e.src,t=_[39].picture_small)&&g(e,"src",t),w[0]&1024&&l!==(l=_[39].name)&&g(e,"alt",l),w[0]&1024&&a!==(a=_[39].name+"")&&ze(r,a),w[0]&1040&&c!==(c=_[40]+"")&&ze(f,c),w[0]&1040&&p!==(p="artist has "+_[40]+" tracks in the playlist ")&&g(u,"title",p)},d(_){_&&(m(e),m(s),m(i),m(o),m(u))}}}function Jt(n){let e,t,l,s,i,a,r,o,u,h,c,f,v,p,_,w;s=new Qe({props:{$$slots:{default:[Fa]},$$scope:{ctx:n}}}),u=new mt({});function k(){return n[29](n[39])}f=new ol({});function y(){return n[30](n[39])}return{c(){e=E("li"),t=E("span"),l=E("a"),V(s.$$.fragment),a=D(),r=E("div"),o=E("button"),V(u.$$.fragment),h=D(),c=E("button"),V(f.$$.fragment),v=D(),this.h()},l(d){e=T(d,"LI",{});var A=P(e);t=T(A,"SPAN",{class:!0});var O=P(t);l=T(O,"A",{href:!0,title:!0});var $=P(l);F(s.$$.fragment,$),$.forEach(m),a=S(O),r=T(O,"DIV",{class:!0});var M=P(r);o=T(M,"BUTTON",{class:!0,title:!0});var U=P(o);F(u.$$.fragment,U),U.forEach(m),h=S(M),c=T(M,"BUTTON",{class:!0,title:!0});var Z=P(c);F(f.$$.fragment,Z),Z.forEach(m),M.forEach(m),O.forEach(m),v=S(A),A.forEach(m),this.h()},h(){g(l,"href",i=n[39].link),g(l,"title","open artist in Deezer web interface"),g(o,"class","!p-0 "),g(o,"title","add all artist titles to the playlist"),g(c,"class","!p-0"),g(c,"title","deselect all artist titles from the playlist"),$e(c,"text-gray-500",n[40]===0),g(r,"class","btn-group-vertical btn btn-sm gap-y-1"),g(t,"class","flex flex-row justify-between w-full items-center gap-x-2")},m(d,A){B(d,e,A),b(e,t),b(t,l),q(s,l,null),b(t,a),b(t,r),b(r,o),q(u,o,null),b(r,h),b(r,c),q(f,c,null),b(e,v),p=!0,_||(w=[H(o,"click",k),H(c,"click",y)],_=!0)},p(d,A){n=d;const O={};A[0]&1040|A[1]&131072&&(O.$$scope={dirty:A,ctx:n}),s.$set(O),(!p||A[0]&1024&&i!==(i=n[39].link))&&g(l,"href",i),(!p||A[0]&1040)&&$e(c,"text-gray-500",n[40]===0)},i(d){p||(C(s.$$.fragment,d),C(u.$$.fragment,d),C(f.$$.fragment,d),p=!0)},o(d){N(s.$$.fragment,d),N(u.$$.fragment,d),N(f.$$.fragment,d),p=!1},d(d){d&&m(e),J(s),J(u),J(f),_=!1,Le(w)}}}function qa(n){var y;let e,t,l,s,i,a,r,o,u,h,c,f,v,p;l=new Qe({props:{$$slots:{default:[ja]},$$scope:{ctx:n}}});function _(d){n[24](d)}let w={options:n[9],$$slots:{optionButton:[La,({option:d})=>({43:d}),({option:d})=>[0,d?4096:0]]},$$scope:{ctx:n}};n[8]!==void 0&&(w.input=n[8]),o=new En({props:w}),ut.push(()=>ft(o,"input",_));let k=((y=n[10])==null?void 0:y.length)>0&&qt(n);return{c(){e=E("span"),t=E("span"),V(l.$$.fragment),s=D(),i=E("input"),a=D(),r=E("span"),V(o.$$.fragment),h=D(),k&&k.c(),c=We(),this.h()},l(d){e=T(d,"SPAN",{class:!0});var A=P(e);t=T(A,"SPAN",{class:!0});var O=P(t);F(l.$$.fragment,O),O.forEach(m),s=S(A),i=T(A,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),a=S(A),r=T(A,"SPAN",{class:!0,tabindex:!0});var $=P(r);F(o.$$.fragment,$),$.forEach(m),A.forEach(m),h=S(d),k&&k.l(d),c=We(),this.h()},h(){g(t,"class","mb-2"),g(i,"class","input"),g(i,"type","search"),g(i,"name","demo"),g(i,"placeholder","Search..."),g(r,"class","card w-full max-w-sm max-h-48 p-4 overflow-y-auto inline-block"),g(r,"tabindex","-1"),g(e,"class","my-4")},m(d,A){B(d,e,A),b(e,t),q(l,t,null),b(e,s),b(e,i),Ue(i,n[8]),b(e,a),b(e,r),q(o,r,null),B(d,h,A),k&&k.m(d,A),B(d,c,A),f=!0,v||(p=H(i,"input",n[22]),v=!0)},p(d,A){var M;const O={};A[1]&131072&&(O.$$scope={dirty:A,ctx:d}),l.$set(O),A[0]&256&&i.value!==d[8]&&Ue(i,d[8]);const $={};A[0]&512&&($.options=d[9]),A[1]&135168&&($.$$scope={dirty:A,ctx:d}),!u&&A[0]&256&&(u=!0,$.input=d[8],ct(()=>u=!1)),o.$set($),((M=d[10])==null?void 0:M.length)>0?k?(k.p(d,A),A[0]&1024&&C(k,1)):(k=qt(d),k.c(),C(k,1),k.m(c.parentNode,c)):k&&(Ae(),N(k,1,1,()=>{k=null}),Ce())},i(d){f||(C(l.$$.fragment,d),C(o.$$.fragment,d),C(k),f=!0)},o(d){N(l.$$.fragment,d),N(o.$$.fragment,d),N(k),f=!1},d(d){d&&(m(e),m(h),m(c)),J(l),J(o),k&&k.d(d),v=!1,p()}}}function Gt(n){let e,t=n[7].message+"",l,s,i,a,r;return{c(){e=E("span"),l=re(t),s=D(),i=E("progress"),this.h()},l(o){e=T(o,"SPAN",{});var u=P(e);l=oe(u,t),u.forEach(m),s=S(o),i=T(o,"PROGRESS",{max:!0}),P(i).forEach(m),this.h()},h(){i.value=a=n[7].value,g(i,"max",r=n[7].max)},m(o,u){B(o,e,u),b(e,l),B(o,s,u),B(o,i,u)},p(o,u){u[0]&128&&t!==(t=o[7].message+"")&&ze(l,t),u[0]&128&&a!==(a=o[7].value)&&(i.value=a),u[0]&128&&r!==(r=o[7].max)&&g(i,"max",r)},d(o){o&&(m(e),m(s),m(i))}}}function Ja(n){let e,t,l="Save to Deezer",s,i,a,r,o,u="Update playlist",h,c,f,v="Prepare playlist",p,_,w,k,y,d="fix non readable tracks",A,O,$,M,U,Z,ee="remove de-selected tracks",ue,Q,_e,ce;a=new Dn({});let K=n[7]&&Gt(n);return w=new jn({}),M=new zn({}),{c(){e=E("div"),t=E("h3"),t.textContent=l,s=D(),i=E("button"),V(a.$$.fragment),r=D(),o=E("span"),o.textContent=u,h=D(),K&&K.c(),c=D(),f=E("h3"),f.textContent=v,p=D(),_=E("button"),V(w.$$.fragment),k=D(),y=E("span"),y.textContent=d,O=D(),$=E("button"),V(M.$$.fragment),U=D(),Z=E("span"),Z.textContent=ee,this.h()},l(Y){e=T(Y,"DIV",{class:!0});var X=P(e);t=T(X,"H3",{"data-svelte-h":!0}),me(t)!=="svelte-1v8zjx5"&&(t.textContent=l),s=S(X),i=T(X,"BUTTON",{class:!0});var fe=P(i);F(a.$$.fragment,fe),r=S(fe),o=T(fe,"SPAN",{"data-svelte-h":!0}),me(o)!=="svelte-w41jv5"&&(o.textContent=u),fe.forEach(m),h=S(X),K&&K.l(X),c=S(X),f=T(X,"H3",{"data-svelte-h":!0}),me(f)!=="svelte-1oj9aef"&&(f.textContent=v),p=S(X),_=T(X,"BUTTON",{class:!0,title:!0});var be=P(_);F(w.$$.fragment,be),k=S(be),y=T(be,"SPAN",{"data-svelte-h":!0}),me(y)!=="svelte-1m49f8q"&&(y.textContent=d),be.forEach(m),O=S(X),$=T(X,"BUTTON",{class:!0,title:!0});var ge=P($);F(M.$$.fragment,ge),U=S(ge),Z=T(ge,"SPAN",{"data-svelte-h":!0}),me(Z)!=="svelte-13uzf89"&&(Z.textContent=ee),ge.forEach(m),X.forEach(m),this.h()},h(){g(i,"class","btn variant-filled-primary"),g(_,"class","btn variant-filled-tertiary"),_.disabled=A=n[4].filter(Wt).length===0,g(_,"title","try to find an equivalent of tracks that are not readable anymore in deezer (colored in red in the table)"),g($,"class","btn variant-filled-tertiary"),$.disabled=ue=n[4].filter(Yt).length===0,g($,"title","remove de-selected new tracks"),g(e,"class","flex flex-col gap-y-4 w-4/5")},m(Y,X){B(Y,e,X),b(e,t),b(e,s),b(e,i),q(a,i,null),b(i,r),b(i,o),b(e,h),K&&K.m(e,null),b(e,c),b(e,f),b(e,p),b(e,_),q(w,_,null),b(_,k),b(_,y),b(e,O),b(e,$),q(M,$,null),b($,U),b($,Z),Q=!0,_e||(ce=[H(i,"click",nt(n[21])),H(_,"click",nt(n[16])),H($,"click",nt(n[17]))],_e=!0)},p(Y,X){Y[7]?K?K.p(Y,X):(K=Gt(Y),K.c(),K.m(e,c)):K&&(K.d(1),K=null),(!Q||X[0]&16&&A!==(A=Y[4].filter(Wt).length===0))&&(_.disabled=A),(!Q||X[0]&16&&ue!==(ue=Y[4].filter(Yt).length===0))&&($.disabled=ue)},i(Y){Q||(C(a.$$.fragment,Y),C(w.$$.fragment,Y),C(M.$$.fragment,Y),Q=!0)},o(Y){N(a.$$.fragment,Y),N(w.$$.fragment,Y),N(M.$$.fragment,Y),Q=!1},d(Y){Y&&m(e),J(a),K&&K.d(),J(w),J(M),_e=!1,Le(ce)}}}function Ga(n){let e,t;return e=new bl({props:{$$slots:{sidebarRight:[Ja],sidebarLeft:[qa],default:[$a]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,s){q(e,l,s),t=!0},p(l,s){const i={};s[0]&2047|s[1]&131072&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Kt(n){return!n.inPlaylist&&n.selected?"!text-lime-500":n.inPlaylist&&!n.selected?"!line-through":""}const Wt=n=>n.selected&&!n.track.readable,Yt=n=>!n.selected&&!n.inPlaylist,Xt=n=>n.selected,Qt=n=>n.selected,xt=n=>n.selected,el=n=>n.selected;function Ka(n,e,t){let l,s,i,a,r,o,u;const h=Cl(),c=xe(void 0);Ke(n,c,z=>t(7,a=z));let{data:f}=e;const v=xe([]);Ke(n,v,z=>t(10,u=z));const p=xe([]);Ke(n,p,z=>t(4,i=z));const _={ascending:!1,orderBy:"trackCount"};function w(z){z.ascending!==void 0&&t(1,_.ascending=z.ascending,_),z.orderBy!==void 0&&t(1,_.orderBy=z.orderBy,_),v.update(ie=>ca(ie,_,z))}async function k(){try{const z=Tl(p);await la(z,h,c),p.set(z)}finally{c.set(void 0)}}function y(){p.update(z=>ua(z,h))}let d=xe("");Ke(n,d,z=>t(8,r=z));const A=hl(d,(z,ie)=>{if(!z){ie([]);return}Ye({apiPath:"/search/artist",searchParams:{q:z}}).then(Xe=>{const Be=Xe.data.map(Ze=>({label:`<span class="flex justify-between w-full items-center">
<span class="flex items-center"> <img src="${Ze.picture_small}" class="mx-2"/>${Ze.name}</span>
 <button class="btn-icon btn-icon-sm variant-outline-tertiary" title="add all artist titles to the playlist">add</button></span>`,value:Ze.id,meta:Ze}));ie(Be)})});Ke(n,A,z=>t(9,o=z));let O={page:0,limit:10,size:10,amounts:[10,20,50,100]},$="";function M(z){i.length===0&&t(0,f.playlist.title=z.name+" - Full Discography",f),at(z.id,p)}const U=()=>pa(f.playlist,i,h,c);function Z(){r=this.value,d.set(r)}const ee=z=>M(z.meta);function ue(z){r=z,d.set(r)}const Q=()=>w({orderBy:"alphabetical"}),_e=()=>w({orderBy:"trackCount"}),ce=()=>w({ascending:!1}),K=()=>w({ascending:!0}),Y=z=>at(z.id,p),X=z=>Ut(z.id,p);function fe(){$=this.value,t(3,$)}const be=z=>{l.forEach(ie=>ie.selected=z.target.checked),p.update(ie=>ie)};function ge(z,ie){z[ie].selected=this.checked,t(6,l),t(4,i),t(3,$),t(2,O)}const j=z=>oa(z.album,p),I=z=>ra(z.album.id,p),pe=z=>at(z.artist.id,p),de=z=>Ut(z.artist.id,p);function je(z){O=z,t(2,O),t(4,i)}return n.$$set=z=>{"data"in z&&t(0,f=z.data)},n.$$.update=()=>{if(n.$$.dirty[0]&1&&v.set(f.topArtists),n.$$.dirty[0]&1){const z=f.playlist.tracks.data.map(ie=>({track:ie,inPlaylist:!0,selected:!0}));p.set(z)}n.$$.dirty[0]&16&&t(2,O.size=i.length,O),n.$$.dirty[0]&28&&t(6,l=i.filter(z=>!$||JSON.stringify(z.track).toLowerCase().includes($.toLowerCase())).slice(O.page*O.limit,O.page*O.limit+O.limit)),n.$$.dirty[0]&16&&t(5,s=i.reduce((z,ie)=>Math.max(z,ie.track.rank),0))},[f,_,O,$,i,s,l,a,r,o,u,h,c,v,p,w,k,y,d,A,M,U,Z,ee,ue,Q,_e,ce,K,Y,X,fe,be,ge,j,I,pe,de,je]}class ns extends ae{constructor(e){super(),se(this,e,Ka,Ga,ne,{data:0,playlistArtistsSort:1},null,[-1,-1])}get playlistArtistsSort(){return this.$$.ctx[1]}}export{ns as component,ls as universal};
