import{s as p,l as f,m as d,i as u,r,d as g,M as h}from"../chunks/scheduler.5f6ec423.js";import{S as k,i as _}from"../chunks/index.c7424e09.js";import{i as x,g as b}from"../chunks/navigation.04c29384.js";import{p as v}from"../chunks/stores.eebed07d.js";import{T as P,R as c}from"../chunks/CookieManager.c7cee2e3.js";function C(n){let e;return{c(){e=f("callback from deezer")},l(t){e=d(t,"callback from deezer")},m(t,a){u(t,e,a)},p:r,i:r,o:r,d(t){t&&g(e)}}}const i="#access_token=";function $(n,e,t){let a;h(n,v,o=>t(0,a=o));async function l(o){P.set(o),await x();const m=c.get()||"/";c.remove(),await b(m,{invalidateAll:!0})}const s=a.url.hash;if(s.includes(i)){const o=s.substring(s.indexOf(i)+i.length,s.indexOf("&"));console.log("callback access token: ",{access_token:o}),Promise.resolve(o).then(l)}return[]}class R extends k{constructor(e){super(),_(this,e,$,C,p,{})}}export{R as component};
