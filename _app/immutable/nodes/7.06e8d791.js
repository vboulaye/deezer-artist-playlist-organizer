import{d as bl,w as it}from"../chunks/paths.42729105.js";import{g as kl,c as Ye,r as wl}from"../chunks/DeezerCall.7a3119d9.js";import{g as gt,P as yl,h as At}from"../chunks/PlaylistApplicationShell.4fee8c6d.js";import{s as Te,f as w,g as y,h as E,d as h,j as g,i as A,r as q,R as _t,w as K,E as he,S as Bt,l as re,m as oe,z as v,n as be,H as Pe,a as L,G as Ae,c as z,I as J,K as Ge,J as Tl,T as St,P as ot,U as Ve,V as Cl,e as Xe,L as He,M as Me,N as ke,Q as Qe,W as $e,y as pt,A as vt,B as bt,C as kt,k as El,F as et,p as rl,O as _e,X as ol,Y as rt,Z as Nl,_ as Lt}from"../chunks/scheduler.2d554b92.js";import{S as Ce,i as Ee,g as lt,t as j,c as st,a as F,b as X,d as Q,m as $,e as x,o as ul}from"../chunks/index.22319be1.js";import{e as Ie,u as Pl,d as Al}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.1878369d.js";import{i as Bl}from"../chunks/navigation.00e7235d.js";import{g as Ue,t as Oe}from"../chunks/stores.6c554b50.js";function zt(s,e,t){const a=s.slice();return a[32]=e[t],a}function Sl(s){let e,t,a;return{c(){e=w("div"),t=re(s[0]),this.h()},l(r){e=y(r,"DIV",{class:!0});var n=E(e);t=oe(n,s[0]),n.forEach(h),this.h()},h(){g(e,"class",a="autocomplete-empty "+s[2])},m(r,n){A(r,e,n),v(e,t)},p(r,n){n[0]&1&&be(t,r[0]),n[0]&4&&a!==(a="autocomplete-empty "+r[2])&&g(e,"class",a)},d(r){r&&h(e)}}}function Ll(s){let e,t,a=[],r=new Map,n,l,i=Ie(s[1].slice(0,s[8]));const u=o=>o[32];for(let o=0;o<i.length;o+=1){let m=zt(s,i,o),f=u(m);r.set(f,a[o]=Ot(f,m))}return{c(){e=w("nav"),t=w("ul");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=y(o,"NAV",{class:!0});var m=E(e);t=y(m,"UL",{class:!0});var f=E(t);for(let c=0;c<a.length;c+=1)a[c].l(f);f.forEach(h),m.forEach(h),this.h()},h(){g(t,"class",n="autocomplete-list "+s[5]),g(e,"class",l="autocomplete-nav "+s[6])},m(o,m){A(o,e,m),v(e,t);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(t,null)},p(o,m){m[0]&794&&(i=Ie(o[1].slice(0,o[8])),a=Pl(a,m,u,1,o,i,r,t,Al,Ot,null,zt)),m[0]&32&&n!==(n="autocomplete-list "+o[5])&&g(t,"class",n),m[0]&64&&l!==(l="autocomplete-nav "+o[6])&&g(e,"class",l)},d(o){o&&h(e);for(let m=0;m<a.length;m+=1)a[m].d()}}}function Ot(s,e){let t,a,r,n=e[32].label+"",l,i,u,o,m;function f(){return e[26](e[32])}return{key:s,first:null,c(){t=w("li"),a=w("button"),r=new Pe(!1),i=L(),this.h()},l(c){t=y(c,"LI",{class:!0});var T=E(t);a=y(T,"BUTTON",{class:!0,type:!0});var d=E(a);r=Ae(d,!1),d.forEach(h),i=z(T),T.forEach(h),this.h()},h(){r.a=null,g(a,"class",l="autocomplete-button "+e[3]),g(a,"type","button"),g(t,"class",u="autocomplete-item "+e[4]),this.first=t},m(c,T){A(c,t,T),v(t,a),r.m(n,a),v(t,i),o||(m=[J(a,"click",f),J(a,"click",e[24]),J(a,"keypress",e[25])],o=!0)},p(c,T){e=c,T[0]&258&&n!==(n=e[32].label+"")&&r.p(n),T[0]&8&&l!==(l="autocomplete-button "+e[3])&&g(a,"class",l),T[0]&16&&u!==(u="autocomplete-item "+e[4])&&g(t,"class",u)},d(c){c&&h(t),o=!1,Ge(m)}}}function zl(s){let e,t;function a(l,i){return l[1].length>0?Ll:Sl}let r=a(s),n=r(s);return{c(){e=w("div"),n.c(),this.h()},l(l){e=y(l,"DIV",{class:!0,"data-testid":!0});var i=E(e);n.l(i),i.forEach(h),this.h()},h(){g(e,"class",t="autocomplete "+s[7]),g(e,"data-testid","autocomplete")},m(l,i){A(l,e,i),n.m(e,null)},p(l,i){r===(r=a(l))&&n?n.p(l,i):(n.d(1),n=r(l),n&&(n.c(),n.m(e,null))),i[0]&128&&t!==(t="autocomplete "+l[7])&&g(e,"class",t)},i:q,o:q,d(l){l&&h(e),n.d()}}}function Ol(s,e,t){let a,r,n,l,i,u,o,m,f;const c=_t();let{input:T=void 0}=e,{options:d=[]}=e,{limit:p=void 0}=e,{allowlist:N=[]}=e,{denylist:P=[]}=e,{emptyState:C="No Results Found."}=e,{regionNav:_=""}=e,{regionList:B="list-nav"}=e,{regionItem:O=""}=e,{regionButton:U="w-full"}=e,{regionEmpty:ee="text-center"}=e,{whitelist:ae=[]}=e,{blacklist:G=[]}=e,{duration:ce=200}=e;function Be(S,V){let ne=[...d];S.length&&(ne=ne.filter(we=>S.includes(we.value))),V.length&&(ne=ne.filter(we=>!V.includes(we.value))),!S.length&&!V.length&&(ne=d),t(23,a=ne)}function ue(){let S=[...a];return S=S.filter(V=>{const ne=String(T).toLowerCase().trim();if(JSON.stringify([V.label,V.value,V.keywords]).toLowerCase().includes(ne))return V}),S}function ie(S){c("selection",S)}function pe(S){Bt.call(this,s,S)}function ve(S){Bt.call(this,s,S)}const M=S=>ie(S);return s.$$set=S=>{t(31,e=K(K({},e),he(S))),"input"in S&&t(10,T=S.input),"options"in S&&t(11,d=S.options),"limit"in S&&t(12,p=S.limit),"allowlist"in S&&t(13,N=S.allowlist),"denylist"in S&&t(14,P=S.denylist),"emptyState"in S&&t(0,C=S.emptyState),"regionNav"in S&&t(15,_=S.regionNav),"regionList"in S&&t(16,B=S.regionList),"regionItem"in S&&t(17,O=S.regionItem),"regionButton"in S&&t(18,U=S.regionButton),"regionEmpty"in S&&t(19,ee=S.regionEmpty),"whitelist"in S&&t(20,ae=S.whitelist),"blacklist"in S&&t(21,G=S.blacklist),"duration"in S&&t(22,ce=S.duration)},s.$$.update=()=>{s.$$.dirty[0]&2048&&t(23,a=d),s.$$.dirty[0]&24576&&Be(N,P),s.$$.dirty[0]&8389632&&t(1,r=T?ue():a),s.$$.dirty[0]&4098&&t(8,n=p!==void 0?p:r.length),t(7,l=`${e.class??""}`),s.$$.dirty[0]&32768&&t(6,i=`${_}`),s.$$.dirty[0]&65536&&t(5,u=`${B}`),s.$$.dirty[0]&131072&&t(4,o=`${O}`),s.$$.dirty[0]&262144&&t(3,m=`${U}`),s.$$.dirty[0]&524288&&t(2,f=`${ee}`)},e=he(e),[C,r,f,m,o,u,i,l,n,ie,T,d,p,N,P,_,B,O,U,ee,ae,G,ce,a,pe,ve,M]}class Il extends Ce{constructor(e){super(),Ee(this,e,Ol,zl,Te,{input:10,options:11,limit:12,allowlist:13,denylist:14,emptyState:0,regionNav:15,regionList:16,regionItem:17,regionButton:18,regionEmpty:19,whitelist:20,blacklist:21,duration:22},null,[-1,-1])}}const Dl='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>',Fl='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"/></svg>',jl='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"/></svg>',Hl='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/></svg>';function It(s,e,t){const a=s.slice();return a[43]=e[t],a}function Dt(s,e,t){const a=s.slice();return a[46]=e[t],a}function Ft(s){let e,t,a,r,n,l,i=Ie(s[0].amounts),u=[];for(let o=0;o<i.length;o+=1)u[o]=jt(Dt(s,i,o));return{c(){e=w("label"),t=w("select");for(let o=0;o<u.length;o+=1)u[o].c();this.h()},l(o){e=y(o,"LABEL",{class:!0});var m=E(e);t=y(m,"SELECT",{class:!0,"aria-label":!0});var f=E(t);for(let c=0;c<u.length;c+=1)u[c].l(f);f.forEach(h),m.forEach(h),this.h()},h(){g(t,"class",a="paginator-select "+s[19]),t.disabled=s[1],g(t,"aria-label","Select Amount"),s[0].limit===void 0&&Tl(()=>s[32].call(t)),g(e,"class",r="paginator-label "+s[20])},m(o,m){A(o,e,m),v(e,t);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(t,null);St(t,s[0].limit,!0),n||(l=[J(t,"change",s[32]),J(t,"change",s[23])],n=!0)},p(o,m){if(m[0]&33){i=Ie(o[0].amounts);let f;for(f=0;f<i.length;f+=1){const c=Dt(o,i,f);u[f]?u[f].p(c,m):(u[f]=jt(c),u[f].c(),u[f].m(t,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=i.length}m[0]&524288&&a!==(a="paginator-select "+o[19])&&g(t,"class",a),m[0]&2&&(t.disabled=o[1]),m[0]&1&&St(t,o[0].limit),m[0]&1048576&&r!==(r="paginator-label "+o[20])&&g(e,"class",r)},d(o){o&&h(e),ot(u,o),n=!1,Ge(l)}}}function jt(s){let e,t=s[46]+"",a,r,n,l;return{c(){e=w("option"),a=re(t),r=L(),n=re(s[5]),this.h()},l(i){e=y(i,"OPTION",{});var u=E(e);a=oe(u,t),r=z(u),n=oe(u,s[5]),u.forEach(h),this.h()},h(){e.__value=l=s[46],Ve(e,e.__value)},m(i,u){A(i,e,u),v(e,a),v(e,r),v(e,n)},p(i,u){u[0]&1&&t!==(t=i[46]+"")&&be(a,t),u[0]&32&&be(n,i[5]),u[0]&1&&l!==(l=i[46])&&(e.__value=l,Ve(e,e.__value))},d(i){i&&h(e)}}}function Ht(s){let e,t,a,r,n;return{c(){e=w("button"),t=new Pe(!1),this.h()},l(l){e=y(l,"BUTTON",{type:!0,"aria-label":!0,class:!0});var i=E(e);t=Ae(i,!1),i.forEach(h),this.h()},h(){t.a=null,g(e,"type","button"),g(e,"aria-label",s[12]),g(e,"class",s[6]),e.disabled=a=s[1]||s[0].offset===0},m(l,i){A(l,e,i),t.m(s[9],e),r||(n=J(e,"click",s[33]),r=!0)},p(l,i){i[0]&512&&t.p(l[9]),i[0]&4096&&g(e,"aria-label",l[12]),i[0]&64&&g(e,"class",l[6]),i[0]&3&&a!==(a=l[1]||l[0].offset===0)&&(e.disabled=a)},d(l){l&&h(e),r=!1,n()}}}function Mt(s){let e,t,a,r,n;return{c(){e=w("button"),t=new Pe(!1),this.h()},l(l){e=y(l,"BUTTON",{type:!0,"aria-label":!0,class:!0});var i=E(e);t=Ae(i,!1),i.forEach(h),this.h()},h(){t.a=null,g(e,"type","button"),g(e,"aria-label",s[13]),g(e,"class",s[6]),e.disabled=a=s[1]||s[0].offset===0},m(l,i){A(l,e,i),t.m(s[7],e),r||(n=J(e,"click",s[34]),r=!0)},p(l,i){i[0]&128&&t.p(l[7]),i[0]&8192&&g(e,"aria-label",l[13]),i[0]&64&&g(e,"class",l[6]),i[0]&3&&a!==(a=l[1]||l[0].offset===0)&&(e.disabled=a)},d(l){l&&h(e),r=!1,n()}}}function Ml(s){let e,t=Ie(s[17]),a=[];for(let r=0;r<t.length;r+=1)a[r]=Ut(It(s,t,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=Xe()},l(r){for(let n=0;n<a.length;n+=1)a[n].l(r);e=Xe()},m(r,n){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,n);A(r,e,n)},p(r,n){if(n[0]&21102656){t=Ie(r[17]);let l;for(l=0;l<t.length;l+=1){const i=It(r,t,l);a[l]?a[l].p(i,n):(a[l]=Ut(i),a[l].c(),a[l].m(e.parentNode,e))}for(;l<a.length;l+=1)a[l].d(1);a.length=t.length}},d(r){r&&h(e),ot(a,r)}}}function Ul(s){let e,t=s[0].offset*s[0].limit+1+"",a,r,n=Math.min(s[0].offset*s[0].limit+s[0].limit,s[0].size)+"",l,i,u,o,m,f=s[0].size+"",c,T;return{c(){e=w("button"),a=re(t),r=re("-"),l=re(n),i=re(" "),u=w("span"),o=re(s[11]),m=L(),c=re(f),this.h()},l(d){e=y(d,"BUTTON",{type:!0,class:!0});var p=E(e);a=oe(p,t),r=oe(p,"-"),l=oe(p,n),i=oe(p," "),u=y(p,"SPAN",{class:!0});var N=E(u);o=oe(N,s[11]),m=z(N),c=oe(N,f),N.forEach(h),p.forEach(h),this.h()},h(){g(u,"class","opacity-50"),g(e,"type","button"),g(e,"class",T=s[6]+" pointer-events-none !text-sm")},m(d,p){A(d,e,p),v(e,a),v(e,r),v(e,l),v(e,i),v(e,u),v(u,o),v(u,m),v(u,c)},p(d,p){p[0]&1&&t!==(t=d[0].offset*d[0].limit+1+"")&&be(a,t),p[0]&1&&n!==(n=Math.min(d[0].offset*d[0].limit+d[0].limit,d[0].size)+"")&&be(l,n),p[0]&2048&&be(o,d[11]),p[0]&1&&f!==(f=d[0].size+"")&&be(c,f),p[0]&64&&T!==(T=d[6]+" pointer-events-none !text-sm")&&g(e,"class",T)},d(d){d&&h(e)}}}function Ut(s){let e,t=(s[43]>=0?s[43]+1:"...")+"",a,r,n,l,i;function u(){return s[35](s[43])}return{c(){e=w("button"),a=re(t),r=L(),this.h()},l(o){e=y(o,"BUTTON",{type:!0,class:!0});var m=E(e);a=oe(m,t),r=z(m),m.forEach(h),this.h()},h(){g(e,"type","button"),g(e,"class",n=s[6]+" "+s[22](s[43]))},m(o,m){A(o,e,m),v(e,a),v(e,r),l||(i=J(e,"click",u),l=!0)},p(o,m){s=o,m[0]&131072&&t!==(t=(s[43]>=0?s[43]+1:"...")+"")&&be(a,t),m[0]&4325440&&n!==(n=s[6]+" "+s[22](s[43]))&&g(e,"class",n)},d(o){o&&h(e),l=!1,i()}}}function Zt(s){let e,t,a,r,n;return{c(){e=w("button"),t=new Pe(!1),this.h()},l(l){e=y(l,"BUTTON",{type:!0,"aria-label":!0,class:!0});var i=E(e);t=Ae(i,!1),i.forEach(h),this.h()},h(){t.a=null,g(e,"type","button"),g(e,"aria-label",s[14]),g(e,"class",s[6]),e.disabled=a=s[1]||(s[0].offset+1)*s[0].limit>=s[0].size},m(l,i){A(l,e,i),t.m(s[8],e),r||(n=J(e,"click",s[36]),r=!0)},p(l,i){i[0]&256&&t.p(l[8]),i[0]&16384&&g(e,"aria-label",l[14]),i[0]&64&&g(e,"class",l[6]),i[0]&3&&a!==(a=l[1]||(l[0].offset+1)*l[0].limit>=l[0].size)&&(e.disabled=a)},d(l){l&&h(e),r=!1,n()}}}function Rt(s){let e,t,a,r,n;return{c(){e=w("button"),t=new Pe(!1),this.h()},l(l){e=y(l,"BUTTON",{type:!0,"aria-label":!0,class:!0});var i=E(e);t=Ae(i,!1),i.forEach(h),this.h()},h(){t.a=null,g(e,"type","button"),g(e,"aria-label",s[15]),g(e,"class",s[6]),e.disabled=a=s[1]||(s[0].offset+1)*s[0].limit>=s[0].size},m(l,i){A(l,e,i),t.m(s[10],e),r||(n=J(e,"click",s[37]),r=!0)},p(l,i){i[0]&1024&&t.p(l[10]),i[0]&32768&&g(e,"aria-label",l[15]),i[0]&64&&g(e,"class",l[6]),i[0]&3&&a!==(a=l[1]||(l[0].offset+1)*l[0].limit>=l[0].size)&&(e.disabled=a)},d(l){l&&h(e),r=!1,n()}}}function Zl(s){let e,t,a,r,n,l,i,u,o,m=s[0].amounts.length&&Ft(s),f=s[3]&&Ht(s),c=s[2]&&Mt(s);function T(C,_){return C[4]===!1?Ul:Ml}let d=T(s),p=d(s),N=s[2]&&Zt(s),P=s[3]&&Rt(s);return{c(){e=w("div"),m&&m.c(),t=L(),a=w("div"),f&&f.c(),r=L(),c&&c.c(),n=L(),p.c(),l=L(),N&&N.c(),i=L(),P&&P.c(),this.h()},l(C){e=y(C,"DIV",{class:!0,"data-testid":!0});var _=E(e);m&&m.l(_),t=z(_),a=y(_,"DIV",{class:!0});var B=E(a);f&&f.l(B),r=z(B),c&&c.l(B),n=z(B),p.l(B),l=z(B),N&&N.l(B),i=z(B),P&&P.l(B),B.forEach(h),_.forEach(h),this.h()},h(){g(a,"class",u="paginator-controls "+s[18]),g(e,"class",o="paginator "+s[21]),g(e,"data-testid","paginator")},m(C,_){A(C,e,_),m&&m.m(e,null),v(e,t),v(e,a),f&&f.m(a,null),v(a,r),c&&c.m(a,null),v(a,n),p.m(a,null),v(a,l),N&&N.m(a,null),v(a,i),P&&P.m(a,null)},p(C,_){C[0].amounts.length?m?m.p(C,_):(m=Ft(C),m.c(),m.m(e,t)):m&&(m.d(1),m=null),C[3]?f?f.p(C,_):(f=Ht(C),f.c(),f.m(a,r)):f&&(f.d(1),f=null),C[2]?c?c.p(C,_):(c=Mt(C),c.c(),c.m(a,n)):c&&(c.d(1),c=null),d===(d=T(C))&&p?p.p(C,_):(p.d(1),p=d(C),p&&(p.c(),p.m(a,l))),C[2]?N?N.p(C,_):(N=Zt(C),N.c(),N.m(a,i)):N&&(N.d(1),N=null),C[3]?P?P.p(C,_):(P=Rt(C),P.c(),P.m(a,null)):P&&(P.d(1),P=null),_[0]&262144&&u!==(u="paginator-controls "+C[18])&&g(a,"class",u),_[0]&2097152&&o!==(o="paginator "+C[21])&&g(e,"class",o)},i:q,o:q,d(C){C&&h(e),m&&m.d(),f&&f.d(),c&&c.d(),p.d(),N&&N.d(),P&&P.d()}}}const Rl="flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4",Vl="w-full md:w-auto";function Jl(s,e,t){let a,r,n,l,i;const u=_t();let{settings:o={offset:0,limit:5,size:0,amounts:[1,2,5,10]}}=e,{disabled:m=!1}=e,{showPreviousNextButtons:f=!0}=e,{showFirstLastButtons:c=!1}=e,{showNumerals:T=!1}=e,{maxNumerals:d=1}=e,{justify:p="justify-between"}=e,{select:N="select min-w-[150px]"}=e,{amountText:P="Items"}=e,{regionControl:C="btn-group"}=e,{controlVariant:_="variant-filled"}=e,{controlSeparator:B=""}=e,{active:O="variant-filled-primary"}=e,{buttonClasses:U="!px-3 !py-1.5 fill-current"}=e,{buttonTextPrevious:ee=Dl}=e,{buttonTextNext:ae=Fl}=e,{buttonTextFirst:G=jl}=e,{buttonTextLast:ce=Hl}=e,{separatorText:Be="of"}=e,{labelFirst:ue="First page"}=e,{labelPrevious:ie="Previous page"}=e,{labelNext:pe="Next page"}=e,{labelLast:ve="Last page"}=e,M=Math.max(0,Math.ceil(o.size/o.limit-1)),S=le();function V(){t(0,o.offset=0,o),u("amount",o.limit),t(16,M=Math.max(0,Math.ceil(o.size/o.limit-1))),t(17,S=le())}function ne(b){b<0||(t(0,o.offset=b,o),u("page",o.offset),t(17,S=le()))}function we(){const b=[];for(let W=0;W<=M;W++)b.push(W);return b}function le(){const b=[],W=o.offset<d+2,H=o.offset>M-(d+2);if(M<=d*2+1)return we();if(b.push(0),W||b.push(-1),W||H){const te=W?1:M-(d+2),de=H?M-1:d+2;for(let Z=te;Z<=de;Z++)b.push(Z)}else for(let te=o.offset-d;te<=o.offset+d;te++)b.push(te);return H||b.push(-1),b.push(M),b}function R(b){t(16,M=Math.max(0,Math.ceil(b/o.limit-1))),t(17,S=le())}function se(){o.limit=Cl(this),t(0,o)}const Se=()=>{ne(0)},ye=()=>{ne(o.offset-1)},ze=b=>ne(b),k=()=>{ne(o.offset+1)},I=()=>{ne(M)};return s.$$set=b=>{t(42,e=K(K({},e),he(b))),"settings"in b&&t(0,o=b.settings),"disabled"in b&&t(1,m=b.disabled),"showPreviousNextButtons"in b&&t(2,f=b.showPreviousNextButtons),"showFirstLastButtons"in b&&t(3,c=b.showFirstLastButtons),"showNumerals"in b&&t(4,T=b.showNumerals),"maxNumerals"in b&&t(25,d=b.maxNumerals),"justify"in b&&t(26,p=b.justify),"select"in b&&t(27,N=b.select),"amountText"in b&&t(5,P=b.amountText),"regionControl"in b&&t(28,C=b.regionControl),"controlVariant"in b&&t(29,_=b.controlVariant),"controlSeparator"in b&&t(30,B=b.controlSeparator),"active"in b&&t(31,O=b.active),"buttonClasses"in b&&t(6,U=b.buttonClasses),"buttonTextPrevious"in b&&t(7,ee=b.buttonTextPrevious),"buttonTextNext"in b&&t(8,ae=b.buttonTextNext),"buttonTextFirst"in b&&t(9,G=b.buttonTextFirst),"buttonTextLast"in b&&t(10,ce=b.buttonTextLast),"separatorText"in b&&t(11,Be=b.separatorText),"labelFirst"in b&&t(12,ue=b.labelFirst),"labelPrevious"in b&&t(13,ie=b.labelPrevious),"labelNext"in b&&t(14,pe=b.labelNext),"labelLast"in b&&t(15,ve=b.labelLast)},s.$$.update=()=>{s.$$.dirty[0]&1|s.$$.dirty[1]&1&&t(22,a=b=>b===o.offset?`${O} pointer-events-none`:""),s.$$.dirty[0]&33554432&&V(),s.$$.dirty[0]&1&&R(o.size),t(21,r=`${Rl} ${p} ${e.class??""}`),s.$$.dirty[0]&134217728&&t(19,l=`${N}`),s.$$.dirty[0]&1879048192&&t(18,i=`${C} ${_} ${B}`)},t(20,n=`${Vl}`),e=he(e),[o,m,f,c,T,P,U,ee,ae,G,ce,Be,ue,ie,pe,ve,M,S,i,l,n,r,a,V,ne,d,p,N,C,_,B,O,se,Se,ye,ze,k,I]}class ql extends Ce{constructor(e){super(),Ee(this,e,Jl,Zl,Te,{settings:0,disabled:1,showPreviousNextButtons:2,showFirstLastButtons:3,showNumerals:4,maxNumerals:25,justify:26,select:27,amountText:5,regionControl:28,controlVariant:29,controlSeparator:30,active:31,buttonClasses:6,buttonTextPrevious:7,buttonTextNext:8,buttonTextFirst:9,buttonTextLast:10,separatorText:11,labelFirst:12,labelPrevious:13,labelNext:14,labelLast:15},null,[-1,-1])}}var wt={exports:{}};function fl(){var s=Object.create(null),e=0,t=0,a=0,r=!1;this.put=function(l,i,u,o){if(r&&console.log("caching: %s = %j (@%s)",l,i,u),typeof u<"u"&&(typeof u!="number"||isNaN(u)||u<=0))throw new Error("Cache timeout must be a positive number");if(typeof o<"u"&&typeof o!="function")throw new Error("Cache timeout callback must be a function");var m=s[l];m?clearTimeout(m.timeout):a++;var f={value:i,expire:u+Date.now()};return isNaN(f.expire)||(f.timeout=setTimeout((function(){n(l),o&&o(l,i)}).bind(this),u)),s[l]=f,i},this.del=function(l){var i=!0,u=s[l];return u?(clearTimeout(u.timeout),!isNaN(u.expire)&&u.expire<Date.now()&&(i=!1)):i=!1,i&&n(l),i};function n(l){a--,delete s[l]}this.clear=function(){for(var l in s)clearTimeout(s[l].timeout);a=0,s=Object.create(null),r&&(e=0,t=0)},this.get=function(l){var i=s[l];if(typeof i<"u"){if(isNaN(i.expire)||i.expire>=Date.now())return r&&e++,i.value;r&&t++,a--,delete s[l]}else r&&t++;return null},this.size=function(){return a},this.memsize=function(){var l=0,i;for(i in s)l++;return l},this.debug=function(l){r=l},this.hits=function(){return e},this.misses=function(){return t},this.keys=function(){return Object.keys(s)},this.exportJson=function(){var l={};for(var i in s){var u=s[i];l[i]={value:u.value,expire:u.expire||"NaN"}}return JSON.stringify(l)},this.importJson=function(l,i){var u=JSON.parse(l),o=Date.now(),m=i&&i.skipDuplicates;for(var f in u)if(u.hasOwnProperty(f)){if(m){var c=s[f];if(c){r&&console.log("Skipping duplicate imported key '%s'",f);continue}}var T=u[f],d=T.expire-o;if(d<=0){this.del(f);continue}d=d>0?d:void 0,this.put(f,T.value,d)}return this.size()}}wt.exports=new fl;wt.exports.Cache=fl;var Kl=wt.exports;const Vt=kl(Kl);class cl{constructor(e,t){this.cacheName=e,this.ttl=t}get(e){return Vt.get(this.buildKey(e))}buildKey(e){return this.cacheName+"~"+e}put(e,t){Vt.put(this.buildKey(e),t,this.ttl)}}const Jt=new cl("ARTIST",3600*1e3),qt=new cl("ARTIST-DISCOGRAPHY",3600*1e3);async function Gl(s){const e=Jt.get(s);if(e)return e;const t=await Ye({apiPath:"/artist/"+s});return Jt.put(s,t),t}async function hl(s){return await gt({apiPath:"/album/"+s+"/tracks",index:0,limit:100})}async function ml(s){const e=qt.get(s);if(e)return e;const t=await gt({apiPath:"/artist/"+s+"/albums",index:0,limit:100}),a=await Promise.all(t.data.map(async r=>{const n=await hl(r.id);return{...r,tracks:n.data}}));return qt.put(s,a),a}const Wl=!1;async function Yl(s){if(s==="NEW"){const e=new Date().toISOString(),t=await Ye({apiPath:"/user/me/playlists",searchParams:{request_method:"POST",title:`New Playlist ${e}`,description:`Playlist created with deezer-artist-playlist-organizer on the ${e}`,public:!0}});throw wl(302,"./"+t.id)}return s}async function Xl({params:s}){const e=await Yl(s.id),t=await Ye({apiPath:`/playlist/${e}`}),a=t.tracks.data.reduce((l,i)=>(l[i.artist.id]||(l[i.artist.id]={artist:i.artist,count:0}),l[i.artist.id].count++,l),{}),r=Object.values(a).sort((l,i)=>i.count-l.count);if(t.nb_tracks>400){const l=await gt({apiPath:`/playlist/${e}/tracks`,limit:100,index:t.tracks.data.length});t.tracks.data=[...t.tracks.data,...l.data]}const n=Promise.all(r.map(async l=>await Gl(l.artist.id)));return{playlist:t,topArtists:n}}const ha=Object.freeze(Object.defineProperty({__proto__:null,load:Xl,ssr:Wl},Symbol.toStringTag,{value:"Module"}));function Ql(s){let e,t,a='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm40-84a12 12 0 0 1-5.12 9.83l-40 28A12 12 0 0 1 104 156v-56a12 12 0 0 1 18.88-9.83l40 28A12 12 0 0 1 168 128Z"/>',r=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=K(n,r[l]);return{c(){e=He("svg"),t=new Pe(!0),this.h()},l(l){e=Me(l,"svg",{viewBox:!0,width:!0,height:!0});var i=E(e);t=Ae(i,!0),i.forEach(h),this.h()},h(){t.a=null,ke(e,n)},m(l,i){A(l,e,i),t.m(a,e)},p(l,[i]){ke(e,n=Ue(r,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function $l(s,e,t){return s.$$set=a=>{t(0,e=K(K({},e),he(a)))},e=he(e),[e]}class xl extends Ce{constructor(e){super(),Ee(this,e,$l,Ql,Te,{})}}function es(s){let e,t,a='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84ZM116 96v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Zm48 0v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Z"/>',r=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=K(n,r[l]);return{c(){e=He("svg"),t=new Pe(!0),this.h()},l(l){e=Me(l,"svg",{viewBox:!0,width:!0,height:!0});var i=E(e);t=Ae(i,!0),i.forEach(h),this.h()},h(){t.a=null,ke(e,n)},m(l,i){A(l,e,i),t.m(a,e)},p(l,[i]){ke(e,n=Ue(r,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function ts(s,e,t){return s.$$set=a=>{t(0,e=K(K({},e),he(a)))},e=he(e),[e]}class ls extends Ce{constructor(e){super(),Ee(this,e,ts,es,Te,{})}}function ss(s){let e,t,a,r,n;return t=new ls({}),{c(){e=w("span"),X(t.$$.fragment),this.h()},l(l){e=y(l,"SPAN",{role:!0});var i=E(e);Q(t.$$.fragment,i),i.forEach(h),this.h()},h(){g(e,"role","button")},m(l,i){A(l,e,i),$(t,e,null),a=!0,r||(n=J(e,"click",s[4]),r=!0)},p:q,i(l){a||(F(t.$$.fragment,l),a=!0)},o(l){j(t.$$.fragment,l),a=!1},d(l){l&&h(e),x(t),r=!1,n()}}}function as(s){let e,t,a,r,n;return t=new xl({}),{c(){e=w("span"),X(t.$$.fragment),this.h()},l(l){e=y(l,"SPAN",{role:!0});var i=E(e);Q(t.$$.fragment,i),i.forEach(h),this.h()},h(){g(e,"role","button")},m(l,i){A(l,e,i),$(t,e,null),a=!0,r||(n=J(e,"click",s[4]),r=!0)},p:q,i(l){a||(F(t.$$.fragment,l),a=!0)},o(l){j(t.$$.fragment,l),a=!1},d(l){l&&h(e),x(t),r=!1,n()}}}function ns(s){let e,t,a=!0,r,n,l,i,u,o,m;const f=[as,ss],c=[];function T(d,p){return d[0]?0:1}return l=T(s),i=c[l]=f[l](s),{c(){e=w("audio"),r=L(),n=w("span"),i.c(),this.h()},l(d){e=y(d,"AUDIO",{src:!0}),E(e).forEach(h),r=z(d),n=y(d,"SPAN",{});var p=E(n);i.l(p),p.forEach(h),this.h()},h(){Qe(e.src,t=s[1])||g(e,"src",t),e.loop=s[2],$e(n,"text-gray-500",!s[3])},m(d,p){A(d,e,p),A(d,r,p),A(d,n,p),c[l].m(n,null),u=!0,o||(m=[J(e,"play",s[5]),J(e,"pause",s[5])],o=!0)},p(d,[p]){(!u||p&2&&!Qe(e.src,t=d[1]))&&g(e,"src",t),(!u||p&4)&&(e.loop=d[2]),p&1&&a!==(a=d[0])&&e[a?"pause":"play"]();let N=l;l=T(d),l===N?c[l].p(d,p):(lt(),j(c[N],1,1,()=>{c[N]=null}),st(),i=c[l],i?i.p(d,p):(i=c[l]=f[l](d),i.c()),F(i,1),i.m(n,null)),(!u||p&8)&&$e(n,"text-gray-500",!d[3])},i(d){u||(F(i),u=!0)},o(d){j(i),u=!1},d(d){d&&(h(e),h(r),h(n)),c[l].d(),o=!1,Ge(m)}}}function is(s,e,t){let{src:a}=e,{loop:r=!1}=e,{enabled:n=!0}=e,{paused:l=!0}=e;function i(){n&&t(0,l=!l)}function u(){l=this.paused,t(0,l)}return s.$$set=o=>{"src"in o&&t(1,a=o.src),"loop"in o&&t(2,r=o.loop),"enabled"in o&&t(3,n=o.enabled),"paused"in o&&t(0,l=o.paused)},[l,a,r,n,i,u]}class rs extends Ce{constructor(e){super(),Ee(this,e,is,ns,Te,{src:1,loop:2,enabled:3,paused:0})}}function os(s){let e,t;const a=s[1].default,r=pt(a,s,s[0],null);return{c(){e=w("span"),r&&r.c(),this.h()},l(n){e=y(n,"SPAN",{class:!0});var l=E(e);r&&r.l(l),l.forEach(h),this.h()},h(){g(e,"class","flex gap-x-2 items-center mx-2")},m(n,l){A(n,e,l),r&&r.m(e,null),t=!0},p(n,[l]){r&&r.p&&(!t||l&1)&&vt(r,a,n,n[0],t?kt(a,n[0],l,null):bt(n[0]),null)},i(n){t||(F(r,n),t=!0)},o(n){j(r,n),t=!1},d(n){n&&h(e),r&&r.d(n)}}}function us(s,e,t){let{$$slots:a={},$$scope:r}=e;return s.$$set=n=>{"$$scope"in n&&t(0,r=n.$$scope)},[r,a]}class tt extends Ce{constructor(e){super(),Ee(this,e,us,os,Te,{})}}function fs(s){let e,t,a,r;const n=s[2].default,l=pt(n,s,s[1],null);return{c(){e=w("td"),t=w("div"),l&&l.c(),this.h()},l(i){e=y(i,"TD",{style:!0});var u=E(e);t=y(u,"DIV",{class:!0});var o=E(t);l&&l.l(o),o.forEach(h),u.forEach(h),this.h()},h(){g(t,"class",a="flex items-center justify-"+s[0]+" gap-x-2 h-full"),El(e,"vertical-align","middle")},m(i,u){A(i,e,u),v(e,t),l&&l.m(t,null),r=!0},p(i,[u]){l&&l.p&&(!r||u&2)&&vt(l,n,i,i[1],r?kt(n,i[1],u,null):bt(i[1]),null),(!r||u&1&&a!==(a="flex items-center justify-"+i[0]+" gap-x-2 h-full"))&&g(t,"class",a)},i(i){r||(F(l,i),r=!0)},o(i){j(l,i),r=!1},d(i){i&&h(e),l&&l.d(i)}}}function cs(s,e,t){let{$$slots:a={},$$scope:r}=e,{justify:n="center"}=e;return s.$$set=l=>{"justify"in l&&t(0,n=l.justify),"$$scope"in l&&t(1,r=l.$$scope)},[n,r,a]}class Ke extends Ce{constructor(e){super(),Ee(this,e,cs,fs,Te,{justify:0})}}function hs(s){let e,t,a='<path fill="currentColor" d="M160 36a92.09 92.09 0 0 0-81 48.36A68 68 0 1 0 72 220h88a92 92 0 0 0 0-184Zm0 160H72a44 44 0 0 1-1.82-88A91.86 91.86 0 0 0 68 128a12 12 0 0 0 24 0a68 68 0 1 1 68 68Zm40.49-92.49a12 12 0 0 1 0 17l-48 48a12 12 0 0 1-17 0l-24-24a12 12 0 1 1 17-17L144 143l39.51-39.52a12 12 0 0 1 16.98.03Z"/>',r=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=K(n,r[l]);return{c(){e=He("svg"),t=new Pe(!0),this.h()},l(l){e=Me(l,"svg",{viewBox:!0,width:!0,height:!0});var i=E(e);t=Ae(i,!0),i.forEach(h),this.h()},h(){t.a=null,ke(e,n)},m(l,i){A(l,e,i),t.m(a,e)},p(l,[i]){ke(e,n=Ue(r,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function ms(s,e,t){return s.$$set=a=>{t(0,e=K(K({},e),he(a)))},e=he(e),[e]}class Kt extends Ce{constructor(e){super(),Ee(this,e,ms,hs,Te,{})}}function ds(s){let e,t,a='<path fill="currentColor" d="M180 128a12 12 0 0 1-12 12H88a12 12 0 0 1 0-24h80a12 12 0 0 1 12 12Zm56 0A108 108 0 1 1 128 20a108.12 108.12 0 0 1 108 108Zm-24 0a84 84 0 1 0-84 84a84.09 84.09 0 0 0 84-84Z"/>',r=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=K(n,r[l]);return{c(){e=He("svg"),t=new Pe(!0),this.h()},l(l){e=Me(l,"svg",{viewBox:!0,width:!0,height:!0});var i=E(e);t=Ae(i,!0),i.forEach(h),this.h()},h(){t.a=null,ke(e,n)},m(l,i){A(l,e,i),t.m(a,e)},p(l,[i]){ke(e,n=Ue(r,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function gs(s,e,t){return s.$$set=a=>{t(0,e=K(K({},e),he(a)))},e=he(e),[e]}class dl extends Ce{constructor(e){super(),Ee(this,e,gs,ds,Te,{})}}function _s(s){let e,t,a='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm52-84a12 12 0 0 1-12 12h-28v28a12 12 0 0 1-24 0v-28H88a12 12 0 0 1 0-24h28V88a12 12 0 0 1 24 0v28h28a12 12 0 0 1 12 12Z"/>',r=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=K(n,r[l]);return{c(){e=He("svg"),t=new Pe(!0),this.h()},l(l){e=Me(l,"svg",{viewBox:!0,width:!0,height:!0});var i=E(e);t=Ae(i,!0),i.forEach(h),this.h()},h(){t.a=null,ke(e,n)},m(l,i){A(l,e,i),t.m(a,e)},p(l,[i]){ke(e,n=Ue(r,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function ps(s,e,t){return s.$$set=a=>{t(0,e=K(K({},e),he(a)))},e=he(e),[e]}class gl extends Ce{constructor(e){super(),Ee(this,e,ps,_s,Te,{})}}function vs(s){let e,t,a='<path fill="currentColor" d="M128 128a12 12 0 0 1-12 12H48a12 12 0 0 1 0-24h68a12 12 0 0 1 12 12ZM48 76h132a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm52 104H48a12 12 0 0 0 0 24h52a12 12 0 0 0 0-24Zm132.49-20.49a12 12 0 0 0-17 0L196 179v-67a12 12 0 0 0-24 0v67l-19.51-19.52a12 12 0 0 0-17 17l40 40a12 12 0 0 0 17 0l40-40a12 12 0 0 0 0-16.97Z"/>',r=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=K(n,r[l]);return{c(){e=He("svg"),t=new Pe(!0),this.h()},l(l){e=Me(l,"svg",{viewBox:!0,width:!0,height:!0});var i=E(e);t=Ae(i,!0),i.forEach(h),this.h()},h(){t.a=null,ke(e,n)},m(l,i){A(l,e,i),t.m(a,e)},p(l,[i]){ke(e,n=Ue(r,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function bs(s,e,t){return s.$$set=a=>{t(0,e=K(K({},e),he(a)))},e=he(e),[e]}class ks extends Ce{constructor(e){super(),Ee(this,e,bs,vs,Te,{})}}function ws(s){let e,t,a='<path fill="currentColor" d="M36 128a12 12 0 0 1 12-12h68a12 12 0 0 1 0 24H48a12 12 0 0 1-12-12Zm12-52h52a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm132 104H48a12 12 0 0 0 0 24h132a12 12 0 0 0 0-24Zm52.49-100.49l-40-40a12 12 0 0 0-17 0l-40 40a12 12 0 0 0 17 17L172 77v67a12 12 0 0 0 24 0V77l19.51 19.52a12 12 0 0 0 17-17Z"/>',r=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=K(n,r[l]);return{c(){e=He("svg"),t=new Pe(!0),this.h()},l(l){e=Me(l,"svg",{viewBox:!0,width:!0,height:!0});var i=E(e);t=Ae(i,!0),i.forEach(h),this.h()},h(){t.a=null,ke(e,n)},m(l,i){A(l,e,i),t.m(a,e)},p(l,[i]){ke(e,n=Ue(r,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function ys(s,e,t){return s.$$set=a=>{t(0,e=K(K({},e),he(a)))},e=he(e),[e]}class Ts extends Ce{constructor(e){super(),Ee(this,e,ys,ws,Te,{})}}function Cs(s){let e,t,a='<path fill="currentColor" d="M216 36H68.53a20.09 20.09 0 0 0-17.15 9.71L5.71 121.83a12 12 0 0 0 0 12.34l45.67 76.12A20.09 20.09 0 0 0 68.53 220H216a20 20 0 0 0 20-20V56a20 20 0 0 0-20-20Zm-4 160H70.8L30 128l40.8-68H212Zm-108.49-52.49L119 128l-15.52-15.51a12 12 0 0 1 17-17L136 111l15.51-15.52a12 12 0 0 1 17 17L153 128l15.52 15.51a12 12 0 0 1-17 17L136 145l-15.51 15.52a12 12 0 0 1-17-17Z"/>',r=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=K(n,r[l]);return{c(){e=He("svg"),t=new Pe(!0),this.h()},l(l){e=Me(l,"svg",{viewBox:!0,width:!0,height:!0});var i=E(e);t=Ae(i,!0),i.forEach(h),this.h()},h(){t.a=null,ke(e,n)},m(l,i){A(l,e,i),t.m(a,e)},p(l,[i]){ke(e,n=Ue(r,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function Es(s,e,t){return s.$$set=a=>{t(0,e=K(K({},e),he(a)))},e=he(e),[e]}class Ns extends Ce{constructor(e){super(),Ee(this,e,Es,Cs,Te,{})}}function Ps(s){let e,t,a='<path fill="currentColor" d="M136.37 187.53a12 12 0 0 1 0 17l-5.94 5.94a60 60 0 0 1-84.88-84.88l24.12-24.11A60 60 0 0 1 152 99a12 12 0 1 1-16 18a36 36 0 0 0-49.37 1.47l-24.1 24.08a36 36 0 0 0 50.92 50.92l5.94-5.94a12 12 0 0 1 16.98 0Zm74.08-142a60.09 60.09 0 0 0-84.88 0l-5.94 5.94a12 12 0 0 0 17 17l5.94-5.94a36 36 0 0 1 50.92 50.92l-24.11 24.12A36 36 0 0 1 120 139a12 12 0 1 0-16 18a60 60 0 0 0 82.3-2.43l24.12-24.11a60.09 60.09 0 0 0 .03-84.91Z"/>',r=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=K(n,r[l]);return{c(){e=He("svg"),t=new Pe(!0),this.h()},l(l){e=Me(l,"svg",{viewBox:!0,width:!0,height:!0});var i=E(e);t=Ae(i,!0),i.forEach(h),this.h()},h(){t.a=null,ke(e,n)},m(l,i){A(l,e,i),t.m(a,e)},p(l,[i]){ke(e,n=Ue(r,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:q,o:q,d(l){l&&h(e)}}}function As(s,e,t){return s.$$set=a=>{t(0,e=K(K({},e),he(a)))},e=he(e),[e]}class Bs extends Ce{constructor(e){super(),Ee(this,e,As,Ps,Te,{})}}function Gt(s,e){e.update(t=>(t.forEach(a=>{a.track.artist.id===s&&(a.selected=!1)}),t))}async function dt(s,e){const t=await ml(s);e.update(a=>{const r=t.sort((l,i)=>l.release_date.localeCompare(i.release_date)).flatMap(l=>{const{tracks:i,...u}=l;return l.tracks.map(o=>({...o,album:u}))});r.forEach(l=>{const i=a.find(u=>u.track.id===l.id);i?(i.track.album=l.album,i.selected=!0):a.push({track:l,inPlaylist:!1,selected:!0})});function n(l){return r.findIndex(i=>i.id===l.track.id)}return a.sort((l,i)=>{const u=n(l),o=n(i);return u-o}),a})}function Ss(s,e){e.update(t=>(t.forEach(a=>{a.track.album.id===s&&(a.selected=!1)}),t))}async function Ls(s,e){const t=await hl(s.id);e.update(a=>{t.data.forEach(u=>{const o=a.find(m=>m.track.id===u.id);u.album=s,o?(o.track.album=u.album,o.selected=!0):a.push({track:u,inPlaylist:!1,selected:!0})});function r(u){return t.data.findIndex(o=>o.id===u.track.id)+1}function n(u){return a.findIndex(o=>o.track.id===u.track.id)+1}const l=a.findIndex(u=>u.track.album.id===s.id);function i(u){const o=r(u);return o===0?n(u)*1e4:l*1e4+o}return console.log({startIndex:l}),a.sort((u,o)=>{const m=l*1e4+i(u),f=l*1e4+i(o);return m-f}),a})}function zs(s){let e,t,a,r,n,l,i,u,o,m,f;const c=s[4].default,T=pt(c,s,s[3],null);return n=new gl({}),u=new dl({}),{c(){e=w("span"),T&&T.c(),t=L(),a=w("span"),r=w("button"),X(n.$$.fragment),l=L(),i=w("button"),X(u.$$.fragment),this.h()},l(d){e=y(d,"SPAN",{class:!0});var p=E(e);T&&T.l(p),t=z(p),a=y(p,"SPAN",{class:!0});var N=E(a);r=y(N,"BUTTON",{class:!0,title:!0});var P=E(r);Q(n.$$.fragment,P),P.forEach(h),l=z(N),i=y(N,"BUTTON",{class:!0,title:!0});var C=E(i);Q(u.$$.fragment,C),C.forEach(h),N.forEach(h),p.forEach(h),this.h()},h(){g(r,"class","!p-0 "),g(r,"title",s[0]),g(i,"class","!p-0"),g(i,"title","deselect all album titles from the playlist"),g(a,"class","btn-group-vertical btn btn-sm gap-y-1"),g(e,"class","flex flex-row justify-between w-full items-center gap-x-2")},m(d,p){A(d,e,p),T&&T.m(e,null),v(e,t),v(e,a),v(a,r),$(n,r,null),v(a,l),v(a,i),$(u,i,null),o=!0,m||(f=[J(r,"click",s[5]),J(i,"click",s[6])],m=!0)},p(d,[p]){T&&T.p&&(!o||p&8)&&vt(T,c,d,d[3],o?kt(c,d[3],p,null):bt(d[3]),null),(!o||p&1)&&g(r,"title",d[0])},i(d){o||(F(T,d),F(n.$$.fragment,d),F(u.$$.fragment,d),o=!0)},o(d){j(T,d),j(n.$$.fragment,d),j(u.$$.fragment,d),o=!1},d(d){d&&h(e),T&&T.d(d),x(n),x(u),m=!1,Ge(f)}}}function Os(s,e,t){let{$$slots:a={},$$scope:r}=e;const n=_t();let{addTitle:l="add all album titles to the playlist"}=e,{removeTitle:i="deselect all album titles from the playlist"}=e;const u=()=>n("add"),o=()=>n("remove");return s.$$set=m=>{"addTitle"in m&&t(0,l=m.addTitle),"removeTitle"in m&&t(2,i=m.removeTitle),"$$scope"in m&&t(3,r=m.$$scope)},[l,n,i,r,a,u,o]}class _l extends Ce{constructor(e){super(),Ee(this,e,Os,zs,Te,{addTitle:0,removeTitle:2})}}function Wt(s,e,t){const a=s.slice();a[44]=e[t],a[46]=e,a[47]=t;const r=a[44].track;return a[45]=r,a}function Yt(s,e,t){const a=s.slice();a[40]=e[t];const r=a[20](a[40].id);return a[41]=r,a}function Is(s){let e,t,a;function r(){s[32].call(e,s[46],s[47])}return{c(){e=w("input"),this.h()},l(n){e=y(n,"INPUT",{type:!0,class:!0}),this.h()},h(){g(e,"type","checkbox"),g(e,"class","checkbox")},m(n,l){A(n,e,l),e.checked=s[44].selected,t||(a=J(e,"change",r),t=!0)},p(n,l){s=n,l[0]&16&&(e.checked=s[44].selected)},d(n){n&&h(e),t=!1,a()}}}function Ds(s){let e,t=s[47]+1+"",a;return{c(){e=w("span"),a=re(t)},l(r){e=y(r,"SPAN",{});var n=E(e);a=oe(n,t),n.forEach(h)},m(r,n){A(r,e,n),v(e,a)},p:q,d(r){r&&h(e)}}}function Fs(s){let e,t,a,r,n=s[45].title+"",l,i,u;return e=new rs({props:{src:s[45].preview,enabled:s[45].readable}}),{c(){X(e.$$.fragment),t=L(),a=w("a"),r=w("span"),l=re(n),this.h()},l(o){Q(e.$$.fragment,o),t=z(o),a=y(o,"A",{href:!0,title:!0});var m=E(a);r=y(m,"SPAN",{});var f=E(r);l=oe(f,n),f.forEach(h),m.forEach(h),this.h()},h(){g(a,"href",i=s[45].link),g(a,"title","open track in Deezer web interface")},m(o,m){$(e,o,m),A(o,t,m),A(o,a,m),v(a,r),v(r,l),u=!0},p(o,m){const f={};m[0]&16&&(f.src=o[45].preview),m[0]&16&&(f.enabled=o[45].readable),e.$set(f),(!u||m[0]&16)&&n!==(n=o[45].title+"")&&be(l,n),(!u||m[0]&16&&i!==(i=o[45].link))&&g(a,"href",i)},i(o){u||(F(e.$$.fragment,o),u=!0)},o(o){j(e.$$.fragment,o),u=!1},d(o){o&&(h(t),h(a)),x(e,o)}}}function js(s){let e,t,a,r,n=s[45].album.title+"",l;return{c(){e=w("img"),a=L(),r=w("span"),l=re(n),this.h()},l(i){e=y(i,"IMG",{src:!0,alt:!0}),a=z(i),r=y(i,"SPAN",{});var u=E(r);l=oe(u,n),u.forEach(h),this.h()},h(){Qe(e.src,t=s[45].album.cover_small)||g(e,"src",t),g(e,"alt","album cover")},m(i,u){A(i,e,u),A(i,a,u),A(i,r,u),v(r,l)},p(i,u){u[0]&16&&!Qe(e.src,t=i[45].album.cover_small)&&g(e,"src",t),u[0]&16&&n!==(n=i[45].album.title+"")&&be(l,n)},d(i){i&&(h(e),h(a),h(r))}}}function Hs(s){let e,t,a,r;return t=new tt({props:{$$slots:{default:[js]},$$scope:{ctx:s}}}),{c(){e=w("a"),X(t.$$.fragment),this.h()},l(n){e=y(n,"A",{href:!0,title:!0});var l=E(e);Q(t.$$.fragment,l),l.forEach(h),this.h()},h(){g(e,"href",a="https://www.deezer.com/album/"+s[45].album.id),g(e,"title","open album in Deezer web interface")},m(n,l){A(n,e,l),$(t,e,null),r=!0},p(n,l){const i={};l[0]&16|l[1]&131072&&(i.$$scope={dirty:l,ctx:n}),t.$set(i),(!r||l[0]&16&&a!==(a="https://www.deezer.com/album/"+n[45].album.id))&&g(e,"href",a)},i(n){r||(F(t.$$.fragment,n),r=!0)},o(n){j(t.$$.fragment,n),r=!1},d(n){n&&h(e),x(t)}}}function Ms(s){let e,t;function a(){return s[33](s[45])}function r(){return s[34](s[45])}return e=new _l({props:{addTitle:"add all album titles to the playlist",removeTitle:"deselect all album titles from the playlist",$$slots:{default:[Hs]},$$scope:{ctx:s}}}),e.$on("add",a),e.$on("remove",r),{c(){X(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,l){$(e,n,l),t=!0},p(n,l){s=n;const i={};l[0]&16|l[1]&131072&&(i.$$scope={dirty:l,ctx:s}),e.$set(i)},i(n){t||(F(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function Us(s){let e,t,a=s[45].artist.name+"",r,n;return{c(){e=w("a"),t=w("span"),r=re(a),this.h()},l(l){e=y(l,"A",{href:!0,title:!0});var i=E(e);t=y(i,"SPAN",{});var u=E(t);r=oe(u,a),u.forEach(h),i.forEach(h),this.h()},h(){g(e,"href",n=s[45].artist.link),g(e,"title","open artist in Deezer web interface")},m(l,i){A(l,e,i),v(e,t),v(t,r)},p(l,i){i[0]&16&&a!==(a=l[45].artist.name+"")&&be(r,a),i[0]&16&&n!==(n=l[45].artist.link)&&g(e,"href",n)},d(l){l&&h(e)}}}function Zs(s){let e,t;function a(){return s[35](s[45])}function r(){return s[36](s[45])}return e=new _l({props:{addTitle:"add all artist titles to the playlist",removeTitle:"deselect all artist titles from the playlist",$$slots:{default:[Us]},$$scope:{ctx:s}}}),e.$on("add",a),e.$on("remove",r),{c(){X(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,l){$(e,n,l),t=!0},p(n,l){s=n;const i={};l[0]&16|l[1]&131072&&(i.$$scope={dirty:l,ctx:s}),e.$set(i)},i(n){t||(F(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function Rs(s){let e=s[45].rank+"",t;return{c(){t=re(e)},l(a){t=oe(a,e)},m(a,r){A(a,t,r)},p(a,r){r[0]&16&&e!==(e=a[45].rank+"")&&be(t,e)},d(a){a&&h(t)}}}function Vs(s){let e=At(s[45].duration*1e3,{units:["m","s"],largest:2})+"",t,a,r;return{c(){t=re(e),a=L(),r=w("span"),this.h()},l(n){t=oe(n,e),a=z(n),r=y(n,"SPAN",{class:!0}),E(r).forEach(h),this.h()},h(){g(r,"class","grow")},m(n,l){A(n,t,l),A(n,a,l),A(n,r,l)},p(n,l){l[0]&16&&e!==(e=At(n[45].duration*1e3,{units:["m","s"],largest:2})+"")&&be(t,e)},d(n){n&&(h(t),h(a),h(r))}}}function Xt(s){let e,t,a,r,n,l,i,u,o,m,f,c,T,d,p,N,P;return t=new Ke({props:{$$slots:{default:[Is]},$$scope:{ctx:s}}}),r=new Ke({props:{$$slots:{default:[Ds]},$$scope:{ctx:s}}}),l=new Ke({props:{justify:"start",$$slots:{default:[Fs]},$$scope:{ctx:s}}}),u=new Ke({props:{justify:"start",$$slots:{default:[Ms]},$$scope:{ctx:s}}}),m=new Ke({props:{justify:"start",$$slots:{default:[Zs]},$$scope:{ctx:s}}}),c=new Ke({props:{$$slots:{default:[Rs]},$$scope:{ctx:s}}}),d=new Ke({props:{$$slots:{default:[Vs]},$$scope:{ctx:s}}}),{c(){e=w("tr"),X(t.$$.fragment),a=L(),X(r.$$.fragment),n=L(),X(l.$$.fragment),i=L(),X(u.$$.fragment),o=L(),X(m.$$.fragment),f=L(),X(c.$$.fragment),T=L(),X(d.$$.fragment),p=L(),this.h()},l(C){e=y(C,"TR",{class:!0});var _=E(e);Q(t.$$.fragment,_),a=z(_),Q(r.$$.fragment,_),n=z(_),Q(l.$$.fragment,_),i=z(_),Q(u.$$.fragment,_),o=z(_),Q(m.$$.fragment,_),f=z(_),Q(c.$$.fragment,_),T=z(_),Q(d.$$.fragment,_),p=z(_),_.forEach(h),this.h()},h(){g(e,"class",N=Lt(el(s[44]))+" svelte-p6m18c"),$e(e,"!text-red-500",!s[45].readable)},m(C,_){A(C,e,_),$(t,e,null),v(e,a),$(r,e,null),v(e,n),$(l,e,null),v(e,i),$(u,e,null),v(e,o),$(m,e,null),v(e,f),$(c,e,null),v(e,T),$(d,e,null),v(e,p),P=!0},p(C,_){const B={};_[0]&16|_[1]&131072&&(B.$$scope={dirty:_,ctx:C}),t.$set(B);const O={};_[1]&131072&&(O.$$scope={dirty:_,ctx:C}),r.$set(O);const U={};_[0]&16|_[1]&131072&&(U.$$scope={dirty:_,ctx:C}),l.$set(U);const ee={};_[0]&16|_[1]&131072&&(ee.$$scope={dirty:_,ctx:C}),u.$set(ee);const ae={};_[0]&16|_[1]&131072&&(ae.$$scope={dirty:_,ctx:C}),m.$set(ae);const G={};_[0]&16|_[1]&131072&&(G.$$scope={dirty:_,ctx:C}),c.$set(G);const ce={};_[0]&16|_[1]&131072&&(ce.$$scope={dirty:_,ctx:C}),d.$set(ce),(!P||_[0]&16&&N!==(N=Lt(el(C[44]))+" svelte-p6m18c"))&&g(e,"class",N),(!P||_[0]&16)&&$e(e,"!text-red-500",!C[45].readable)},i(C){P||(F(t.$$.fragment,C),F(r.$$.fragment,C),F(l.$$.fragment,C),F(u.$$.fragment,C),F(m.$$.fragment,C),F(c.$$.fragment,C),F(d.$$.fragment,C),P=!0)},o(C){j(t.$$.fragment,C),j(r.$$.fragment,C),j(l.$$.fragment,C),j(u.$$.fragment,C),j(m.$$.fragment,C),j(c.$$.fragment,C),j(d.$$.fragment,C),P=!1},d(C){C&&h(e),x(t),x(r),x(l),x(u),x(m),x(c),x(d)}}}function Js(s){var Ct;let e,t,a,r="Title",n,l,i,u,o,m="Description",f,c,T,d,p="",N,P,C,_=((Ct=s[2])==null?void 0:Ct.filter(sl).length)+"",B,O,U=s[0].playlist.tracks.data.length+"",ee,ae,G,ce,Be="",ue,ie,pe,ve,M,S,V,ne,we,le,R,se="Pos.",Se,ye,ze="Title",k,I,b="Album",W,H,te="Artist",de,Z,me="rank",De,Fe,xe="duration",ut,We,ft,je,ct,Ze,ht,yt,Je=Ie(s[4]),fe=[];for(let D=0;D<Je.length;D+=1)fe[D]=Xt(Wt(s,Je,D));const pl=D=>j(fe[D],1,1,()=>{fe[D]=null});function vl(D){s[37](D)}let Tt={showFirstLastButtons:!0,showPreviousNextButtons:!0};return s[1]!==void 0&&(Tt.settings=s[1]),je=new ql({props:Tt}),rl.push(()=>ul(je,"settings",vl)),{c(){e=w("form"),t=w("label"),a=w("span"),a.textContent=r,n=L(),l=w("input"),i=L(),u=w("label"),o=w("span"),o.textContent=m,f=L(),c=w("textarea"),T=L(),d=w("div"),d.innerHTML=p,N=L(),P=w("div"),C=w("span"),B=re(_),O=re(" Tracks ("),ee=re(U),ae=re(`
            in playlist)`),G=L(),ce=w("span"),ce.innerHTML=Be,ue=L(),ie=w("span"),pe=w("table"),ve=w("thead"),M=w("tr"),S=w("th"),V=w("input"),le=L(),R=w("th"),R.textContent=se,Se=L(),ye=w("th"),ye.textContent=ze,k=L(),I=w("th"),I.textContent=b,W=L(),H=w("th"),H.textContent=te,de=L(),Z=w("th"),Z.textContent=me,De=L(),Fe=w("th"),Fe.textContent=xe,ut=L(),We=w("tbody");for(let D=0;D<fe.length;D+=1)fe[D].c();ft=L(),X(je.$$.fragment),this.h()},l(D){e=y(D,"FORM",{class:!0});var Y=E(e);t=y(Y,"LABEL",{class:!0});var Le=E(t);a=y(Le,"SPAN",{"data-svelte-h":!0}),_e(a)!=="svelte-7ccxmo"&&(a.textContent=r),n=z(Le),l=y(Le,"INPUT",{class:!0,type:!0,placeholder:!0}),Le.forEach(h),i=z(Y),u=y(Y,"LABEL",{class:!0});var qe=E(u);o=y(qe,"SPAN",{"data-svelte-h":!0}),_e(o)!=="svelte-rmspr8"&&(o.textContent=m),f=z(qe),c=y(qe,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),E(c).forEach(h),qe.forEach(h),T=z(Y),d=y(Y,"DIV",{class:!0,"data-svelte-h":!0}),_e(d)!=="svelte-10ijpzw"&&(d.innerHTML=p),Y.forEach(h),N=z(D),P=y(D,"DIV",{class:!0});var ge=E(P);C=y(ge,"SPAN",{});var Re=E(C);B=oe(Re,_),O=oe(Re," Tracks ("),ee=oe(Re,U),ae=oe(Re,`
            in playlist)`),Re.forEach(h),G=z(ge),ce=y(ge,"SPAN",{"data-svelte-h":!0}),_e(ce)!=="svelte-171hy05"&&(ce.innerHTML=Be),ge.forEach(h),ue=z(D),ie=y(D,"SPAN",{class:!0});var at=E(ie);pe=y(at,"TABLE",{class:!0});var nt=E(pe);ve=y(nt,"THEAD",{});var Et=E(ve);M=y(Et,"TR",{class:!0});var Ne=E(M);S=y(Ne,"TH",{});var Nt=E(S);V=y(Nt,"INPUT",{type:!0,class:!0}),Nt.forEach(h),le=z(Ne),R=y(Ne,"TH",{"data-svelte-h":!0}),_e(R)!=="svelte-s1pt0e"&&(R.textContent=se),Se=z(Ne),ye=y(Ne,"TH",{class:!0,"data-svelte-h":!0}),_e(ye)!=="svelte-1b5qsso"&&(ye.textContent=ze),k=z(Ne),I=y(Ne,"TH",{"data-svelte-h":!0}),_e(I)!=="svelte-12o9w3z"&&(I.textContent=b),W=z(Ne),H=y(Ne,"TH",{"data-svelte-h":!0}),_e(H)!=="svelte-1tiipkx"&&(H.textContent=te),de=z(Ne),Z=y(Ne,"TH",{"data-svelte-h":!0}),_e(Z)!=="svelte-1btrpio"&&(Z.textContent=me),De=z(Ne),Fe=y(Ne,"TH",{"data-svelte-h":!0}),_e(Fe)!=="svelte-9uwuqy"&&(Fe.textContent=xe),Ne.forEach(h),Et.forEach(h),ut=z(nt),We=y(nt,"TBODY",{});var Pt=E(We);for(let mt=0;mt<fe.length;mt+=1)fe[mt].l(Pt);Pt.forEach(h),nt.forEach(h),ft=z(at),Q(je.$$.fragment,at),at.forEach(h),this.h()},h(){g(l,"class","input"),g(l,"type","text"),g(l,"placeholder","title"),g(t,"class","label"),g(c,"class","textarea"),g(c,"rows","4"),g(c,"placeholder","description"),g(u,"class","label"),g(d,"class","flex place-content-start"),g(e,"class","mb-10 space-y-2"),g(P,"class","flex justify-between w-full items-center gap-x-2 my-4"),g(V,"type","checkbox"),g(V,"class","checkbox"),V.checked=ne=s[4].filter(al).length===s[4].length&&s[4].length>0,V.indeterminate=we=s[4].filter(nl).length!==s[4].length&&s[4].filter(il).length>0,g(ye,"class",".fitwidth"),g(M,"class",""),g(pe,"class","table my-4"),g(ie,"class","table-container")},m(D,Y){A(D,e,Y),v(e,t),v(t,a),v(t,n),v(t,l),Ve(l,s[0].playlist.title),v(e,i),v(e,u),v(u,o),v(u,f),v(u,c),Ve(c,s[0].playlist.description),v(e,T),v(e,d),A(D,N,Y),A(D,P,Y),v(P,C),v(C,B),v(C,O),v(C,ee),v(C,ae),v(P,G),v(P,ce),A(D,ue,Y),A(D,ie,Y),v(ie,pe),v(pe,ve),v(ve,M),v(M,S),v(S,V),v(M,le),v(M,R),v(M,Se),v(M,ye),v(M,k),v(M,I),v(M,W),v(M,H),v(M,de),v(M,Z),v(M,De),v(M,Fe),v(pe,ut),v(pe,We);for(let Le=0;Le<fe.length;Le+=1)fe[Le]&&fe[Le].m(We,null);v(ie,ft),$(je,ie,null),Ze=!0,ht||(yt=[J(l,"input",s[29]),J(c,"input",s[30]),J(V,"change",s[31])],ht=!0)},p(D,Y){var qe;if(Y[0]&1&&l.value!==D[0].playlist.title&&Ve(l,D[0].playlist.title),Y[0]&1&&Ve(c,D[0].playlist.description),(!Ze||Y[0]&4)&&_!==(_=((qe=D[2])==null?void 0:qe.filter(sl).length)+"")&&be(B,_),(!Ze||Y[0]&1)&&U!==(U=D[0].playlist.tracks.data.length+"")&&be(ee,U),(!Ze||Y[0]&16&&ne!==(ne=D[4].filter(al).length===D[4].length&&D[4].length>0))&&(V.checked=ne),(!Ze||Y[0]&16&&we!==(we=D[4].filter(nl).length!==D[4].length&&D[4].filter(il).length>0))&&(V.indeterminate=we),Y[0]&1040){Je=Ie(D[4]);let ge;for(ge=0;ge<Je.length;ge+=1){const Re=Wt(D,Je,ge);fe[ge]?(fe[ge].p(Re,Y),F(fe[ge],1)):(fe[ge]=Xt(Re),fe[ge].c(),F(fe[ge],1),fe[ge].m(We,null))}for(lt(),ge=Je.length;ge<fe.length;ge+=1)pl(ge);st()}const Le={};!ct&&Y[0]&2&&(ct=!0,Le.settings=D[1],ol(()=>ct=!1)),je.$set(Le)},i(D){if(!Ze){for(let Y=0;Y<Je.length;Y+=1)F(fe[Y]);F(je.$$.fragment,D),Ze=!0}},o(D){fe=fe.filter(Boolean);for(let Y=0;Y<fe.length;Y+=1)j(fe[Y]);j(je.$$.fragment,D),Ze=!1},d(D){D&&(h(e),h(N),h(P),h(ue),h(ie)),ot(fe,D),x(je),ht=!1,Ge(yt)}}}function qs(s){let e,t="Search Artist";return{c(){e=w("h4"),e.textContent=t},l(a){e=y(a,"H4",{"data-svelte-h":!0}),_e(e)!=="svelte-z92qpb"&&(e.textContent=t)},m(a,r){A(a,e,r)},p:q,d(a){a&&h(e)}}}function Qt(s){let e,t,a,r,n,l,i;t=new tt({props:{$$slots:{default:[Ks]},$$scope:{ctx:s}}}),r=new tt({props:{$$slots:{default:[Qs]},$$scope:{ctx:s}}});let u=Ie(s[8]),o=[];for(let f=0;f<u.length;f+=1)o[f]=$t(Yt(s,u,f));const m=f=>j(o[f],1,1,()=>{o[f]=null});return{c(){e=w("span"),X(t.$$.fragment),a=L(),X(r.$$.fragment),n=L(),l=w("ul");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=y(f,"SPAN",{class:!0});var c=E(e);Q(t.$$.fragment,c),a=z(c),Q(r.$$.fragment,c),c.forEach(h),n=z(f),l=y(f,"UL",{class:!0});var T=E(l);for(let d=0;d<o.length;d+=1)o[d].l(T);T.forEach(h),this.h()},h(){g(e,"class","flex justify-between w-full items-center gap-x-2 my-4"),g(l,"class","list")},m(f,c){A(f,e,c),$(t,e,null),v(e,a),$(r,e,null),A(f,n,c),A(f,l,c);for(let T=0;T<o.length;T+=1)o[T]&&o[T].m(l,null);i=!0},p(f,c){const T={};c[1]&131072&&(T.$$scope={dirty:c,ctx:f}),t.$set(T);const d={};if(c[0]&8|c[1]&131072&&(d.$$scope={dirty:c,ctx:f}),r.$set(d),c[0]&1049856){u=Ie(f[8]);let p;for(p=0;p<u.length;p+=1){const N=Yt(f,u,p);o[p]?(o[p].p(N,c),F(o[p],1)):(o[p]=$t(N),o[p].c(),F(o[p],1),o[p].m(l,null))}for(lt(),p=u.length;p<o.length;p+=1)m(p);st()}},i(f){if(!i){F(t.$$.fragment,f),F(r.$$.fragment,f);for(let c=0;c<u.length;c+=1)F(o[c]);i=!0}},o(f){j(t.$$.fragment,f),j(r.$$.fragment,f),o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)j(o[c]);i=!1},d(f){f&&(h(e),h(n),h(l)),x(t),x(r),ot(o,f)}}}function Ks(s){let e,t="Playlists Artists";return{c(){e=w("h4"),e.textContent=t},l(a){e=y(a,"H4",{"data-svelte-h":!0}),_e(e)!=="svelte-1fedd7v"&&(e.textContent=t)},m(a,r){A(a,e,r)},p:q,d(a){a&&h(e)}}}function Gs(s){let e,t="alphabetical",a,r;return{c(){e=w("button"),e.textContent=t},l(n){e=y(n,"BUTTON",{"data-svelte-h":!0}),_e(e)!=="svelte-a0poae"&&(e.textContent=t)},m(n,l){A(n,e,l),a||(r=J(e,"click",s[24]),a=!0)},p:q,d(n){n&&h(e),a=!1,r()}}}function Ws(s){let e,t="# tracks",a,r;return{c(){e=w("button"),e.textContent=t},l(n){e=y(n,"BUTTON",{"data-svelte-h":!0}),_e(e)!=="svelte-ms1gv1"&&(e.textContent=t)},m(n,l){A(n,e,l),a||(r=J(e,"click",s[23]),a=!0)},p:q,d(n){n&&h(e),a=!1,r()}}}function Ys(s){let e,t,a,r,n;return t=new Ts({}),{c(){e=w("button"),X(t.$$.fragment)},l(l){e=y(l,"BUTTON",{});var i=E(e);Q(t.$$.fragment,i),i.forEach(h)},m(l,i){A(l,e,i),$(t,e,null),a=!0,r||(n=J(e,"click",s[26]),r=!0)},p:q,i(l){a||(F(t.$$.fragment,l),a=!0)},o(l){j(t.$$.fragment,l),a=!1},d(l){l&&h(e),x(t),r=!1,n()}}}function Xs(s){let e,t,a,r,n;return t=new ks({}),{c(){e=w("button"),X(t.$$.fragment)},l(l){e=y(l,"BUTTON",{});var i=E(e);Q(t.$$.fragment,i),i.forEach(h)},m(l,i){A(l,e,i),$(t,e,null),a=!0,r||(n=J(e,"click",s[25]),r=!0)},p:q,i(l){a||(F(t.$$.fragment,l),a=!0)},o(l){j(t.$$.fragment,l),a=!1},d(l){l&&h(e),x(t),r=!1,n()}}}function Qs(s){let e,t,a,r,n;function l(c,T){if(c[3].orderBy==="trackCount")return Ws;if(c[3].orderBy==="alphabetical")return Gs}let i=l(s),u=i&&i(s);const o=[Xs,Ys],m=[];function f(c,T){return c[3].ascending?0:1}return t=f(s),a=m[t]=o[t](s),{c(){u&&u.c(),e=L(),a.c(),r=Xe()},l(c){u&&u.l(c),e=z(c),a.l(c),r=Xe()},m(c,T){u&&u.m(c,T),A(c,e,T),m[t].m(c,T),A(c,r,T),n=!0},p(c,T){i===(i=l(c))&&u?u.p(c,T):(u&&u.d(1),u=i&&i(c),u&&(u.c(),u.m(e.parentNode,e)));let d=t;t=f(c),t===d?m[t].p(c,T):(lt(),j(m[d],1,1,()=>{m[d]=null}),st(),a=m[t],a?a.p(c,T):(a=m[t]=o[t](c),a.c()),F(a,1),a.m(r.parentNode,r))},i(c){n||(F(a),n=!0)},o(c){j(a),n=!1},d(c){c&&(h(e),h(r)),u&&u.d(c),m[t].d(c)}}}function $s(s){let e,t,a,r,n,l=s[40].name+"",i,u,o,m,f=s[41]+"",c,T,d;return{c(){e=w("img"),r=L(),n=w("span"),i=re(l),u=L(),o=w("small"),m=re("(#"),c=re(f),T=re(")"),this.h()},l(p){e=y(p,"IMG",{src:!0,alt:!0}),r=z(p),n=y(p,"SPAN",{});var N=E(n);i=oe(N,l),N.forEach(h),u=z(p),o=y(p,"SMALL",{title:!0});var P=E(o);m=oe(P,"(#"),c=oe(P,f),T=oe(P,")"),P.forEach(h),this.h()},h(){Qe(e.src,t=s[40].picture_small)||g(e,"src",t),g(e,"alt",a=s[40].name),g(o,"title",d="artist has "+s[41]+" tracks in the playlist ")},m(p,N){A(p,e,N),A(p,r,N),A(p,n,N),v(n,i),A(p,u,N),A(p,o,N),v(o,m),v(o,c),v(o,T)},p(p,N){N[0]&256&&!Qe(e.src,t=p[40].picture_small)&&g(e,"src",t),N[0]&256&&a!==(a=p[40].name)&&g(e,"alt",a),N[0]&256&&l!==(l=p[40].name+"")&&be(i,l),N[0]&256&&f!==(f=p[41]+"")&&be(c,f),N[0]&256&&d!==(d="artist has "+p[41]+" tracks in the playlist ")&&g(o,"title",d)},d(p){p&&(h(e),h(r),h(n),h(u),h(o))}}}function $t(s){let e,t,a,r,n,l,i,u,o,m,f,c,T,d,p,N;r=new tt({props:{$$slots:{default:[$s]},$$scope:{ctx:s}}}),o=new gl({});function P(){return s[27](s[40])}c=new dl({});function C(){return s[28](s[40])}return{c(){e=w("li"),t=w("span"),a=w("a"),X(r.$$.fragment),l=L(),i=w("div"),u=w("button"),X(o.$$.fragment),m=L(),f=w("button"),X(c.$$.fragment),T=L(),this.h()},l(_){e=y(_,"LI",{});var B=E(e);t=y(B,"SPAN",{class:!0});var O=E(t);a=y(O,"A",{href:!0,title:!0});var U=E(a);Q(r.$$.fragment,U),U.forEach(h),l=z(O),i=y(O,"DIV",{class:!0});var ee=E(i);u=y(ee,"BUTTON",{class:!0,title:!0});var ae=E(u);Q(o.$$.fragment,ae),ae.forEach(h),m=z(ee),f=y(ee,"BUTTON",{class:!0,title:!0});var G=E(f);Q(c.$$.fragment,G),G.forEach(h),ee.forEach(h),O.forEach(h),T=z(B),B.forEach(h),this.h()},h(){g(a,"href",n=s[40].link),g(a,"title","open artist in Deezer web interface"),g(u,"class","!p-0 "),g(u,"title","add all artist titles to the playlist"),g(f,"class","!p-0"),g(f,"title","deselect all artist titles from the playlist"),$e(f,"text-gray-500",s[41]===0),g(i,"class","btn-group-vertical btn btn-sm gap-y-1"),g(t,"class","flex flex-row justify-between w-full items-center gap-x-2")},m(_,B){A(_,e,B),v(e,t),v(t,a),$(r,a,null),v(t,l),v(t,i),v(i,u),$(o,u,null),v(i,m),v(i,f),$(c,f,null),v(e,T),d=!0,p||(N=[J(u,"click",P),J(f,"click",C)],p=!0)},p(_,B){s=_;const O={};B[0]&256|B[1]&131072&&(O.$$scope={dirty:B,ctx:s}),r.$set(O),(!d||B[0]&256&&n!==(n=s[40].link))&&g(a,"href",n),(!d||B[0]&1048832)&&$e(f,"text-gray-500",s[41]===0)},i(_){d||(F(r.$$.fragment,_),F(o.$$.fragment,_),F(c.$$.fragment,_),d=!0)},o(_){j(r.$$.fragment,_),j(o.$$.fragment,_),j(c.$$.fragment,_),d=!1},d(_){_&&h(e),x(r),x(o),x(c),p=!1,Ge(N)}}}function xs(s){var C;let e,t,a,r,n,l,i,u,o,m,f,c,T,d;a=new tt({props:{$$slots:{default:[qs]},$$scope:{ctx:s}}});function p(_){s[22](_)}let N={options:s[7]};s[6]!==void 0&&(N.input=s[6]),u=new Il({props:N}),rl.push(()=>ul(u,"input",p)),u.$on("selection",s[18]);let P=((C=s[8])==null?void 0:C.length)>0&&Qt(s);return{c(){e=w("span"),t=w("span"),X(a.$$.fragment),r=L(),n=w("input"),l=L(),i=w("span"),X(u.$$.fragment),m=L(),P&&P.c(),f=Xe(),this.h()},l(_){e=y(_,"SPAN",{class:!0});var B=E(e);t=y(B,"SPAN",{class:!0});var O=E(t);Q(a.$$.fragment,O),O.forEach(h),r=z(B),n=y(B,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),l=z(B),i=y(B,"SPAN",{class:!0,tabindex:!0});var U=E(i);Q(u.$$.fragment,U),U.forEach(h),B.forEach(h),m=z(_),P&&P.l(_),f=Xe(),this.h()},h(){g(t,"class","mb-2"),g(n,"class","input"),g(n,"type","search"),g(n,"name","demo"),g(n,"placeholder","Search..."),g(i,"class","card w-full max-w-sm max-h-48 p-4 overflow-y-auto inline-block"),g(i,"tabindex","-1"),g(e,"class","my-4")},m(_,B){A(_,e,B),v(e,t),$(a,t,null),v(e,r),v(e,n),Ve(n,s[6]),v(e,l),v(e,i),$(u,i,null),A(_,m,B),P&&P.m(_,B),A(_,f,B),c=!0,T||(d=J(n,"input",s[21]),T=!0)},p(_,B){var ee;const O={};B[1]&131072&&(O.$$scope={dirty:B,ctx:_}),a.$set(O),B[0]&64&&n.value!==_[6]&&Ve(n,_[6]);const U={};B[0]&128&&(U.options=_[7]),!o&&B[0]&64&&(o=!0,U.input=_[6],ol(()=>o=!1)),u.$set(U),((ee=_[8])==null?void 0:ee.length)>0?P?(P.p(_,B),B[0]&256&&F(P,1)):(P=Qt(_),P.c(),F(P,1),P.m(f.parentNode,f)):P&&(lt(),j(P,1,1,()=>{P=null}),st())},i(_){c||(F(a.$$.fragment,_),F(u.$$.fragment,_),F(P),c=!0)},o(_){j(a.$$.fragment,_),j(u.$$.fragment,_),j(P),c=!1},d(_){_&&(h(e),h(m),h(f)),x(a),x(u),P&&P.d(_),T=!1,d()}}}function xt(s){let e,t=s[5].message+"",a,r,n,l,i;return{c(){e=w("span"),a=re(t),r=L(),n=w("progress"),this.h()},l(u){e=y(u,"SPAN",{});var o=E(e);a=oe(o,t),o.forEach(h),r=z(u),n=y(u,"PROGRESS",{max:!0}),E(n).forEach(h),this.h()},h(){n.value=l=s[5].value,g(n,"max",i=s[5].max)},m(u,o){A(u,e,o),v(e,a),A(u,r,o),A(u,n,o)},p(u,o){o[0]&32&&t!==(t=u[5].message+"")&&be(a,t),o[0]&32&&l!==(l=u[5].value)&&(n.value=l),o[0]&32&&i!==(i=u[5].max)&&g(n,"max",i)},d(u){u&&(h(e),h(r),h(n))}}}function ea(s){let e,t,a="Save to Deezer",r,n,l,i,u,o="Update playlist info",m,f,c,T,d,p="Update Tracks",N,P,C,_="Prepare playlist",B,O,U,ee,ae,G="retrieve non readable tracks",ce,Be,ue,ie,pe,ve,M="remove de-selected tracks",S,V,ne,we;l=new Kt({}),c=new Kt({});let le=s[5]&&xt(s);return U=new Bs({}),ie=new Ns({}),{c(){e=w("div"),t=w("h3"),t.textContent=a,r=L(),n=w("button"),X(l.$$.fragment),i=L(),u=w("span"),u.textContent=o,m=L(),f=w("button"),X(c.$$.fragment),T=L(),d=w("span"),d.textContent=p,N=L(),le&&le.c(),P=L(),C=w("h3"),C.textContent=_,B=L(),O=w("button"),X(U.$$.fragment),ee=L(),ae=w("span"),ae.textContent=G,Be=L(),ue=w("button"),X(ie.$$.fragment),pe=L(),ve=w("span"),ve.textContent=M,this.h()},l(R){e=y(R,"DIV",{class:!0});var se=E(e);t=y(se,"H3",{"data-svelte-h":!0}),_e(t)!=="svelte-1v8zjx5"&&(t.textContent=a),r=z(se),n=y(se,"BUTTON",{class:!0});var Se=E(n);Q(l.$$.fragment,Se),i=z(Se),u=y(Se,"SPAN",{"data-svelte-h":!0}),_e(u)!=="svelte-wh4rhd"&&(u.textContent=o),Se.forEach(h),m=z(se),f=y(se,"BUTTON",{class:!0});var ye=E(f);Q(c.$$.fragment,ye),T=z(ye),d=y(ye,"SPAN",{"data-svelte-h":!0}),_e(d)!=="svelte-67dhmv"&&(d.textContent=p),ye.forEach(h),N=z(se),le&&le.l(se),P=z(se),C=y(se,"H3",{"data-svelte-h":!0}),_e(C)!=="svelte-1oj9aef"&&(C.textContent=_),B=z(se),O=y(se,"BUTTON",{class:!0,title:!0});var ze=E(O);Q(U.$$.fragment,ze),ee=z(ze),ae=y(ze,"SPAN",{"data-svelte-h":!0}),_e(ae)!=="svelte-dro7np"&&(ae.textContent=G),ze.forEach(h),Be=z(se),ue=y(se,"BUTTON",{class:!0,title:!0});var k=E(ue);Q(ie.$$.fragment,k),pe=z(k),ve=y(k,"SPAN",{"data-svelte-h":!0}),_e(ve)!=="svelte-13uzf89"&&(ve.textContent=M),k.forEach(h),se.forEach(h),this.h()},h(){g(n,"class","btn variant-filled-primary"),g(f,"class","btn variant-filled-secondary"),g(O,"class","btn variant-filled-tertiary"),O.disabled=ce=s[2].filter(tl).length===0,g(O,"title","trye to find equivalent of tracks that are not readable anymore"),g(ue,"class","btn variant-filled-tertiary"),ue.disabled=S=s[2].filter(ll).length===0,g(ue,"title","remove de-selected new tracks"),g(e,"class","flex flex-col gap-y-4 w-4/5")},m(R,se){A(R,e,se),v(e,t),v(e,r),v(e,n),$(l,n,null),v(n,i),v(n,u),v(e,m),v(e,f),$(c,f,null),v(f,T),v(f,d),v(e,N),le&&le.m(e,null),v(e,P),v(e,C),v(e,B),v(e,O),$(U,O,null),v(O,ee),v(O,ae),v(e,Be),v(e,ue),$(ie,ue,null),v(ue,pe),v(ue,ve),V=!0,ne||(we=[J(n,"click",rt(s[12])),J(f,"click",rt(s[14])),J(O,"click",rt(s[15])),J(ue,"click",rt(s[16]))],ne=!0)},p(R,se){R[5]?le?le.p(R,se):(le=xt(R),le.c(),le.m(e,P)):le&&(le.d(1),le=null),(!V||se[0]&4&&ce!==(ce=R[2].filter(tl).length===0))&&(O.disabled=ce),(!V||se[0]&4&&S!==(S=R[2].filter(ll).length===0))&&(ue.disabled=S)},i(R){V||(F(l.$$.fragment,R),F(c.$$.fragment,R),F(U.$$.fragment,R),F(ie.$$.fragment,R),V=!0)},o(R){j(l.$$.fragment,R),j(c.$$.fragment,R),j(U.$$.fragment,R),j(ie.$$.fragment,R),V=!1},d(R){R&&h(e),x(l),x(c),le&&le.d(),x(U),x(ie),ne=!1,Ge(we)}}}function ta(s){let e,t;return e=new yl({props:{$$slots:{sidebarRight:[ea],sidebarLeft:[xs],default:[Js]},$$scope:{ctx:s}}}),{c(){X(e.$$.fragment)},l(a){Q(e.$$.fragment,a)},m(a,r){$(e,a,r),t=!0},p(a,r){const n={};r[0]&511|r[1]&131072&&(n.$$scope={dirty:r,ctx:a}),e.$set(n)},i(a){t||(F(e.$$.fragment,a),t=!0)},o(a){j(e.$$.fragment,a),t=!1},d(a){x(e,a)}}}function la(s,e){const t=[];for(let a=0;a<s.length;a+=e)t.push(s.slice(a,a+e));return t}function el(s){return!s.inPlaylist&&s.selected?"!text-lime-500":s.inPlaylist&&!s.selected?"!line-through":""}const tl=s=>s.selected&&!s.track.readable,ll=s=>!s.selected&&!s.inPlaylist,sl=s=>s.selected,al=s=>s.selected,nl=s=>s.selected,il=s=>s.selected;function sa(s,e,t){let a,r,n,l,i,u,{data:o}=e;const m=it([]);et(s,m,k=>t(8,u=k));const f=it([]);et(s,f,k=>t(2,r=k));const c={ascending:!1,orderBy:"trackCount"};function T(k){k.ascending!==void 0&&t(3,c.ascending=k.ascending,c),k.orderBy!==void 0&&t(3,c.orderBy=k.orderBy,c),m.update(I=>{const b=c.ascending?1:-1,W=(Z,me)=>ae(Z.id)-ae(me.id),H=(Z,me)=>Z.name.localeCompare(me.name),te=(Z,me)=>(De,Fe)=>{const xe=Z(De,Fe);return xe===0?me(De,Fe):xe};return I.sort((Z,me)=>{switch(c.orderBy){case"trackCount":return b*te(W,H)(Z,me);case"alphabetical":return b*te(H,W)(Z,me)}})})}async function d(){const k={request_method:"POST"};o.playlist.title&&(k.title=o.playlist.title),o.playlist.description&&(k.description=o.playlist.description),o.playlist.public&&(k.public=o.playlist.public);try{const I=await Ye({apiPath:`/playlist/${o.playlist.id}`,searchParams:k});Oe.trigger({message:`Updated playlist: ${I?"OK":"KO"}`,timeout:3e3})}catch(I){Oe.trigger({message:`Updated playlist: error ${I}`,timeout:3e3})}}let p=it(void 0);et(s,p,k=>t(5,n=k));async function N(k,I,b){if(!k.length)return;p.set({message:`sending 0/${k.length} ${I} ${b} `,value:0,max:k.length});let W=0;const H=100;for(const te of la(k,H)){W+=H,p.set({message:`sending ${W} / ${k.length} ${I} ${b} `,value:W,max:k.length}),console.log(`sending ${I} ${b}=${JSON.stringify(te)}`);const de={request_method:I};de[b]=te.join(",");const Z=await Ye({apiPath:`/playlist/${o.playlist.id}/tracks`,searchParams:de});if(console.log({updateResult:Z}),!Z)throw new Error(`unable to send ${I} ${b}=${JSON.stringify(te)}`)}}async function P(){try{const k=r.filter(b=>b.selected&&!b.inPlaylist).map(b=>b.track.id);await N(k,"POST","songs");const I=r.filter(b=>!b.selected&&b.inPlaylist).map(b=>b.track.id);if(await N(I,"DELETE","songs"),k.length>0){const b=r.filter(W=>W.selected).map(W=>W.track.id);await N(b,"POST","order")}if(p.set(void 0),k.length||I.length){const b=Oe.trigger({message:"Updated playlist tracks, refreshing playlist data"});await Bl(),Oe.close(b)}}catch(k){Oe.trigger({message:`Updated playlist tracks: error ${k}`,timeout:3e3})}finally{p.set(void 0)}}async function C(k){const I=await ml(k.artist.id);if(!I){Oe.trigger({message:`Could not find artist ${k.artist.name}`,timeout:3e3});return}const b=I.flatMap(te=>{const{tracks:de,...Z}=te;return te.tracks.map(me=>({...me,album:Z}))}).filter(te=>te.id!==k.id&&te.readable),W={sensitivity:"base",ignorePunctuation:!0,numeric:!1,usage:"search"},H=b.filter(te=>te.title.localeCompare(k.title,void 0,W)===0);switch(H.length){case 0:console.log("no match by title",{unreadableTrack:k}),Oe.trigger({message:`Could not find matching track for '${k.title}' in album '${k.album.title}'`,timeout:3e3});return;case 1:return H[0];default:{const te=Object.values(H.reduce((Z,me)=>(Z[me.isrc]=me,Z),{}));if(te.length===1)return te[0];const de=H.filter(Z=>Z.album.title.localeCompare(k.album.title,void 0,W)===0);switch(de.length){case 0:console.log("no match by title and album",{unreadableTrack:k}),Oe.trigger({message:`Could not find matching track for '${k.title}' in album '${k.album.title}'`,timeout:3e3});return;case 1:return de[0];default:{const Z=Object.values(de.reduce((me,De)=>(me[De.isrc]=De,me),{}));if(Z.length===1)return Z[0];console.log("multple match by title",{unreadableTrack:k,matchingTracksByTitleAndAlbum:de}),Oe.trigger({message:`Found multiple matching tracks for '${k.title}' in album '${k.album.title}' : ${de.map(me=>me.id)}`,timeout:3e3});return}}}}}async function _(){const k=Nl(f),I=k.filter(H=>H.selected&&H.track.readable).length,b=k.filter(H=>H.selected&&!H.track.readable);for(const H of b){const te=H.track,de=await C(te);if(de){console.log("adding alternative to "+H.track.id+" : "+de.title),H.selected=!1;const Z=k.indexOf(H);k.splice(Z+1,0,{selected:!0,inPlaylist:!1,track:de})}}const W=k.filter(H=>H.selected&&H.track.readable).length;Oe.trigger({message:`Reattached ${W-I} track(s) to readable equivalents.<br/>(${k.filter(H=>H.selected).length-W} unreadable track remaining)`,timeout:1e4}),f.set(k)}function B(){f.update(k=>{const I=k.filter(b=>b.selected||b.inPlaylist);return Oe.trigger({message:`Removed ${k.length-I.length} track(s) from the playlist`,timeout:3e3}),I})}let O=it("");et(s,O,k=>t(6,l=k));function U(k){const I=k.detail.value;dt(I,f)}const ee=bl(O,(k,I)=>{if(!k){I([]);return}Ye({apiPath:"/search/artist",searchParams:{q:k}}).then(b=>{const W=b.data.map(H=>({label:`<span class="flex justify-between w-full items-center">
<span class="flex items-center"> <img src="${H.picture_small}" class="mx-2"/>${H.name}</span>
 <button class="btn-icon btn-icon-sm variant-outline-tertiary" title="add all artist titles to the playlist">add</button></span>`,value:H.id,meta:H}));I(W)})});et(s,ee,k=>t(7,i=k));function ae(k){return r.filter(I=>I.track.artist.id===k&&I.selected).length}let G={offset:0,limit:20,size:10,amounts:[10,20,50,100]};function ce(){l=this.value,O.set(l)}function Be(k){l=k,O.set(l)}const ue=()=>T({orderBy:"alphabetical"}),ie=()=>T({orderBy:"trackCount"}),pe=()=>T({ascending:!1}),ve=()=>T({ascending:!0}),M=k=>dt(k.id,f),S=k=>Gt(k.id,f);function V(){o.playlist.title=this.value,t(0,o)}function ne(){o.playlist.description=this.value,t(0,o)}const we=k=>{a.forEach(I=>I.selected=k.target.checked),f.update(I=>I)};function le(k,I){k[I].selected=this.checked,t(4,a),t(2,r),t(1,G)}const R=k=>Ls(k.album,f),se=k=>Ss(k.album.id,f),Se=k=>dt(k.artist.id,f),ye=k=>Gt(k.artist.id,f);function ze(k){G=k,t(1,G),t(2,r)}return s.$$set=k=>{"data"in k&&t(0,o=k.data)},s.$$.update=()=>{if(s.$$.dirty[0]&1&&m.set(o.topArtists),s.$$.dirty[0]&1){const k=o.playlist.tracks.data.map(I=>({track:I,inPlaylist:!0,selected:!0}));f.set(k)}s.$$.dirty[0]&4&&t(1,G.size=r.length,G),s.$$.dirty[0]&6&&t(4,a=r.slice(G.offset*G.limit,G.offset*G.limit+G.limit))},[o,G,r,c,a,n,l,i,u,m,f,T,d,p,P,_,B,O,U,ee,ae,ce,Be,ue,ie,pe,ve,M,S,V,ne,we,le,R,se,Se,ye,ze]}class ma extends Ce{constructor(e){super(),Ee(this,e,sa,ta,Te,{data:0},null,[-1,-1])}}export{ma as component,ha as universal};
