import{c as x,t as pe,e as ee}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.7d663352.js";import{e as ge,a as te,g as me,P as be,b as ve,h as ae}from"../chunks/PlaylistApplicationShell.0f8b17be.js";import{s as ye,p as Pe,f as _,a as L,l as q,g as p,h as v,R as Te,c as N,d as u,m as H,j as n,i as K,x as i,U as le,K as se,V as ke,n as Y,S as Ee,L as De,W as re}from"../chunks/scheduler.2b679851.js";import{S as Se,i as we,b as ce,d as ue,m as de,a as fe,t as he,e as _e,o as Ie}from"../chunks/index.975caa0b.js";import"../chunks/paths.01299cca.js";const Re=!1;async function $e({url:r}){const t=ge(r),s=r.searchParams.get("search");return s?{playlists:x({apiPath:"/search/playlist",searchParams:{q:s,limit:1e3,index:t||0}}).then(a=>te(a,t||0))}:t?{playlists:x({apiPath:"/user/me/playlists",searchParams:{limit:1e3,index:t}}).then(a=>te(a,t))}:{playlists:pe("getRemainingPages:",async()=>await me({apiPath:"/user/me/playlists",limit:500,index:0}))}}const Me=Object.freeze(Object.defineProperty({__proto__:null,load:$e,ssr:Re},Symbol.toStringTag,{value:"Module"}));function ie(r,t,s){const a=r.slice();return a[9]=t[s],a}function ne(r){let t,s,a,o,d,S,h,y,f,I=r[9].title+"",D,P,k,J,R,E=r[9].creation_date+"",O,j,$,b,B,M,w,C=r[9].nb_tracks+"",U,z,c,V=ae(r[9].duration*1e3,{units:["h","m","s"],largest:2})+"",G,g;return{c(){t=_("tr"),s=_("td"),a=_("a"),o=_("div"),d=_("img"),y=L(),f=_("strong"),D=q(I),J=L(),R=_("td"),O=q(E),j=L(),$=_("td"),b=_("input"),M=L(),w=_("td"),U=q(C),z=L(),c=_("td"),G=q(V),g=L(),this.h()},l(e){t=p(e,"TR",{});var l=v(t);s=p(l,"TD",{});var T=v(s);a=p(T,"A",{href:!0,"data-sveltekit-preload-data":!0});var m=v(a);o=p(m,"DIV",{class:!0});var A=v(o);d=p(A,"IMG",{src:!0,alt:!0,"aria-describedby":!0,class:!0}),y=N(A),f=p(A,"STRONG",{id:!0,class:!0});var Q=v(f);D=H(Q,I),Q.forEach(u),A.forEach(u),m.forEach(u),T.forEach(u),J=N(l),R=p(l,"TD",{class:!0});var X=v(R);O=H(X,E),X.forEach(u),j=N(l),$=p(l,"TD",{class:!0});var Z=v($);b=p(Z,"INPUT",{class:!0,type:!0}),Z.forEach(u),M=N(l),w=p(l,"TD",{class:!0});var F=v(w);U=H(F,C),F.forEach(u),z=N(l),c=p(l,"TD",{class:!0});var W=v(c);G=H(W,V),W.forEach(u),g=N(l),l.forEach(u),this.h()},h(){re(d.src,S=r[9].picture_small)||n(d,"src",S),n(d,"alt","playlist cover"),n(d,"aria-describedby",h=r[9].id+"_title"),n(d,"class","deezer_img_small"),n(f,"id",P=r[9].id+"_title"),n(f,"class","m-2"),n(o,"class","flex items-center"),n(a,"href",k="playlists/"+r[9].id),n(a,"data-sveltekit-preload-data","off"),n(R,"class","items-center largeonly"),n(b,"class","checkbox"),n(b,"type","checkbox"),b.checked=B=r[9].public,b.disabled=!0,n($,"class","largeonly"),n(w,"class","mediumonly"),n(c,"class","largeonly")},m(e,l){K(e,t,l),i(t,s),i(s,a),i(a,o),i(o,d),i(o,y),i(o,f),i(f,D),i(t,J),i(t,R),i(R,O),i(t,j),i(t,$),i($,b),i(t,M),i(t,w),i(w,U),i(t,z),i(t,c),i(c,G),i(t,g)},p(e,l){l&16&&!re(d.src,S=e[9].picture_small)&&n(d,"src",S),l&16&&h!==(h=e[9].id+"_title")&&n(d,"aria-describedby",h),l&16&&I!==(I=e[9].title+"")&&Y(D,I),l&16&&P!==(P=e[9].id+"_title")&&n(f,"id",P),l&16&&k!==(k="playlists/"+e[9].id)&&n(a,"href",k),l&16&&E!==(E=e[9].creation_date+"")&&Y(O,E),l&16&&B!==(B=e[9].public)&&(b.checked=B),l&16&&C!==(C=e[9].nb_tracks+"")&&Y(U,C),l&16&&V!==(V=ae(e[9].duration*1e3,{units:["h","m","s"],largest:2})+"")&&Y(G,V)},d(e){e&&u(t)}}}function oe(r){let t=JSON.stringify({pageData:r[0].playlists},null,2)+"",s;return{c(){s=q(t)},l(a){s=H(a,t)},m(a,o){K(a,s,o)},p(a,o){o&1&&t!==(t=JSON.stringify({pageData:a[0].playlists},null,2)+"")&&Y(s,t)},d(a){a&&u(s)}}}function Le(r){let t,s,a,o,d='<th>Title</th> <th class="largeonly">Created on</th> <th class="largeonly">Public?</th> <th class="mediumonly"># Tracks</th> <th class="largeonly">duration</th>',S,h,y,f,I,D,P,k,J,R,E,O=r[3]?"hide debug":"show debug",j,$,b,B,M,w,C,U,z=ee(r[4]),c=[];for(let e=0;e<z.length;e+=1)c[e]=ne(ie(r,z,e));function V(e){r[7](e)}let G={showFirstLastButtons:!0,showPreviousNextButtons:!0};r[1]!==void 0&&(G.settings=r[1]),k=new ve({props:G}),Pe.push(()=>Ie(k,"settings",V));let g=r[3]&&oe(r);return{c(){t=_("div"),s=_("table"),a=_("thead"),o=_("tr"),o.innerHTML=d,S=L(),h=_("tr"),y=_("td"),f=_("input"),I=L(),D=_("tbody");for(let e=0;e<c.length;e+=1)c[e].c();P=L(),ce(k.$$.fragment),R=L(),E=_("a"),j=q(O),$=L(),b=_("pre"),B=q("        "),g&&g.c(),M=q(`
    `),this.h()},l(e){t=p(e,"DIV",{class:!0});var l=v(t);s=p(l,"TABLE",{class:!0});var T=v(s);a=p(T,"THEAD",{});var m=v(a);o=p(m,"TR",{"data-svelte-h":!0}),Te(o)!=="svelte-m478cj"&&(o.innerHTML=d),S=N(m),h=p(m,"TR",{});var A=v(h);y=p(A,"TD",{colspan:!0});var Q=v(y);f=p(Q,"INPUT",{class:!0,title:!0,type:!0,placeholder:!0}),Q.forEach(u),A.forEach(u),m.forEach(u),I=N(T),D=p(T,"TBODY",{});var X=v(D);for(let W=0;W<c.length;W+=1)c[W].l(X);X.forEach(u),T.forEach(u),P=N(l),ue(k.$$.fragment,l),l.forEach(u),R=N(e),E=p(e,"A",{href:!0});var Z=v(E);j=H(Z,O),Z.forEach(u),$=N(e),b=p(e,"PRE",{id:!0});var F=v(b);B=H(F,"        "),g&&g.l(F),M=H(F,`
    `),F.forEach(u),this.h()},h(){n(f,"class","input"),n(f,"title","Input (search)"),n(f,"type","search"),n(f,"placeholder","Search..."),n(y,"colspan","6"),n(s,"class","table table-hover "),n(t,"class","table-container"),n(E,"href","#showDebug"),n(b,"id","showDebug")},m(e,l){K(e,t,l),i(t,s),i(s,a),i(a,o),i(a,S),i(a,h),i(h,y),i(y,f),le(f,r[2]),i(s,I),i(s,D);for(let T=0;T<c.length;T+=1)c[T]&&c[T].m(D,null);i(t,P),de(k,t,null),K(e,R,l),K(e,E,l),i(E,j),K(e,$,l),K(e,b,l),i(b,B),g&&g.m(b,null),i(b,M),w=!0,C||(U=[se(f,"input",r[6]),se(E,"click",r[8])],C=!0)},p(e,l){if(l&4&&f.value!==e[2]&&le(f,e[2]),l&16){z=ee(e[4]);let m;for(m=0;m<z.length;m+=1){const A=ie(e,z,m);c[m]?c[m].p(A,l):(c[m]=ne(A),c[m].c(),c[m].m(D,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=z.length}const T={};!J&&l&2&&(J=!0,T.settings=e[1],ke(()=>J=!1)),k.$set(T),(!w||l&8)&&O!==(O=e[3]?"hide debug":"show debug")&&Y(j,O),e[3]?g?g.p(e,l):(g=oe(e),g.c(),g.m(b,M)):g&&(g.d(1),g=null)},i(e){w||(fe(k.$$.fragment,e),w=!0)},o(e){he(k.$$.fragment,e),w=!1},d(e){e&&(u(t),u(R),u(E),u($),u(b)),Ee(c,e),_e(k),g&&g.d(),C=!1,De(U)}}}function Ne(r){let t,s;return t=new be({props:{$$slots:{default:[Le]},$$scope:{ctx:r}}}),{c(){ce(t.$$.fragment)},l(a){ue(t.$$.fragment,a)},m(a,o){de(t,a,o),s=!0},p(a,[o]){const d={};o&4127&&(d.$$scope={dirty:o,ctx:a}),t.$set(d)},i(a){s||(fe(t.$$.fragment,a),s=!0)},o(a){he(t.$$.fragment,a),s=!1},d(a){_e(t,a)}}}function Oe(r,t,s){let a,o,{data:d}=t,S=!1,h={page:0,limit:5,size:10,amounts:[5,10,20,50,100]},y="";function f(){y=this.value,s(2,y)}function I(P){h=P,s(1,h),s(5,a),s(0,d)}const D=()=>s(3,S=!S);return r.$$set=P=>{"data"in P&&s(0,d=P.data)},r.$$.update=()=>{r.$$.dirty&1&&s(5,a=d.playlists.data),r.$$.dirty&32&&s(1,h.size=a.length,h),r.$$.dirty&38&&s(4,o=a.filter(P=>!y||JSON.stringify(P).toLowerCase().includes(y.toLowerCase())).slice(h.page*h.limit,h.page*h.limit+h.limit))},[d,h,y,S,o,a,f,I,D]}class qe extends Se{constructor(t){super(),we(this,t,Oe,Ne,ye,{data:0})}}export{qe as component,Me as universal};
