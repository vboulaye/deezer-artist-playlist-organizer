import{d as kl,w as st}from"../chunks/paths.162ed806.js";import{e as Ve,d as yl,R as wl,c as Xe,r as Tl,p as Al,u as El,o as Pl}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.297aef44.js";import{g as ht,b as Sl,h as Cl,P as Bl}from"../chunks/PlaylistApplicationShell.5111a8b2.js";import{s as $,w as ve,f as w,g as T,h as S,d,j as m,i as I,y as ke,z as ye,A as we,U as dt,W as lt,C as K,D as X,e as Re,a as z,c as R,x as y,K as Z,X as at,Y as fe,L as He,Z as it,B as mt,O as re,v as Ye,_ as Nl,$ as We,p as Me,M as xe,l as le,m as ne,n as Be,r as G,P as Il,H as Ne,I as Ie,F as Le,J as ze,Q as ae,V as je,S as Ue,T as Ge,a0 as et,R as _e,a1 as _t,k as Dl,a2 as Pt,a3 as Ol}from"../chunks/scheduler.efcc48c0.js";import{S as x,i as ee,a as C,t as N,g as Te,c as Ae,j as Ll,k as zl,b as U,d as V,m as F,e as q,o as Je}from"../chunks/index.14b20280.js";import{a as Pe,s as St,g as Rl}from"../chunks/index.37b3524b.js";import{i as jl}from"../chunks/navigation.cd7dd031.js";function Hl(n){let e,t;const l=n[1].default,s=ve(l,n,n[0],null);return{c(){e=w("span"),s&&s.c(),this.h()},l(i){e=T(i,"SPAN",{class:!0});var a=S(e);s&&s.l(a),a.forEach(d),this.h()},h(){m(e,"class","flex gap-x-2 items-center mx-2")},m(i,a){I(i,e,a),s&&s.m(e,null),t=!0},p(i,[a]){s&&s.p&&(!t||a&1)&&ke(s,l,i,i[0],t?we(l,i[0],a,null):ye(i[0]),null)},i(i){t||(C(s,i),t=!0)},o(i){N(s,i),t=!1},d(i){i&&d(e),s&&s.d(i)}}}function Zl(n,e,t){let{$$slots:l={},$$scope:s}=e;return n.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,l]}class tt extends x{constructor(e){super(),ee(this,e,Zl,Hl,$,{})}}function Ct(n,e,t){const l=n.slice();return l[15]=e[t],l[17]=t,l}const Ml=n=>({}),Bt=n=>({}),Ul=n=>({}),Nt=n=>({}),Vl=n=>({}),It=n=>({}),Fl=n=>({}),Dt=n=>({}),ql=n=>({}),Ot=n=>({}),Kl=n=>({}),Lt=n=>({});function Gl(n){let e,t,l,s,i,a,r,o;const u=[Xl,Wl,Yl],c=[];function h(f,g){return g&1&&(t=null),g&1&&(l=null),t==null&&(t=!!ol(f[0],f[17])),t?0:(l==null&&(l=!!ul(f[0],f[17])),l?1:2)}return s=h(n,-1),i=c[s]=u[s](n),{c(){e=w("span"),i.c(),a=z(),this.h()},l(f){e=T(f,"SPAN",{class:!0});var g=S(e);i.l(g),a=R(g),g.forEach(d),this.h()},h(){m(e,"class",r="rating-icon "+n[3])},m(f,g){I(f,e,g),c[s].m(e,null),y(e,a),o=!0},p(f,g){let p=s;s=h(f,g),s===p?c[s].p(f,g):(Te(),N(c[p],1,1,()=>{c[p]=null}),Ae(),i=c[s],i?i.p(f,g):(i=c[s]=u[s](f),i.c()),C(i,1),i.m(e,a)),(!o||g&8&&r!==(r="rating-icon "+f[3]))&&m(e,"class",r)},i(f){o||(C(i),o=!0)},o(f){N(i),o=!1},d(f){f&&d(e),c[s].d()}}}function Jl(n){let e,t,l,s,i,a,r,o,u,c;const h=[xl,$l,Ql],f=[];function g(b,E){return E&1&&(t=null),E&1&&(l=null),t==null&&(t=!!ol(b[0],b[17])),t?0:(l==null&&(l=!!ul(b[0],b[17])),l?1:2)}s=g(n,-1),i=f[s]=h[s](n);function p(){return n[12](n[17])}return{c(){e=w("button"),i.c(),a=z(),this.h()},l(b){e=T(b,"BUTTON",{class:!0,type:!0});var E=S(e);i.l(E),a=R(E),E.forEach(d),this.h()},h(){m(e,"class",r="rating-icon "+n[3]),m(e,"type","button")},m(b,E){I(b,e,E),f[s].m(e,null),y(e,a),o=!0,u||(c=Z(e,"click",p),u=!0)},p(b,E){n=b;let A=s;s=g(n,E),s===A?f[s].p(n,E):(Te(),N(f[A],1,1,()=>{f[A]=null}),Ae(),i=f[s],i?i.p(n,E):(i=f[s]=h[s](n),i.c()),C(i,1),i.m(e,a)),(!o||E&8&&r!==(r="rating-icon "+n[3]))&&m(e,"class",r)},i(b){o||(C(i),o=!0)},o(b){N(i),o=!1},d(b){b&&d(e),f[s].d(),u=!1,c()}}}function Yl(n){let e;const t=n[11].empty,l=ve(t,n,n[10],Bt);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),e=!0},p(s,i){l&&l.p&&(!e||i&1024)&&ke(l,t,s,s[10],e?we(t,s[10],i,Ml):ye(s[10]),Bt)},i(s){e||(C(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function Wl(n){let e;const t=n[11].half,l=ve(t,n,n[10],Nt);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),e=!0},p(s,i){l&&l.p&&(!e||i&1024)&&ke(l,t,s,s[10],e?we(t,s[10],i,Ul):ye(s[10]),Nt)},i(s){e||(C(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function Xl(n){let e;const t=n[11].full,l=ve(t,n,n[10],It);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),e=!0},p(s,i){l&&l.p&&(!e||i&1024)&&ke(l,t,s,s[10],e?we(t,s[10],i,Vl):ye(s[10]),It)},i(s){e||(C(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function Ql(n){let e;const t=n[11].empty,l=ve(t,n,n[10],Dt);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),e=!0},p(s,i){l&&l.p&&(!e||i&1024)&&ke(l,t,s,s[10],e?we(t,s[10],i,Fl):ye(s[10]),Dt)},i(s){e||(C(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function $l(n){let e;const t=n[11].half,l=ve(t,n,n[10],Ot);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),e=!0},p(s,i){l&&l.p&&(!e||i&1024)&&ke(l,t,s,s[10],e?we(t,s[10],i,ql):ye(s[10]),Ot)},i(s){e||(C(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function xl(n){let e;const t=n[11].full,l=ve(t,n,n[10],Lt);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),e=!0},p(s,i){l&&l.p&&(!e||i&1024)&&ke(l,t,s,s[10],e?we(t,s[10],i,Kl):ye(s[10]),Lt)},i(s){e||(C(l,s),e=!0)},o(s){N(l,s),e=!1},d(s){l&&l.d(s)}}}function zt(n){let e,t,l,s;const i=[Jl,Gl],a=[];function r(o,u){return o[2]?0:1}return e=r(n),t=a[e]=i[e](n),{c(){t.c(),l=Re()},l(o){t.l(o),l=Re()},m(o,u){a[e].m(o,u),I(o,l,u),s=!0},p(o,u){let c=e;e=r(o),e===c?a[e].p(o,u):(Te(),N(a[c],1,1,()=>{a[c]=null}),Ae(),t=a[e],t?t.p(o,u):(t=a[e]=i[e](o),t.c()),C(t,1),t.m(l.parentNode,l))},i(o){s||(C(t),s=!0)},o(o){N(t),s=!1},d(o){o&&d(l),a[e].d(o)}}}function en(n){let e,t,l,s=Ve({length:n[1]}),i=[];for(let r=0;r<s.length;r+=1)i[r]=zt(Ct(n,s,r));const a=r=>N(i[r],1,1,()=>{i[r]=null});return{c(){e=w("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=T(r,"DIV",{class:!0,"data-testid":!0});var o=S(e);for(let u=0;u<i.length;u+=1)i[u].l(o);o.forEach(d),this.h()},h(){m(e,"class",t="ratings "+n[4]),m(e,"data-testid","rating-bar")},m(r,o){I(r,e,o);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);l=!0},p(r,[o]){if(o&1071){s=Ve({length:r[1]});let u;for(u=0;u<s.length;u+=1){const c=Ct(r,s,u);i[u]?(i[u].p(c,o),C(i[u],1)):(i[u]=zt(c),i[u].c(),C(i[u],1),i[u].m(e,null))}for(Te(),u=s.length;u<i.length;u+=1)a(u);Ae()}(!l||o&16&&t!==(t="ratings "+r[4]))&&m(e,"class",t)},i(r){if(!l){for(let o=0;o<s.length;o+=1)C(i[o]);l=!0}},o(r){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)N(i[o]);l=!1},d(r){r&&d(e),dt(i,r)}}}const tn="w-full flex";function ol(n,e){return Math.floor(n)>=e+1}function ul(n,e){return n===e+.5}function ln(n,e,t){let l,{$$slots:s={},$$scope:i}=e,{value:a=0}=e,{max:r=5}=e,{interactive:o=!1}=e,{text:u="text-token"}=e,{fill:c="fill-token"}=e,{justify:h="justify-center"}=e,{spacing:f="space-x-2"}=e,{regionIcon:g=""}=e;const p=lt();function b(A){p("icon",{index:A+1})}const E=A=>b(A);return n.$$set=A=>{t(14,e=K(K({},e),X(A))),"value"in A&&t(0,a=A.value),"max"in A&&t(1,r=A.max),"interactive"in A&&t(2,o=A.interactive),"text"in A&&t(6,u=A.text),"fill"in A&&t(7,c=A.fill),"justify"in A&&t(8,h=A.justify),"spacing"in A&&t(9,f=A.spacing),"regionIcon"in A&&t(3,g=A.regionIcon),"$$scope"in A&&t(10,i=A.$$scope)},n.$$.update=()=>{t(4,l=`${tn} ${u} ${c} ${h} ${f} ${e.class??""}`)},e=X(e),[a,r,o,g,l,b,u,c,h,f,i,s,E]}class nn extends x{constructor(e){super(),ee(this,e,ln,en,$,{value:0,max:1,interactive:2,text:6,fill:7,justify:8,spacing:9,regionIcon:3})}}function Rt(n){let e,t;const l=n[22].default,s=ve(l,n,n[21],null);return{c(){e=w("div"),s&&s.c(),this.h()},l(i){e=T(i,"DIV",{class:!0});var a=S(e);s&&s.l(a),a.forEach(d),this.h()},h(){m(e,"class","slide-toggle-text ml-3")},m(i,a){I(i,e,a),s&&s.m(e,null),t=!0},p(i,a){s&&s.p&&(!t||a[0]&2097152)&&ke(s,l,i,i[21],t?we(l,i[21],a,null):ye(i[21]),null)},i(i){t||(C(s,i),t=!0)},o(i){N(s,i),t=!1},d(i){i&&d(e),s&&s.d(i)}}}function sn(n){let e,t,l,s,i,a,r,o,u,c,h,f,g,p,b,E=[{type:"checkbox"},{class:"slide-toggle-input hidden"},{name:n[1]},n[8](),{disabled:s=n[9].disabled}],A={};for(let k=0;k<E.length;k+=1)A=K(A,E[k]);let v=n[10].default&&Rt(n);return{c(){e=w("div"),t=w("label"),l=w("input"),i=z(),a=w("div"),r=w("div"),c=z(),v&&v.c(),this.h()},l(k){e=T(k,"DIV",{id:!0,class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-checked":!0,tabindex:!0});var D=S(e);t=T(D,"LABEL",{class:!0});var _=S(t);l=T(_,"INPUT",{type:!0,class:!0,name:!0}),i=R(_),a=T(_,"DIV",{class:!0});var B=S(a);r=T(B,"DIV",{class:!0}),S(r).forEach(d),B.forEach(d),c=R(_),v&&v.l(_),_.forEach(d),D.forEach(d),this.h()},h(){at(l,A),m(r,"class",o="slide-toggle-thumb "+n[3]),fe(r,"cursor-not-allowed",n[9].disabled),m(a,"class",u="slide-toggle-track "+n[4]),fe(a,"cursor-not-allowed",n[9].disabled),m(t,"class",h="slide-toggle-label "+n[5]),m(e,"id",n[2]),m(e,"class",f="slide-toggle "+n[6]),m(e,"data-testid","slide-toggle"),m(e,"role","switch"),m(e,"aria-label",n[2]),m(e,"aria-checked",n[0]),m(e,"tabindex","0")},m(k,D){I(k,e,D),y(e,t),y(t,l),l.autofocus&&l.focus(),l.checked=n[0],y(t,i),y(t,a),y(a,r),y(t,c),v&&v.m(t,null),g=!0,p||(b=[Z(l,"change",n[31]),Z(l,"click",n[23]),Z(l,"keydown",n[24]),Z(l,"keyup",n[25]),Z(l,"keypress",n[26]),Z(l,"mouseover",n[27]),Z(l,"change",n[28]),Z(l,"focus",n[29]),Z(l,"blur",n[30]),Z(e,"keydown",n[7])],p=!0)},p(k,D){at(l,A=Pe(E,[{type:"checkbox"},{class:"slide-toggle-input hidden"},(!g||D[0]&2)&&{name:k[1]},k[8](),(!g||D[0]&512&&s!==(s=k[9].disabled))&&{disabled:s}])),D[0]&1&&(l.checked=k[0]),(!g||D[0]&8&&o!==(o="slide-toggle-thumb "+k[3]))&&m(r,"class",o),(!g||D[0]&520)&&fe(r,"cursor-not-allowed",k[9].disabled),(!g||D[0]&16&&u!==(u="slide-toggle-track "+k[4]))&&m(a,"class",u),(!g||D[0]&528)&&fe(a,"cursor-not-allowed",k[9].disabled),k[10].default?v?(v.p(k,D),D[0]&1024&&C(v,1)):(v=Rt(k),v.c(),C(v,1),v.m(t,null)):v&&(Te(),N(v,1,1,()=>{v=null}),Ae()),(!g||D[0]&32&&h!==(h="slide-toggle-label "+k[5]))&&m(t,"class",h),(!g||D[0]&4)&&m(e,"id",k[2]),(!g||D[0]&64&&f!==(f="slide-toggle "+k[6]))&&m(e,"class",f),(!g||D[0]&4)&&m(e,"aria-label",k[2]),(!g||D[0]&1)&&m(e,"aria-checked",k[0])},i(k){g||(C(v),g=!0)},o(k){N(v),g=!1},d(k){k&&d(e),v&&v.d(),p=!1,He(b)}}}const an="inline-block",rn="unstyled flex items-center",on="flex transition-all duration-[200ms] cursor-pointer",un="w-[50%] h-full scale-[0.8] transition-all duration-[200ms] shadow";function cn(n,e,t){let l,s,i,a,r,o,u,c;const h=["name","checked","size","background","active","border","rounded","label"];let f=it(e,h),{$$slots:g={},$$scope:p}=e;const b=mt(g),E=lt();let{name:A}=e,{checked:v=!1}=e,{size:k="md"}=e,{background:D="bg-surface-400 dark:bg-surface-700"}=e,{active:_="bg-surface-900 dark:bg-surface-300"}=e,{border:B=""}=e,{rounded:L="rounded-full"}=e,{label:j=""}=e,P;switch(k){case"sm":P="w-12 h-6";break;case"lg":P="w-20 h-10";break;default:P="w-16 h-8"}function J(M){["Enter","Space"].includes(M.code)&&(M.preventDefault(),E("keyup",M),M.currentTarget.firstChild.click())}function ue(){return delete f.class,f}function Y(M){re.call(this,n,M)}function Q(M){re.call(this,n,M)}function te(M){re.call(this,n,M)}function Se(M){re.call(this,n,M)}function me(M){re.call(this,n,M)}function De(M){re.call(this,n,M)}function Ce(M){re.call(this,n,M)}function he(M){re.call(this,n,M)}function H(){v=this.checked,t(0,v)}return n.$$set=M=>{t(9,e=K(K({},e),X(M))),t(33,f=it(e,h)),"name"in M&&t(1,A=M.name),"checked"in M&&t(0,v=M.checked),"size"in M&&t(11,k=M.size),"background"in M&&t(12,D=M.background),"active"in M&&t(13,_=M.active),"border"in M&&t(14,B=M.border),"rounded"in M&&t(15,L=M.rounded),"label"in M&&t(2,j=M.label),"$$scope"in M&&t(21,p=M.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&12289&&t(19,l=v?_:`${D} cursor-pointer`),n.$$.dirty[0]&1&&t(18,s=v?"bg-white/75":"bg-white"),n.$$.dirty[0]&1&&t(17,i=v?"translate-x-full":""),t(20,a=e.disabled===!0?"opacity-50":"hover:brightness-[105%] dark:hover:brightness-110 cursor-pointer"),t(6,r=`${an} ${L} ${a} ${e.class??""}`),n.$$.dirty[0]&638976&&t(4,u=`${on} ${B} ${L} ${P} ${l}`),n.$$.dirty[0]&425984&&t(3,c=`${un} ${L} ${s} ${i}`)},t(5,o=`${rn}`),e=X(e),[v,A,j,c,u,o,r,J,ue,e,b,k,D,_,B,L,P,i,s,l,a,p,g,Y,Q,te,Se,me,De,Ce,he,H]}class fn extends x{constructor(e){super(),ee(this,e,cn,sn,$,{name:1,checked:0,size:11,background:12,active:13,border:14,rounded:15,label:2},null,[-1,-1])}}const hn=n=>({}),jt=n=>({});function Ht(n){let e,t,l;const s=n[17].panel,i=ve(s,n,n[16],jt);return{c(){e=w("div"),i&&i.c(),this.h()},l(a){e=T(a,"DIV",{class:!0,role:!0,"aria-labelledby":!0,tabindex:!0});var r=S(e);i&&i.l(r),r.forEach(d),this.h()},h(){m(e,"class",t="tab-panel "+n[2]),m(e,"role","tabpanel"),m(e,"aria-labelledby",n[1]),m(e,"tabindex","0")},m(a,r){I(a,e,r),i&&i.m(e,null),l=!0},p(a,r){i&&i.p&&(!l||r&65536)&&ke(i,s,a,a[16],l?we(s,a[16],r,hn):ye(a[16]),jt),(!l||r&4&&t!==(t="tab-panel "+a[2]))&&m(e,"class",t),(!l||r&2)&&m(e,"aria-labelledby",a[1])},i(a){l||(C(i,a),l=!0)},o(a){N(i,a),l=!1},d(a){a&&d(e),i&&i.d(a)}}}function dn(n){let e,t,l,s,i,a,r,o;const u=n[17].default,c=ve(u,n,n[16],null);let h=n[5].panel&&Ht(n);return{c(){e=w("div"),t=w("div"),c&&c.c(),s=z(),h&&h.c(),this.h()},l(f){e=T(f,"DIV",{class:!0,"data-testid":!0});var g=S(e);t=T(g,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var p=S(t);c&&c.l(p),p.forEach(d),s=R(g),h&&h.l(g),g.forEach(d),this.h()},h(){m(t,"class",l="tab-list "+n[3]),m(t,"role","tablist"),m(t,"aria-labelledby",n[0]),m(e,"class",i="tab-group "+n[4]),m(e,"data-testid","tab-group")},m(f,g){I(f,e,g),y(e,t),c&&c.m(t,null),y(e,s),h&&h.m(e,null),a=!0,r||(o=[Z(e,"click",n[18]),Z(e,"keypress",n[19]),Z(e,"keydown",n[20]),Z(e,"keyup",n[21])],r=!0)},p(f,[g]){c&&c.p&&(!a||g&65536)&&ke(c,u,f,f[16],a?we(u,f[16],g,null):ye(f[16]),null),(!a||g&8&&l!==(l="tab-list "+f[3]))&&m(t,"class",l),(!a||g&1)&&m(t,"aria-labelledby",f[0]),f[5].panel?h?(h.p(f,g),g&32&&C(h,1)):(h=Ht(f),h.c(),C(h,1),h.m(e,null)):h&&(Te(),N(h,1,1,()=>{h=null}),Ae()),(!a||g&16&&i!==(i="tab-group "+f[4]))&&m(e,"class",i)},i(f){a||(C(c,f),C(h),a=!0)},o(f){N(c,f),N(h),a=!1},d(f){f&&d(e),c&&c.d(f),h&&h.d(),r=!1,He(o)}}}const mn="space-y-4",_n="flex overflow-x-auto hide-scrollbar",gn="";function pn(n,e,t){let l,s,i,{$$slots:a={},$$scope:r}=e;const o=mt(a);let{justify:u="justify-start"}=e,{border:c="border-b border-surface-400-500-token"}=e,{active:h="border-b-2 border-surface-900-50-token"}=e,{hover:f="hover:variant-soft"}=e,{flex:g="flex-none"}=e,{padding:p="px-4 py-2"}=e,{rounded:b="rounded-tl-container-token rounded-tr-container-token"}=e,{spacing:E="space-y-1"}=e,{regionList:A=""}=e,{regionPanel:v=""}=e,{labelledby:k=""}=e,{panel:D=""}=e;Ye("active",h),Ye("hover",f),Ye("flex",g),Ye("padding",p),Ye("rounded",b),Ye("spacing",E);function _(P){re.call(this,n,P)}function B(P){re.call(this,n,P)}function L(P){re.call(this,n,P)}function j(P){re.call(this,n,P)}return n.$$set=P=>{t(22,e=K(K({},e),X(P))),"justify"in P&&t(6,u=P.justify),"border"in P&&t(7,c=P.border),"active"in P&&t(8,h=P.active),"hover"in P&&t(9,f=P.hover),"flex"in P&&t(10,g=P.flex),"padding"in P&&t(11,p=P.padding),"rounded"in P&&t(12,b=P.rounded),"spacing"in P&&t(13,E=P.spacing),"regionList"in P&&t(14,A=P.regionList),"regionPanel"in P&&t(15,v=P.regionPanel),"labelledby"in P&&t(0,k=P.labelledby),"panel"in P&&t(1,D=P.panel),"$$scope"in P&&t(16,r=P.$$scope)},n.$$.update=()=>{t(4,l=`${mn} ${e.class??""}`),n.$$.dirty&16576&&t(3,s=`${_n} ${u} ${c} ${A}`),n.$$.dirty&32768&&t(2,i=`${gn} ${v}`)},e=X(e),[k,D,i,s,l,o,u,c,h,f,g,p,b,E,A,v,r,a,_,B,L,j]}class bn extends x{constructor(e){super(),ee(this,e,pn,dn,$,{justify:6,border:7,active:8,hover:9,flex:10,padding:11,rounded:12,spacing:13,regionList:14,regionPanel:15,labelledby:0,panel:1})}}const vn=n=>({}),Zt=n=>({});function Mt(n){let e,t;const l=n[22].lead,s=ve(l,n,n[21],Zt);return{c(){e=w("div"),s&&s.c(),this.h()},l(i){e=T(i,"DIV",{class:!0});var a=S(e);s&&s.l(a),a.forEach(d),this.h()},h(){m(e,"class","tab-lead")},m(i,a){I(i,e,a),s&&s.m(e,null),t=!0},p(i,a){s&&s.p&&(!t||a[0]&2097152)&&ke(s,l,i,i[21],t?we(l,i[21],a,vn):ye(i[21]),Zt)},i(i){t||(C(s,i),t=!0)},o(i){N(s,i),t=!1},d(i){i&&d(e),s&&s.d(i)}}}function kn(n){let e,t,l,s,i,a,r,o,u,c,h,f,g,p,b,E=[{type:"radio"},{name:n[1]},{__value:n[2]},n[11](),{tabindex:"-1"}],A={};for(let _=0;_<E.length;_+=1)A=K(A,E[_]);let v=n[12].lead&&Mt(n);const k=n[22].default,D=ve(k,n,n[21],null);return g=Nl(n[30][0]),{c(){e=w("label"),t=w("div"),l=w("div"),s=w("input"),i=z(),a=w("div"),v&&v.c(),r=z(),o=w("div"),D&&D.c(),this.h()},l(_){e=T(_,"LABEL",{class:!0,title:!0});var B=S(e);t=T(B,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0});var L=S(t);l=T(L,"DIV",{class:!0});var j=S(l);s=T(j,"INPUT",{type:!0,name:!0,tabindex:!0}),j.forEach(d),i=R(L),a=T(L,"DIV",{class:!0});var P=S(a);v&&v.l(P),r=R(P),o=T(P,"DIV",{class:!0});var J=S(o);D&&D.l(J),J.forEach(d),P.forEach(d),L.forEach(d),B.forEach(d),this.h()},h(){at(s,A),m(l,"class","h-0 w-0 overflow-hidden"),m(o,"class","tab-label"),m(a,"class",u="tab-interface "+n[8]),m(t,"class",c="tab "+n[7]),m(t,"data-testid","tab"),m(t,"role","tab"),m(t,"aria-controls",n[4]),m(t,"aria-selected",n[5]),m(t,"tabindex",h=n[5]?0:-1),m(e,"class",n[9]),m(e,"title",n[3]),g.p(s)},m(_,B){I(_,e,B),y(e,t),y(t,l),y(l,s),s.autofocus&&s.focus(),n[28](s),s.checked=s.__value===n[0],y(t,i),y(t,a),v&&v.m(a,null),y(a,r),y(a,o),D&&D.m(o,null),f=!0,p||(b=[Z(s,"change",n[29]),Z(s,"click",n[26]),Z(s,"change",n[27]),Z(t,"keydown",n[10]),Z(t,"keydown",n[23]),Z(t,"keyup",n[24]),Z(t,"keypress",n[25])],p=!0)},p(_,B){at(s,A=Pe(E,[{type:"radio"},(!f||B[0]&2)&&{name:_[1]},(!f||B[0]&4)&&{__value:_[2]},_[11](),{tabindex:"-1"}])),B[0]&1&&(s.checked=s.__value===_[0]),_[12].lead?v?(v.p(_,B),B[0]&4096&&C(v,1)):(v=Mt(_),v.c(),C(v,1),v.m(a,r)):v&&(Te(),N(v,1,1,()=>{v=null}),Ae()),D&&D.p&&(!f||B[0]&2097152)&&ke(D,k,_,_[21],f?we(k,_[21],B,null):ye(_[21]),null),(!f||B[0]&256&&u!==(u="tab-interface "+_[8]))&&m(a,"class",u),(!f||B[0]&128&&c!==(c="tab "+_[7]))&&m(t,"class",c),(!f||B[0]&16)&&m(t,"aria-controls",_[4]),(!f||B[0]&32)&&m(t,"aria-selected",_[5]),(!f||B[0]&32&&h!==(h=_[5]?0:-1))&&m(t,"tabindex",h),(!f||B[0]&512)&&m(e,"class",_[9]),(!f||B[0]&8)&&m(e,"title",_[3])},i(_){f||(C(v),C(D,_),f=!0)},o(_){N(v),N(D,_),f=!1},d(_){_&&d(e),n[28](null),v&&v.d(),D&&D.d(_),g.r(),p=!1,He(b)}}}const yn="text-center cursor-pointer transition-colors duration-100",wn="";function Tn(n,e,t){let l,s,i,a,r;const o=["group","name","value","title","controls","regionTab","active","hover","flex","padding","rounded","spacing"];let u=it(e,o),{$$slots:c={},$$scope:h}=e;const f=mt(c);let{group:g}=e,{name:p}=e,{value:b}=e,{title:E=""}=e,{controls:A=""}=e,{regionTab:v=""}=e,{active:k=We("active")}=e,{hover:D=We("hover")}=e,{flex:_=We("flex")}=e,{padding:B=We("padding")}=e,{rounded:L=We("rounded")}=e,{spacing:j=We("spacing")}=e,P;function J(H){if(["Enter","Space"].includes(H.code))H.preventDefault(),P.click();else if(H.code==="ArrowRight"){const M=P.closest(".tab-list");if(!M)return;const O=Array.from(M.querySelectorAll(".tab")),de=P.closest(".tab");if(!de)return;const ce=O.indexOf(de),ge=ce+1>=O.length?0:ce+1,pe=O[ge],be=pe==null?void 0:pe.querySelector("input");pe&&be&&(be.click(),pe.focus())}else if(H.code==="ArrowLeft"){const M=P.closest(".tab-list");if(!M)return;const O=Array.from(M.querySelectorAll(".tab")),de=P.closest(".tab");if(!de)return;const ce=O.indexOf(de),ge=ce-1<0?O.length-1:ce-1,pe=O[ge],be=pe==null?void 0:pe.querySelector("input");pe&&be&&(be.click(),pe.focus())}}function ue(){return delete u.class,u}const Y=[[]];function Q(H){re.call(this,n,H)}function te(H){re.call(this,n,H)}function Se(H){re.call(this,n,H)}function me(H){re.call(this,n,H)}function De(H){re.call(this,n,H)}function Ce(H){Me[H?"unshift":"push"](()=>{P=H,t(6,P)})}function he(){g=this.__value,t(0,g)}return n.$$set=H=>{t(32,e=K(K({},e),X(H))),t(31,u=it(e,o)),"group"in H&&t(0,g=H.group),"name"in H&&t(1,p=H.name),"value"in H&&t(2,b=H.value),"title"in H&&t(3,E=H.title),"controls"in H&&t(4,A=H.controls),"regionTab"in H&&t(13,v=H.regionTab),"active"in H&&t(14,k=H.active),"hover"in H&&t(15,D=H.hover),"flex"in H&&t(16,_=H.flex),"padding"in H&&t(17,B=H.padding),"rounded"in H&&t(18,L=H.rounded),"spacing"in H&&t(19,j=H.spacing),"$$scope"in H&&t(21,h=H.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&5&&t(5,l=b===g),n.$$.dirty[0]&49184&&t(20,s=l?k:D),t(9,i=`${yn} ${_} ${B} ${L} ${s} ${e.class??""}`),n.$$.dirty[0]&524288&&t(8,a=`${wn} ${j}`),n.$$.dirty[0]&8192&&t(7,r=`${v}`)},e=X(e),[g,p,b,E,A,l,P,r,a,i,J,ue,f,v,k,D,_,B,L,j,s,h,c,Q,te,Se,me,De,Ce,he,Y]}class nt extends x{constructor(e){super(),ee(this,e,Tn,kn,$,{group:0,name:1,value:2,title:3,controls:4,regionTab:13,active:14,hover:15,flex:16,padding:17,rounded:18,spacing:19},null,[-1,-1])}}var gt={exports:{}};function cl(){var n=Object.create(null),e=0,t=0,l=0,s=!1;this.put=function(a,r,o,u){if(s&&console.log("caching: %s = %j (@%s)",a,r,o),typeof o<"u"&&(typeof o!="number"||isNaN(o)||o<=0))throw new Error("Cache timeout must be a positive number");if(typeof u<"u"&&typeof u!="function")throw new Error("Cache timeout callback must be a function");var c=n[a];c?clearTimeout(c.timeout):l++;var h={value:r,expire:o+Date.now()};return isNaN(h.expire)||(h.timeout=setTimeout((function(){i(a),u&&u(a,r)}).bind(this),o)),n[a]=h,r},this.del=function(a){var r=!0,o=n[a];return o?(clearTimeout(o.timeout),!isNaN(o.expire)&&o.expire<Date.now()&&(r=!1)):r=!1,r&&i(a),r};function i(a){l--,delete n[a]}this.clear=function(){for(var a in n)clearTimeout(n[a].timeout);l=0,n=Object.create(null),s&&(e=0,t=0)},this.get=function(a){var r=n[a];if(typeof r<"u"){if(isNaN(r.expire)||r.expire>=Date.now())return s&&e++,r.value;s&&t++,l--,delete n[a]}else s&&t++;return null},this.size=function(){return l},this.memsize=function(){var a=0,r;for(r in n)a++;return a},this.debug=function(a){s=a},this.hits=function(){return e},this.misses=function(){return t},this.keys=function(){return Object.keys(n)},this.exportJson=function(){var a={};for(var r in n){var o=n[r];a[r]={value:o.value,expire:o.expire||"NaN"}}return JSON.stringify(a)},this.importJson=function(a,r){var o=JSON.parse(a),u=Date.now(),c=r&&r.skipDuplicates;for(var h in o)if(o.hasOwnProperty(h)){if(c){var f=n[h];if(f){s&&console.log("Skipping duplicate imported key '%s'",h);continue}}var g=o[h],p=g.expire-u;if(p<=0){this.del(h);continue}p=p>0?p:void 0,this.put(h,g.value,p)}return this.size()}}gt.exports=new cl;gt.exports.Cache=cl;var An=gt.exports;const Ut=yl(An);class fl{constructor(e,t){this.cacheName=e,this.ttl=t}get(e){return Ut.get(this.buildKey(e))}buildKey(e){return this.cacheName+"~"+e}put(e,t){Ut.put(this.buildKey(e),t,this.ttl)}}const pt=wl.extend("api-query"),Vt=new fl("ARTIST",3600*1e3),Ft=new fl("ARTIST-DISCOGRAPHY",3600*1e3);async function En(n){pt("getDeezerArtist "+n);const e=Vt.get(n);if(e)return e;const t=await Xe({apiPath:"/artist/"+n});return Vt.put(n,t),t}async function hl(n){return pt("getAlbumTracks "+n),await ht({apiPath:"/album/"+n+"/tracks",index:0,limit:100})}async function dl(n){pt("getDeezerArtistDiscography "+n);const e=Ft.get(n);if(e)return e;const t=await ht({apiPath:"/artist/"+n+"/albums",index:0,limit:100}),l=await Promise.all(t.data.map(async s=>{const i=await hl(s.id);return{...s,tracks:i.data}}));return Ft.put(n,l),l}const Pn=!1;async function Sn(n){if(n==="NEW"){const e=new Date().toISOString(),t=await Xe({apiPath:"/user/me/playlists",searchParams:{request_method:"POST",title:`New Playlist ${e}`,description:`Playlist created with deezer-artist-playlist-organizer on the ${e}`,public:!0}});throw Tl(302,"./"+t.id)}return n}async function Cn({params:n}){const e=await Sn(n.id),t=await Xe({apiPath:`/playlist/${e}`}),l=t.tracks.data.reduce((a,r)=>(a[r.artist.id]||(a[r.artist.id]={artist:r.artist,count:0}),a[r.artist.id].count++,a),{}),s=Object.values(l).sort((a,r)=>r.count-a.count);if(t.nb_tracks>400){const a=await ht({apiPath:`/playlist/${e}/tracks`,limit:100,index:t.tracks.data.length});t.tracks.data=[...t.tracks.data,...a.data]}const i=Promise.all(s.map(async a=>await En(a.artist.id)));return{playlist:t,topArtists:i}}const li=Object.freeze(Object.defineProperty({__proto__:null,load:Cn,ssr:Pn},Symbol.toStringTag,{value:"Module"}));async function Bn(n,e,t){const l=n.filter(a=>a.selected&&a.track.readable).length,s=n.filter(a=>a.selected&&!a.track.readable);for(let a=0;a<s.length;a++){const r=s[a];t.set({message:`trying to fix track ${a} / ${s.length}`,value:a,max:s.length});const o=r.track,u=await Nn(o,e);if(u){console.log("adding alternative to "+r.track.id+" : "+u.title),r.selected=!1;const c=n.indexOf(r);n.splice(c+1,0,{selected:!0,inPlaylist:!1,track:u})}}const i=n.filter(a=>a.selected&&a.track.readable).length;e.trigger({message:`Reattached ${i-l} track(s) to readable equivalents.<br/>(${n.filter(a=>a.selected).length-i} unreadable track remaining)`,timeout:1e4})}async function Nn(n,e){const t=await dl(n.artist.id);if(!t){e.trigger({message:`Could not find artist ${n.artist.name}`,timeout:3e3});return}const l=t.flatMap(a=>{const{tracks:r,...o}=a;return a.tracks.map(u=>({...u,album:o}))}).filter(a=>a.id!==n.id&&a.readable),s={sensitivity:"base",ignorePunctuation:!0,numeric:!1,usage:"search"},i=l.filter(a=>a.title.localeCompare(n.title,void 0,s)===0);switch(i.length){case 0:console.log("no match by title",{unreadableTrack:n}),e.trigger({message:`Could not find matching track for '${n.title}' in album '${n.album.title}' by '${n.artist.name}'`,timeout:3e3});return;case 1:return i[0];default:{const a=Object.values(i.reduce((o,u)=>(o[u.isrc]=u,o),{}));if(a.length===1)return a[0];const r=i.filter(o=>o.album.title.localeCompare(n.album.title,void 0,s)===0);switch(r.length){case 0:console.log("no match by title and album",{unreadableTrack:n}),e.trigger({message:`Could not find matching track for '${n.title}' in album '${n.album.title}' by '${n.artist.name}'`,timeout:3e3});return;case 1:return r[0];default:{const o=Object.values(r.reduce((u,c)=>(u[c.isrc]=c,u),{}));if(o.length===1)return o[0];console.log("multiple match by title",{unreadableTrack:n,matchingTracksByTitleAndAlbum:r}),e.trigger({message:`Found multiple matching tracks for '${n.title}' in album '${n.album.title}' : ${r.map(u=>u.id)}`,timeout:3e3});return}}}}}function qt(n,e,t){const l=n.slice();return l[37]=e[t],l}const In=n=>({option:n[0]&16512,classesButton:n[0]&512}),Kt=n=>({option:n[37],classesButton:n[9],onSelection:n[15]});function Dn(n){let e,t,l;return{c(){e=w("div"),t=le(n[1]),this.h()},l(s){e=T(s,"DIV",{class:!0});var i=S(e);t=ne(i,n[1]),i.forEach(d),this.h()},h(){m(e,"class",l="autocomplete-empty "+n[8])},m(s,i){I(s,e,i),y(e,t)},p(s,i){i[0]&2&&Be(t,s[1]),i[0]&256&&l!==(l="autocomplete-empty "+s[8])&&m(e,"class",l)},i:G,o:G,d(s){s&&d(e)}}}function On(n){let e,t,l=[],s=new Map,i,a,r,o=Ve(n[7].slice(0,n[14]));const u=c=>c[37];for(let c=0;c<o.length;c+=1){let h=qt(n,o,c),f=u(h);s.set(f,l[c]=Gt(f,h))}return{c(){e=w("nav"),t=w("ul");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=T(c,"NAV",{class:!0});var h=S(e);t=T(h,"UL",{class:!0});var f=S(t);for(let g=0;g<l.length;g+=1)l[g].l(f);f.forEach(d),h.forEach(d),this.h()},h(){m(t,"class",i="autocomplete-list "+n[11]),m(e,"class",a="autocomplete-nav "+n[12])},m(c,h){I(c,e,h),y(e,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);r=!0},p(c,h){h[0]&134268644&&(o=Ve(c[7].slice(0,c[14])),Te(),l=El(l,h,u,1,c,o,s,t,Pl,Gt,null,qt),Ae()),(!r||h[0]&2048&&i!==(i="autocomplete-list "+c[11]))&&m(t,"class",i),(!r||h[0]&4096&&a!==(a="autocomplete-nav "+c[12]))&&m(e,"class",a)},i(c){if(!r){for(let h=0;h<o.length;h+=1)C(l[h]);r=!0}},o(c){for(let h=0;h<l.length;h+=1)N(l[h]);r=!1},d(c){c&&d(e);for(let h=0;h<l.length;h+=1)l[h].d()}}}function Ln(n){let e,t,l=n[37].label+"",s,i,a;function r(){return n[31](n[37])}return{c(){e=w("button"),t=new Ne(!1),this.h()},l(o){e=T(o,"BUTTON",{class:!0,type:!0});var u=S(e);t=Ie(u,!1),u.forEach(d),this.h()},h(){t.a=null,m(e,"class",s="autocomplete-button "+n[9]),m(e,"type","button")},m(o,u){I(o,e,u),t.m(l,e),i||(a=[Z(e,"click",r),Z(e,"click",n[29]),Z(e,"keypress",n[30])],i=!0)},p(o,u){n=o,u[0]&16512&&l!==(l=n[37].label+"")&&t.p(l),u[0]&512&&s!==(s="autocomplete-button "+n[9])&&m(e,"class",s)},d(o){o&&d(e),i=!1,He(a)}}}function Gt(n,e){let t,l,s,i,a,r;const o=e[28].optionButton,u=ve(o,e,e[27],Kt),c=u||Ln(e);return{key:n,first:null,c(){t=w("li"),c&&c.c(),l=z(),this.h()},l(h){t=T(h,"LI",{class:!0});var f=S(t);c&&c.l(f),l=R(f),f.forEach(d),this.h()},h(){m(t,"class",s="autocomplete-item "+e[10]),this.first=t},m(h,f){I(h,t,f),c&&c.m(t,null),y(t,l),r=!0},p(h,f){e=h,u?u.p&&(!r||f[0]&134234752)&&ke(u,o,e,e[27],r?we(o,e[27],f,In):ye(e[27]),Kt):c&&c.p&&(!r||f[0]&17024)&&c.p(e,r?f:[-1,-1]),(!r||f[0]&1024&&s!==(s="autocomplete-item "+e[10]))&&m(t,"class",s)},i(h){r||(C(c,h),h&&Il(()=>{r&&(a&&a.end(1),i=Ll(t,e[0],{transition:e[3],params:e[4],enabled:e[2]}),i.start())}),r=!0)},o(h){N(c,h),i&&i.invalidate(),h&&(a=zl(t,e[0],{transition:e[5],params:e[6],enabled:e[2]})),r=!1},d(h){h&&d(t),c&&c.d(h),h&&a&&a.end()}}}function zn(n){let e,t,l,s,i;const a=[On,Dn],r=[];function o(u,c){return u[7].length>0?0:1}return t=o(n),l=r[t]=a[t](n),{c(){e=w("div"),l.c(),this.h()},l(u){e=T(u,"DIV",{class:!0,"data-testid":!0});var c=S(e);l.l(c),c.forEach(d),this.h()},h(){m(e,"class",s="autocomplete "+n[13]),m(e,"data-testid","autocomplete")},m(u,c){I(u,e,c),r[t].m(e,null),i=!0},p(u,c){let h=t;t=o(u),t===h?r[t].p(u,c):(Te(),N(r[h],1,1,()=>{r[h]=null}),Ae(),l=r[t],l?l.p(u,c):(l=r[t]=a[t](u),l.c()),C(l,1),l.m(e,null)),(!i||c[0]&8192&&s!==(s="autocomplete "+u[13]))&&m(e,"class",s)},i(u){i||(C(l),i=!0)},o(u){N(l),i=!1},d(u){u&&d(e),r[t].d()}}}function ml(n,e){const{transition:t,params:l,enabled:s}=e;return s?t(n,l):"duration"in l?t(n,{duration:0}):{duration:0}}function Rn(n,e,t){let l,s,i,a,r,o,u,c,h,f;xe(n,Al,O=>t(32,f=O));let{$$slots:g={},$$scope:p}=e;const b=lt();let{input:E=void 0}=e,{options:A=[]}=e,{limit:v=void 0}=e,{allowlist:k=[]}=e,{denylist:D=[]}=e,{emptyState:_="No Results Found."}=e,{regionNav:B=""}=e,{regionList:L="list-nav"}=e,{regionItem:j=""}=e,{regionButton:P="w-full"}=e,{regionEmpty:J="text-center"}=e,{transitions:ue=!f}=e,{transitionIn:Y=St}=e,{transitionInParams:Q={duration:200}}=e,{transitionOut:te=St}=e,{transitionOutParams:Se={duration:200}}=e;function me(O,de){let ce=[...A];O.length&&(ce=ce.filter(ge=>O.includes(ge.value))),de.length&&(ce=ce.filter(ge=>!de.includes(ge.value))),!O.length&&!de.length&&(ce=A),t(26,l=ce)}function De(){let O=[...l];return O=O.filter(de=>{const ce=String(E).toLowerCase().trim();if(JSON.stringify([de.label,de.value,de.keywords]).toLowerCase().includes(ce))return de}),O}function Ce(O){b("selection",O)}function he(O){re.call(this,n,O)}function H(O){re.call(this,n,O)}const M=O=>Ce(O);return n.$$set=O=>{t(36,e=K(K({},e),X(O))),"input"in O&&t(16,E=O.input),"options"in O&&t(17,A=O.options),"limit"in O&&t(18,v=O.limit),"allowlist"in O&&t(19,k=O.allowlist),"denylist"in O&&t(20,D=O.denylist),"emptyState"in O&&t(1,_=O.emptyState),"regionNav"in O&&t(21,B=O.regionNav),"regionList"in O&&t(22,L=O.regionList),"regionItem"in O&&t(23,j=O.regionItem),"regionButton"in O&&t(24,P=O.regionButton),"regionEmpty"in O&&t(25,J=O.regionEmpty),"transitions"in O&&t(2,ue=O.transitions),"transitionIn"in O&&t(3,Y=O.transitionIn),"transitionInParams"in O&&t(4,Q=O.transitionInParams),"transitionOut"in O&&t(5,te=O.transitionOut),"transitionOutParams"in O&&t(6,Se=O.transitionOutParams),"$$scope"in O&&t(27,p=O.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&131072&&t(26,l=A),n.$$.dirty[0]&1572864&&me(k,D),n.$$.dirty[0]&67174400&&t(7,s=E?De():l),n.$$.dirty[0]&262272&&t(14,i=v!==void 0?v:s.length),t(13,a=`${e.class??""}`),n.$$.dirty[0]&2097152&&t(12,r=`${B}`),n.$$.dirty[0]&4194304&&t(11,o=`${L}`),n.$$.dirty[0]&8388608&&t(10,u=`${j}`),n.$$.dirty[0]&16777216&&t(9,c=`${P}`),n.$$.dirty[0]&33554432&&t(8,h=`${J}`)},e=X(e),[ml,_,ue,Y,Q,te,Se,s,h,c,u,o,r,a,i,Ce,E,A,v,k,D,B,L,j,P,J,l,p,g,he,H,M]}class jn extends x{constructor(e){super(),ee(this,e,Rn,zn,$,{dynamicTransition:0,input:16,options:17,limit:18,allowlist:19,denylist:20,emptyState:1,regionNav:21,regionList:22,regionItem:23,regionButton:24,regionEmpty:25,transitions:2,transitionIn:3,transitionInParams:4,transitionOut:5,transitionOutParams:6},null,[-1,-1])}get dynamicTransition(){return ml}}function Hn(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm52-84a12 12 0 0 1-12 12h-28v28a12 12 0 0 1-24 0v-28H88a12 12 0 0 1 0-24h28V88a12 12 0 0 1 24 0v28h28a12 12 0 0 1 12 12Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=K(i,s[a]);return{c(){e=Le("svg"),t=new Ne(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ie(r,!0),r.forEach(d),this.h()},h(){t.a=null,ae(e,i)},m(a,r){I(a,e,r),t.m(l,e)},p(a,[r]){ae(e,i=Pe(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&d(e)}}}function Zn(n,e,t){return n.$$set=l=>{t(0,e=K(K({},e),X(l)))},e=X(e),[e]}class bt extends x{constructor(e){super(),ee(this,e,Zn,Hn,$,{})}}function Mn(n){let e,t,l,s,i,a=n[0].name+"",r,o,u,c,h=n[0].nb_album+"",f,g,p,b,E,A,v,k,D,_;return A=new bt({}),{c(){e=w("span"),t=w("span"),l=w("img"),i=z(),r=le(a),o=z(),u=w("span"),c=w("small"),f=le(h),g=le(" albums"),p=z(),b=w("span"),E=w("button"),U(A.$$.fragment),this.h()},l(B){e=T(B,"SPAN",{class:!0});var L=S(e);t=T(L,"SPAN",{class:!0});var j=S(t);l=T(j,"IMG",{src:!0,alt:!0,class:!0}),i=R(j),r=ne(j,a),j.forEach(d),o=R(L),u=T(L,"SPAN",{class:!0});var P=S(u);c=T(P,"SMALL",{});var J=S(c);f=ne(J,h),g=ne(J," albums"),J.forEach(d),P.forEach(d),p=R(L),b=T(L,"SPAN",{class:!0});var ue=S(b);E=T(ue,"BUTTON",{class:!0,title:!0});var Y=S(E);V(A.$$.fragment,Y),Y.forEach(d),ue.forEach(d),L.forEach(d),this.h()},h(){je(l.src,s=n[0].picture_small)||m(l,"src",s),m(l,"alt","artist"),m(l,"class","mx-2"),m(t,"class","flex items-center w-1/3"),m(u,"class","w-1/4"),m(E,"class","!p-0"),m(E,"title","add all artist titles to the playlist"),m(b,"class","btn-group-vertical btn btn-sm gap-y-1"),m(e,"class",v="flex justify-between w-full items-center py-1 "+n[1])},m(B,L){I(B,e,L),y(e,t),y(t,l),y(t,i),y(t,r),y(e,o),y(e,u),y(u,c),y(c,f),y(c,g),y(e,p),y(e,b),y(b,E),F(A,E,null),k=!0,D||(_=[Z(E,"click",n[2]),Z(E,"pointerenter",n[3]),Z(E,"pointerleave",n[4])],D=!0)},p(B,[L]){(!k||L&1&&!je(l.src,s=B[0].picture_small))&&m(l,"src",s),(!k||L&1)&&a!==(a=B[0].name+"")&&Be(r,a),(!k||L&1)&&h!==(h=B[0].nb_album+"")&&Be(f,h),(!k||L&2&&v!==(v="flex justify-between w-full items-center py-1 "+B[1]))&&m(e,"class",v)},i(B){k||(C(A.$$.fragment,B),k=!0)},o(B){N(A.$$.fragment,B),k=!1},d(B){B&&d(e),q(A),D=!1,He(_)}}}function Un(n,e,t){let{artist:l}=e,s="";function i(o){re.call(this,n,o)}const a=()=>t(1,s="variant-ghost-success"),r=()=>t(1,s="");return n.$$set=o=>{"artist"in o&&t(0,l=o.artist)},[l,s,i,a,r]}class Vn extends x{constructor(e){super(),ee(this,e,Un,Mn,$,{artist:0})}}function Fn(n){let e,t;function l(){return n[6](n[8])}return e=new Vn({props:{artist:n[8].meta}}),e.$on("click",l),{c(){U(e.$$.fragment)},l(s){V(e.$$.fragment,s)},m(s,i){F(e,s,i),t=!0},p(s,i){n=s;const a={};i&256&&(a.artist=n[8].meta),e.$set(a)},i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){N(e.$$.fragment,s),t=!1},d(s){q(e,s)}}}function qn(n){let e,t,l,s,i,a,r,o,u;function c(f){n[7](f)}let h={options:n[1],$$slots:{optionButton:[Fn,({option:f})=>({8:f}),({option:f})=>f?256:0]},$$scope:{ctx:n}};return n[0]!==void 0&&(h.input=n[0]),i=new jn({props:h}),Me.push(()=>Je(i,"input",c)),{c(){e=w("span"),t=w("input"),l=z(),s=w("span"),U(i.$$.fragment),this.h()},l(f){e=T(f,"SPAN",{class:!0});var g=S(e);t=T(g,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),l=R(g),s=T(g,"SPAN",{class:!0,tabindex:!0});var p=S(s);V(i.$$.fragment,p),p.forEach(d),g.forEach(d),this.h()},h(){m(t,"class","input"),m(t,"type","search"),m(t,"name","demo"),m(t,"placeholder","Search..."),m(s,"class","card w-full max-h-fit p-4 overflow-y-auto inline-block"),m(s,"tabindex","-1"),m(e,"class","my-4")},m(f,g){I(f,e,g),y(e,t),Ue(t,n[0]),y(e,l),y(e,s),F(i,s,null),r=!0,o||(u=Z(t,"input",n[5]),o=!0)},p(f,[g]){g&1&&t.value!==f[0]&&Ue(t,f[0]);const p={};g&2&&(p.options=f[1]),g&768&&(p.$$scope={dirty:g,ctx:f}),!a&&g&1&&(a=!0,p.input=f[0],Ge(()=>a=!1)),i.$set(p)},i(f){r||(C(i.$$.fragment,f),r=!0)},o(f){N(i.$$.fragment,f),r=!1},d(f){f&&d(e),q(i),o=!1,u()}}}function Kn(n,e,t){let l,s;const i=st("");xe(n,i,h=>t(0,l=h));const a=lt(),r=kl(i,(h,f)=>{if(!h){f([]);return}Xe({apiPath:"/search/artist",searchParams:{q:h}}).then(g=>{const p=g.data.map(b=>({label:`<span class="flex justify-between w-full items-center">
<span class="flex items-center"> <img src="${b.picture_small}" class="mx-2"/>${b.name}</span>
 <button class="btn-icon btn-icon-sm variant-outline-tertiary" title="add all artist titles to the playlist">add</button></span>`,value:b.id,meta:b}));f(p)})});xe(n,r,h=>t(1,s=h));function o(){l=this.value,i.set(l)}const u=h=>a("artistSelection",h.meta);function c(h){l=h,i.set(l)}return[l,s,i,a,r,o,u,c]}class Gn extends x{constructor(e){super(),ee(this,e,Kn,qn,$,{})}}function Jn(n){let e,t,l='<path fill="currentColor" d="M128 128a12 12 0 0 1-12 12H48a12 12 0 0 1 0-24h68a12 12 0 0 1 12 12ZM48 76h132a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm52 104H48a12 12 0 0 0 0 24h52a12 12 0 0 0 0-24Zm132.49-20.49a12 12 0 0 0-17 0L196 179v-67a12 12 0 0 0-24 0v67l-19.51-19.52a12 12 0 0 0-17 17l40 40a12 12 0 0 0 17 0l40-40a12 12 0 0 0 0-16.97Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=K(i,s[a]);return{c(){e=Le("svg"),t=new Ne(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ie(r,!0),r.forEach(d),this.h()},h(){t.a=null,ae(e,i)},m(a,r){I(a,e,r),t.m(l,e)},p(a,[r]){ae(e,i=Pe(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&d(e)}}}function Yn(n,e,t){return n.$$set=l=>{t(0,e=K(K({},e),X(l)))},e=X(e),[e]}class Wn extends x{constructor(e){super(),ee(this,e,Yn,Jn,$,{})}}function Xn(n){let e,t,l='<path fill="currentColor" d="M36 128a12 12 0 0 1 12-12h68a12 12 0 0 1 0 24H48a12 12 0 0 1-12-12Zm12-52h52a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm132 104H48a12 12 0 0 0 0 24h132a12 12 0 0 0 0-24Zm52.49-100.49l-40-40a12 12 0 0 0-17 0l-40 40a12 12 0 0 0 17 17L172 77v67a12 12 0 0 0 24 0V77l19.51 19.52a12 12 0 0 0 17-17Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=K(i,s[a]);return{c(){e=Le("svg"),t=new Ne(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ie(r,!0),r.forEach(d),this.h()},h(){t.a=null,ae(e,i)},m(a,r){I(a,e,r),t.m(l,e)},p(a,[r]){ae(e,i=Pe(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&d(e)}}}function Qn(n,e,t){return n.$$set=l=>{t(0,e=K(K({},e),X(l)))},e=X(e),[e]}class $n extends x{constructor(e){super(),ee(this,e,Qn,Xn,$,{})}}function _l(n,e){e.update(t=>(t.forEach(l=>{l.track.artist.id===n&&(l.selected=!1)}),t))}async function vt(n,e){const t=await dl(n);e.update(l=>{const s=t.sort((a,r)=>a.release_date.localeCompare(r.release_date)).flatMap(a=>{const{tracks:r,...o}=a;return a.tracks.map(u=>({...u,album:o}))});s.forEach(a=>{const r=l.find(o=>o.track.id===a.id);r?(r.track.album=a.album,r.selected=!0):l.push({track:a,inPlaylist:!1,selected:!0})});function i(a){return s.findIndex(r=>r.id===a.track.id)}return l.sort((a,r)=>{const o=i(a),u=i(r);return o-u}),l})}function xn(n,e){e.update(t=>(t.forEach(l=>{l.track.album.id===n&&(l.selected=!1)}),t))}async function es(n,e){const t=await hl(n.id);e.update(l=>{t.data.forEach(o=>{const u=l.find(c=>c.track.id===o.id);o.album=n,u?(u.track.album=o.album,u.selected=!0):l.push({track:o,inPlaylist:!1,selected:!0})});function s(o){return t.data.findIndex(u=>u.id===o.track.id)+1}function i(o){return l.findIndex(u=>u.track.id===o.track.id)+1}const a=l.findIndex(o=>o.track.album.id===n.id);function r(o){const u=s(o);return u===0?i(o)*1e4:a*1e4+u}return console.log({startIndex:a}),l.sort((o,u)=>{const c=a*1e4+r(o),h=a*1e4+r(u);return c-h}),l})}function ft(n,e){return e.filter(t=>t.track.artist.id===n&&t.selected).length}function ts(n,e){const t=n.filter(l=>l.selected||l.inPlaylist);return e.trigger({message:`Removed ${n.length-t.length} track(s) from the playlist`,timeout:3e3}),t}function ls(n,e,t){const l=e.ascending?1:-1,s=(o,u)=>ft(o.id,t)-ft(u.id,t),i=(o,u)=>o.name.localeCompare(u.name),a=(o,u)=>(c,h)=>{const f=o(c,h);return f===0?u(c,h):f};return n.sort((o,u)=>{switch(e.orderBy){case"trackCount":return l*a(s,i)(o,u);case"alphabetical":return l*a(i,s)(o,u)}})}function ns(n){let e,t,l='<path fill="currentColor" d="M180 128a12 12 0 0 1-12 12H88a12 12 0 0 1 0-24h80a12 12 0 0 1 12 12Zm56 0A108 108 0 1 1 128 20a108.12 108.12 0 0 1 108 108Zm-24 0a84 84 0 1 0-84 84a84.09 84.09 0 0 0 84-84Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=K(i,s[a]);return{c(){e=Le("svg"),t=new Ne(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ie(r,!0),r.forEach(d),this.h()},h(){t.a=null,ae(e,i)},m(a,r){I(a,e,r),t.m(l,e)},p(a,[r]){ae(e,i=Pe(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&d(e)}}}function ss(n,e,t){return n.$$set=l=>{t(0,e=K(K({},e),X(l)))},e=X(e),[e]}class gl extends x{constructor(e){super(),ee(this,e,ss,ns,$,{})}}function as(n){let e,t,l,s,i,a=n[0].name+"",r;return{c(){e=w("img"),s=z(),i=w("span"),r=le(a),this.h()},l(o){e=T(o,"IMG",{src:!0,alt:!0}),s=R(o),i=T(o,"SPAN",{});var u=S(i);r=ne(u,a),u.forEach(d),this.h()},h(){je(e.src,t=n[0].picture_small)||m(e,"src",t),m(e,"alt",l=n[0].name)},m(o,u){I(o,e,u),I(o,s,u),I(o,i,u),y(i,r)},p(o,u){u&1&&!je(e.src,t=o[0].picture_small)&&m(e,"src",t),u&1&&l!==(l=o[0].name)&&m(e,"alt",l),u&1&&a!==(a=o[0].name+"")&&Be(r,a)},d(o){o&&(d(e),d(s),d(i))}}}function is(n){let e,t,l,s,i,a,r,o,u,c,h,f,g,p,b=n[0].nb_album+"",E,A,v,k,D,_,B,L,j,P,J,ue;return s=new tt({props:{$$slots:{default:[as]},$$scope:{ctx:n}}}),_=new bt({}),j=new gl({}),{c(){e=w("li"),t=w("span"),l=w("a"),U(s.$$.fragment),a=z(),r=w("span"),o=w("small"),u=le(n[4]),c=le(" tracks in playlist"),f=z(),g=w("span"),p=w("small"),E=le(b),A=le(" albums"),v=z(),k=w("div"),D=w("button"),U(_.$$.fragment),B=z(),L=w("button"),U(j.$$.fragment),this.h()},l(Y){e=T(Y,"LI",{});var Q=S(e);t=T(Q,"SPAN",{class:!0});var te=S(t);l=T(te,"A",{href:!0,title:!0,class:!0});var Se=S(l);V(s.$$.fragment,Se),Se.forEach(d),a=R(te),r=T(te,"SPAN",{class:!0});var me=S(r);o=T(me,"SMALL",{title:!0});var De=S(o);u=ne(De,n[4]),c=ne(De," tracks in playlist"),De.forEach(d),me.forEach(d),f=R(te),g=T(te,"SPAN",{class:!0});var Ce=S(g);p=T(Ce,"SMALL",{});var he=S(p);E=ne(he,b),A=ne(he," albums"),he.forEach(d),Ce.forEach(d),v=R(te),k=T(te,"DIV",{class:!0});var H=S(k);D=T(H,"BUTTON",{class:!0,title:!0});var M=S(D);V(_.$$.fragment,M),M.forEach(d),B=R(H),L=T(H,"BUTTON",{class:!0,title:!0});var O=S(L);V(j.$$.fragment,O),O.forEach(d),H.forEach(d),te.forEach(d),Q.forEach(d),this.h()},h(){m(l,"href",i=n[0].link),m(l,"title","open artist in Deezer web interface"),m(l,"class","w-1/3"),m(o,"title",h="artist has "+n[4]+" tracks in the playlist "),m(r,"class","w-1/4"),m(g,"class","w-1/4"),m(D,"class","!p-0"),m(D,"title","add all artist titles to the playlist"),m(L,"class","!p-0"),m(L,"title","deselect all artist titles from the playlist"),fe(L,"text-gray-500",n[4]===0),m(k,"class","btn-group-vertical btn btn-sm gap-y-1"),m(t,"class","flex flex-row justify-between w-full items-center gap-x-2"),fe(e,"variant-ghost-success",n[2]),fe(e,"variant-ghost-error",n[3])},m(Y,Q){I(Y,e,Q),y(e,t),y(t,l),F(s,l,null),y(t,a),y(t,r),y(r,o),y(o,u),y(o,c),y(t,f),y(t,g),y(g,p),y(p,E),y(p,A),y(t,v),y(t,k),y(k,D),F(_,D,null),y(k,B),y(k,L),F(j,L,null),P=!0,J||(ue=[Z(D,"mouseenter",n[6]),Z(D,"mouseleave",n[7]),Z(D,"click",n[8]),Z(L,"mouseenter",n[9]),Z(L,"mouseleave",n[10]),Z(L,"click",n[11])],J=!0)},p(Y,[Q]){const te={};Q&4097&&(te.$$scope={dirty:Q,ctx:Y}),s.$set(te),(!P||Q&1&&i!==(i=Y[0].link))&&m(l,"href",i),(!P||Q&16)&&Be(u,Y[4]),(!P||Q&16&&h!==(h="artist has "+Y[4]+" tracks in the playlist "))&&m(o,"title",h),(!P||Q&1)&&b!==(b=Y[0].nb_album+"")&&Be(E,b),(!P||Q&16)&&fe(L,"text-gray-500",Y[4]===0),(!P||Q&4)&&fe(e,"variant-ghost-success",Y[2]),(!P||Q&8)&&fe(e,"variant-ghost-error",Y[3])},i(Y){P||(C(s.$$.fragment,Y),C(_.$$.fragment,Y),C(j.$$.fragment,Y),P=!0)},o(Y){N(s.$$.fragment,Y),N(_.$$.fragment,Y),N(j.$$.fragment,Y),P=!1},d(Y){Y&&d(e),q(s),q(_),q(j),J=!1,He(ue)}}}function rs(n,e,t){let l,s,i=G,a=()=>(i(),i=et(o,A=>t(5,s=A)),o);n.$$.on_destroy.push(()=>i());let{topArtist:r}=e,{trackSelections:o}=e;a();let u=!1,c=!1;const h=()=>t(2,u=!0),f=()=>t(2,u=!1),g=()=>vt(r.id,o),p=()=>t(3,c=!0),b=()=>t(3,c=!1),E=()=>_l(r.id,o);return n.$$set=A=>{"topArtist"in A&&t(0,r=A.topArtist),"trackSelections"in A&&a(t(1,o=A.trackSelections))},n.$$.update=()=>{n.$$.dirty&33&&t(4,l=ft(r.id,s)),n.$$.dirty&5&&console.log({addHover:u,topArtist:r})},[r,o,u,c,l,s,h,f,g,p,b,E]}class os extends x{constructor(e){super(),ee(this,e,rs,is,$,{topArtist:0,trackSelections:1})}}function Jt(n,e,t){const l=n.slice();return l[10]=e[t],l}function Yt(n){let e,t,l,s,i,a,r;t=new tt({props:{$$slots:{default:[us]},$$scope:{ctx:n}}}),s=new tt({props:{$$slots:{default:[ms]},$$scope:{ctx:n}}});let o=Ve(n[3]),u=[];for(let h=0;h<o.length;h+=1)u[h]=Wt(Jt(n,o,h));const c=h=>N(u[h],1,1,()=>{u[h]=null});return{c(){e=w("span"),U(t.$$.fragment),l=z(),U(s.$$.fragment),i=z(),a=w("ul");for(let h=0;h<u.length;h+=1)u[h].c();this.h()},l(h){e=T(h,"SPAN",{class:!0});var f=S(e);V(t.$$.fragment,f),l=R(f),V(s.$$.fragment,f),f.forEach(d),i=R(h),a=T(h,"UL",{class:!0});var g=S(a);for(let p=0;p<u.length;p+=1)u[p].l(g);g.forEach(d),this.h()},h(){m(e,"class","flex justify-between w-full items-center gap-x-2 my-4"),m(a,"class","list")},m(h,f){I(h,e,f),F(t,e,null),y(e,l),F(s,e,null),I(h,i,f),I(h,a,f);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(a,null);r=!0},p(h,f){const g={};f&8192&&(g.$$scope={dirty:f,ctx:h}),t.$set(g);const p={};if(f&8193&&(p.$$scope={dirty:f,ctx:h}),s.$set(p),f&12){o=Ve(h[3]);let b;for(b=0;b<o.length;b+=1){const E=Jt(h,o,b);u[b]?(u[b].p(E,f),C(u[b],1)):(u[b]=Wt(E),u[b].c(),C(u[b],1),u[b].m(a,null))}for(Te(),b=o.length;b<u.length;b+=1)c(b);Ae()}},i(h){if(!r){C(t.$$.fragment,h),C(s.$$.fragment,h);for(let f=0;f<o.length;f+=1)C(u[f]);r=!0}},o(h){N(t.$$.fragment,h),N(s.$$.fragment,h),u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)N(u[f]);r=!1},d(h){h&&(d(e),d(i),d(a)),q(t),q(s),dt(u,h)}}}function us(n){let e,t="Playlists Artists";return{c(){e=w("h4"),e.textContent=t},l(l){e=T(l,"H4",{"data-svelte-h":!0}),_e(e)!=="svelte-1fedd7v"&&(e.textContent=t)},m(l,s){I(l,e,s)},p:G,d(l){l&&d(e)}}}function cs(n){let e,t="alphabetical",l,s;return{c(){e=w("button"),e.textContent=t},l(i){e=T(i,"BUTTON",{"data-svelte-h":!0}),_e(e)!=="svelte-a0poae"&&(e.textContent=t)},m(i,a){I(i,e,a),l||(s=Z(e,"click",n[6]),l=!0)},p:G,d(i){i&&d(e),l=!1,s()}}}function fs(n){let e,t="# tracks",l,s;return{c(){e=w("button"),e.textContent=t},l(i){e=T(i,"BUTTON",{"data-svelte-h":!0}),_e(e)!=="svelte-ms1gv1"&&(e.textContent=t)},m(i,a){I(i,e,a),l||(s=Z(e,"click",n[5]),l=!0)},p:G,d(i){i&&d(e),l=!1,s()}}}function hs(n){let e,t,l,s,i;return t=new $n({}),{c(){e=w("button"),U(t.$$.fragment)},l(a){e=T(a,"BUTTON",{});var r=S(e);V(t.$$.fragment,r),r.forEach(d)},m(a,r){I(a,e,r),F(t,e,null),l=!0,s||(i=Z(e,"click",n[8]),s=!0)},p:G,i(a){l||(C(t.$$.fragment,a),l=!0)},o(a){N(t.$$.fragment,a),l=!1},d(a){a&&d(e),q(t),s=!1,i()}}}function ds(n){let e,t,l,s,i;return t=new Wn({}),{c(){e=w("button"),U(t.$$.fragment)},l(a){e=T(a,"BUTTON",{});var r=S(e);V(t.$$.fragment,r),r.forEach(d)},m(a,r){I(a,e,r),F(t,e,null),l=!0,s||(i=Z(e,"click",n[7]),s=!0)},p:G,i(a){l||(C(t.$$.fragment,a),l=!0)},o(a){N(t.$$.fragment,a),l=!1},d(a){a&&d(e),q(t),s=!1,i()}}}function ms(n){let e,t,l,s,i;function a(f,g){if(f[0].orderBy==="trackCount")return fs;if(f[0].orderBy==="alphabetical")return cs}let r=a(n),o=r&&r(n);const u=[ds,hs],c=[];function h(f,g){return f[0].ascending?0:1}return t=h(n),l=c[t]=u[t](n),{c(){o&&o.c(),e=z(),l.c(),s=Re()},l(f){o&&o.l(f),e=R(f),l.l(f),s=Re()},m(f,g){o&&o.m(f,g),I(f,e,g),c[t].m(f,g),I(f,s,g),i=!0},p(f,g){r===(r=a(f))&&o?o.p(f,g):(o&&o.d(1),o=r&&r(f),o&&(o.c(),o.m(e.parentNode,e)));let p=t;t=h(f),t===p?c[t].p(f,g):(Te(),N(c[p],1,1,()=>{c[p]=null}),Ae(),l=c[t],l?l.p(f,g):(l=c[t]=u[t](f),l.c()),C(l,1),l.m(s.parentNode,s))},i(f){i||(C(l),i=!0)},o(f){N(l),i=!1},d(f){f&&(d(e),d(s)),o&&o.d(f),c[t].d(f)}}}function Wt(n){let e,t;return e=new os({props:{topArtist:n[10],trackSelections:n[2]}}),{c(){U(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.topArtist=l[10]),s&4&&(i.trackSelections=l[2]),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function _s(n){var s;let e,t,l=((s=n[3])==null?void 0:s.length)>0&&Yt(n);return{c(){l&&l.c(),e=Re()},l(i){l&&l.l(i),e=Re()},m(i,a){l&&l.m(i,a),I(i,e,a),t=!0},p(i,[a]){var r;((r=i[3])==null?void 0:r.length)>0?l?(l.p(i,a),a&8&&C(l,1)):(l=Yt(i),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(Te(),N(l,1,1,()=>{l=null}),Ae())},i(i){t||(C(l),t=!0)},o(i){N(l),t=!1},d(i){i&&d(e),l&&l.d(i)}}}function gs(n,e,t){let l=G,s=()=>(l(),l=et(u,E=>t(9,E)),u),i,a=G,r=()=>(a(),a=et(o,E=>t(3,i=E)),o);n.$$.on_destroy.push(()=>l()),n.$$.on_destroy.push(()=>a());let{playlistArtists:o}=e;r();let{trackSelections:u}=e;s();const c={ascending:!1,orderBy:"trackCount"};function h(E){E.ascending!==void 0&&t(0,c.ascending=E.ascending,c),E.orderBy!==void 0&&t(0,c.orderBy=E.orderBy,c),o.update(A=>ls(A,c,E))}const f=()=>h({orderBy:"alphabetical"}),g=()=>h({orderBy:"trackCount"}),p=()=>h({ascending:!1}),b=()=>h({ascending:!0});return n.$$set=E=>{"playlistArtists"in E&&r(t(1,o=E.playlistArtists)),"trackSelections"in E&&s(t(2,u=E.trackSelections))},[c,o,u,i,h,f,g,p,b]}class ps extends x{constructor(e){super(),ee(this,e,gs,_s,$,{playlistArtists:1,trackSelections:2,playlistArtistsSort:0})}get playlistArtistsSort(){return this.$$.ctx[0]}}function bs(n){let e,t,l='<path fill="currentColor" d="M216 36H68.53a20.09 20.09 0 0 0-17.15 9.71L5.71 121.83a12 12 0 0 0 0 12.34l45.67 76.12A20.09 20.09 0 0 0 68.53 220H216a20 20 0 0 0 20-20V56a20 20 0 0 0-20-20Zm-4 160H70.8L30 128l40.8-68H212Zm-108.49-52.49L119 128l-15.52-15.51a12 12 0 0 1 17-17L136 111l15.51-15.52a12 12 0 0 1 17 17L153 128l15.52 15.51a12 12 0 0 1-17 17L136 145l-15.51 15.52a12 12 0 0 1-17-17Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=K(i,s[a]);return{c(){e=Le("svg"),t=new Ne(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ie(r,!0),r.forEach(d),this.h()},h(){t.a=null,ae(e,i)},m(a,r){I(a,e,r),t.m(l,e)},p(a,[r]){ae(e,i=Pe(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&d(e)}}}function vs(n,e,t){return n.$$set=l=>{t(0,e=K(K({},e),X(l)))},e=X(e),[e]}class ks extends x{constructor(e){super(),ee(this,e,vs,bs,$,{})}}function ys(n){let e,t,l,s,i="remove de-selected tracks",a,r,o;return t=new ks({}),{c(){e=w("button"),U(t.$$.fragment),l=z(),s=w("span"),s.textContent=i,this.h()},l(u){e=T(u,"BUTTON",{class:!0,title:!0});var c=S(e);V(t.$$.fragment,c),l=R(c),s=T(c,"SPAN",{"data-svelte-h":!0}),_e(s)!=="svelte-13uzf89"&&(s.textContent=i),c.forEach(d),this.h()},h(){m(e,"class","variant-filled-tertiary"),e.disabled=n[0],m(e,"title","remove de-selected new tracks")},m(u,c){I(u,e,c),F(t,e,null),y(e,l),y(e,s),a=!0,r||(o=Z(e,"click",_t(n[1])),r=!0)},p(u,[c]){(!a||c&1)&&(e.disabled=u[0])},i(u){a||(C(t.$$.fragment,u),a=!0)},o(u){N(t.$$.fragment,u),a=!1},d(u){u&&d(e),q(t),r=!1,o()}}}function ws(n,e,t){let{disabled:l=!1}=e;function s(i){re.call(this,n,i)}return n.$$set=i=>{"disabled"in i&&t(0,l=i.disabled)},[l,s]}class Ts extends x{constructor(e){super(),ee(this,e,ws,ys,$,{disabled:0})}}function As(n){let e;return{c(){e=le("Private")},l(t){e=ne(t,"Private")},m(t,l){I(t,e,l)},d(t){t&&d(e)}}}function Es(n){let e;return{c(){e=le("Public")},l(t){e=ne(t,"Public")},m(t,l){I(t,e,l)},d(t){t&&d(e)}}}function Ps(n){let e;function t(i,a){return i[0].public?Es:As}let l=t(n),s=l(n);return{c(){s.c(),e=le(" playlist")},l(i){s.l(i),e=ne(i," playlist")},m(i,a){s.m(i,a),I(i,e,a)},p(i,a){l!==(l=t(i))&&(s.d(1),s=l(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){i&&d(e),s.d(i)}}}function Ss(n){let e,t,l,s,i,a="Title",r,o,u,c,h,f,g,p,b,E="Description",A,v,k,D,_;function B(j){n[2](j)}let L={name:"slider-label",$$slots:{default:[Ps]},$$scope:{ctx:n}};return n[0].public!==void 0&&(L.checked=n[0].public),h=new fn({props:L}),Me.push(()=>Je(h,"checked",B)),{c(){e=w("form"),t=w("div"),l=w("div"),s=w("label"),i=w("span"),i.textContent=a,r=z(),o=w("input"),u=z(),c=w("div"),U(h.$$.fragment),g=z(),p=w("label"),b=w("span"),b.textContent=E,A=z(),v=w("textarea"),this.h()},l(j){e=T(j,"FORM",{class:!0});var P=S(e);t=T(P,"DIV",{class:!0});var J=S(t);l=T(J,"DIV",{class:!0});var ue=S(l);s=T(ue,"LABEL",{class:!0});var Y=S(s);i=T(Y,"SPAN",{"data-svelte-h":!0}),_e(i)!=="svelte-7ccxmo"&&(i.textContent=a),r=R(Y),o=T(Y,"INPUT",{class:!0,type:!0,placeholder:!0}),Y.forEach(d),ue.forEach(d),u=R(J),c=T(J,"DIV",{});var Q=S(c);V(h.$$.fragment,Q),Q.forEach(d),J.forEach(d),g=R(P),p=T(P,"LABEL",{class:!0});var te=S(p);b=T(te,"SPAN",{"data-svelte-h":!0}),_e(b)!=="svelte-rmspr8"&&(b.textContent=E),A=R(te),v=T(te,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),S(v).forEach(d),te.forEach(d),P.forEach(d),this.h()},h(){m(o,"class","input"),m(o,"type","text"),m(o,"placeholder","title"),fe(o,"input-error",!n[0].title),m(s,"class","label"),m(l,"class","col-span-5"),m(t,"class","grid grid-cols-6"),m(v,"class","textarea"),m(v,"rows","4"),m(v,"placeholder",""),fe(v,"input-error",!n[0].description),m(p,"class","label"),m(e,"class","mb-10 space-y-2")},m(j,P){I(j,e,P),y(e,t),y(t,l),y(l,s),y(s,i),y(s,r),y(s,o),Ue(o,n[0].title),y(t,u),y(t,c),F(h,c,null),y(e,g),y(e,p),y(p,b),y(p,A),y(p,v),Ue(v,n[0].description),k=!0,D||(_=[Z(o,"input",n[1]),Z(v,"input",n[3])],D=!0)},p(j,[P]){P&1&&o.value!==j[0].title&&Ue(o,j[0].title),(!k||P&1)&&fe(o,"input-error",!j[0].title);const J={};P&17&&(J.$$scope={dirty:P,ctx:j}),!f&&P&1&&(f=!0,J.checked=j[0].public,Ge(()=>f=!1)),h.$set(J),P&1&&Ue(v,j[0].description),(!k||P&1)&&fe(v,"input-error",!j[0].description)},i(j){k||(C(h.$$.fragment,j),k=!0)},o(j){N(h.$$.fragment,j),k=!1},d(j){j&&d(e),q(h),D=!1,He(_)}}}function Cs(n,e,t){let{playlist:l}=e;function s(){l.title=this.value,t(0,l)}function i(r){n.$$.not_equal(l.public,r)&&(l.public=r,t(0,l))}function a(){l.description=this.value,t(0,l)}return n.$$set=r=>{"playlist"in r&&t(0,l=r.playlist)},[l,s,i,a]}class Bs extends x{constructor(e){super(),ee(this,e,Cs,Ss,$,{playlist:0})}}function Ns(n){let e,t,l='<path fill="currentColor" d="M136.37 187.53a12 12 0 0 1 0 17l-5.94 5.94a60 60 0 0 1-84.88-84.88l24.12-24.11A60 60 0 0 1 152 99a12 12 0 1 1-16 18a36 36 0 0 0-49.37 1.47l-24.1 24.08a36 36 0 0 0 50.92 50.92l5.94-5.94a12 12 0 0 1 16.98 0Zm74.08-142a60.09 60.09 0 0 0-84.88 0l-5.94 5.94a12 12 0 0 0 17 17l5.94-5.94a36 36 0 0 1 50.92 50.92l-24.11 24.12A36 36 0 0 1 120 139a12 12 0 1 0-16 18a60 60 0 0 0 82.3-2.43l24.12-24.11a60.09 60.09 0 0 0 .03-84.91Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=K(i,s[a]);return{c(){e=Le("svg"),t=new Ne(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ie(r,!0),r.forEach(d),this.h()},h(){t.a=null,ae(e,i)},m(a,r){I(a,e,r),t.m(l,e)},p(a,[r]){ae(e,i=Pe(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&d(e)}}}function Is(n,e,t){return n.$$set=l=>{t(0,e=K(K({},e),X(l)))},e=X(e),[e]}class Ds extends x{constructor(e){super(),ee(this,e,Is,Ns,$,{})}}function Os(n){let e,t,l,s,i="fix non readable tracks",a,r,o;return t=new Ds({}),{c(){e=w("button"),U(t.$$.fragment),l=z(),s=w("span"),s.textContent=i,this.h()},l(u){e=T(u,"BUTTON",{class:!0,title:!0});var c=S(e);V(t.$$.fragment,c),l=R(c),s=T(c,"SPAN",{"data-svelte-h":!0}),_e(s)!=="svelte-1m49f8q"&&(s.textContent=i),c.forEach(d),this.h()},h(){m(e,"class","variant-filled-tertiary"),e.disabled=n[0],m(e,"title","try to find an equivalent of tracks that are not readable anymore in deezer (colored in red in the table)")},m(u,c){I(u,e,c),F(t,e,null),y(e,l),y(e,s),a=!0,r||(o=Z(e,"click",_t(n[1])),r=!0)},p(u,[c]){(!a||c&1)&&(e.disabled=u[0])},i(u){a||(C(t.$$.fragment,u),a=!0)},o(u){N(t.$$.fragment,u),a=!1},d(u){u&&d(e),q(t),r=!1,o()}}}function Ls(n,e,t){let{disabled:l=!1}=e;function s(i){re.call(this,n,i)}return n.$$set=i=>{"disabled"in i&&t(0,l=i.disabled)},[l,s]}class zs extends x{constructor(e){super(),ee(this,e,Ls,Os,$,{disabled:0})}}function Rs(n){let e,t,l='<path fill="currentColor" d="M160 36a92.09 92.09 0 0 0-81 48.36A68 68 0 1 0 72 220h88a92 92 0 0 0 0-184Zm0 160H72a44 44 0 0 1-1.82-88A91.86 91.86 0 0 0 68 128a12 12 0 0 0 24 0a68 68 0 1 1 68 68Zm40.49-92.49a12 12 0 0 1 0 17l-48 48a12 12 0 0 1-17 0l-24-24a12 12 0 1 1 17-17L144 143l39.51-39.52a12 12 0 0 1 16.98.03Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=K(i,s[a]);return{c(){e=Le("svg"),t=new Ne(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ie(r,!0),r.forEach(d),this.h()},h(){t.a=null,ae(e,i)},m(a,r){I(a,e,r),t.m(l,e)},p(a,[r]){ae(e,i=Pe(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&d(e)}}}function js(n,e,t){return n.$$set=l=>{t(0,e=K(K({},e),X(l)))},e=X(e),[e]}class Hs extends x{constructor(e){super(),ee(this,e,js,Rs,$,{})}}function Zs(n){let e,t,l,s,i="Update playlist",a,r,o;return t=new Hs({}),{c(){e=w("button"),U(t.$$.fragment),l=z(),s=w("span"),s.textContent=i,this.h()},l(u){e=T(u,"BUTTON",{class:!0});var c=S(e);V(t.$$.fragment,c),l=R(c),s=T(c,"SPAN",{"data-svelte-h":!0}),_e(s)!=="svelte-w41jv5"&&(s.textContent=i),c.forEach(d),this.h()},h(){m(e,"class","variant-filled-primary")},m(u,c){I(u,e,c),F(t,e,null),y(e,l),y(e,s),a=!0,r||(o=Z(e,"click",_t(n[0])),r=!0)},p:G,i(u){a||(C(t.$$.fragment,u),a=!0)},o(u){N(t.$$.fragment,u),a=!1},d(u){u&&d(e),q(t),r=!1,o()}}}function Ms(n){function e(t){re.call(this,n,t)}return[e]}class Us extends x{constructor(e){super(),ee(this,e,Ms,Zs,$,{})}}function Vs(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm40-84a12 12 0 0 1-5.12 9.83l-40 28A12 12 0 0 1 104 156v-56a12 12 0 0 1 18.88-9.83l40 28A12 12 0 0 1 168 128Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=K(i,s[a]);return{c(){e=Le("svg"),t=new Ne(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ie(r,!0),r.forEach(d),this.h()},h(){t.a=null,ae(e,i)},m(a,r){I(a,e,r),t.m(l,e)},p(a,[r]){ae(e,i=Pe(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&d(e)}}}function Fs(n,e,t){return n.$$set=l=>{t(0,e=K(K({},e),X(l)))},e=X(e),[e]}class qs extends x{constructor(e){super(),ee(this,e,Fs,Vs,$,{})}}function Ks(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84ZM116 96v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Zm48 0v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=K(i,s[a]);return{c(){e=Le("svg"),t=new Ne(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ie(r,!0),r.forEach(d),this.h()},h(){t.a=null,ae(e,i)},m(a,r){I(a,e,r),t.m(l,e)},p(a,[r]){ae(e,i=Pe(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&d(e)}}}function Gs(n,e,t){return n.$$set=l=>{t(0,e=K(K({},e),X(l)))},e=X(e),[e]}class Js extends x{constructor(e){super(),ee(this,e,Gs,Ks,$,{})}}function Ys(n){let e,t,l,s,i;return t=new Js({}),{c(){e=w("span"),U(t.$$.fragment),this.h()},l(a){e=T(a,"SPAN",{role:!0});var r=S(e);V(t.$$.fragment,r),r.forEach(d),this.h()},h(){m(e,"role","button")},m(a,r){I(a,e,r),F(t,e,null),l=!0,s||(i=Z(e,"click",n[4]),s=!0)},p:G,i(a){l||(C(t.$$.fragment,a),l=!0)},o(a){N(t.$$.fragment,a),l=!1},d(a){a&&d(e),q(t),s=!1,i()}}}function Ws(n){let e,t,l,s,i;return t=new qs({}),{c(){e=w("span"),U(t.$$.fragment),this.h()},l(a){e=T(a,"SPAN",{role:!0});var r=S(e);V(t.$$.fragment,r),r.forEach(d),this.h()},h(){m(e,"role","button")},m(a,r){I(a,e,r),F(t,e,null),l=!0,s||(i=Z(e,"click",n[4]),s=!0)},p:G,i(a){l||(C(t.$$.fragment,a),l=!0)},o(a){N(t.$$.fragment,a),l=!1},d(a){a&&d(e),q(t),s=!1,i()}}}function Xs(n){let e,t,l=!0,s,i,a,r,o,u,c;const h=[Ws,Ys],f=[];function g(p,b){return p[0]?0:1}return a=g(n),r=f[a]=h[a](n),{c(){e=w("audio"),s=z(),i=w("span"),r.c(),this.h()},l(p){e=T(p,"AUDIO",{src:!0}),S(e).forEach(d),s=R(p),i=T(p,"SPAN",{});var b=S(i);r.l(b),b.forEach(d),this.h()},h(){je(e.src,t=n[1])||m(e,"src",t),e.loop=n[2],fe(i,"text-gray-500",!n[3])},m(p,b){I(p,e,b),I(p,s,b),I(p,i,b),f[a].m(i,null),o=!0,u||(c=[Z(e,"play",n[5]),Z(e,"pause",n[5])],u=!0)},p(p,[b]){(!o||b&2&&!je(e.src,t=p[1]))&&m(e,"src",t),(!o||b&4)&&(e.loop=p[2]),b&1&&l!==(l=p[0])&&e[l?"pause":"play"]();let E=a;a=g(p),a===E?f[a].p(p,b):(Te(),N(f[E],1,1,()=>{f[E]=null}),Ae(),r=f[a],r?r.p(p,b):(r=f[a]=h[a](p),r.c()),C(r,1),r.m(i,null)),(!o||b&8)&&fe(i,"text-gray-500",!p[3])},i(p){o||(C(r),o=!0)},o(p){N(r),o=!1},d(p){p&&(d(e),d(s),d(i)),f[a].d(),u=!1,He(c)}}}function Qs(n,e,t){let{src:l}=e,{loop:s=!1}=e,{enabled:i=!0}=e,{paused:a=!0}=e;function r(){i&&t(0,a=!a)}function o(){a=this.paused,t(0,a)}return n.$$set=u=>{"src"in u&&t(1,l=u.src),"loop"in u&&t(2,s=u.loop),"enabled"in u&&t(3,i=u.enabled),"paused"in u&&t(0,a=u.paused)},[a,l,s,i,r,o]}class $s extends x{constructor(e){super(),ee(this,e,Qs,Xs,$,{src:1,loop:2,enabled:3,paused:0})}}function xs(n){let e,t,l,s;const i=n[4].default,a=ve(i,n,n[3],null);return{c(){e=w("td"),t=w("div"),a&&a.c(),this.h()},l(r){e=T(r,"TD",{style:!0,title:!0,class:!0});var o=S(e);t=T(o,"DIV",{class:!0});var u=S(t);a&&a.l(u),u.forEach(d),o.forEach(d),this.h()},h(){m(t,"class",l="flex items-center justify-"+n[0]+" gap-x-2 h-full"),Dl(e,"vertical-align","middle"),m(e,"title",n[1]),m(e,"class",n[2])},m(r,o){I(r,e,o),y(e,t),a&&a.m(t,null),s=!0},p(r,[o]){a&&a.p&&(!s||o&8)&&ke(a,i,r,r[3],s?we(i,r[3],o,null):ye(r[3]),null),(!s||o&1&&l!==(l="flex items-center justify-"+r[0]+" gap-x-2 h-full"))&&m(t,"class",l),(!s||o&2)&&m(e,"title",r[1]),(!s||o&4)&&m(e,"class",r[2])},i(r){s||(C(a,r),s=!0)},o(r){N(a,r),s=!1},d(r){r&&d(e),a&&a.d(r)}}}function ea(n,e,t){let{$$slots:l={},$$scope:s}=e,{justify:i="center"}=e,{title:a=""}=e,{class:r=""}=e;return n.$$set=o=>{"justify"in o&&t(0,i=o.justify),"title"in o&&t(1,a=o.title),"class"in o&&t(2,r=o.class),"$$scope"in o&&t(3,s=o.$$scope)},[i,a,r,s,l]}class Ke extends x{constructor(e){super(),ee(this,e,ea,xs,$,{justify:0,title:1,class:2})}}function ta(n){let e,t,l='<path fill="currentColor" d="M243 96.05a20 20 0 0 0-17.26-13.72l-57-4.93l-22.3-53.14a20 20 0 0 0-36.82 0L87.29 77.4l-57 4.93a20 20 0 0 0-11.42 35.07l43.32 37.8l-13 56.24A20 20 0 0 0 79 233.1l49-29.76l49 29.76a20 20 0 0 0 29.8-21.66l-13-56.24l43.32-37.8A20 20 0 0 0 243 96.05Zm-66.75 42.62a20 20 0 0 0-6.35 19.63l11.39 49.32l-42.94-26.08a19.9 19.9 0 0 0-20.7 0l-42.94 26.08L86.1 158.3a20 20 0 0 0-6.35-19.63l-38.09-33.23l50.14-4.34a19.92 19.92 0 0 0 16.69-12.19L128 42.42l19.51 46.49a19.92 19.92 0 0 0 16.69 12.19l50.14 4.34Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=K(i,s[a]);return{c(){e=Le("svg"),t=new Ne(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ie(r,!0),r.forEach(d),this.h()},h(){t.a=null,ae(e,i)},m(a,r){I(a,e,r),t.m(l,e)},p(a,[r]){ae(e,i=Pe(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&d(e)}}}function la(n,e,t){return n.$$set=l=>{t(0,e=K(K({},e),X(l)))},e=X(e),[e]}class na extends x{constructor(e){super(),ee(this,e,la,ta,$,{})}}function sa(n){let e,t,l='<g fill="currentColor"><path d="M184.13 147.7a8.08 8.08 0 0 0-2.54 7.89l13.52 58.54a8 8 0 0 1-11.89 8.69l-51.1-31a7.93 7.93 0 0 0-8.24 0l-51.1 31a8 8 0 0 1-11.89-8.69l13.52-58.54a8.08 8.08 0 0 0-2.54-7.89l-45.11-39.35a8 8 0 0 1 4.54-14.07l59.46-5.14a8 8 0 0 0 6.67-4.88l23.23-55.36a8 8 0 0 1 14.68 0l23.23 55.36a8 8 0 0 0 6.67 4.88l59.46 5.14a8 8 0 0 1 4.54 14.07Z" opacity=".2"/><path d="M239.2 97.29a16 16 0 0 0-13.81-11L166 81.17l-23.28-55.36a15.95 15.95 0 0 0-29.44 0L90.07 81.17l-59.46 5.15a16 16 0 0 0-9.11 28.06l45.11 39.42l-13.52 58.54a16 16 0 0 0 23.84 17.34l51-31l51.11 31a16 16 0 0 0 23.84-17.34l-13.51-58.6l45.1-39.36a16 16 0 0 0 4.73-17.09Zm-15.22 5l-45.1 39.36a16 16 0 0 0-5.08 15.71L187.35 216l-51.07-31a15.9 15.9 0 0 0-16.54 0l-51 31l13.46-58.6a16 16 0 0 0-5.08-15.71L32 102.35a.37.37 0 0 1 0-.09l59.44-5.14a16 16 0 0 0 13.35-9.75L128 32.08l23.2 55.29a16 16 0 0 0 13.35 9.75l59.45 5.14v.07Z"/></g>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=K(i,s[a]);return{c(){e=Le("svg"),t=new Ne(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ie(r,!0),r.forEach(d),this.h()},h(){t.a=null,ae(e,i)},m(a,r){I(a,e,r),t.m(l,e)},p(a,[r]){ae(e,i=Pe(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&d(e)}}}function aa(n,e,t){return n.$$set=l=>{t(0,e=K(K({},e),X(l)))},e=X(e),[e]}class ia extends x{constructor(e){super(),ee(this,e,aa,sa,$,{})}}function ra(n){let e,t,l='<path fill="currentColor" d="m234.5 114.38l-45.1 39.36l13.51 58.6a16 16 0 0 1-23.84 17.34l-51.11-31l-51 31a16 16 0 0 1-23.84-17.34l13.49-58.54l-45.11-39.42a16 16 0 0 1 9.11-28.06l59.46-5.15l23.21-55.36a15.95 15.95 0 0 1 29.44 0L166 81.17l59.44 5.15a16 16 0 0 1 9.11 28.06Z"/>',s=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let a=0;a<s.length;a+=1)i=K(i,s[a]);return{c(){e=Le("svg"),t=new Ne(!0),this.h()},l(a){e=ze(a,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ie(r,!0),r.forEach(d),this.h()},h(){t.a=null,ae(e,i)},m(a,r){I(a,e,r),t.m(l,e)},p(a,[r]){ae(e,i=Pe(s,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&a[0]]))},i:G,o:G,d(a){a&&d(e)}}}function oa(n,e,t){return n.$$set=l=>{t(0,e=K(K({},e),X(l)))},e=X(e),[e]}class ua extends x{constructor(e){super(),ee(this,e,oa,ra,$,{})}}function ca(n){let e,t,l,s,i,a,r,o,u,c,h,f;const g=n[5].default,p=ve(g,n,n[4],null);return i=new bt({}),o=new gl({}),{c(){e=w("span"),p&&p.c(),t=z(),l=w("span"),s=w("button"),U(i.$$.fragment),a=z(),r=w("button"),U(o.$$.fragment),this.h()},l(b){e=T(b,"SPAN",{class:!0});var E=S(e);p&&p.l(E),t=R(E),l=T(E,"SPAN",{class:!0});var A=S(l);s=T(A,"BUTTON",{class:!0,title:!0});var v=S(s);V(i.$$.fragment,v),v.forEach(d),a=R(A),r=T(A,"BUTTON",{class:!0,title:!0});var k=S(r);V(o.$$.fragment,k),k.forEach(d),A.forEach(d),E.forEach(d),this.h()},h(){m(s,"class","!p-0 "),m(s,"title",n[0]),m(r,"class","!p-0"),m(r,"title",n[1]),m(l,"class","btn-group-vertical btn btn-sm gap-y-1"),m(e,"class",u="flex flex-row justify-between w-full items-center py-1 gap-x-2 "+n[2])},m(b,E){I(b,e,E),p&&p.m(e,null),y(e,t),y(e,l),y(l,s),F(i,s,null),y(l,a),y(l,r),F(o,r,null),c=!0,h||(f=[Z(s,"click",n[6]),Z(s,"pointerenter",n[7]),Z(s,"pointerleave",n[8]),Z(r,"click",n[9]),Z(r,"pointerenter",n[10]),Z(r,"pointerleave",n[11])],h=!0)},p(b,[E]){p&&p.p&&(!c||E&16)&&ke(p,g,b,b[4],c?we(g,b[4],E,null):ye(b[4]),null),(!c||E&1)&&m(s,"title",b[0]),(!c||E&2)&&m(r,"title",b[1]),(!c||E&4&&u!==(u="flex flex-row justify-between w-full items-center py-1 gap-x-2 "+b[2]))&&m(e,"class",u)},i(b){c||(C(p,b),C(i.$$.fragment,b),C(o.$$.fragment,b),c=!0)},o(b){N(p,b),N(i.$$.fragment,b),N(o.$$.fragment,b),c=!1},d(b){b&&d(e),p&&p.d(b),q(i),q(o),h=!1,He(f)}}}function fa(n,e,t){let{$$slots:l={},$$scope:s}=e;const i=lt();let{addTitle:a="add all album titles to the playlist"}=e,{removeTitle:r="deselect all album titles from the playlist"}=e,o="";const u=()=>i("add"),c=()=>t(2,o="variant-ghost-success"),h=()=>t(2,o=""),f=()=>i("remove"),g=()=>t(2,o="variant-ghost-error"),p=()=>t(2,o="");return n.$$set=b=>{"addTitle"in b&&t(0,a=b.addTitle),"removeTitle"in b&&t(1,r=b.removeTitle),"$$scope"in b&&t(4,s=b.$$scope)},[a,r,o,i,s,l,u,c,h,f,g,p]}class pl extends x{constructor(e){super(),ee(this,e,fa,ca,$,{addTitle:0,removeTitle:1})}}function Xt(n,e,t){const l=n.slice();l[16]=e[t],l[18]=e,l[19]=t;const s=l[16].track;return l[17]=s,l}function ha(n){let e,t,l;function s(){n[10].call(e,n[18],n[19])}return{c(){e=w("input"),this.h()},l(i){e=T(i,"INPUT",{type:!0,class:!0}),this.h()},h(){m(e,"type","checkbox"),m(e,"class","checkbox")},m(i,a){I(i,e,a),e.checked=n[16].selected,t||(l=Z(e,"change",s),t=!0)},p(i,a){n=i,a&64&&(e.checked=n[16].selected)},d(i){i&&d(e),t=!1,l()}}}function da(n){let e,t=n[19]+1+"",l;return{c(){e=w("span"),l=le(t)},l(s){e=T(s,"SPAN",{});var i=S(e);l=ne(i,t),i.forEach(d)},m(s,i){I(s,e,i),y(e,l)},p:G,d(s){s&&d(e)}}}function ma(n){let e,t,l,s,i=n[17].title+"",a,r,o;return e=new $s({props:{src:n[17].preview,enabled:n[17].readable}}),{c(){U(e.$$.fragment),t=z(),l=w("a"),s=w("span"),a=le(i),this.h()},l(u){V(e.$$.fragment,u),t=R(u),l=T(u,"A",{href:!0,title:!0});var c=S(l);s=T(c,"SPAN",{class:!0});var h=S(s);a=ne(h,i),h.forEach(d),c.forEach(d),this.h()},h(){m(s,"class","whitespace-normal"),m(l,"href",r=n[17].link),m(l,"title","open track in Deezer web interface")},m(u,c){F(e,u,c),I(u,t,c),I(u,l,c),y(l,s),y(s,a),o=!0},p(u,c){const h={};c&64&&(h.src=u[17].preview),c&64&&(h.enabled=u[17].readable),e.$set(h),(!o||c&64)&&i!==(i=u[17].title+"")&&Be(a,i),(!o||c&64&&r!==(r=u[17].link))&&m(l,"href",r)},i(u){o||(C(e.$$.fragment,u),o=!0)},o(u){N(e.$$.fragment,u),o=!1},d(u){u&&(d(t),d(l)),q(e,u)}}}function _a(n){let e,t,l,s,i=n[17].album.title+"",a;return{c(){e=w("img"),l=z(),s=w("span"),a=le(i),this.h()},l(r){e=T(r,"IMG",{class:!0,src:!0,alt:!0}),l=R(r),s=T(r,"SPAN",{class:!0});var o=S(s);a=ne(o,i),o.forEach(d),this.h()},h(){m(e,"class","largeonly"),je(e.src,t=n[17].album.cover_small)||m(e,"src",t),m(e,"alt","album cover"),m(s,"class","whitespace-normal")},m(r,o){I(r,e,o),I(r,l,o),I(r,s,o),y(s,a)},p(r,o){o&64&&!je(e.src,t=r[17].album.cover_small)&&m(e,"src",t),o&64&&i!==(i=r[17].album.title+"")&&Be(a,i)},d(r){r&&(d(e),d(l),d(s))}}}function ga(n){let e,t,l,s;return t=new tt({props:{$$slots:{default:[_a]},$$scope:{ctx:n}}}),{c(){e=w("a"),U(t.$$.fragment),this.h()},l(i){e=T(i,"A",{href:!0,title:!0});var a=S(e);V(t.$$.fragment,a),a.forEach(d),this.h()},h(){m(e,"href",l="https://www.deezer.com/album/"+n[17].album.id),m(e,"title","open album in Deezer web interface")},m(i,a){I(i,e,a),F(t,e,null),s=!0},p(i,a){const r={};a&1048640&&(r.$$scope={dirty:a,ctx:i}),t.$set(r),(!s||a&64&&l!==(l="https://www.deezer.com/album/"+i[17].album.id))&&m(e,"href",l)},i(i){s||(C(t.$$.fragment,i),s=!0)},o(i){N(t.$$.fragment,i),s=!1},d(i){i&&d(e),q(t)}}}function pa(n){let e,t;function l(){return n[11](n[17])}function s(){return n[12](n[17])}return e=new pl({props:{addTitle:"add all album titles to the playlist",removeTitle:"deselect all album titles from the playlist",$$slots:{default:[ga]},$$scope:{ctx:n}}}),e.$on("add",l),e.$on("remove",s),{c(){U(e.$$.fragment)},l(i){V(e.$$.fragment,i)},m(i,a){F(e,i,a),t=!0},p(i,a){n=i;const r={};a&1048640&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(i){t||(C(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function ba(n){let e,t,l,s,i=n[17].artist.name+"",a;return{c(){e=w("img"),l=z(),s=w("span"),a=le(i),this.h()},l(r){e=T(r,"IMG",{class:!0,src:!0,alt:!0}),l=R(r),s=T(r,"SPAN",{class:!0});var o=S(s);a=ne(o,i),o.forEach(d),this.h()},h(){var r;m(e,"class","largeonly"),je(e.src,t=(r=xt(n[17],n[1]))==null?void 0:r.picture_small)||m(e,"src",t),m(e,"alt","artist"),m(s,"class","whitespace-normal")},m(r,o){I(r,e,o),I(r,l,o),I(r,s,o),y(s,a)},p(r,o){var u;o&66&&!je(e.src,t=(u=xt(r[17],r[1]))==null?void 0:u.picture_small)&&m(e,"src",t),o&64&&i!==(i=r[17].artist.name+"")&&Be(a,i)},d(r){r&&(d(e),d(l),d(s))}}}function va(n){let e,t,l,s;return t=new tt({props:{$$slots:{default:[ba]},$$scope:{ctx:n}}}),{c(){e=w("a"),U(t.$$.fragment),this.h()},l(i){e=T(i,"A",{href:!0,title:!0});var a=S(e);V(t.$$.fragment,a),a.forEach(d),this.h()},h(){m(e,"href",l=n[17].artist.link),m(e,"title","open artist in Deezer web interface")},m(i,a){I(i,e,a),F(t,e,null),s=!0},p(i,a){const r={};a&1048642&&(r.$$scope={dirty:a,ctx:i}),t.$set(r),(!s||a&64&&l!==(l=i[17].artist.link))&&m(e,"href",l)},i(i){s||(C(t.$$.fragment,i),s=!0)},o(i){N(t.$$.fragment,i),s=!1},d(i){i&&d(e),q(t)}}}function ka(n){let e,t;function l(){return n[13](n[17])}function s(){return n[14](n[17])}return e=new pl({props:{addTitle:"add all artist titles to the playlist",removeTitle:"deselect all artist titles from the playlist",$$slots:{default:[va]},$$scope:{ctx:n}}}),e.$on("add",l),e.$on("remove",s),{c(){U(e.$$.fragment)},l(i){V(e.$$.fragment,i)},m(i,a){F(e,i,a),t=!0},p(i,a){n=i;const r={};a&1048642&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(i){t||(C(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function ya(n){let e,t;return e=new na({}),{c(){U(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,s){F(e,l,s),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function wa(n){let e,t;return e=new ia({}),{c(){U(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,s){F(e,l,s),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Ta(n){let e,t;return e=new ua({}),{c(){U(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,s){F(e,l,s),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Aa(n){let e,t;return e=new nn({props:{value:5*n[17].rank/n[5],max:5,regionIcon:"!m-0",$$slots:{full:[Ta],half:[wa],empty:[ya]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&96&&(i.value=5*l[17].rank/l[5]),s&1048576&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Ea(n){let e=n[7](n[17].duration*1e3)+"",t,l,s;return{c(){t=le(e),l=z(),s=w("span"),this.h()},l(i){t=ne(i,e),l=R(i),s=T(i,"SPAN",{class:!0}),S(s).forEach(d),this.h()},h(){m(s,"class","grow")},m(i,a){I(i,t,a),I(i,l,a),I(i,s,a)},p(i,a){a&64&&e!==(e=i[7](i[17].duration*1e3)+"")&&Be(t,e)},d(i){i&&(d(t),d(l),d(s))}}}function Qt(n){let e,t,l,s,i,a,r,o,u,c,h,f,g,p,b,E,A;return t=new Ke({props:{$$slots:{default:[ha]},$$scope:{ctx:n}}}),s=new Ke({props:{class:"largeonly",$$slots:{default:[da]},$$scope:{ctx:n}}}),a=new Ke({props:{justify:"start",$$slots:{default:[ma]},$$scope:{ctx:n}}}),o=new Ke({props:{justify:"start",$$slots:{default:[pa]},$$scope:{ctx:n}}}),c=new Ke({props:{justify:"start",$$slots:{default:[ka]},$$scope:{ctx:n}}}),f=new Ke({props:{class:"largeonly",title:n[17].rank,$$slots:{default:[Aa]},$$scope:{ctx:n}}}),p=new Ke({props:{class:"largeonly",$$slots:{default:[Ea]},$$scope:{ctx:n}}}),{c(){e=w("tr"),U(t.$$.fragment),l=z(),U(s.$$.fragment),i=z(),U(a.$$.fragment),r=z(),U(o.$$.fragment),u=z(),U(c.$$.fragment),h=z(),U(f.$$.fragment),g=z(),U(p.$$.fragment),b=z(),this.h()},l(v){e=T(v,"TR",{class:!0});var k=S(e);V(t.$$.fragment,k),l=R(k),V(s.$$.fragment,k),i=R(k),V(a.$$.fragment,k),r=R(k),V(o.$$.fragment,k),u=R(k),V(c.$$.fragment,k),h=R(k),V(f.$$.fragment,k),g=R(k),V(p.$$.fragment,k),b=R(k),k.forEach(d),this.h()},h(){m(e,"class",E=Pt($t(n[16]))+" svelte-156y7de"),fe(e,"!text-red-500",!n[17].readable)},m(v,k){I(v,e,k),F(t,e,null),y(e,l),F(s,e,null),y(e,i),F(a,e,null),y(e,r),F(o,e,null),y(e,u),F(c,e,null),y(e,h),F(f,e,null),y(e,g),F(p,e,null),y(e,b),A=!0},p(v,k){const D={};k&1048640&&(D.$$scope={dirty:k,ctx:v}),t.$set(D);const _={};k&1048576&&(_.$$scope={dirty:k,ctx:v}),s.$set(_);const B={};k&1048640&&(B.$$scope={dirty:k,ctx:v}),a.$set(B);const L={};k&1048641&&(L.$$scope={dirty:k,ctx:v}),o.$set(L);const j={};k&1048643&&(j.$$scope={dirty:k,ctx:v}),c.$set(j);const P={};k&64&&(P.title=v[17].rank),k&1048672&&(P.$$scope={dirty:k,ctx:v}),f.$set(P);const J={};k&1048640&&(J.$$scope={dirty:k,ctx:v}),p.$set(J),(!A||k&64&&E!==(E=Pt($t(v[16]))+" svelte-156y7de"))&&m(e,"class",E),(!A||k&64)&&fe(e,"!text-red-500",!v[17].readable)},i(v){A||(C(t.$$.fragment,v),C(s.$$.fragment,v),C(a.$$.fragment,v),C(o.$$.fragment,v),C(c.$$.fragment,v),C(f.$$.fragment,v),C(p.$$.fragment,v),A=!0)},o(v){N(t.$$.fragment,v),N(s.$$.fragment,v),N(a.$$.fragment,v),N(o.$$.fragment,v),N(c.$$.fragment,v),N(f.$$.fragment,v),N(p.$$.fragment,v),A=!1},d(v){v&&d(e),q(t),q(s),q(a),q(o),q(c),q(f),q(p)}}}function Pa(n){var wt;let e,t,l,s,i,a,r=((wt=n[4])==null?void 0:wt.filter(el).length)+"",o,u,c=n[4].filter(tl).length+"",h,f,g,p,b,E,A,v,k,D,_,B,L,j="Pos.",P,J,ue="Title",Y,Q,te="Album",Se,me,De="Artist",Ce,he,H="rank",M,O,de="duration",ce,ge,pe,be,rt,Ze,ot,kt,Fe=Ve(n[6]),se=[];for(let W=0;W<Fe.length;W+=1)se[W]=Qt(Xt(n,Fe,W));const bl=W=>N(se[W],1,1,()=>{se[W]=null});function vl(W){n[15](W)}let yt={showFirstLastButtons:!0,showPreviousNextButtons:!0};return n[2]!==void 0&&(yt.settings=n[2]),be=new Sl({props:yt}),Me.push(()=>Je(be,"settings",vl)),{c(){e=w("span"),t=w("table"),l=w("thead"),s=w("tr"),i=w("td"),a=w("span"),o=le(r),u=le(` selected
                            Tracks (`),h=le(c),f=le(`
                            in playlist)`),g=z(),p=w("td"),b=w("input"),E=z(),A=w("tr"),v=w("th"),k=w("input"),B=z(),L=w("th"),L.textContent=j,P=z(),J=w("th"),J.textContent=ue,Y=z(),Q=w("th"),Q.textContent=te,Se=z(),me=w("th"),me.textContent=De,Ce=z(),he=w("th"),he.textContent=H,M=z(),O=w("th"),O.textContent=de,ce=z(),ge=w("tbody");for(let W=0;W<se.length;W+=1)se[W].c();pe=z(),U(be.$$.fragment),this.h()},l(W){e=T(W,"SPAN",{class:!0});var ie=S(e);t=T(ie,"TABLE",{class:!0});var Oe=S(t);l=T(Oe,"THEAD",{});var qe=S(l);s=T(qe,"TR",{});var oe=S(s);i=T(oe,"TD",{colspan:!0});var Qe=S(i);a=T(Qe,"SPAN",{});var $e=S(a);o=ne($e,r),u=ne($e,` selected
                            Tracks (`),h=ne($e,c),f=ne($e,`
                            in playlist)`),$e.forEach(d),Qe.forEach(d),g=R(oe),p=T(oe,"TD",{colspan:!0});var Tt=S(p);b=T(Tt,"INPUT",{class:!0,title:!0,type:!0,placeholder:!0}),Tt.forEach(d),oe.forEach(d),E=R(qe),A=T(qe,"TR",{class:!0});var Ee=S(A);v=T(Ee,"TH",{});var At=S(v);k=T(At,"INPUT",{type:!0,class:!0}),At.forEach(d),B=R(Ee),L=T(Ee,"TH",{class:!0,"data-svelte-h":!0}),_e(L)!=="svelte-658ja8"&&(L.textContent=j),P=R(Ee),J=T(Ee,"TH",{class:!0,"data-svelte-h":!0}),_e(J)!=="svelte-72in4j"&&(J.textContent=ue),Y=R(Ee),Q=T(Ee,"TH",{class:!0,"data-svelte-h":!0}),_e(Q)!=="svelte-1s5xtmm"&&(Q.textContent=te),Se=R(Ee),me=T(Ee,"TH",{class:!0,"data-svelte-h":!0}),_e(me)!=="svelte-10j6hm0"&&(me.textContent=De),Ce=R(Ee),he=T(Ee,"TH",{class:!0,"data-svelte-h":!0}),_e(he)!=="svelte-978f2u"&&(he.textContent=H),M=R(Ee),O=T(Ee,"TH",{class:!0,"data-svelte-h":!0}),_e(O)!=="svelte-n6csf5"&&(O.textContent=de),Ee.forEach(d),qe.forEach(d),ce=R(Oe),ge=T(Oe,"TBODY",{});var Et=S(ge);for(let ut=0;ut<se.length;ut+=1)se[ut].l(Et);Et.forEach(d),Oe.forEach(d),pe=R(ie),V(be.$$.fragment,ie),ie.forEach(d),this.h()},h(){m(i,"colspan","3"),m(b,"class","input"),m(b,"title","Input (search)"),m(b,"type","search"),m(b,"placeholder","Search..."),m(p,"colspan","4"),m(k,"type","checkbox"),m(k,"class","checkbox"),k.checked=D=n[6].filter(ll).length===n[6].length&&n[6].length>0,k.indeterminate=_=n[6].filter(nl).length!==n[6].length&&n[6].filter(sl).length>0,m(L,"class","largeonly"),m(J,"class",""),m(Q,"class","max-w-xs"),m(me,"class","max-w-xs"),m(he,"class","largeonly"),m(O,"class","largeonly w-16"),m(A,"class",""),m(t,"class","table table-compact my-4"),m(e,"class","table-container")},m(W,ie){I(W,e,ie),y(e,t),y(t,l),y(l,s),y(s,i),y(i,a),y(a,o),y(a,u),y(a,h),y(a,f),y(s,g),y(s,p),y(p,b),Ue(b,n[3]),y(l,E),y(l,A),y(A,v),y(v,k),y(A,B),y(A,L),y(A,P),y(A,J),y(A,Y),y(A,Q),y(A,Se),y(A,me),y(A,Ce),y(A,he),y(A,M),y(A,O),y(t,ce),y(t,ge);for(let Oe=0;Oe<se.length;Oe+=1)se[Oe]&&se[Oe].m(ge,null);y(e,pe),F(be,e,null),Ze=!0,ot||(kt=[Z(b,"input",n[8]),Z(k,"change",n[9])],ot=!0)},p(W,[ie]){var qe;if((!Ze||ie&16)&&r!==(r=((qe=W[4])==null?void 0:qe.filter(el).length)+"")&&Be(o,r),(!Ze||ie&16)&&c!==(c=W[4].filter(tl).length+"")&&Be(h,c),ie&8&&b.value!==W[3]&&Ue(b,W[3]),(!Ze||ie&64&&D!==(D=W[6].filter(ll).length===W[6].length&&W[6].length>0))&&(k.checked=D),(!Ze||ie&64&&_!==(_=W[6].filter(nl).length!==W[6].length&&W[6].filter(sl).length>0))&&(k.indeterminate=_),ie&227){Fe=Ve(W[6]);let oe;for(oe=0;oe<Fe.length;oe+=1){const Qe=Xt(W,Fe,oe);se[oe]?(se[oe].p(Qe,ie),C(se[oe],1)):(se[oe]=Qt(Qe),se[oe].c(),C(se[oe],1),se[oe].m(ge,null))}for(Te(),oe=Fe.length;oe<se.length;oe+=1)bl(oe);Ae()}const Oe={};!rt&&ie&4&&(rt=!0,Oe.settings=W[2],Ge(()=>rt=!1)),be.$set(Oe)},i(W){if(!Ze){for(let ie=0;ie<Fe.length;ie+=1)C(se[ie]);C(be.$$.fragment,W),Ze=!0}},o(W){se=se.filter(Boolean);for(let ie=0;ie<se.length;ie+=1)N(se[ie]);N(be.$$.fragment,W),Ze=!1},d(W){W&&d(e),dt(se,W),q(be),ot=!1,He(kt)}}}function $t(n){return!n.inPlaylist&&n.selected?"!text-lime-500":n.inPlaylist&&!n.selected?"!line-through":""}function xt(n,e){return e.find(t=>t.id===n.artist.id)}const el=n=>n.selected,tl=n=>n.inPlaylist,ll=n=>n.selected,nl=n=>n.selected,sl=n=>n.selected;function Sa(n,e,t){let l,s,i,a=G,r=()=>(a(),a=et(o,_=>t(4,i=_)),o);n.$$.on_destroy.push(()=>a());let{trackSelections:o}=e;r();let{artists:u=[]}=e,c={page:0,limit:10,size:10,amounts:[10,20,50,100]},h="";const f=Cl.humanizer({language:"shortEn",languages:{shortEn:{y:()=>"y.",mo:()=>"mo.",w:()=>"w.",d:()=>"d.",h:()=>"h.",m:()=>"m.",s:()=>"s.",ms:()=>"ms"}},units:["m","s"],largest:2});function g(){h=this.value,t(3,h)}const p=_=>{l.forEach(B=>{var L;return B.selected=(L=_.target)==null?void 0:L.checked}),o.update(B=>B)};function b(_,B){_[B].selected=this.checked,t(6,l),t(4,i),t(3,h),t(2,c)}const E=_=>es(_.album,o),A=_=>xn(_.album.id,o),v=_=>vt(_.artist.id,o),k=_=>_l(_.artist.id,o);function D(_){c=_,t(2,c),t(4,i)}return n.$$set=_=>{"trackSelections"in _&&r(t(0,o=_.trackSelections)),"artists"in _&&t(1,u=_.artists)},n.$$.update=()=>{n.$$.dirty&16&&t(2,c.size=i.length,c),n.$$.dirty&28&&t(6,l=i.filter(_=>!h||JSON.stringify(_.track).toLowerCase().includes(h.toLowerCase())).slice(c.page*c.limit,c.page*c.limit+c.limit)),n.$$.dirty&16&&t(5,s=i.reduce((_,B)=>Math.max(_,B.track.rank),0))},[o,u,c,h,i,s,l,f,g,p,b,E,A,v,k,D]}class Ca extends x{constructor(e){super(),ee(this,e,Sa,Pa,$,{trackSelections:0,artists:1})}}async function Ba(n,e,t,l){const s={request_method:"POST"};n.title&&(s.title=n.title),n.description&&(s.description=n.description),n.public!==void 0&&(s.public=n.public);try{const i=await Xe({apiPath:`/playlist/${n.id}`,searchParams:s});t.trigger({message:`Updated playlist: ${i?"OK":"KO"}`,timeout:3e3})}catch(i){t.trigger({message:`Updated playlist: error ${i}`,timeout:3e3})}await Na(n,e,t,l)}async function Na(n,e,t,l){try{const s=e.filter(a=>a.selected&&!a.inPlaylist).map(a=>a.track.id);await ct(n,s,"POST","songs",l);const i=e.filter(a=>!a.selected&&a.inPlaylist).map(a=>a.track.id);if(await ct(n,i,"DELETE","songs",l),s.length>0){const a=e.filter(r=>r.selected).map(r=>r.track.id);await ct(n,a,"POST","order",l)}if(l.set(void 0),s.length||i.length){const a=t.trigger({message:"Updated playlist tracks, refreshing playlist data"});await jl(),t.close(a)}}catch(s){t.trigger({message:`Updated playlist tracks: error ${s}`,timeout:3e3})}finally{l.set(void 0)}}async function ct(n,e,t,l,s){if(!e.length)return;s.set({message:`sending 0/${e.length} ${t} ${l} `,value:0,max:e.length});let i=0;const a=100;for(const r of Ia(e,a)){i+=a,s.set({message:`sending ${i} / ${e.length} ${t} ${l} `,value:i,max:e.length}),console.log(`sending ${t} ${l}=${JSON.stringify(r)}`);const o={request_method:t};o[l]=r.join(",");const u=await Xe({apiPath:`/playlist/${n.id}/tracks`,searchParams:o});if(console.log({updateResult:u}),!u)throw new Error(`unable to send ${t} ${l}=${JSON.stringify(r)}`)}}function Ia(n,e){const t=[];for(let l=0;l<n.length;l+=e)t.push(n.slice(l,l+e));return t}function al(n){let e,t=n[1].message+"",l,s,i,a,r;return{c(){e=w("span"),l=le(t),s=z(),i=w("progress"),this.h()},l(o){e=T(o,"SPAN",{});var u=S(e);l=ne(u,t),u.forEach(d),s=R(o),i=T(o,"PROGRESS",{max:!0}),S(i).forEach(d),this.h()},h(){i.value=a=n[1].value,m(i,"max",r=n[1].max)},m(o,u){I(o,e,u),y(e,l),I(o,s,u),I(o,i,u)},p(o,u){u&2&&t!==(t=o[1].message+"")&&Be(l,t),u&2&&a!==(a=o[1].value)&&(i.value=a),u&2&&r!==(r=o[1].max)&&m(i,"max",r)},d(o){o&&(d(e),d(s),d(i))}}}function Da(n){let e,t=n[1]&&al(n);return{c(){t&&t.c(),e=Re()},l(l){t&&t.l(l),e=Re()},m(l,s){t&&t.m(l,s),I(l,e,s)},p(l,[s]){l[1]?t?t.p(l,s):(t=al(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(l){l&&d(e),t&&t.d(l)}}}function Oa(n,e,t){let l,s=G,i=()=>(s(),s=et(a,r=>t(1,l=r)),a);n.$$.on_destroy.push(()=>s());let{updateTracksProgress:a}=e;return i(),n.$$set=r=>{"updateTracksProgress"in r&&i(t(0,a=r.updateTracksProgress))},[a,l]}class La extends x{constructor(e){super(),ee(this,e,Oa,Da,$,{updateTracksProgress:0})}}function za(n){let e;return{c(){e=le("tracks")},l(t){e=ne(t,"tracks")},m(t,l){I(t,e,l)},d(t){t&&d(e)}}}function Ra(n){let e;return{c(){e=le("description")},l(t){e=ne(t,"description")},m(t,l){I(t,e,l)},d(t){t&&d(e)}}}function ja(n){let e;return{c(){e=le("playlist artists")},l(t){e=ne(t,"playlist artists")},m(t,l){I(t,e,l)},d(t){t&&d(e)}}}function Ha(n){let e;return{c(){e=le("search new artists")},l(t){e=ne(t,"search new artists")},m(t,l){I(t,e,l)},d(t){t&&d(e)}}}function Za(n){let e,t,l,s,i,a,r,o,u,c,h,f;function g(_){n[14](_)}let p={name:"tabTracks",value:n[11].TRACKS,$$slots:{default:[za]},$$scope:{ctx:n}};n[1]!==void 0&&(p.group=n[1]),e=new nt({props:p}),Me.push(()=>Je(e,"group",g));function b(_){n[15](_)}let E={name:"tabMain",value:n[11].DESCRIPTION,$$slots:{default:[Ra]},$$scope:{ctx:n}};n[1]!==void 0&&(E.group=n[1]),s=new nt({props:E}),Me.push(()=>Je(s,"group",b));function A(_){n[16](_)}let v={name:"tabPlaylistArtists",value:n[11].PLAYLIST_ARTISTS,$$slots:{default:[ja]},$$scope:{ctx:n}};n[1]!==void 0&&(v.group=n[1]),r=new nt({props:v}),Me.push(()=>Je(r,"group",A));function k(_){n[17](_)}let D={name:"tabSearchArtists",value:n[11].SEARCH_ARTISTS,$$slots:{default:[Ha]},$$scope:{ctx:n}};return n[1]!==void 0&&(D.group=n[1]),c=new nt({props:D}),Me.push(()=>Je(c,"group",k)),{c(){U(e.$$.fragment),l=z(),U(s.$$.fragment),a=z(),U(r.$$.fragment),u=z(),U(c.$$.fragment)},l(_){V(e.$$.fragment,_),l=R(_),V(s.$$.fragment,_),a=R(_),V(r.$$.fragment,_),u=R(_),V(c.$$.fragment,_)},m(_,B){F(e,_,B),I(_,l,B),F(s,_,B),I(_,a,B),F(r,_,B),I(_,u,B),F(c,_,B),f=!0},p(_,B){const L={};B&262144&&(L.$$scope={dirty:B,ctx:_}),!t&&B&2&&(t=!0,L.group=_[1],Ge(()=>t=!1)),e.$set(L);const j={};B&262144&&(j.$$scope={dirty:B,ctx:_}),!i&&B&2&&(i=!0,j.group=_[1],Ge(()=>i=!1)),s.$set(j);const P={};B&262144&&(P.$$scope={dirty:B,ctx:_}),!o&&B&2&&(o=!0,P.group=_[1],Ge(()=>o=!1)),r.$set(P);const J={};B&262144&&(J.$$scope={dirty:B,ctx:_}),!h&&B&2&&(h=!0,J.group=_[1],Ge(()=>h=!1)),c.$set(J)},i(_){f||(C(e.$$.fragment,_),C(s.$$.fragment,_),C(r.$$.fragment,_),C(c.$$.fragment,_),f=!0)},o(_){N(e.$$.fragment,_),N(s.$$.fragment,_),N(r.$$.fragment,_),N(c.$$.fragment,_),f=!1},d(_){_&&(d(l),d(a),d(u)),q(e,_),q(s,_),q(r,_),q(c,_)}}}function Ma(n){let e,t="<i>you can add all tracks from a new artist from here</i>",l,s,i;return s=new Gn({}),s.$on("artistSelection",n[13]),{c(){e=w("p"),e.innerHTML=t,l=z(),U(s.$$.fragment),this.h()},l(a){e=T(a,"P",{class:!0,"data-svelte-h":!0}),_e(e)!=="svelte-1u82v8s"&&(e.innerHTML=t),l=R(a),V(s.$$.fragment,a),this.h()},h(){m(e,"class","my-4")},m(a,r){I(a,e,r),I(a,l,r),F(s,a,r),i=!0},p:G,i(a){i||(C(s.$$.fragment,a),i=!0)},o(a){N(s.$$.fragment,a),i=!1},d(a){a&&(d(e),d(l)),q(s,a)}}}function Ua(n){let e,t="<i>you can add/remove all tracks from a playlist artist from here</i>",l,s,i;return s=new ps({props:{playlistArtists:n[6],trackSelections:n[7]}}),{c(){e=w("p"),e.innerHTML=t,l=z(),U(s.$$.fragment)},l(a){e=T(a,"P",{"data-svelte-h":!0}),_e(e)!=="svelte-1vl5o0p"&&(e.innerHTML=t),l=R(a),V(s.$$.fragment,a)},m(a,r){I(a,e,r),I(a,l,r),F(s,a,r),i=!0},p:G,i(a){i||(C(s.$$.fragment,a),i=!0)},o(a){N(s.$$.fragment,a),i=!1},d(a){a&&(d(e),d(l)),q(s,a)}}}function Va(n){let e,t;return e=new Ca({props:{trackSelections:n[7],artists:n[3]}}),{c(){U(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&8&&(i.artists=l[3]),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Fa(n){let e,t;return e=new Bs({props:{playlist:n[0].playlist}}),{c(){U(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&1&&(i.playlist=l[0].playlist),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function qa(n){let e,t,l,s;const i=[Fa,Va,Ua,Ma],a=[];function r(o,u){return o[1]===o[11].DESCRIPTION?0:o[1]===o[11].TRACKS?1:o[1]===o[11].PLAYLIST_ARTISTS?2:o[1]===o[11].SEARCH_ARTISTS?3:-1}return~(e=r(n))&&(t=a[e]=i[e](n)),{c(){t&&t.c(),l=Re()},l(o){t&&t.l(o),l=Re()},m(o,u){~e&&a[e].m(o,u),I(o,l,u),s=!0},p(o,u){let c=e;e=r(o),e===c?~e&&a[e].p(o,u):(t&&(Te(),N(a[c],1,1,()=>{a[c]=null}),Ae()),~e?(t=a[e],t?t.p(o,u):(t=a[e]=i[e](o),t.c()),C(t,1),t.m(l.parentNode,l)):t=null)},i(o){s||(C(t),s=!0)},o(o){N(t),s=!1},d(o){o&&d(l),~e&&a[e].d(o)}}}function Ka(n){let e,t;return e=new bn({props:{$$slots:{panel:[qa],default:[Za]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,s){F(e,l,s),t=!0},p(l,s){const i={};s&262155&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Ga(n){let e,t,l,s,i,a,r,o,u;return t=new Us({}),t.$on("click",n[12]),s=new zs({props:{disabled:n[2].filter(il).length===0}}),s.$on("click",n[8]),a=new Ts({props:{disabled:n[2].filter(rl).length===0}}),a.$on("click",n[9]),o=new La({props:{updateTracksProgress:n[5]}}),{c(){e=w("div"),U(t.$$.fragment),l=z(),U(s.$$.fragment),i=z(),U(a.$$.fragment),r=z(),U(o.$$.fragment),this.h()},l(c){e=T(c,"DIV",{class:!0});var h=S(e);V(t.$$.fragment,h),l=R(h),V(s.$$.fragment,h),i=R(h),V(a.$$.fragment,h),h.forEach(d),r=R(c),V(o.$$.fragment,c),this.h()},h(){m(e,"class","btn-group variant-filled")},m(c,h){I(c,e,h),F(t,e,null),y(e,l),F(s,e,null),y(e,i),F(a,e,null),I(c,r,h),F(o,c,h),u=!0},p(c,h){const f={};h&4&&(f.disabled=c[2].filter(il).length===0),s.$set(f);const g={};h&4&&(g.disabled=c[2].filter(rl).length===0),a.$set(g)},i(c){u||(C(t.$$.fragment,c),C(s.$$.fragment,c),C(a.$$.fragment,c),C(o.$$.fragment,c),u=!0)},o(c){N(t.$$.fragment,c),N(s.$$.fragment,c),N(a.$$.fragment,c),N(o.$$.fragment,c),u=!1},d(c){c&&(d(e),d(r)),q(t),q(s),q(a),q(o,c)}}}function Ja(n){let e,t;return e=new Bl({props:{$$slots:{pageHeader:[Ga],default:[Ka]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,s){F(e,l,s),t=!0},p(l,[s]){const i={};s&262159&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}const il=n=>n.selected&&!n.track.readable,rl=n=>!n.selected&&!n.inPlaylist;function Ya(n,e,t){let l,s;const i=Rl(),a=st(void 0);let{data:r}=e;const o=st([]);xe(n,o,_=>t(3,s=_));const u=st([]);xe(n,u,_=>t(2,l=_));async function c(){try{const _=Ol(u);await Bn(_,i,a),u.set(_)}finally{a.set(void 0)}}function h(){u.update(_=>ts(_,i))}function f(_){l.length===0&&t(0,r.playlist.title=_.name+" - Full Discography",r),vt(_.id,u)}var g=(_=>(_[_.DESCRIPTION=0]="DESCRIPTION",_[_.TRACKS=1]="TRACKS",_[_.PLAYLIST_ARTISTS=2]="PLAYLIST_ARTISTS",_[_.SEARCH_ARTISTS=3]="SEARCH_ARTISTS",_))(g||{});let p=1;const b=()=>Ba(r.playlist,l,i,a),E=_=>f(_.detail);function A(_){p=_,t(1,p)}function v(_){p=_,t(1,p)}function k(_){p=_,t(1,p)}function D(_){p=_,t(1,p)}return n.$$set=_=>{"data"in _&&t(0,r=_.data)},n.$$.update=()=>{if(n.$$.dirty&1&&o.set(r.topArtists),n.$$.dirty&1){const _=r.playlist.tracks.data.map(B=>({track:B,inPlaylist:!0,selected:!0}));u.set(_)}},[r,p,l,s,i,a,o,u,c,h,f,g,b,E,A,v,k,D]}class ni extends x{constructor(e){super(),ee(this,e,Ya,Ja,$,{data:0})}}export{ni as component,li as universal};
