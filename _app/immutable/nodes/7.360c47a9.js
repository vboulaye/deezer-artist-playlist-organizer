import{d as pl,w as st}from"../chunks/paths.01299cca.js";import{e as Ve,d as bl,R as vl,c as Qe,r as kl,p as yl,u as wl,o as Tl}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.7d663352.js";import{g as ht,b as Al,h as El,P as Pl}from"../chunks/PlaylistApplicationShell.0f8b17be.js";import{s as $,f as P,g as S,h as C,d as m,j as d,i as D,S as dt,X as lt,C as U,D as X,e as je,a as H,c as Z,x as y,K as M,w as we,y as Te,z as Ae,A as Ee,Y as at,Z as ue,L as Re,_ as it,B as mt,O as oe,v as Ye,$ as Sl,a0 as We,p as Me,F as Oe,H as Ie,J as ze,I as Ne,Q as ae,r as G,M as Xe,l as te,m as le,n as ye,P as Bl,W as He,U as Ue,V as Ge,a1 as et,R as Ce,k as Cl,a2 as Et,o as Il,a3 as Nl,a4 as Dl}from"../chunks/scheduler.2b679851.js";import{S as x,i as ee,a as I,g as be,c as ve,t as N,j as Ll,k as Ol,b as V,d as F,m as q,e as K,o as Je}from"../chunks/index.975caa0b.js";import{a as Pe,s as Pt,H as tt,g as zl,e as Rl}from"../chunks/contextKeys.f70cb834.js";import{i as jl}from"../chunks/navigation.09f87d81.js";function St(n,e,t){const l=n.slice();return l[15]=e[t],l[17]=t,l}const Hl=n=>({}),Bt=n=>({}),Zl=n=>({}),Ct=n=>({}),Ml=n=>({}),It=n=>({}),Ul=n=>({}),Nt=n=>({}),Vl=n=>({}),Dt=n=>({}),Fl=n=>({}),Lt=n=>({});function ql(n){let e,t,l,a,i,s,r,o;const u=[Yl,Jl,Gl],c=[];function h(f,_){return _&1&&(t=null),_&1&&(l=null),t==null&&(t=!!al(f[0],f[17])),t?0:(l==null&&(l=!!il(f[0],f[17])),l?1:2)}return a=h(n,-1),i=c[a]=u[a](n),{c(){e=P("span"),i.c(),s=H(),this.h()},l(f){e=S(f,"SPAN",{class:!0});var _=C(e);i.l(_),s=Z(_),_.forEach(m),this.h()},h(){d(e,"class",r="rating-icon "+n[3])},m(f,_){D(f,e,_),c[a].m(e,null),y(e,s),o=!0},p(f,_){let p=a;a=h(f,_),a===p?c[a].p(f,_):(be(),N(c[p],1,1,()=>{c[p]=null}),ve(),i=c[a],i?i.p(f,_):(i=c[a]=u[a](f),i.c()),I(i,1),i.m(e,s)),(!o||_&8&&r!==(r="rating-icon "+f[3]))&&d(e,"class",r)},i(f){o||(I(i),o=!0)},o(f){N(i),o=!1},d(f){f&&m(e),c[a].d()}}}function Kl(n){let e,t,l,a,i,s,r,o,u,c;const h=[Ql,Xl,Wl],f=[];function _(g,E){return E&1&&(t=null),E&1&&(l=null),t==null&&(t=!!al(g[0],g[17])),t?0:(l==null&&(l=!!il(g[0],g[17])),l?1:2)}a=_(n,-1),i=f[a]=h[a](n);function p(){return n[12](n[17])}return{c(){e=P("button"),i.c(),s=H(),this.h()},l(g){e=S(g,"BUTTON",{class:!0,type:!0});var E=C(e);i.l(E),s=Z(E),E.forEach(m),this.h()},h(){d(e,"class",r="rating-icon "+n[3]),d(e,"type","button")},m(g,E){D(g,e,E),f[a].m(e,null),y(e,s),o=!0,u||(c=M(e,"click",p),u=!0)},p(g,E){n=g;let w=a;a=_(n,E),a===w?f[a].p(n,E):(be(),N(f[w],1,1,()=>{f[w]=null}),ve(),i=f[a],i?i.p(n,E):(i=f[a]=h[a](n),i.c()),I(i,1),i.m(e,s)),(!o||E&8&&r!==(r="rating-icon "+n[3]))&&d(e,"class",r)},i(g){o||(I(i),o=!0)},o(g){N(i),o=!1},d(g){g&&m(e),f[a].d(),u=!1,c()}}}function Gl(n){let e;const t=n[11].empty,l=we(t,n,n[10],Bt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&Te(l,t,a,a[10],e?Ee(t,a[10],i,Hl):Ae(a[10]),Bt)},i(a){e||(I(l,a),e=!0)},o(a){N(l,a),e=!1},d(a){l&&l.d(a)}}}function Jl(n){let e;const t=n[11].half,l=we(t,n,n[10],Ct);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&Te(l,t,a,a[10],e?Ee(t,a[10],i,Zl):Ae(a[10]),Ct)},i(a){e||(I(l,a),e=!0)},o(a){N(l,a),e=!1},d(a){l&&l.d(a)}}}function Yl(n){let e;const t=n[11].full,l=we(t,n,n[10],It);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&Te(l,t,a,a[10],e?Ee(t,a[10],i,Ml):Ae(a[10]),It)},i(a){e||(I(l,a),e=!0)},o(a){N(l,a),e=!1},d(a){l&&l.d(a)}}}function Wl(n){let e;const t=n[11].empty,l=we(t,n,n[10],Nt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&Te(l,t,a,a[10],e?Ee(t,a[10],i,Ul):Ae(a[10]),Nt)},i(a){e||(I(l,a),e=!0)},o(a){N(l,a),e=!1},d(a){l&&l.d(a)}}}function Xl(n){let e;const t=n[11].half,l=we(t,n,n[10],Dt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&Te(l,t,a,a[10],e?Ee(t,a[10],i,Vl):Ae(a[10]),Dt)},i(a){e||(I(l,a),e=!0)},o(a){N(l,a),e=!1},d(a){l&&l.d(a)}}}function Ql(n){let e;const t=n[11].full,l=we(t,n,n[10],Lt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&Te(l,t,a,a[10],e?Ee(t,a[10],i,Fl):Ae(a[10]),Lt)},i(a){e||(I(l,a),e=!0)},o(a){N(l,a),e=!1},d(a){l&&l.d(a)}}}function Ot(n){let e,t,l,a;const i=[Kl,ql],s=[];function r(o,u){return o[2]?0:1}return e=r(n),t=s[e]=i[e](n),{c(){t.c(),l=je()},l(o){t.l(o),l=je()},m(o,u){s[e].m(o,u),D(o,l,u),a=!0},p(o,u){let c=e;e=r(o),e===c?s[e].p(o,u):(be(),N(s[c],1,1,()=>{s[c]=null}),ve(),t=s[e],t?t.p(o,u):(t=s[e]=i[e](o),t.c()),I(t,1),t.m(l.parentNode,l))},i(o){a||(I(t),a=!0)},o(o){N(t),a=!1},d(o){o&&m(l),s[e].d(o)}}}function $l(n){let e,t,l,a=Ve({length:n[1]}),i=[];for(let r=0;r<a.length;r+=1)i[r]=Ot(St(n,a,r));const s=r=>N(i[r],1,1,()=>{i[r]=null});return{c(){e=P("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=S(r,"DIV",{class:!0,"data-testid":!0});var o=C(e);for(let u=0;u<i.length;u+=1)i[u].l(o);o.forEach(m),this.h()},h(){d(e,"class",t="ratings "+n[4]),d(e,"data-testid","rating-bar")},m(r,o){D(r,e,o);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);l=!0},p(r,[o]){if(o&1071){a=Ve({length:r[1]});let u;for(u=0;u<a.length;u+=1){const c=St(r,a,u);i[u]?(i[u].p(c,o),I(i[u],1)):(i[u]=Ot(c),i[u].c(),I(i[u],1),i[u].m(e,null))}for(be(),u=a.length;u<i.length;u+=1)s(u);ve()}(!l||o&16&&t!==(t="ratings "+r[4]))&&d(e,"class",t)},i(r){if(!l){for(let o=0;o<a.length;o+=1)I(i[o]);l=!0}},o(r){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)N(i[o]);l=!1},d(r){r&&m(e),dt(i,r)}}}const xl="w-full flex";function al(n,e){return Math.floor(n)>=e+1}function il(n,e){return n===e+.5}function en(n,e,t){let l,{$$slots:a={},$$scope:i}=e,{value:s=0}=e,{max:r=5}=e,{interactive:o=!1}=e,{text:u="text-token"}=e,{fill:c="fill-token"}=e,{justify:h="justify-center"}=e,{spacing:f="space-x-2"}=e,{regionIcon:_=""}=e;const p=lt();function g(w){p("icon",{index:w+1})}const E=w=>g(w);return n.$$set=w=>{t(14,e=U(U({},e),X(w))),"value"in w&&t(0,s=w.value),"max"in w&&t(1,r=w.max),"interactive"in w&&t(2,o=w.interactive),"text"in w&&t(6,u=w.text),"fill"in w&&t(7,c=w.fill),"justify"in w&&t(8,h=w.justify),"spacing"in w&&t(9,f=w.spacing),"regionIcon"in w&&t(3,_=w.regionIcon),"$$scope"in w&&t(10,i=w.$$scope)},n.$$.update=()=>{t(4,l=`${xl} ${u} ${c} ${h} ${f} ${e.class??""}`)},e=X(e),[s,r,o,_,l,g,u,c,h,f,i,a,E]}class tn extends x{constructor(e){super(),ee(this,e,en,$l,$,{value:0,max:1,interactive:2,text:6,fill:7,justify:8,spacing:9,regionIcon:3})}}function zt(n){let e,t;const l=n[22].default,a=we(l,n,n[21],null);return{c(){e=P("div"),a&&a.c(),this.h()},l(i){e=S(i,"DIV",{class:!0});var s=C(e);a&&a.l(s),s.forEach(m),this.h()},h(){d(e,"class","slide-toggle-text ml-3")},m(i,s){D(i,e,s),a&&a.m(e,null),t=!0},p(i,s){a&&a.p&&(!t||s[0]&2097152)&&Te(a,l,i,i[21],t?Ee(l,i[21],s,null):Ae(i[21]),null)},i(i){t||(I(a,i),t=!0)},o(i){N(a,i),t=!1},d(i){i&&m(e),a&&a.d(i)}}}function ln(n){let e,t,l,a,i,s,r,o,u,c,h,f,_,p,g,E=[{type:"checkbox"},{class:"slide-toggle-input hidden"},{name:n[1]},n[8](),{disabled:a=n[9].disabled}],w={};for(let v=0;v<E.length;v+=1)w=U(w,E[v]);let b=n[10].default&&zt(n);return{c(){e=P("div"),t=P("label"),l=P("input"),i=H(),s=P("div"),r=P("div"),c=H(),b&&b.c(),this.h()},l(v){e=S(v,"DIV",{id:!0,class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-checked":!0,tabindex:!0});var L=C(e);t=S(L,"LABEL",{class:!0});var k=C(t);l=S(k,"INPUT",{type:!0,class:!0,name:!0}),i=Z(k),s=S(k,"DIV",{class:!0});var T=C(s);r=S(T,"DIV",{class:!0}),C(r).forEach(m),T.forEach(m),c=Z(k),b&&b.l(k),k.forEach(m),L.forEach(m),this.h()},h(){at(l,w),d(r,"class",o="slide-toggle-thumb "+n[3]),ue(r,"cursor-not-allowed",n[9].disabled),d(s,"class",u="slide-toggle-track "+n[4]),ue(s,"cursor-not-allowed",n[9].disabled),d(t,"class",h="slide-toggle-label "+n[5]),d(e,"id",n[2]),d(e,"class",f="slide-toggle "+n[6]),d(e,"data-testid","slide-toggle"),d(e,"role","switch"),d(e,"aria-label",n[2]),d(e,"aria-checked",n[0]),d(e,"tabindex","0")},m(v,L){D(v,e,L),y(e,t),y(t,l),l.autofocus&&l.focus(),l.checked=n[0],y(t,i),y(t,s),y(s,r),y(t,c),b&&b.m(t,null),_=!0,p||(g=[M(l,"change",n[31]),M(l,"click",n[23]),M(l,"keydown",n[24]),M(l,"keyup",n[25]),M(l,"keypress",n[26]),M(l,"mouseover",n[27]),M(l,"change",n[28]),M(l,"focus",n[29]),M(l,"blur",n[30]),M(e,"keydown",n[7])],p=!0)},p(v,L){at(l,w=Pe(E,[{type:"checkbox"},{class:"slide-toggle-input hidden"},(!_||L[0]&2)&&{name:v[1]},v[8](),(!_||L[0]&512&&a!==(a=v[9].disabled))&&{disabled:a}])),L[0]&1&&(l.checked=v[0]),(!_||L[0]&8&&o!==(o="slide-toggle-thumb "+v[3]))&&d(r,"class",o),(!_||L[0]&520)&&ue(r,"cursor-not-allowed",v[9].disabled),(!_||L[0]&16&&u!==(u="slide-toggle-track "+v[4]))&&d(s,"class",u),(!_||L[0]&528)&&ue(s,"cursor-not-allowed",v[9].disabled),v[10].default?b?(b.p(v,L),L[0]&1024&&I(b,1)):(b=zt(v),b.c(),I(b,1),b.m(t,null)):b&&(be(),N(b,1,1,()=>{b=null}),ve()),(!_||L[0]&32&&h!==(h="slide-toggle-label "+v[5]))&&d(t,"class",h),(!_||L[0]&4)&&d(e,"id",v[2]),(!_||L[0]&64&&f!==(f="slide-toggle "+v[6]))&&d(e,"class",f),(!_||L[0]&4)&&d(e,"aria-label",v[2]),(!_||L[0]&1)&&d(e,"aria-checked",v[0])},i(v){_||(I(b),_=!0)},o(v){N(b),_=!1},d(v){v&&m(e),b&&b.d(),p=!1,Re(g)}}}const nn="inline-block",sn="unstyled flex items-center",an="flex transition-all duration-[200ms] cursor-pointer",rn="w-[50%] h-full scale-[0.8] transition-all duration-[200ms] shadow";function on(n,e,t){let l,a,i,s,r,o,u,c;const h=["name","checked","size","background","active","border","rounded","label"];let f=it(e,h),{$$slots:_={},$$scope:p}=e;const g=mt(_),E=lt();let{name:w}=e,{checked:b=!1}=e,{size:v="md"}=e,{background:L="bg-surface-400 dark:bg-surface-700"}=e,{active:k="bg-surface-900 dark:bg-surface-300"}=e,{border:T=""}=e,{rounded:O="rounded-full"}=e,{label:A=""}=e,B;switch(v){case"sm":B="w-12 h-6";break;case"lg":B="w-20 h-10";break;default:B="w-16 h-8"}function J(j){["Enter","Space"].includes(j.code)&&(j.preventDefault(),E("keyup",j),j.currentTarget.firstChild.click())}function ce(){return delete f.class,f}function Y(j){oe.call(this,n,j)}function Q(j){oe.call(this,n,j)}function ne(j){oe.call(this,n,j)}function Se(j){oe.call(this,n,j)}function me(j){oe.call(this,n,j)}function De(j){oe.call(this,n,j)}function Be(j){oe.call(this,n,j)}function he(j){oe.call(this,n,j)}function R(){b=this.checked,t(0,b)}return n.$$set=j=>{t(9,e=U(U({},e),X(j))),t(33,f=it(e,h)),"name"in j&&t(1,w=j.name),"checked"in j&&t(0,b=j.checked),"size"in j&&t(11,v=j.size),"background"in j&&t(12,L=j.background),"active"in j&&t(13,k=j.active),"border"in j&&t(14,T=j.border),"rounded"in j&&t(15,O=j.rounded),"label"in j&&t(2,A=j.label),"$$scope"in j&&t(21,p=j.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&12289&&t(19,l=b?k:`${L} cursor-pointer`),n.$$.dirty[0]&1&&t(18,a=b?"bg-white/75":"bg-white"),n.$$.dirty[0]&1&&t(17,i=b?"translate-x-full":""),t(20,s=e.disabled===!0?"opacity-50":"hover:brightness-[105%] dark:hover:brightness-110 cursor-pointer"),t(6,r=`${nn} ${O} ${s} ${e.class??""}`),n.$$.dirty[0]&638976&&t(4,u=`${an} ${T} ${O} ${B} ${l}`),n.$$.dirty[0]&425984&&t(3,c=`${rn} ${O} ${a} ${i}`)},t(5,o=`${sn}`),e=X(e),[b,w,A,c,u,o,r,J,ce,e,g,v,L,k,T,O,B,i,a,l,s,p,_,Y,Q,ne,Se,me,De,Be,he,R]}class un extends x{constructor(e){super(),ee(this,e,on,ln,$,{name:1,checked:0,size:11,background:12,active:13,border:14,rounded:15,label:2},null,[-1,-1])}}const cn=n=>({}),Rt=n=>({});function jt(n){let e,t,l;const a=n[17].panel,i=we(a,n,n[16],Rt);return{c(){e=P("div"),i&&i.c(),this.h()},l(s){e=S(s,"DIV",{class:!0,role:!0,"aria-labelledby":!0,tabindex:!0});var r=C(e);i&&i.l(r),r.forEach(m),this.h()},h(){d(e,"class",t="tab-panel "+n[2]),d(e,"role","tabpanel"),d(e,"aria-labelledby",n[1]),d(e,"tabindex","0")},m(s,r){D(s,e,r),i&&i.m(e,null),l=!0},p(s,r){i&&i.p&&(!l||r&65536)&&Te(i,a,s,s[16],l?Ee(a,s[16],r,cn):Ae(s[16]),Rt),(!l||r&4&&t!==(t="tab-panel "+s[2]))&&d(e,"class",t),(!l||r&2)&&d(e,"aria-labelledby",s[1])},i(s){l||(I(i,s),l=!0)},o(s){N(i,s),l=!1},d(s){s&&m(e),i&&i.d(s)}}}function fn(n){let e,t,l,a,i,s,r,o;const u=n[17].default,c=we(u,n,n[16],null);let h=n[5].panel&&jt(n);return{c(){e=P("div"),t=P("div"),c&&c.c(),a=H(),h&&h.c(),this.h()},l(f){e=S(f,"DIV",{class:!0,"data-testid":!0});var _=C(e);t=S(_,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var p=C(t);c&&c.l(p),p.forEach(m),a=Z(_),h&&h.l(_),_.forEach(m),this.h()},h(){d(t,"class",l="tab-list "+n[3]),d(t,"role","tablist"),d(t,"aria-labelledby",n[0]),d(e,"class",i="tab-group "+n[4]),d(e,"data-testid","tab-group")},m(f,_){D(f,e,_),y(e,t),c&&c.m(t,null),y(e,a),h&&h.m(e,null),s=!0,r||(o=[M(e,"click",n[18]),M(e,"keypress",n[19]),M(e,"keydown",n[20]),M(e,"keyup",n[21])],r=!0)},p(f,[_]){c&&c.p&&(!s||_&65536)&&Te(c,u,f,f[16],s?Ee(u,f[16],_,null):Ae(f[16]),null),(!s||_&8&&l!==(l="tab-list "+f[3]))&&d(t,"class",l),(!s||_&1)&&d(t,"aria-labelledby",f[0]),f[5].panel?h?(h.p(f,_),_&32&&I(h,1)):(h=jt(f),h.c(),I(h,1),h.m(e,null)):h&&(be(),N(h,1,1,()=>{h=null}),ve()),(!s||_&16&&i!==(i="tab-group "+f[4]))&&d(e,"class",i)},i(f){s||(I(c,f),I(h),s=!0)},o(f){N(c,f),N(h),s=!1},d(f){f&&m(e),c&&c.d(f),h&&h.d(),r=!1,Re(o)}}}const hn="space-y-4",dn="flex overflow-x-auto hide-scrollbar",mn="";function _n(n,e,t){let l,a,i,{$$slots:s={},$$scope:r}=e;const o=mt(s);let{justify:u="justify-start"}=e,{border:c="border-b border-surface-400-500-token"}=e,{active:h="border-b-2 border-surface-900-50-token"}=e,{hover:f="hover:variant-soft"}=e,{flex:_="flex-none"}=e,{padding:p="px-4 py-2"}=e,{rounded:g="rounded-tl-container-token rounded-tr-container-token"}=e,{spacing:E="space-y-1"}=e,{regionList:w=""}=e,{regionPanel:b=""}=e,{labelledby:v=""}=e,{panel:L=""}=e;Ye("active",h),Ye("hover",f),Ye("flex",_),Ye("padding",p),Ye("rounded",g),Ye("spacing",E);function k(B){oe.call(this,n,B)}function T(B){oe.call(this,n,B)}function O(B){oe.call(this,n,B)}function A(B){oe.call(this,n,B)}return n.$$set=B=>{t(22,e=U(U({},e),X(B))),"justify"in B&&t(6,u=B.justify),"border"in B&&t(7,c=B.border),"active"in B&&t(8,h=B.active),"hover"in B&&t(9,f=B.hover),"flex"in B&&t(10,_=B.flex),"padding"in B&&t(11,p=B.padding),"rounded"in B&&t(12,g=B.rounded),"spacing"in B&&t(13,E=B.spacing),"regionList"in B&&t(14,w=B.regionList),"regionPanel"in B&&t(15,b=B.regionPanel),"labelledby"in B&&t(0,v=B.labelledby),"panel"in B&&t(1,L=B.panel),"$$scope"in B&&t(16,r=B.$$scope)},n.$$.update=()=>{t(4,l=`${hn} ${e.class??""}`),n.$$.dirty&16576&&t(3,a=`${dn} ${u} ${c} ${w}`),n.$$.dirty&32768&&t(2,i=`${mn} ${b}`)},e=X(e),[v,L,i,a,l,o,u,c,h,f,_,p,g,E,w,b,r,s,k,T,O,A]}class gn extends x{constructor(e){super(),ee(this,e,_n,fn,$,{justify:6,border:7,active:8,hover:9,flex:10,padding:11,rounded:12,spacing:13,regionList:14,regionPanel:15,labelledby:0,panel:1})}}const pn=n=>({}),Ht=n=>({});function Zt(n){let e,t;const l=n[22].lead,a=we(l,n,n[21],Ht);return{c(){e=P("div"),a&&a.c(),this.h()},l(i){e=S(i,"DIV",{class:!0});var s=C(e);a&&a.l(s),s.forEach(m),this.h()},h(){d(e,"class","tab-lead")},m(i,s){D(i,e,s),a&&a.m(e,null),t=!0},p(i,s){a&&a.p&&(!t||s[0]&2097152)&&Te(a,l,i,i[21],t?Ee(l,i[21],s,pn):Ae(i[21]),Ht)},i(i){t||(I(a,i),t=!0)},o(i){N(a,i),t=!1},d(i){i&&m(e),a&&a.d(i)}}}function bn(n){let e,t,l,a,i,s,r,o,u,c,h,f,_,p,g,E=[{type:"radio"},{name:n[1]},{__value:n[2]},n[11](),{tabindex:"-1"}],w={};for(let k=0;k<E.length;k+=1)w=U(w,E[k]);let b=n[12].lead&&Zt(n);const v=n[22].default,L=we(v,n,n[21],null);return _=Sl(n[30][0]),{c(){e=P("label"),t=P("div"),l=P("div"),a=P("input"),i=H(),s=P("div"),b&&b.c(),r=H(),o=P("div"),L&&L.c(),this.h()},l(k){e=S(k,"LABEL",{class:!0,title:!0});var T=C(e);t=S(T,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0});var O=C(t);l=S(O,"DIV",{class:!0});var A=C(l);a=S(A,"INPUT",{type:!0,name:!0,tabindex:!0}),A.forEach(m),i=Z(O),s=S(O,"DIV",{class:!0});var B=C(s);b&&b.l(B),r=Z(B),o=S(B,"DIV",{class:!0});var J=C(o);L&&L.l(J),J.forEach(m),B.forEach(m),O.forEach(m),T.forEach(m),this.h()},h(){at(a,w),d(l,"class","h-0 w-0 overflow-hidden"),d(o,"class","tab-label"),d(s,"class",u="tab-interface "+n[8]),d(t,"class",c="tab "+n[7]),d(t,"data-testid","tab"),d(t,"role","tab"),d(t,"aria-controls",n[4]),d(t,"aria-selected",n[5]),d(t,"tabindex",h=n[5]?0:-1),d(e,"class",n[9]),d(e,"title",n[3]),_.p(a)},m(k,T){D(k,e,T),y(e,t),y(t,l),y(l,a),a.autofocus&&a.focus(),n[28](a),a.checked=a.__value===n[0],y(t,i),y(t,s),b&&b.m(s,null),y(s,r),y(s,o),L&&L.m(o,null),f=!0,p||(g=[M(a,"change",n[29]),M(a,"click",n[26]),M(a,"change",n[27]),M(t,"keydown",n[10]),M(t,"keydown",n[23]),M(t,"keyup",n[24]),M(t,"keypress",n[25])],p=!0)},p(k,T){at(a,w=Pe(E,[{type:"radio"},(!f||T[0]&2)&&{name:k[1]},(!f||T[0]&4)&&{__value:k[2]},k[11](),{tabindex:"-1"}])),T[0]&1&&(a.checked=a.__value===k[0]),k[12].lead?b?(b.p(k,T),T[0]&4096&&I(b,1)):(b=Zt(k),b.c(),I(b,1),b.m(s,r)):b&&(be(),N(b,1,1,()=>{b=null}),ve()),L&&L.p&&(!f||T[0]&2097152)&&Te(L,v,k,k[21],f?Ee(v,k[21],T,null):Ae(k[21]),null),(!f||T[0]&256&&u!==(u="tab-interface "+k[8]))&&d(s,"class",u),(!f||T[0]&128&&c!==(c="tab "+k[7]))&&d(t,"class",c),(!f||T[0]&16)&&d(t,"aria-controls",k[4]),(!f||T[0]&32)&&d(t,"aria-selected",k[5]),(!f||T[0]&32&&h!==(h=k[5]?0:-1))&&d(t,"tabindex",h),(!f||T[0]&512)&&d(e,"class",k[9]),(!f||T[0]&8)&&d(e,"title",k[3])},i(k){f||(I(b),I(L,k),f=!0)},o(k){N(b),N(L,k),f=!1},d(k){k&&m(e),n[28](null),b&&b.d(),L&&L.d(k),_.r(),p=!1,Re(g)}}}const vn="text-center cursor-pointer transition-colors duration-100",kn="";function yn(n,e,t){let l,a,i,s,r;const o=["group","name","value","title","controls","regionTab","active","hover","flex","padding","rounded","spacing"];let u=it(e,o),{$$slots:c={},$$scope:h}=e;const f=mt(c);let{group:_}=e,{name:p}=e,{value:g}=e,{title:E=""}=e,{controls:w=""}=e,{regionTab:b=""}=e,{active:v=We("active")}=e,{hover:L=We("hover")}=e,{flex:k=We("flex")}=e,{padding:T=We("padding")}=e,{rounded:O=We("rounded")}=e,{spacing:A=We("spacing")}=e,B;function J(R){if(["Enter","Space"].includes(R.code))R.preventDefault(),B.click();else if(R.code==="ArrowRight"){const j=B.closest(".tab-list");if(!j)return;const z=Array.from(j.querySelectorAll(".tab")),de=B.closest(".tab");if(!de)return;const fe=z.indexOf(de),_e=fe+1>=z.length?0:fe+1,ge=z[_e],pe=ge==null?void 0:ge.querySelector("input");ge&&pe&&(pe.click(),ge.focus())}else if(R.code==="ArrowLeft"){const j=B.closest(".tab-list");if(!j)return;const z=Array.from(j.querySelectorAll(".tab")),de=B.closest(".tab");if(!de)return;const fe=z.indexOf(de),_e=fe-1<0?z.length-1:fe-1,ge=z[_e],pe=ge==null?void 0:ge.querySelector("input");ge&&pe&&(pe.click(),ge.focus())}}function ce(){return delete u.class,u}const Y=[[]];function Q(R){oe.call(this,n,R)}function ne(R){oe.call(this,n,R)}function Se(R){oe.call(this,n,R)}function me(R){oe.call(this,n,R)}function De(R){oe.call(this,n,R)}function Be(R){Me[R?"unshift":"push"](()=>{B=R,t(6,B)})}function he(){_=this.__value,t(0,_)}return n.$$set=R=>{t(32,e=U(U({},e),X(R))),t(31,u=it(e,o)),"group"in R&&t(0,_=R.group),"name"in R&&t(1,p=R.name),"value"in R&&t(2,g=R.value),"title"in R&&t(3,E=R.title),"controls"in R&&t(4,w=R.controls),"regionTab"in R&&t(13,b=R.regionTab),"active"in R&&t(14,v=R.active),"hover"in R&&t(15,L=R.hover),"flex"in R&&t(16,k=R.flex),"padding"in R&&t(17,T=R.padding),"rounded"in R&&t(18,O=R.rounded),"spacing"in R&&t(19,A=R.spacing),"$$scope"in R&&t(21,h=R.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&5&&t(5,l=g===_),n.$$.dirty[0]&49184&&t(20,a=l?v:L),t(9,i=`${vn} ${k} ${T} ${O} ${a} ${e.class??""}`),n.$$.dirty[0]&524288&&t(8,s=`${kn} ${A}`),n.$$.dirty[0]&8192&&t(7,r=`${b}`)},e=X(e),[_,p,g,E,w,l,B,r,s,i,J,ce,f,b,v,L,k,T,O,A,a,h,c,Q,ne,Se,me,De,Be,he,Y]}class nt extends x{constructor(e){super(),ee(this,e,yn,bn,$,{group:0,name:1,value:2,title:3,controls:4,regionTab:13,active:14,hover:15,flex:16,padding:17,rounded:18,spacing:19},null,[-1,-1])}}var _t={exports:{}};function rl(){var n=Object.create(null),e=0,t=0,l=0,a=!1;this.put=function(s,r,o,u){if(a&&console.log("caching: %s = %j (@%s)",s,r,o),typeof o<"u"&&(typeof o!="number"||isNaN(o)||o<=0))throw new Error("Cache timeout must be a positive number");if(typeof u<"u"&&typeof u!="function")throw new Error("Cache timeout callback must be a function");var c=n[s];c?clearTimeout(c.timeout):l++;var h={value:r,expire:o+Date.now()};return isNaN(h.expire)||(h.timeout=setTimeout((function(){i(s),u&&u(s,r)}).bind(this),o)),n[s]=h,r},this.del=function(s){var r=!0,o=n[s];return o?(clearTimeout(o.timeout),!isNaN(o.expire)&&o.expire<Date.now()&&(r=!1)):r=!1,r&&i(s),r};function i(s){l--,delete n[s]}this.clear=function(){for(var s in n)clearTimeout(n[s].timeout);l=0,n=Object.create(null),a&&(e=0,t=0)},this.get=function(s){var r=n[s];if(typeof r<"u"){if(isNaN(r.expire)||r.expire>=Date.now())return a&&e++,r.value;a&&t++,l--,delete n[s]}else a&&t++;return null},this.size=function(){return l},this.memsize=function(){var s=0,r;for(r in n)s++;return s},this.debug=function(s){a=s},this.hits=function(){return e},this.misses=function(){return t},this.keys=function(){return Object.keys(n)},this.exportJson=function(){var s={};for(var r in n){var o=n[r];s[r]={value:o.value,expire:o.expire||"NaN"}}return JSON.stringify(s)},this.importJson=function(s,r){var o=JSON.parse(s),u=Date.now(),c=r&&r.skipDuplicates;for(var h in o)if(o.hasOwnProperty(h)){if(c){var f=n[h];if(f){a&&console.log("Skipping duplicate imported key '%s'",h);continue}}var _=o[h],p=_.expire-u;if(p<=0){this.del(h);continue}p=p>0?p:void 0,this.put(h,_.value,p)}return this.size()}}_t.exports=new rl;_t.exports.Cache=rl;var wn=_t.exports;const Mt=bl(wn);class ol{constructor(e,t){this.cacheName=e,this.ttl=t}get(e){return Mt.get(this.buildKey(e))}buildKey(e){return this.cacheName+"~"+e}put(e,t){Mt.put(this.buildKey(e),t,this.ttl)}}const gt=vl.extend("api-query"),Ut=new ol("ARTIST",3600*1e3),Vt=new ol("ARTIST-DISCOGRAPHY",3600*1e3);async function Tn(n){gt("getDeezerArtist "+n);const e=Ut.get(n);if(e)return e;const t=await Qe({apiPath:"/artist/"+n});return Ut.put(n,t),t}async function ul(n){return gt("getAlbumTracks "+n),await ht({apiPath:"/album/"+n+"/tracks",index:0,limit:100})}async function cl(n){gt("getDeezerArtistDiscography "+n);const e=Vt.get(n);if(e)return e;const t=await ht({apiPath:"/artist/"+n+"/albums",index:0,limit:100}),l=await Promise.all(t.data.map(async a=>{const i=await ul(a.id);return{...a,tracks:i.data}}));return Vt.put(n,l),l}const An=!1;async function En(n){if(n==="NEW"){const e=new Date().toISOString(),t=await Qe({apiPath:"/user/me/playlists",searchParams:{request_method:"POST",title:`New Playlist ${e}`,description:`Playlist created with deezer-artist-playlist-organizer on the ${e}`,public:!0}});throw kl(302,"./"+t.id)}return n}async function Pn({params:n}){const e=await En(n.id),t=await Qe({apiPath:`/playlist/${e}`}),l=t.tracks.data.reduce((s,r)=>(s[r.artist.id]||(s[r.artist.id]={artist:r.artist,count:0}),s[r.artist.id].count++,s),{}),a=Object.values(l).sort((s,r)=>r.count-s.count);if(t.nb_tracks>400){const s=await ht({apiPath:`/playlist/${e}/tracks`,limit:100,index:t.tracks.data.length});t.tracks.data=[...t.tracks.data,...s.data]}const i=Promise.all(a.map(async s=>await Tn(s.artist.id)));return{playlist:t,topArtists:i}}const Ka=Object.freeze(Object.defineProperty({__proto__:null,load:Pn,ssr:An},Symbol.toStringTag,{value:"Module"}));function Sn(n){let e,t,l='<path fill="currentColor" d="M216 36H68.53a20.09 20.09 0 0 0-17.15 9.71L5.71 121.83a12 12 0 0 0 0 12.34l45.67 76.12A20.09 20.09 0 0 0 68.53 220H216a20 20 0 0 0 20-20V56a20 20 0 0 0-20-20Zm-4 160H70.8L30 128l40.8-68H212Zm-108.49-52.49L119 128l-15.52-15.51a12 12 0 0 1 17-17L136 111l15.51-15.52a12 12 0 0 1 17 17L153 128l15.52 15.51a12 12 0 0 1-17 17L136 145l-15.51 15.52a12 12 0 0 1-17-17Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=U(i,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var r=C(e);t=Ne(r,!0),r.forEach(m),this.h()},h(){t.a=null,ae(e,i)},m(s,r){D(s,e,r),t.m(l,e)},p(s,[r]){ae(e,i=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:G,o:G,d(s){s&&m(e)}}}function Bn(n,e,t){return n.$$set=l=>{t(0,e=U(U({},e),X(l)))},e=X(e),[e]}class Cn extends x{constructor(e){super(),ee(this,e,Bn,Sn,$,{})}}function In(n){let e,t,l='<path fill="currentColor" d="M160 36a92.09 92.09 0 0 0-81 48.36A68 68 0 1 0 72 220h88a92 92 0 0 0 0-184Zm0 160H72a44 44 0 0 1-1.82-88A91.86 91.86 0 0 0 68 128a12 12 0 0 0 24 0a68 68 0 1 1 68 68Zm40.49-92.49a12 12 0 0 1 0 17l-48 48a12 12 0 0 1-17 0l-24-24a12 12 0 1 1 17-17L144 143l39.51-39.52a12 12 0 0 1 16.98.03Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=U(i,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var r=C(e);t=Ne(r,!0),r.forEach(m),this.h()},h(){t.a=null,ae(e,i)},m(s,r){D(s,e,r),t.m(l,e)},p(s,[r]){ae(e,i=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:G,o:G,d(s){s&&m(e)}}}function Nn(n,e,t){return n.$$set=l=>{t(0,e=U(U({},e),X(l)))},e=X(e),[e]}class Dn extends x{constructor(e){super(),ee(this,e,Nn,In,$,{})}}function Ln(n){let e,t,l='<path fill="currentColor" d="M136.37 187.53a12 12 0 0 1 0 17l-5.94 5.94a60 60 0 0 1-84.88-84.88l24.12-24.11A60 60 0 0 1 152 99a12 12 0 1 1-16 18a36 36 0 0 0-49.37 1.47l-24.1 24.08a36 36 0 0 0 50.92 50.92l5.94-5.94a12 12 0 0 1 16.98 0Zm74.08-142a60.09 60.09 0 0 0-84.88 0l-5.94 5.94a12 12 0 0 0 17 17l5.94-5.94a36 36 0 0 1 50.92 50.92l-24.11 24.12A36 36 0 0 1 120 139a12 12 0 1 0-16 18a60 60 0 0 0 82.3-2.43l24.12-24.11a60.09 60.09 0 0 0 .03-84.91Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=U(i,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var r=C(e);t=Ne(r,!0),r.forEach(m),this.h()},h(){t.a=null,ae(e,i)},m(s,r){D(s,e,r),t.m(l,e)},p(s,[r]){ae(e,i=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:G,o:G,d(s){s&&m(e)}}}function On(n,e,t){return n.$$set=l=>{t(0,e=U(U({},e),X(l)))},e=X(e),[e]}class zn extends x{constructor(e){super(),ee(this,e,On,Ln,$,{})}}async function Rn(n,e,t){const l=n.filter(s=>s.selected&&s.track.readable).length,a=n.filter(s=>s.selected&&!s.track.readable);for(let s=0;s<a.length;s++){const r=a[s];t.set({message:`trying to fix track ${s} / ${a.length}`,value:s,max:a.length});const o=r.track,u=await jn(o,e);if(u){console.log("adding alternative to "+r.track.id+" : "+u.title),r.selected=!1;const c=n.indexOf(r);n.splice(c+1,0,{selected:!0,inPlaylist:!1,track:u})}}const i=n.filter(s=>s.selected&&s.track.readable).length;e.trigger({message:`Reattached ${i-l} track(s) to readable equivalents.<br/>(${n.filter(s=>s.selected).length-i} unreadable track remaining)`,timeout:1e4})}async function jn(n,e){const t=await cl(n.artist.id);if(!t){e.trigger({message:`Could not find artist ${n.artist.name}`,timeout:3e3});return}const l=t.flatMap(s=>{const{tracks:r,...o}=s;return s.tracks.map(u=>({...u,album:o}))}).filter(s=>s.id!==n.id&&s.readable),a={sensitivity:"base",ignorePunctuation:!0,numeric:!1,usage:"search"},i=l.filter(s=>s.title.localeCompare(n.title,void 0,a)===0);switch(i.length){case 0:console.log("no match by title",{unreadableTrack:n}),e.trigger({message:`Could not find matching track for '${n.title}' in album '${n.album.title}' by '${n.artist.name}'`,timeout:3e3});return;case 1:return i[0];default:{const s=Object.values(i.reduce((o,u)=>(o[u.isrc]=u,o),{}));if(s.length===1)return s[0];const r=i.filter(o=>o.album.title.localeCompare(n.album.title,void 0,a)===0);switch(r.length){case 0:console.log("no match by title and album",{unreadableTrack:n}),e.trigger({message:`Could not find matching track for '${n.title}' in album '${n.album.title}' by '${n.artist.name}'`,timeout:3e3});return;case 1:return r[0];default:{const o=Object.values(r.reduce((u,c)=>(u[c.isrc]=c,u),{}));if(o.length===1)return o[0];console.log("multiple match by title",{unreadableTrack:n,matchingTracksByTitleAndAlbum:r}),e.trigger({message:`Found multiple matching tracks for '${n.title}' in album '${n.album.title}' : ${r.map(u=>u.id)}`,timeout:3e3});return}}}}}function Ft(n,e,t){const l=n.slice();return l[37]=e[t],l}const Hn=n=>({option:n[0]&16512,classesButton:n[0]&512}),qt=n=>({option:n[37],classesButton:n[9],onSelection:n[15]});function Zn(n){let e,t,l;return{c(){e=P("div"),t=te(n[1]),this.h()},l(a){e=S(a,"DIV",{class:!0});var i=C(e);t=le(i,n[1]),i.forEach(m),this.h()},h(){d(e,"class",l="autocomplete-empty "+n[8])},m(a,i){D(a,e,i),y(e,t)},p(a,i){i[0]&2&&ye(t,a[1]),i[0]&256&&l!==(l="autocomplete-empty "+a[8])&&d(e,"class",l)},i:G,o:G,d(a){a&&m(e)}}}function Mn(n){let e,t,l=[],a=new Map,i,s,r,o=Ve(n[7].slice(0,n[14]));const u=c=>c[37];for(let c=0;c<o.length;c+=1){let h=Ft(n,o,c),f=u(h);a.set(f,l[c]=Kt(f,h))}return{c(){e=P("nav"),t=P("ul");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=S(c,"NAV",{class:!0});var h=C(e);t=S(h,"UL",{class:!0});var f=C(t);for(let _=0;_<l.length;_+=1)l[_].l(f);f.forEach(m),h.forEach(m),this.h()},h(){d(t,"class",i="autocomplete-list "+n[11]),d(e,"class",s="autocomplete-nav "+n[12])},m(c,h){D(c,e,h),y(e,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);r=!0},p(c,h){h[0]&134268644&&(o=Ve(c[7].slice(0,c[14])),be(),l=wl(l,h,u,1,c,o,a,t,Tl,Kt,null,Ft),ve()),(!r||h[0]&2048&&i!==(i="autocomplete-list "+c[11]))&&d(t,"class",i),(!r||h[0]&4096&&s!==(s="autocomplete-nav "+c[12]))&&d(e,"class",s)},i(c){if(!r){for(let h=0;h<o.length;h+=1)I(l[h]);r=!0}},o(c){for(let h=0;h<l.length;h+=1)N(l[h]);r=!1},d(c){c&&m(e);for(let h=0;h<l.length;h+=1)l[h].d()}}}function Un(n){let e,t,l=n[37].label+"",a,i,s;function r(){return n[31](n[37])}return{c(){e=P("button"),t=new Ie(!1),this.h()},l(o){e=S(o,"BUTTON",{class:!0,type:!0});var u=C(e);t=Ne(u,!1),u.forEach(m),this.h()},h(){t.a=null,d(e,"class",a="autocomplete-button "+n[9]),d(e,"type","button")},m(o,u){D(o,e,u),t.m(l,e),i||(s=[M(e,"click",r),M(e,"click",n[29]),M(e,"keypress",n[30])],i=!0)},p(o,u){n=o,u[0]&16512&&l!==(l=n[37].label+"")&&t.p(l),u[0]&512&&a!==(a="autocomplete-button "+n[9])&&d(e,"class",a)},d(o){o&&m(e),i=!1,Re(s)}}}function Kt(n,e){let t,l,a,i,s,r;const o=e[28].optionButton,u=we(o,e,e[27],qt),c=u||Un(e);return{key:n,first:null,c(){t=P("li"),c&&c.c(),l=H(),this.h()},l(h){t=S(h,"LI",{class:!0});var f=C(t);c&&c.l(f),l=Z(f),f.forEach(m),this.h()},h(){d(t,"class",a="autocomplete-item "+e[10]),this.first=t},m(h,f){D(h,t,f),c&&c.m(t,null),y(t,l),r=!0},p(h,f){e=h,u?u.p&&(!r||f[0]&134234752)&&Te(u,o,e,e[27],r?Ee(o,e[27],f,Hn):Ae(e[27]),qt):c&&c.p&&(!r||f[0]&17024)&&c.p(e,r?f:[-1,-1]),(!r||f[0]&1024&&a!==(a="autocomplete-item "+e[10]))&&d(t,"class",a)},i(h){r||(I(c,h),h&&Bl(()=>{r&&(s&&s.end(1),i=Ll(t,e[0],{transition:e[3],params:e[4],enabled:e[2]}),i.start())}),r=!0)},o(h){N(c,h),i&&i.invalidate(),h&&(s=Ol(t,e[0],{transition:e[5],params:e[6],enabled:e[2]})),r=!1},d(h){h&&m(t),c&&c.d(h),h&&s&&s.end()}}}function Vn(n){let e,t,l,a,i;const s=[Mn,Zn],r=[];function o(u,c){return u[7].length>0?0:1}return t=o(n),l=r[t]=s[t](n),{c(){e=P("div"),l.c(),this.h()},l(u){e=S(u,"DIV",{class:!0,"data-testid":!0});var c=C(e);l.l(c),c.forEach(m),this.h()},h(){d(e,"class",a="autocomplete "+n[13]),d(e,"data-testid","autocomplete")},m(u,c){D(u,e,c),r[t].m(e,null),i=!0},p(u,c){let h=t;t=o(u),t===h?r[t].p(u,c):(be(),N(r[h],1,1,()=>{r[h]=null}),ve(),l=r[t],l?l.p(u,c):(l=r[t]=s[t](u),l.c()),I(l,1),l.m(e,null)),(!i||c[0]&8192&&a!==(a="autocomplete "+u[13]))&&d(e,"class",a)},i(u){i||(I(l),i=!0)},o(u){N(l),i=!1},d(u){u&&m(e),r[t].d()}}}function fl(n,e){const{transition:t,params:l,enabled:a}=e;return a?t(n,l):"duration"in l?t(n,{duration:0}):{duration:0}}function Fn(n,e,t){let l,a,i,s,r,o,u,c,h,f;Xe(n,yl,z=>t(32,f=z));let{$$slots:_={},$$scope:p}=e;const g=lt();let{input:E=void 0}=e,{options:w=[]}=e,{limit:b=void 0}=e,{allowlist:v=[]}=e,{denylist:L=[]}=e,{emptyState:k="No Results Found."}=e,{regionNav:T=""}=e,{regionList:O="list-nav"}=e,{regionItem:A=""}=e,{regionButton:B="w-full"}=e,{regionEmpty:J="text-center"}=e,{transitions:ce=!f}=e,{transitionIn:Y=Pt}=e,{transitionInParams:Q={duration:200}}=e,{transitionOut:ne=Pt}=e,{transitionOutParams:Se={duration:200}}=e;function me(z,de){let fe=[...w];z.length&&(fe=fe.filter(_e=>z.includes(_e.value))),de.length&&(fe=fe.filter(_e=>!de.includes(_e.value))),!z.length&&!de.length&&(fe=w),t(26,l=fe)}function De(){let z=[...l];return z=z.filter(de=>{const fe=String(E).toLowerCase().trim();if(JSON.stringify([de.label,de.value,de.keywords]).toLowerCase().includes(fe))return de}),z}function Be(z){g("selection",z)}function he(z){oe.call(this,n,z)}function R(z){oe.call(this,n,z)}const j=z=>Be(z);return n.$$set=z=>{t(36,e=U(U({},e),X(z))),"input"in z&&t(16,E=z.input),"options"in z&&t(17,w=z.options),"limit"in z&&t(18,b=z.limit),"allowlist"in z&&t(19,v=z.allowlist),"denylist"in z&&t(20,L=z.denylist),"emptyState"in z&&t(1,k=z.emptyState),"regionNav"in z&&t(21,T=z.regionNav),"regionList"in z&&t(22,O=z.regionList),"regionItem"in z&&t(23,A=z.regionItem),"regionButton"in z&&t(24,B=z.regionButton),"regionEmpty"in z&&t(25,J=z.regionEmpty),"transitions"in z&&t(2,ce=z.transitions),"transitionIn"in z&&t(3,Y=z.transitionIn),"transitionInParams"in z&&t(4,Q=z.transitionInParams),"transitionOut"in z&&t(5,ne=z.transitionOut),"transitionOutParams"in z&&t(6,Se=z.transitionOutParams),"$$scope"in z&&t(27,p=z.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&131072&&t(26,l=w),n.$$.dirty[0]&1572864&&me(v,L),n.$$.dirty[0]&67174400&&t(7,a=E?De():l),n.$$.dirty[0]&262272&&t(14,i=b!==void 0?b:a.length),t(13,s=`${e.class??""}`),n.$$.dirty[0]&2097152&&t(12,r=`${T}`),n.$$.dirty[0]&4194304&&t(11,o=`${O}`),n.$$.dirty[0]&8388608&&t(10,u=`${A}`),n.$$.dirty[0]&16777216&&t(9,c=`${B}`),n.$$.dirty[0]&33554432&&t(8,h=`${J}`)},e=X(e),[fl,k,ce,Y,Q,ne,Se,a,h,c,u,o,r,s,i,Be,E,w,b,v,L,T,O,A,B,J,l,p,_,he,R,j]}class qn extends x{constructor(e){super(),ee(this,e,Fn,Vn,$,{dynamicTransition:0,input:16,options:17,limit:18,allowlist:19,denylist:20,emptyState:1,regionNav:21,regionList:22,regionItem:23,regionButton:24,regionEmpty:25,transitions:2,transitionIn:3,transitionInParams:4,transitionOut:5,transitionOutParams:6},null,[-1,-1])}get dynamicTransition(){return fl}}function Kn(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm52-84a12 12 0 0 1-12 12h-28v28a12 12 0 0 1-24 0v-28H88a12 12 0 0 1 0-24h28V88a12 12 0 0 1 24 0v28h28a12 12 0 0 1 12 12Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=U(i,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var r=C(e);t=Ne(r,!0),r.forEach(m),this.h()},h(){t.a=null,ae(e,i)},m(s,r){D(s,e,r),t.m(l,e)},p(s,[r]){ae(e,i=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:G,o:G,d(s){s&&m(e)}}}function Gn(n,e,t){return n.$$set=l=>{t(0,e=U(U({},e),X(l)))},e=X(e),[e]}class pt extends x{constructor(e){super(),ee(this,e,Gn,Kn,$,{})}}function Jn(n){let e,t,l,a,i,s=n[0].name+"",r,o,u,c,h=n[0].nb_album+"",f,_,p,g,E,w,b,v,L,k;return w=new pt({}),{c(){e=P("span"),t=P("span"),l=P("img"),i=H(),r=te(s),o=H(),u=P("span"),c=P("small"),f=te(h),_=te(" albums"),p=H(),g=P("span"),E=P("button"),V(w.$$.fragment),this.h()},l(T){e=S(T,"SPAN",{class:!0});var O=C(e);t=S(O,"SPAN",{class:!0});var A=C(t);l=S(A,"IMG",{src:!0,alt:!0,class:!0}),i=Z(A),r=le(A,s),A.forEach(m),o=Z(O),u=S(O,"SPAN",{class:!0});var B=C(u);c=S(B,"SMALL",{});var J=C(c);f=le(J,h),_=le(J," albums"),J.forEach(m),B.forEach(m),p=Z(O),g=S(O,"SPAN",{class:!0});var ce=C(g);E=S(ce,"BUTTON",{class:!0,title:!0});var Y=C(E);F(w.$$.fragment,Y),Y.forEach(m),ce.forEach(m),O.forEach(m),this.h()},h(){He(l.src,a=n[0].picture_small)||d(l,"src",a),d(l,"alt","artist"),d(l,"class","mx-2"),d(t,"class","flex items-center w-1/3"),d(u,"class","w-1/4"),d(E,"class","!p-0"),d(E,"title","add all artist titles to the playlist"),d(g,"class","btn-group-vertical btn btn-sm gap-y-1"),d(e,"class",b="flex justify-between w-full items-center py-1 "+n[1])},m(T,O){D(T,e,O),y(e,t),y(t,l),y(t,i),y(t,r),y(e,o),y(e,u),y(u,c),y(c,f),y(c,_),y(e,p),y(e,g),y(g,E),q(w,E,null),v=!0,L||(k=[M(E,"click",n[2]),M(E,"pointerenter",n[3]),M(E,"pointerleave",n[4])],L=!0)},p(T,[O]){(!v||O&1&&!He(l.src,a=T[0].picture_small))&&d(l,"src",a),(!v||O&1)&&s!==(s=T[0].name+"")&&ye(r,s),(!v||O&1)&&h!==(h=T[0].nb_album+"")&&ye(f,h),(!v||O&2&&b!==(b="flex justify-between w-full items-center py-1 "+T[1]))&&d(e,"class",b)},i(T){v||(I(w.$$.fragment,T),v=!0)},o(T){N(w.$$.fragment,T),v=!1},d(T){T&&m(e),K(w),L=!1,Re(k)}}}function Yn(n,e,t){let{artist:l}=e,a="";function i(o){oe.call(this,n,o)}const s=()=>t(1,a="variant-ghost-success"),r=()=>t(1,a="");return n.$$set=o=>{"artist"in o&&t(0,l=o.artist)},[l,a,i,s,r]}class Wn extends x{constructor(e){super(),ee(this,e,Yn,Jn,$,{artist:0})}}function Xn(n){let e,t;function l(){return n[6](n[8])}return e=new Wn({props:{artist:n[8].meta}}),e.$on("click",l),{c(){V(e.$$.fragment)},l(a){F(e.$$.fragment,a)},m(a,i){q(e,a,i),t=!0},p(a,i){n=a;const s={};i&256&&(s.artist=n[8].meta),e.$set(s)},i(a){t||(I(e.$$.fragment,a),t=!0)},o(a){N(e.$$.fragment,a),t=!1},d(a){K(e,a)}}}function Qn(n){let e,t,l,a,i,s,r,o,u;function c(f){n[7](f)}let h={options:n[1],$$slots:{optionButton:[Xn,({option:f})=>({8:f}),({option:f})=>f?256:0]},$$scope:{ctx:n}};return n[0]!==void 0&&(h.input=n[0]),i=new qn({props:h}),Me.push(()=>Je(i,"input",c)),{c(){e=P("span"),t=P("input"),l=H(),a=P("span"),V(i.$$.fragment),this.h()},l(f){e=S(f,"SPAN",{class:!0});var _=C(e);t=S(_,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),l=Z(_),a=S(_,"SPAN",{class:!0,tabindex:!0});var p=C(a);F(i.$$.fragment,p),p.forEach(m),_.forEach(m),this.h()},h(){d(t,"class","input"),d(t,"type","search"),d(t,"name","demo"),d(t,"placeholder","Search..."),d(a,"class","card w-full max-h-fit p-4 overflow-y-auto inline-block"),d(a,"tabindex","-1"),d(e,"class","my-4")},m(f,_){D(f,e,_),y(e,t),Ue(t,n[0]),y(e,l),y(e,a),q(i,a,null),r=!0,o||(u=M(t,"input",n[5]),o=!0)},p(f,[_]){_&1&&t.value!==f[0]&&Ue(t,f[0]);const p={};_&2&&(p.options=f[1]),_&768&&(p.$$scope={dirty:_,ctx:f}),!s&&_&1&&(s=!0,p.input=f[0],Ge(()=>s=!1)),i.$set(p)},i(f){r||(I(i.$$.fragment,f),r=!0)},o(f){N(i.$$.fragment,f),r=!1},d(f){f&&m(e),K(i),o=!1,u()}}}function $n(n,e,t){let l,a;const i=st("");Xe(n,i,h=>t(0,l=h));const s=lt(),r=pl(i,(h,f)=>{if(!h){f([]);return}Qe({apiPath:"/search/artist",searchParams:{q:h}}).then(_=>{const p=_.data.map(g=>({label:`<span class="flex justify-between w-full items-center">
<span class="flex items-center"> <img src="${g.picture_small}" class="mx-2"/>${g.name}</span>
 <button class="btn-icon btn-icon-sm variant-outline-tertiary" title="add all artist titles to the playlist">add</button></span>`,value:g.id,meta:g}));f(p)})});Xe(n,r,h=>t(1,a=h));function o(){l=this.value,i.set(l)}const u=h=>s("artistSelection",h.meta);function c(h){l=h,i.set(l)}return[l,a,i,s,r,o,u,c]}class xn extends x{constructor(e){super(),ee(this,e,$n,Qn,$,{})}}function es(n){let e,t,l='<path fill="currentColor" d="M128 128a12 12 0 0 1-12 12H48a12 12 0 0 1 0-24h68a12 12 0 0 1 12 12ZM48 76h132a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm52 104H48a12 12 0 0 0 0 24h52a12 12 0 0 0 0-24Zm132.49-20.49a12 12 0 0 0-17 0L196 179v-67a12 12 0 0 0-24 0v67l-19.51-19.52a12 12 0 0 0-17 17l40 40a12 12 0 0 0 17 0l40-40a12 12 0 0 0 0-16.97Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=U(i,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var r=C(e);t=Ne(r,!0),r.forEach(m),this.h()},h(){t.a=null,ae(e,i)},m(s,r){D(s,e,r),t.m(l,e)},p(s,[r]){ae(e,i=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:G,o:G,d(s){s&&m(e)}}}function ts(n,e,t){return n.$$set=l=>{t(0,e=U(U({},e),X(l)))},e=X(e),[e]}class ls extends x{constructor(e){super(),ee(this,e,ts,es,$,{})}}function ns(n){let e,t,l='<path fill="currentColor" d="M36 128a12 12 0 0 1 12-12h68a12 12 0 0 1 0 24H48a12 12 0 0 1-12-12Zm12-52h52a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm132 104H48a12 12 0 0 0 0 24h132a12 12 0 0 0 0-24Zm52.49-100.49l-40-40a12 12 0 0 0-17 0l-40 40a12 12 0 0 0 17 17L172 77v67a12 12 0 0 0 24 0V77l19.51 19.52a12 12 0 0 0 17-17Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=U(i,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var r=C(e);t=Ne(r,!0),r.forEach(m),this.h()},h(){t.a=null,ae(e,i)},m(s,r){D(s,e,r),t.m(l,e)},p(s,[r]){ae(e,i=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:G,o:G,d(s){s&&m(e)}}}function ss(n,e,t){return n.$$set=l=>{t(0,e=U(U({},e),X(l)))},e=X(e),[e]}class as extends x{constructor(e){super(),ee(this,e,ss,ns,$,{})}}function hl(n,e){e.update(t=>(t.forEach(l=>{l.track.artist.id===n&&(l.selected=!1)}),t))}async function bt(n,e){const t=await cl(n);e.update(l=>{const a=t.sort((s,r)=>s.release_date.localeCompare(r.release_date)).flatMap(s=>{const{tracks:r,...o}=s;return s.tracks.map(u=>({...u,album:o}))});a.forEach(s=>{const r=l.find(o=>o.track.id===s.id);r?(r.track.album=s.album,r.selected=!0):l.push({track:s,inPlaylist:!1,selected:!0})});function i(s){return a.findIndex(r=>r.id===s.track.id)}return l.sort((s,r)=>{const o=i(s),u=i(r);return o-u}),l})}function is(n,e){e.update(t=>(t.forEach(l=>{l.track.album.id===n&&(l.selected=!1)}),t))}async function rs(n,e){const t=await ul(n.id);e.update(l=>{t.data.forEach(o=>{const u=l.find(c=>c.track.id===o.id);o.album=n,u?(u.track.album=o.album,u.selected=!0):l.push({track:o,inPlaylist:!1,selected:!0})});function a(o){return t.data.findIndex(u=>u.id===o.track.id)+1}function i(o){return l.findIndex(u=>u.track.id===o.track.id)+1}const s=l.findIndex(o=>o.track.album.id===n.id);function r(o){const u=a(o);return u===0?i(o)*1e4:s*1e4+u}return console.log({startIndex:s}),l.sort((o,u)=>{const c=s*1e4+r(o),h=s*1e4+r(u);return c-h}),l})}function ft(n,e){return e.filter(t=>t.track.artist.id===n&&t.selected).length}function os(n,e){const t=n.filter(l=>l.selected||l.inPlaylist);return e.trigger({message:`Removed ${n.length-t.length} track(s) from the playlist`,timeout:3e3}),t}function us(n,e,t){const l=e.ascending?1:-1,a=(o,u)=>ft(o.id,t)-ft(u.id,t),i=(o,u)=>o.name.localeCompare(u.name),s=(o,u)=>(c,h)=>{const f=o(c,h);return f===0?u(c,h):f};return n.sort((o,u)=>{switch(e.orderBy){case"trackCount":return l*s(a,i)(o,u);case"alphabetical":return l*s(i,a)(o,u)}})}function cs(n){let e,t,l='<path fill="currentColor" d="M180 128a12 12 0 0 1-12 12H88a12 12 0 0 1 0-24h80a12 12 0 0 1 12 12Zm56 0A108 108 0 1 1 128 20a108.12 108.12 0 0 1 108 108Zm-24 0a84 84 0 1 0-84 84a84.09 84.09 0 0 0 84-84Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=U(i,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var r=C(e);t=Ne(r,!0),r.forEach(m),this.h()},h(){t.a=null,ae(e,i)},m(s,r){D(s,e,r),t.m(l,e)},p(s,[r]){ae(e,i=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:G,o:G,d(s){s&&m(e)}}}function fs(n,e,t){return n.$$set=l=>{t(0,e=U(U({},e),X(l)))},e=X(e),[e]}class dl extends x{constructor(e){super(),ee(this,e,fs,cs,$,{})}}function hs(n){let e,t,l,a,i,s=n[0].name+"",r;return{c(){e=P("img"),a=H(),i=P("span"),r=te(s),this.h()},l(o){e=S(o,"IMG",{src:!0,alt:!0}),a=Z(o),i=S(o,"SPAN",{});var u=C(i);r=le(u,s),u.forEach(m),this.h()},h(){He(e.src,t=n[0].picture_small)||d(e,"src",t),d(e,"alt",l=n[0].name)},m(o,u){D(o,e,u),D(o,a,u),D(o,i,u),y(i,r)},p(o,u){u&1&&!He(e.src,t=o[0].picture_small)&&d(e,"src",t),u&1&&l!==(l=o[0].name)&&d(e,"alt",l),u&1&&s!==(s=o[0].name+"")&&ye(r,s)},d(o){o&&(m(e),m(a),m(i))}}}function ds(n){let e,t,l,a,i,s,r,o,u,c,h,f,_,p,g=n[0].nb_album+"",E,w,b,v,L,k,T,O,A,B,J,ce;return a=new tt({props:{$$slots:{default:[hs]},$$scope:{ctx:n}}}),k=new pt({}),A=new dl({}),{c(){e=P("li"),t=P("span"),l=P("a"),V(a.$$.fragment),s=H(),r=P("span"),o=P("small"),u=te(n[4]),c=te(" tracks in playlist"),f=H(),_=P("span"),p=P("small"),E=te(g),w=te(" albums"),b=H(),v=P("div"),L=P("button"),V(k.$$.fragment),T=H(),O=P("button"),V(A.$$.fragment),this.h()},l(Y){e=S(Y,"LI",{});var Q=C(e);t=S(Q,"SPAN",{class:!0});var ne=C(t);l=S(ne,"A",{href:!0,title:!0,class:!0});var Se=C(l);F(a.$$.fragment,Se),Se.forEach(m),s=Z(ne),r=S(ne,"SPAN",{class:!0});var me=C(r);o=S(me,"SMALL",{title:!0});var De=C(o);u=le(De,n[4]),c=le(De," tracks in playlist"),De.forEach(m),me.forEach(m),f=Z(ne),_=S(ne,"SPAN",{class:!0});var Be=C(_);p=S(Be,"SMALL",{});var he=C(p);E=le(he,g),w=le(he," albums"),he.forEach(m),Be.forEach(m),b=Z(ne),v=S(ne,"DIV",{class:!0});var R=C(v);L=S(R,"BUTTON",{class:!0,title:!0});var j=C(L);F(k.$$.fragment,j),j.forEach(m),T=Z(R),O=S(R,"BUTTON",{class:!0,title:!0});var z=C(O);F(A.$$.fragment,z),z.forEach(m),R.forEach(m),ne.forEach(m),Q.forEach(m),this.h()},h(){d(l,"href",i=n[0].link),d(l,"title","open artist in Deezer web interface"),d(l,"class","w-1/3"),d(o,"title",h="artist has "+n[4]+" tracks in the playlist "),d(r,"class","w-1/4"),d(_,"class","w-1/4"),d(L,"class","!p-0"),d(L,"title","add all artist titles to the playlist"),d(O,"class","!p-0"),d(O,"title","deselect all artist titles from the playlist"),ue(O,"text-gray-500",n[4]===0),d(v,"class","btn-group-vertical btn btn-sm gap-y-1"),d(t,"class","flex flex-row justify-between w-full items-center gap-x-2"),ue(e,"variant-ghost-success",n[2]),ue(e,"variant-ghost-error",n[3])},m(Y,Q){D(Y,e,Q),y(e,t),y(t,l),q(a,l,null),y(t,s),y(t,r),y(r,o),y(o,u),y(o,c),y(t,f),y(t,_),y(_,p),y(p,E),y(p,w),y(t,b),y(t,v),y(v,L),q(k,L,null),y(v,T),y(v,O),q(A,O,null),B=!0,J||(ce=[M(L,"mouseenter",n[6]),M(L,"mouseleave",n[7]),M(L,"click",n[8]),M(O,"mouseenter",n[9]),M(O,"mouseleave",n[10]),M(O,"click",n[11])],J=!0)},p(Y,[Q]){const ne={};Q&4097&&(ne.$$scope={dirty:Q,ctx:Y}),a.$set(ne),(!B||Q&1&&i!==(i=Y[0].link))&&d(l,"href",i),(!B||Q&16)&&ye(u,Y[4]),(!B||Q&16&&h!==(h="artist has "+Y[4]+" tracks in the playlist "))&&d(o,"title",h),(!B||Q&1)&&g!==(g=Y[0].nb_album+"")&&ye(E,g),(!B||Q&16)&&ue(O,"text-gray-500",Y[4]===0),(!B||Q&4)&&ue(e,"variant-ghost-success",Y[2]),(!B||Q&8)&&ue(e,"variant-ghost-error",Y[3])},i(Y){B||(I(a.$$.fragment,Y),I(k.$$.fragment,Y),I(A.$$.fragment,Y),B=!0)},o(Y){N(a.$$.fragment,Y),N(k.$$.fragment,Y),N(A.$$.fragment,Y),B=!1},d(Y){Y&&m(e),K(a),K(k),K(A),J=!1,Re(ce)}}}function ms(n,e,t){let l,a,i=G,s=()=>(i(),i=et(o,w=>t(5,a=w)),o);n.$$.on_destroy.push(()=>i());let{topArtist:r}=e,{trackSelections:o}=e;s();let u=!1,c=!1;const h=()=>t(2,u=!0),f=()=>t(2,u=!1),_=()=>bt(r.id,o),p=()=>t(3,c=!0),g=()=>t(3,c=!1),E=()=>hl(r.id,o);return n.$$set=w=>{"topArtist"in w&&t(0,r=w.topArtist),"trackSelections"in w&&s(t(1,o=w.trackSelections))},n.$$.update=()=>{n.$$.dirty&33&&t(4,l=ft(r.id,a))},[r,o,u,c,l,a,h,f,_,p,g,E]}class _s extends x{constructor(e){super(),ee(this,e,ms,ds,$,{topArtist:0,trackSelections:1})}}function Gt(n,e,t){const l=n.slice();return l[10]=e[t],l}function Jt(n){let e,t,l,a,i,s,r;t=new tt({props:{$$slots:{default:[gs]},$$scope:{ctx:n}}}),a=new tt({props:{$$slots:{default:[ys]},$$scope:{ctx:n}}});let o=Ve(n[3]),u=[];for(let h=0;h<o.length;h+=1)u[h]=Yt(Gt(n,o,h));const c=h=>N(u[h],1,1,()=>{u[h]=null});return{c(){e=P("span"),V(t.$$.fragment),l=H(),V(a.$$.fragment),i=H(),s=P("ul");for(let h=0;h<u.length;h+=1)u[h].c();this.h()},l(h){e=S(h,"SPAN",{class:!0});var f=C(e);F(t.$$.fragment,f),l=Z(f),F(a.$$.fragment,f),f.forEach(m),i=Z(h),s=S(h,"UL",{class:!0});var _=C(s);for(let p=0;p<u.length;p+=1)u[p].l(_);_.forEach(m),this.h()},h(){d(e,"class","flex justify-between w-full items-center gap-x-2 my-4"),d(s,"class","list")},m(h,f){D(h,e,f),q(t,e,null),y(e,l),q(a,e,null),D(h,i,f),D(h,s,f);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(s,null);r=!0},p(h,f){const _={};f&8192&&(_.$$scope={dirty:f,ctx:h}),t.$set(_);const p={};if(f&8193&&(p.$$scope={dirty:f,ctx:h}),a.$set(p),f&12){o=Ve(h[3]);let g;for(g=0;g<o.length;g+=1){const E=Gt(h,o,g);u[g]?(u[g].p(E,f),I(u[g],1)):(u[g]=Yt(E),u[g].c(),I(u[g],1),u[g].m(s,null))}for(be(),g=o.length;g<u.length;g+=1)c(g);ve()}},i(h){if(!r){I(t.$$.fragment,h),I(a.$$.fragment,h);for(let f=0;f<o.length;f+=1)I(u[f]);r=!0}},o(h){N(t.$$.fragment,h),N(a.$$.fragment,h),u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)N(u[f]);r=!1},d(h){h&&(m(e),m(i),m(s)),K(t),K(a),dt(u,h)}}}function gs(n){let e,t="Playlists Artists";return{c(){e=P("h4"),e.textContent=t},l(l){e=S(l,"H4",{"data-svelte-h":!0}),Ce(e)!=="svelte-1fedd7v"&&(e.textContent=t)},m(l,a){D(l,e,a)},p:G,d(l){l&&m(e)}}}function ps(n){let e,t="alphabetical",l,a;return{c(){e=P("button"),e.textContent=t},l(i){e=S(i,"BUTTON",{"data-svelte-h":!0}),Ce(e)!=="svelte-a0poae"&&(e.textContent=t)},m(i,s){D(i,e,s),l||(a=M(e,"click",n[6]),l=!0)},p:G,d(i){i&&m(e),l=!1,a()}}}function bs(n){let e,t="# tracks",l,a;return{c(){e=P("button"),e.textContent=t},l(i){e=S(i,"BUTTON",{"data-svelte-h":!0}),Ce(e)!=="svelte-ms1gv1"&&(e.textContent=t)},m(i,s){D(i,e,s),l||(a=M(e,"click",n[5]),l=!0)},p:G,d(i){i&&m(e),l=!1,a()}}}function vs(n){let e,t,l,a,i;return t=new as({}),{c(){e=P("button"),V(t.$$.fragment)},l(s){e=S(s,"BUTTON",{});var r=C(e);F(t.$$.fragment,r),r.forEach(m)},m(s,r){D(s,e,r),q(t,e,null),l=!0,a||(i=M(e,"click",n[8]),a=!0)},p:G,i(s){l||(I(t.$$.fragment,s),l=!0)},o(s){N(t.$$.fragment,s),l=!1},d(s){s&&m(e),K(t),a=!1,i()}}}function ks(n){let e,t,l,a,i;return t=new ls({}),{c(){e=P("button"),V(t.$$.fragment)},l(s){e=S(s,"BUTTON",{});var r=C(e);F(t.$$.fragment,r),r.forEach(m)},m(s,r){D(s,e,r),q(t,e,null),l=!0,a||(i=M(e,"click",n[7]),a=!0)},p:G,i(s){l||(I(t.$$.fragment,s),l=!0)},o(s){N(t.$$.fragment,s),l=!1},d(s){s&&m(e),K(t),a=!1,i()}}}function ys(n){let e,t,l,a,i;function s(f,_){if(f[0].orderBy==="trackCount")return bs;if(f[0].orderBy==="alphabetical")return ps}let r=s(n),o=r&&r(n);const u=[ks,vs],c=[];function h(f,_){return f[0].ascending?0:1}return t=h(n),l=c[t]=u[t](n),{c(){o&&o.c(),e=H(),l.c(),a=je()},l(f){o&&o.l(f),e=Z(f),l.l(f),a=je()},m(f,_){o&&o.m(f,_),D(f,e,_),c[t].m(f,_),D(f,a,_),i=!0},p(f,_){r===(r=s(f))&&o?o.p(f,_):(o&&o.d(1),o=r&&r(f),o&&(o.c(),o.m(e.parentNode,e)));let p=t;t=h(f),t===p?c[t].p(f,_):(be(),N(c[p],1,1,()=>{c[p]=null}),ve(),l=c[t],l?l.p(f,_):(l=c[t]=u[t](f),l.c()),I(l,1),l.m(a.parentNode,a))},i(f){i||(I(l),i=!0)},o(f){N(l),i=!1},d(f){f&&(m(e),m(a)),o&&o.d(f),c[t].d(f)}}}function Yt(n){let e,t;return e=new _s({props:{topArtist:n[10],trackSelections:n[2]}}),{c(){V(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,a){q(e,l,a),t=!0},p(l,a){const i={};a&8&&(i.topArtist=l[10]),a&4&&(i.trackSelections=l[2]),e.$set(i)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function ws(n){var a;let e,t,l=((a=n[3])==null?void 0:a.length)>0&&Jt(n);return{c(){l&&l.c(),e=je()},l(i){l&&l.l(i),e=je()},m(i,s){l&&l.m(i,s),D(i,e,s),t=!0},p(i,[s]){var r;((r=i[3])==null?void 0:r.length)>0?l?(l.p(i,s),s&8&&I(l,1)):(l=Jt(i),l.c(),I(l,1),l.m(e.parentNode,e)):l&&(be(),N(l,1,1,()=>{l=null}),ve())},i(i){t||(I(l),t=!0)},o(i){N(l),t=!1},d(i){i&&m(e),l&&l.d(i)}}}function Ts(n,e,t){let l=G,a=()=>(l(),l=et(u,E=>t(9,E)),u),i,s=G,r=()=>(s(),s=et(o,E=>t(3,i=E)),o);n.$$.on_destroy.push(()=>l()),n.$$.on_destroy.push(()=>s());let{playlistArtists:o}=e;r();let{trackSelections:u}=e;a();const c={ascending:!1,orderBy:"trackCount"};function h(E){E.ascending!==void 0&&t(0,c.ascending=E.ascending,c),E.orderBy!==void 0&&t(0,c.orderBy=E.orderBy,c),o.update(w=>us(w,c,E))}const f=()=>h({orderBy:"alphabetical"}),_=()=>h({orderBy:"trackCount"}),p=()=>h({ascending:!1}),g=()=>h({ascending:!0});return n.$$set=E=>{"playlistArtists"in E&&r(t(1,o=E.playlistArtists)),"trackSelections"in E&&a(t(2,u=E.trackSelections))},[c,o,u,i,h,f,_,p,g]}class As extends x{constructor(e){super(),ee(this,e,Ts,ws,$,{playlistArtists:1,trackSelections:2,playlistArtistsSort:0})}get playlistArtistsSort(){return this.$$.ctx[0]}}function Es(n){let e;return{c(){e=te("Private")},l(t){e=le(t,"Private")},m(t,l){D(t,e,l)},d(t){t&&m(e)}}}function Ps(n){let e;return{c(){e=te("Public")},l(t){e=le(t,"Public")},m(t,l){D(t,e,l)},d(t){t&&m(e)}}}function Ss(n){let e;function t(i,s){return i[0].public?Ps:Es}let l=t(n),a=l(n);return{c(){a.c(),e=te(" playlist")},l(i){a.l(i),e=le(i," playlist")},m(i,s){a.m(i,s),D(i,e,s)},p(i,s){l!==(l=t(i))&&(a.d(1),a=l(i),a&&(a.c(),a.m(e.parentNode,e)))},d(i){i&&m(e),a.d(i)}}}function Bs(n){let e,t,l,a,i,s="Title",r,o,u,c,h,f,_,p,g,E="Description",w,b,v,L,k;function T(A){n[2](A)}let O={name:"slider-label",$$slots:{default:[Ss]},$$scope:{ctx:n}};return n[0].public!==void 0&&(O.checked=n[0].public),h=new un({props:O}),Me.push(()=>Je(h,"checked",T)),{c(){e=P("form"),t=P("div"),l=P("div"),a=P("label"),i=P("span"),i.textContent=s,r=H(),o=P("input"),u=H(),c=P("div"),V(h.$$.fragment),_=H(),p=P("label"),g=P("span"),g.textContent=E,w=H(),b=P("textarea"),this.h()},l(A){e=S(A,"FORM",{class:!0});var B=C(e);t=S(B,"DIV",{class:!0});var J=C(t);l=S(J,"DIV",{class:!0});var ce=C(l);a=S(ce,"LABEL",{class:!0});var Y=C(a);i=S(Y,"SPAN",{"data-svelte-h":!0}),Ce(i)!=="svelte-7ccxmo"&&(i.textContent=s),r=Z(Y),o=S(Y,"INPUT",{class:!0,type:!0,placeholder:!0}),Y.forEach(m),ce.forEach(m),u=Z(J),c=S(J,"DIV",{});var Q=C(c);F(h.$$.fragment,Q),Q.forEach(m),J.forEach(m),_=Z(B),p=S(B,"LABEL",{class:!0});var ne=C(p);g=S(ne,"SPAN",{"data-svelte-h":!0}),Ce(g)!=="svelte-rmspr8"&&(g.textContent=E),w=Z(ne),b=S(ne,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),C(b).forEach(m),ne.forEach(m),B.forEach(m),this.h()},h(){d(o,"class","input"),d(o,"type","text"),d(o,"placeholder","title"),ue(o,"input-error",!n[0].title),d(a,"class","label"),d(l,"class","col-span-5"),d(t,"class","grid grid-cols-6"),d(b,"class","textarea"),d(b,"rows","4"),d(b,"placeholder",""),ue(b,"input-error",!n[0].description),d(p,"class","label"),d(e,"class","mb-10 space-y-2")},m(A,B){D(A,e,B),y(e,t),y(t,l),y(l,a),y(a,i),y(a,r),y(a,o),Ue(o,n[0].title),y(t,u),y(t,c),q(h,c,null),y(e,_),y(e,p),y(p,g),y(p,w),y(p,b),Ue(b,n[0].description),v=!0,L||(k=[M(o,"input",n[1]),M(b,"input",n[3])],L=!0)},p(A,[B]){B&1&&o.value!==A[0].title&&Ue(o,A[0].title),(!v||B&1)&&ue(o,"input-error",!A[0].title);const J={};B&17&&(J.$$scope={dirty:B,ctx:A}),!f&&B&1&&(f=!0,J.checked=A[0].public,Ge(()=>f=!1)),h.$set(J),B&1&&Ue(b,A[0].description),(!v||B&1)&&ue(b,"input-error",!A[0].description)},i(A){v||(I(h.$$.fragment,A),v=!0)},o(A){N(h.$$.fragment,A),v=!1},d(A){A&&m(e),K(h),L=!1,Re(k)}}}function Cs(n,e,t){let{playlist:l}=e;function a(){l.title=this.value,t(0,l)}function i(r){n.$$.not_equal(l.public,r)&&(l.public=r,t(0,l))}function s(){l.description=this.value,t(0,l)}return n.$$set=r=>{"playlist"in r&&t(0,l=r.playlist)},[l,a,i,s]}class Is extends x{constructor(e){super(),ee(this,e,Cs,Bs,$,{playlist:0})}}function Ns(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm40-84a12 12 0 0 1-5.12 9.83l-40 28A12 12 0 0 1 104 156v-56a12 12 0 0 1 18.88-9.83l40 28A12 12 0 0 1 168 128Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=U(i,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var r=C(e);t=Ne(r,!0),r.forEach(m),this.h()},h(){t.a=null,ae(e,i)},m(s,r){D(s,e,r),t.m(l,e)},p(s,[r]){ae(e,i=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:G,o:G,d(s){s&&m(e)}}}function Ds(n,e,t){return n.$$set=l=>{t(0,e=U(U({},e),X(l)))},e=X(e),[e]}class Ls extends x{constructor(e){super(),ee(this,e,Ds,Ns,$,{})}}function Os(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84ZM116 96v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Zm48 0v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=U(i,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var r=C(e);t=Ne(r,!0),r.forEach(m),this.h()},h(){t.a=null,ae(e,i)},m(s,r){D(s,e,r),t.m(l,e)},p(s,[r]){ae(e,i=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:G,o:G,d(s){s&&m(e)}}}function zs(n,e,t){return n.$$set=l=>{t(0,e=U(U({},e),X(l)))},e=X(e),[e]}class Rs extends x{constructor(e){super(),ee(this,e,zs,Os,$,{})}}function js(n){let e,t,l,a,i;return t=new Rs({}),{c(){e=P("span"),V(t.$$.fragment),this.h()},l(s){e=S(s,"SPAN",{role:!0});var r=C(e);F(t.$$.fragment,r),r.forEach(m),this.h()},h(){d(e,"role","button")},m(s,r){D(s,e,r),q(t,e,null),l=!0,a||(i=M(e,"click",n[4]),a=!0)},p:G,i(s){l||(I(t.$$.fragment,s),l=!0)},o(s){N(t.$$.fragment,s),l=!1},d(s){s&&m(e),K(t),a=!1,i()}}}function Hs(n){let e,t,l,a,i;return t=new Ls({}),{c(){e=P("span"),V(t.$$.fragment),this.h()},l(s){e=S(s,"SPAN",{role:!0});var r=C(e);F(t.$$.fragment,r),r.forEach(m),this.h()},h(){d(e,"role","button")},m(s,r){D(s,e,r),q(t,e,null),l=!0,a||(i=M(e,"click",n[4]),a=!0)},p:G,i(s){l||(I(t.$$.fragment,s),l=!0)},o(s){N(t.$$.fragment,s),l=!1},d(s){s&&m(e),K(t),a=!1,i()}}}function Zs(n){let e,t,l=!0,a,i,s,r,o,u,c;const h=[Hs,js],f=[];function _(p,g){return p[0]?0:1}return s=_(n),r=f[s]=h[s](n),{c(){e=P("audio"),a=H(),i=P("span"),r.c(),this.h()},l(p){e=S(p,"AUDIO",{src:!0}),C(e).forEach(m),a=Z(p),i=S(p,"SPAN",{});var g=C(i);r.l(g),g.forEach(m),this.h()},h(){He(e.src,t=n[1])||d(e,"src",t),e.loop=n[2],ue(i,"text-gray-500",!n[3])},m(p,g){D(p,e,g),D(p,a,g),D(p,i,g),f[s].m(i,null),o=!0,u||(c=[M(e,"play",n[5]),M(e,"pause",n[5])],u=!0)},p(p,[g]){(!o||g&2&&!He(e.src,t=p[1]))&&d(e,"src",t),(!o||g&4)&&(e.loop=p[2]),g&1&&l!==(l=p[0])&&e[l?"pause":"play"]();let E=s;s=_(p),s===E?f[s].p(p,g):(be(),N(f[E],1,1,()=>{f[E]=null}),ve(),r=f[s],r?r.p(p,g):(r=f[s]=h[s](p),r.c()),I(r,1),r.m(i,null)),(!o||g&8)&&ue(i,"text-gray-500",!p[3])},i(p){o||(I(r),o=!0)},o(p){N(r),o=!1},d(p){p&&(m(e),m(a),m(i)),f[s].d(),u=!1,Re(c)}}}function Ms(n,e,t){let{src:l}=e,{loop:a=!1}=e,{enabled:i=!0}=e,{paused:s=!0}=e;function r(){i&&t(0,s=!s)}function o(){s=this.paused,t(0,s)}return n.$$set=u=>{"src"in u&&t(1,l=u.src),"loop"in u&&t(2,a=u.loop),"enabled"in u&&t(3,i=u.enabled),"paused"in u&&t(0,s=u.paused)},[s,l,a,i,r,o]}class Us extends x{constructor(e){super(),ee(this,e,Ms,Zs,$,{src:1,loop:2,enabled:3,paused:0})}}function Vs(n){let e,t,l,a;const i=n[4].default,s=we(i,n,n[3],null);return{c(){e=P("td"),t=P("div"),s&&s.c(),this.h()},l(r){e=S(r,"TD",{style:!0,title:!0,class:!0});var o=C(e);t=S(o,"DIV",{class:!0});var u=C(t);s&&s.l(u),u.forEach(m),o.forEach(m),this.h()},h(){d(t,"class",l="flex items-center justify-"+n[0]+" gap-x-2 h-full"),Cl(e,"vertical-align","middle"),d(e,"title",n[1]),d(e,"class",n[2])},m(r,o){D(r,e,o),y(e,t),s&&s.m(t,null),a=!0},p(r,[o]){s&&s.p&&(!a||o&8)&&Te(s,i,r,r[3],a?Ee(i,r[3],o,null):Ae(r[3]),null),(!a||o&1&&l!==(l="flex items-center justify-"+r[0]+" gap-x-2 h-full"))&&d(t,"class",l),(!a||o&2)&&d(e,"title",r[1]),(!a||o&4)&&d(e,"class",r[2])},i(r){a||(I(s,r),a=!0)},o(r){N(s,r),a=!1},d(r){r&&m(e),s&&s.d(r)}}}function Fs(n,e,t){let{$$slots:l={},$$scope:a}=e,{justify:i="center"}=e,{title:s=""}=e,{class:r=""}=e;return n.$$set=o=>{"justify"in o&&t(0,i=o.justify),"title"in o&&t(1,s=o.title),"class"in o&&t(2,r=o.class),"$$scope"in o&&t(3,a=o.$$scope)},[i,s,r,a,l]}class Ke extends x{constructor(e){super(),ee(this,e,Fs,Vs,$,{justify:0,title:1,class:2})}}function qs(n){let e,t,l='<path fill="currentColor" d="M243 96.05a20 20 0 0 0-17.26-13.72l-57-4.93l-22.3-53.14a20 20 0 0 0-36.82 0L87.29 77.4l-57 4.93a20 20 0 0 0-11.42 35.07l43.32 37.8l-13 56.24A20 20 0 0 0 79 233.1l49-29.76l49 29.76a20 20 0 0 0 29.8-21.66l-13-56.24l43.32-37.8A20 20 0 0 0 243 96.05Zm-66.75 42.62a20 20 0 0 0-6.35 19.63l11.39 49.32l-42.94-26.08a19.9 19.9 0 0 0-20.7 0l-42.94 26.08L86.1 158.3a20 20 0 0 0-6.35-19.63l-38.09-33.23l50.14-4.34a19.92 19.92 0 0 0 16.69-12.19L128 42.42l19.51 46.49a19.92 19.92 0 0 0 16.69 12.19l50.14 4.34Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=U(i,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var r=C(e);t=Ne(r,!0),r.forEach(m),this.h()},h(){t.a=null,ae(e,i)},m(s,r){D(s,e,r),t.m(l,e)},p(s,[r]){ae(e,i=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:G,o:G,d(s){s&&m(e)}}}function Ks(n,e,t){return n.$$set=l=>{t(0,e=U(U({},e),X(l)))},e=X(e),[e]}class Gs extends x{constructor(e){super(),ee(this,e,Ks,qs,$,{})}}function Js(n){let e,t,l='<g fill="currentColor"><path d="M184.13 147.7a8.08 8.08 0 0 0-2.54 7.89l13.52 58.54a8 8 0 0 1-11.89 8.69l-51.1-31a7.93 7.93 0 0 0-8.24 0l-51.1 31a8 8 0 0 1-11.89-8.69l13.52-58.54a8.08 8.08 0 0 0-2.54-7.89l-45.11-39.35a8 8 0 0 1 4.54-14.07l59.46-5.14a8 8 0 0 0 6.67-4.88l23.23-55.36a8 8 0 0 1 14.68 0l23.23 55.36a8 8 0 0 0 6.67 4.88l59.46 5.14a8 8 0 0 1 4.54 14.07Z" opacity=".2"/><path d="M239.2 97.29a16 16 0 0 0-13.81-11L166 81.17l-23.28-55.36a15.95 15.95 0 0 0-29.44 0L90.07 81.17l-59.46 5.15a16 16 0 0 0-9.11 28.06l45.11 39.42l-13.52 58.54a16 16 0 0 0 23.84 17.34l51-31l51.11 31a16 16 0 0 0 23.84-17.34l-13.51-58.6l45.1-39.36a16 16 0 0 0 4.73-17.09Zm-15.22 5l-45.1 39.36a16 16 0 0 0-5.08 15.71L187.35 216l-51.07-31a15.9 15.9 0 0 0-16.54 0l-51 31l13.46-58.6a16 16 0 0 0-5.08-15.71L32 102.35a.37.37 0 0 1 0-.09l59.44-5.14a16 16 0 0 0 13.35-9.75L128 32.08l23.2 55.29a16 16 0 0 0 13.35 9.75l59.45 5.14v.07Z"/></g>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=U(i,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var r=C(e);t=Ne(r,!0),r.forEach(m),this.h()},h(){t.a=null,ae(e,i)},m(s,r){D(s,e,r),t.m(l,e)},p(s,[r]){ae(e,i=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:G,o:G,d(s){s&&m(e)}}}function Ys(n,e,t){return n.$$set=l=>{t(0,e=U(U({},e),X(l)))},e=X(e),[e]}class Ws extends x{constructor(e){super(),ee(this,e,Ys,Js,$,{})}}function Xs(n){let e,t,l='<path fill="currentColor" d="m234.5 114.38l-45.1 39.36l13.51 58.6a16 16 0 0 1-23.84 17.34l-51.11-31l-51 31a16 16 0 0 1-23.84-17.34l13.49-58.54l-45.11-39.42a16 16 0 0 1 9.11-28.06l59.46-5.15l23.21-55.36a15.95 15.95 0 0 1 29.44 0L166 81.17l59.44 5.15a16 16 0 0 1 9.11 28.06Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=U(i,a[s]);return{c(){e=Oe("svg"),t=new Ie(!0),this.h()},l(s){e=ze(s,"svg",{viewBox:!0,width:!0,height:!0});var r=C(e);t=Ne(r,!0),r.forEach(m),this.h()},h(){t.a=null,ae(e,i)},m(s,r){D(s,e,r),t.m(l,e)},p(s,[r]){ae(e,i=Pe(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:G,o:G,d(s){s&&m(e)}}}function Qs(n,e,t){return n.$$set=l=>{t(0,e=U(U({},e),X(l)))},e=X(e),[e]}class $s extends x{constructor(e){super(),ee(this,e,Qs,Xs,$,{})}}function xs(n){let e,t,l,a,i,s,r,o,u,c,h,f;const _=n[5].default,p=we(_,n,n[4],null);return i=new pt({}),o=new dl({}),{c(){e=P("span"),p&&p.c(),t=H(),l=P("span"),a=P("button"),V(i.$$.fragment),s=H(),r=P("button"),V(o.$$.fragment),this.h()},l(g){e=S(g,"SPAN",{class:!0});var E=C(e);p&&p.l(E),t=Z(E),l=S(E,"SPAN",{class:!0});var w=C(l);a=S(w,"BUTTON",{class:!0,title:!0});var b=C(a);F(i.$$.fragment,b),b.forEach(m),s=Z(w),r=S(w,"BUTTON",{class:!0,title:!0});var v=C(r);F(o.$$.fragment,v),v.forEach(m),w.forEach(m),E.forEach(m),this.h()},h(){d(a,"class","!p-0 "),d(a,"title",n[0]),d(r,"class","!p-0"),d(r,"title",n[1]),d(l,"class","btn-group-vertical btn btn-sm gap-y-1"),d(e,"class",u="flex flex-row justify-between w-full items-center py-1 gap-x-2 "+n[2])},m(g,E){D(g,e,E),p&&p.m(e,null),y(e,t),y(e,l),y(l,a),q(i,a,null),y(l,s),y(l,r),q(o,r,null),c=!0,h||(f=[M(a,"click",n[6]),M(a,"pointerenter",n[7]),M(a,"pointerleave",n[8]),M(r,"click",n[9]),M(r,"pointerenter",n[10]),M(r,"pointerleave",n[11])],h=!0)},p(g,[E]){p&&p.p&&(!c||E&16)&&Te(p,_,g,g[4],c?Ee(_,g[4],E,null):Ae(g[4]),null),(!c||E&1)&&d(a,"title",g[0]),(!c||E&2)&&d(r,"title",g[1]),(!c||E&4&&u!==(u="flex flex-row justify-between w-full items-center py-1 gap-x-2 "+g[2]))&&d(e,"class",u)},i(g){c||(I(p,g),I(i.$$.fragment,g),I(o.$$.fragment,g),c=!0)},o(g){N(p,g),N(i.$$.fragment,g),N(o.$$.fragment,g),c=!1},d(g){g&&m(e),p&&p.d(g),K(i),K(o),h=!1,Re(f)}}}function ea(n,e,t){let{$$slots:l={},$$scope:a}=e;const i=lt();let{addTitle:s="add all album titles to the playlist"}=e,{removeTitle:r="deselect all album titles from the playlist"}=e,o="";const u=()=>i("add"),c=()=>t(2,o="variant-ghost-success"),h=()=>t(2,o=""),f=()=>i("remove"),_=()=>t(2,o="variant-ghost-error"),p=()=>t(2,o="");return n.$$set=g=>{"addTitle"in g&&t(0,s=g.addTitle),"removeTitle"in g&&t(1,r=g.removeTitle),"$$scope"in g&&t(4,a=g.$$scope)},[s,r,o,i,a,l,u,c,h,f,_,p]}class ml extends x{constructor(e){super(),ee(this,e,ea,xs,$,{addTitle:0,removeTitle:1})}}function Wt(n,e,t){const l=n.slice();l[17]=e[t],l[19]=e,l[20]=t;const a=l[17].track;return l[18]=a,l}function ta(n){let e,t,l;function a(){n[10].call(e,n[19],n[20])}return{c(){e=P("input"),this.h()},l(i){e=S(i,"INPUT",{type:!0,class:!0}),this.h()},h(){d(e,"type","checkbox"),d(e,"class","checkbox")},m(i,s){D(i,e,s),e.checked=n[17].selected,t||(l=[M(e,"change",a),M(e,"change",n[11])],t=!0)},p(i,s){n=i,s&64&&(e.checked=n[17].selected)},d(i){i&&m(e),t=!1,Re(l)}}}function la(n){let e,t=n[20]+1+"",l;return{c(){e=P("span"),l=te(t)},l(a){e=S(a,"SPAN",{});var i=C(e);l=le(i,t),i.forEach(m)},m(a,i){D(a,e,i),y(e,l)},p:G,d(a){a&&m(e)}}}function na(n){let e,t,l,a,i=n[18].title+"",s,r,o;return e=new Us({props:{src:n[18].preview,enabled:n[18].readable}}),{c(){V(e.$$.fragment),t=H(),l=P("a"),a=P("span"),s=te(i),this.h()},l(u){F(e.$$.fragment,u),t=Z(u),l=S(u,"A",{href:!0,title:!0});var c=C(l);a=S(c,"SPAN",{class:!0});var h=C(a);s=le(h,i),h.forEach(m),c.forEach(m),this.h()},h(){d(a,"class","whitespace-normal"),d(l,"href",r=n[18].link),d(l,"title","open track in Deezer web interface")},m(u,c){q(e,u,c),D(u,t,c),D(u,l,c),y(l,a),y(a,s),o=!0},p(u,c){const h={};c&64&&(h.src=u[18].preview),c&64&&(h.enabled=u[18].readable),e.$set(h),(!o||c&64)&&i!==(i=u[18].title+"")&&ye(s,i),(!o||c&64&&r!==(r=u[18].link))&&d(l,"href",r)},i(u){o||(I(e.$$.fragment,u),o=!0)},o(u){N(e.$$.fragment,u),o=!1},d(u){u&&(m(t),m(l)),K(e,u)}}}function sa(n){let e,t,l,a,i=n[18].album.title+"",s;return{c(){e=P("img"),l=H(),a=P("span"),s=te(i),this.h()},l(r){e=S(r,"IMG",{class:!0,src:!0,alt:!0}),l=Z(r),a=S(r,"SPAN",{class:!0});var o=C(a);s=le(o,i),o.forEach(m),this.h()},h(){d(e,"class","largeonly"),He(e.src,t=n[18].album.cover_small)||d(e,"src",t),d(e,"alt","album cover"),d(a,"class","whitespace-normal")},m(r,o){D(r,e,o),D(r,l,o),D(r,a,o),y(a,s)},p(r,o){o&64&&!He(e.src,t=r[18].album.cover_small)&&d(e,"src",t),o&64&&i!==(i=r[18].album.title+"")&&ye(s,i)},d(r){r&&(m(e),m(l),m(a))}}}function aa(n){let e,t,l,a;return t=new tt({props:{$$slots:{default:[sa]},$$scope:{ctx:n}}}),{c(){e=P("a"),V(t.$$.fragment),this.h()},l(i){e=S(i,"A",{href:!0,title:!0});var s=C(e);F(t.$$.fragment,s),s.forEach(m),this.h()},h(){d(e,"href",l="https://www.deezer.com/album/"+n[18].album.id),d(e,"title","open album in Deezer web interface")},m(i,s){D(i,e,s),q(t,e,null),a=!0},p(i,s){const r={};s&2097216&&(r.$$scope={dirty:s,ctx:i}),t.$set(r),(!a||s&64&&l!==(l="https://www.deezer.com/album/"+i[18].album.id))&&d(e,"href",l)},i(i){a||(I(t.$$.fragment,i),a=!0)},o(i){N(t.$$.fragment,i),a=!1},d(i){i&&m(e),K(t)}}}function ia(n){let e,t;function l(){return n[12](n[18])}function a(){return n[13](n[18])}return e=new ml({props:{addTitle:"add all album titles to the playlist",removeTitle:"deselect all album titles from the playlist",$$slots:{default:[aa]},$$scope:{ctx:n}}}),e.$on("add",l),e.$on("remove",a),{c(){V(e.$$.fragment)},l(i){F(e.$$.fragment,i)},m(i,s){q(e,i,s),t=!0},p(i,s){n=i;const r={};s&2097216&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(i){t||(I(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){K(e,i)}}}function ra(n){let e,t,l,a,i=n[18].artist.name+"",s;return{c(){e=P("img"),l=H(),a=P("span"),s=te(i),this.h()},l(r){e=S(r,"IMG",{class:!0,src:!0,alt:!0}),l=Z(r),a=S(r,"SPAN",{class:!0});var o=C(a);s=le(o,i),o.forEach(m),this.h()},h(){var r;d(e,"class","largeonly"),He(e.src,t=(r=$t(n[18],n[1]))==null?void 0:r.picture_small)||d(e,"src",t),d(e,"alt","artist"),d(a,"class","whitespace-normal")},m(r,o){D(r,e,o),D(r,l,o),D(r,a,o),y(a,s)},p(r,o){var u;o&66&&!He(e.src,t=(u=$t(r[18],r[1]))==null?void 0:u.picture_small)&&d(e,"src",t),o&64&&i!==(i=r[18].artist.name+"")&&ye(s,i)},d(r){r&&(m(e),m(l),m(a))}}}function oa(n){let e,t,l,a;return t=new tt({props:{$$slots:{default:[ra]},$$scope:{ctx:n}}}),{c(){e=P("a"),V(t.$$.fragment),this.h()},l(i){e=S(i,"A",{href:!0,title:!0});var s=C(e);F(t.$$.fragment,s),s.forEach(m),this.h()},h(){d(e,"href",l=n[18].artist.link),d(e,"title","open artist in Deezer web interface")},m(i,s){D(i,e,s),q(t,e,null),a=!0},p(i,s){const r={};s&2097218&&(r.$$scope={dirty:s,ctx:i}),t.$set(r),(!a||s&64&&l!==(l=i[18].artist.link))&&d(e,"href",l)},i(i){a||(I(t.$$.fragment,i),a=!0)},o(i){N(t.$$.fragment,i),a=!1},d(i){i&&m(e),K(t)}}}function ua(n){let e,t;function l(){return n[14](n[18])}function a(){return n[15](n[18])}return e=new ml({props:{addTitle:"add all artist titles to the playlist",removeTitle:"deselect all artist titles from the playlist",$$slots:{default:[oa]},$$scope:{ctx:n}}}),e.$on("add",l),e.$on("remove",a),{c(){V(e.$$.fragment)},l(i){F(e.$$.fragment,i)},m(i,s){q(e,i,s),t=!0},p(i,s){n=i;const r={};s&2097218&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(i){t||(I(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){K(e,i)}}}function ca(n){let e,t;return e=new Gs({}),{c(){V(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,a){q(e,l,a),t=!0},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function fa(n){let e,t;return e=new Ws({}),{c(){V(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,a){q(e,l,a),t=!0},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function ha(n){let e,t;return e=new $s({}),{c(){V(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,a){q(e,l,a),t=!0},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function da(n){let e,t;return e=new tn({props:{value:5*n[18].rank/n[5],max:5,regionIcon:"!m-0",$$slots:{full:[ha],half:[fa],empty:[ca]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,a){q(e,l,a),t=!0},p(l,a){const i={};a&96&&(i.value=5*l[18].rank/l[5]),a&2097152&&(i.$$scope={dirty:a,ctx:l}),e.$set(i)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function ma(n){let e=n[7](n[18].duration*1e3)+"",t,l,a;return{c(){t=te(e),l=H(),a=P("span"),this.h()},l(i){t=le(i,e),l=Z(i),a=S(i,"SPAN",{class:!0}),C(a).forEach(m),this.h()},h(){d(a,"class","grow")},m(i,s){D(i,t,s),D(i,l,s),D(i,a,s)},p(i,s){s&64&&e!==(e=i[7](i[18].duration*1e3)+"")&&ye(t,e)},d(i){i&&(m(t),m(l),m(a))}}}function Xt(n){let e,t,l,a,i,s,r,o,u,c,h,f,_,p,g,E,w;return t=new Ke({props:{$$slots:{default:[ta]},$$scope:{ctx:n}}}),a=new Ke({props:{class:"largeonly",$$slots:{default:[la]},$$scope:{ctx:n}}}),s=new Ke({props:{justify:"start",$$slots:{default:[na]},$$scope:{ctx:n}}}),o=new Ke({props:{justify:"start",$$slots:{default:[ia]},$$scope:{ctx:n}}}),c=new Ke({props:{justify:"start",$$slots:{default:[ua]},$$scope:{ctx:n}}}),f=new Ke({props:{class:"largeonly",title:n[18].rank,$$slots:{default:[da]},$$scope:{ctx:n}}}),p=new Ke({props:{class:"largeonly",$$slots:{default:[ma]},$$scope:{ctx:n}}}),{c(){e=P("tr"),V(t.$$.fragment),l=H(),V(a.$$.fragment),i=H(),V(s.$$.fragment),r=H(),V(o.$$.fragment),u=H(),V(c.$$.fragment),h=H(),V(f.$$.fragment),_=H(),V(p.$$.fragment),g=H(),this.h()},l(b){e=S(b,"TR",{class:!0});var v=C(e);F(t.$$.fragment,v),l=Z(v),F(a.$$.fragment,v),i=Z(v),F(s.$$.fragment,v),r=Z(v),F(o.$$.fragment,v),u=Z(v),F(c.$$.fragment,v),h=Z(v),F(f.$$.fragment,v),_=Z(v),F(p.$$.fragment,v),g=Z(v),v.forEach(m),this.h()},h(){d(e,"class",E=Et(Qt(n[17]))+" svelte-156y7de"),ue(e,"!text-red-500",!n[18].readable)},m(b,v){D(b,e,v),q(t,e,null),y(e,l),q(a,e,null),y(e,i),q(s,e,null),y(e,r),q(o,e,null),y(e,u),q(c,e,null),y(e,h),q(f,e,null),y(e,_),q(p,e,null),y(e,g),w=!0},p(b,v){const L={};v&2097217&&(L.$$scope={dirty:v,ctx:b}),t.$set(L);const k={};v&2097152&&(k.$$scope={dirty:v,ctx:b}),a.$set(k);const T={};v&2097216&&(T.$$scope={dirty:v,ctx:b}),s.$set(T);const O={};v&2097217&&(O.$$scope={dirty:v,ctx:b}),o.$set(O);const A={};v&2097219&&(A.$$scope={dirty:v,ctx:b}),c.$set(A);const B={};v&64&&(B.title=b[18].rank),v&2097248&&(B.$$scope={dirty:v,ctx:b}),f.$set(B);const J={};v&2097216&&(J.$$scope={dirty:v,ctx:b}),p.$set(J),(!w||v&64&&E!==(E=Et(Qt(b[17]))+" svelte-156y7de"))&&d(e,"class",E),(!w||v&64)&&ue(e,"!text-red-500",!b[18].readable)},i(b){w||(I(t.$$.fragment,b),I(a.$$.fragment,b),I(s.$$.fragment,b),I(o.$$.fragment,b),I(c.$$.fragment,b),I(f.$$.fragment,b),I(p.$$.fragment,b),w=!0)},o(b){N(t.$$.fragment,b),N(a.$$.fragment,b),N(s.$$.fragment,b),N(o.$$.fragment,b),N(c.$$.fragment,b),N(f.$$.fragment,b),N(p.$$.fragment,b),w=!1},d(b){b&&m(e),K(t),K(a),K(s),K(o),K(c),K(f),K(p)}}}function _a(n){var yt;let e,t,l,a,i,s,r=((yt=n[4])==null?void 0:yt.filter(xt).length)+"",o,u,c=n[4].filter(el).length+"",h,f,_,p,g,E,w,b,v,L,k,T,O,A="Pos.",B,J,ce="Title",Y,Q,ne="Album",Se,me,De="Artist",Be,he,R="rank",j,z,de="duration",fe,_e,ge,pe,rt,Ze,ot,vt,Fe=Ve(n[6]),se=[];for(let W=0;W<Fe.length;W+=1)se[W]=Xt(Wt(n,Fe,W));const _l=W=>N(se[W],1,1,()=>{se[W]=null});function gl(W){n[16](W)}let kt={showFirstLastButtons:!0,showPreviousNextButtons:!0};return n[2]!==void 0&&(kt.settings=n[2]),pe=new Al({props:kt}),Me.push(()=>Je(pe,"settings",gl)),{c(){e=P("span"),t=P("table"),l=P("thead"),a=P("tr"),i=P("td"),s=P("span"),o=te(r),u=te(` selected
                            Tracks (`),h=te(c),f=te(`
                            in playlist)`),_=H(),p=P("td"),g=P("input"),E=H(),w=P("tr"),b=P("th"),v=P("input"),T=H(),O=P("th"),O.textContent=A,B=H(),J=P("th"),J.textContent=ce,Y=H(),Q=P("th"),Q.textContent=ne,Se=H(),me=P("th"),me.textContent=De,Be=H(),he=P("th"),he.textContent=R,j=H(),z=P("th"),z.textContent=de,fe=H(),_e=P("tbody");for(let W=0;W<se.length;W+=1)se[W].c();ge=H(),V(pe.$$.fragment),this.h()},l(W){e=S(W,"SPAN",{class:!0});var ie=C(e);t=S(ie,"TABLE",{class:!0});var Le=C(t);l=S(Le,"THEAD",{});var qe=C(l);a=S(qe,"TR",{});var re=C(a);i=S(re,"TD",{colspan:!0});var $e=C(i);s=S($e,"SPAN",{});var xe=C(s);o=le(xe,r),u=le(xe,` selected
                            Tracks (`),h=le(xe,c),f=le(xe,`
                            in playlist)`),xe.forEach(m),$e.forEach(m),_=Z(re),p=S(re,"TD",{colspan:!0});var wt=C(p);g=S(wt,"INPUT",{class:!0,title:!0,type:!0,placeholder:!0}),wt.forEach(m),re.forEach(m),E=Z(qe),w=S(qe,"TR",{class:!0});var ke=C(w);b=S(ke,"TH",{});var Tt=C(b);v=S(Tt,"INPUT",{type:!0,class:!0}),Tt.forEach(m),T=Z(ke),O=S(ke,"TH",{class:!0,"data-svelte-h":!0}),Ce(O)!=="svelte-658ja8"&&(O.textContent=A),B=Z(ke),J=S(ke,"TH",{class:!0,"data-svelte-h":!0}),Ce(J)!=="svelte-72in4j"&&(J.textContent=ce),Y=Z(ke),Q=S(ke,"TH",{class:!0,"data-svelte-h":!0}),Ce(Q)!=="svelte-1s5xtmm"&&(Q.textContent=ne),Se=Z(ke),me=S(ke,"TH",{class:!0,"data-svelte-h":!0}),Ce(me)!=="svelte-10j6hm0"&&(me.textContent=De),Be=Z(ke),he=S(ke,"TH",{class:!0,"data-svelte-h":!0}),Ce(he)!=="svelte-978f2u"&&(he.textContent=R),j=Z(ke),z=S(ke,"TH",{class:!0,"data-svelte-h":!0}),Ce(z)!=="svelte-n6csf5"&&(z.textContent=de),ke.forEach(m),qe.forEach(m),fe=Z(Le),_e=S(Le,"TBODY",{});var At=C(_e);for(let ut=0;ut<se.length;ut+=1)se[ut].l(At);At.forEach(m),Le.forEach(m),ge=Z(ie),F(pe.$$.fragment,ie),ie.forEach(m),this.h()},h(){d(i,"colspan","3"),d(g,"class","input"),d(g,"title","Input (search)"),d(g,"type","search"),d(g,"placeholder","Search..."),d(p,"colspan","4"),d(v,"type","checkbox"),d(v,"class","checkbox"),v.checked=L=n[6].filter(tl).length===n[6].length&&n[6].length>0,v.indeterminate=k=n[6].filter(ll).length!==n[6].length&&n[6].filter(nl).length>0,d(O,"class","largeonly"),d(J,"class",""),d(Q,"class","max-w-xs"),d(me,"class","max-w-xs"),d(he,"class","largeonly"),d(z,"class","largeonly w-16"),d(w,"class",""),d(t,"class","table table-compact my-4"),d(e,"class","table-container")},m(W,ie){D(W,e,ie),y(e,t),y(t,l),y(l,a),y(a,i),y(i,s),y(s,o),y(s,u),y(s,h),y(s,f),y(a,_),y(a,p),y(p,g),Ue(g,n[3]),y(l,E),y(l,w),y(w,b),y(b,v),y(w,T),y(w,O),y(w,B),y(w,J),y(w,Y),y(w,Q),y(w,Se),y(w,me),y(w,Be),y(w,he),y(w,j),y(w,z),y(t,fe),y(t,_e);for(let Le=0;Le<se.length;Le+=1)se[Le]&&se[Le].m(_e,null);y(e,ge),q(pe,e,null),Ze=!0,ot||(vt=[M(g,"input",n[8]),M(v,"change",n[9])],ot=!0)},p(W,[ie]){var qe;if((!Ze||ie&16)&&r!==(r=((qe=W[4])==null?void 0:qe.filter(xt).length)+"")&&ye(o,r),(!Ze||ie&16)&&c!==(c=W[4].filter(el).length+"")&&ye(h,c),ie&8&&g.value!==W[3]&&Ue(g,W[3]),(!Ze||ie&64&&L!==(L=W[6].filter(tl).length===W[6].length&&W[6].length>0))&&(v.checked=L),(!Ze||ie&64&&k!==(k=W[6].filter(ll).length!==W[6].length&&W[6].filter(nl).length>0))&&(v.indeterminate=k),ie&227){Fe=Ve(W[6]);let re;for(re=0;re<Fe.length;re+=1){const $e=Wt(W,Fe,re);se[re]?(se[re].p($e,ie),I(se[re],1)):(se[re]=Xt($e),se[re].c(),I(se[re],1),se[re].m(_e,null))}for(be(),re=Fe.length;re<se.length;re+=1)_l(re);ve()}const Le={};!rt&&ie&4&&(rt=!0,Le.settings=W[2],Ge(()=>rt=!1)),pe.$set(Le)},i(W){if(!Ze){for(let ie=0;ie<Fe.length;ie+=1)I(se[ie]);I(pe.$$.fragment,W),Ze=!0}},o(W){se=se.filter(Boolean);for(let ie=0;ie<se.length;ie+=1)N(se[ie]);N(pe.$$.fragment,W),Ze=!1},d(W){W&&m(e),dt(se,W),K(pe),ot=!1,Re(vt)}}}function Qt(n){return!n.inPlaylist&&n.selected?"!text-lime-500":n.inPlaylist&&!n.selected?"!line-through":""}function $t(n,e){return e.find(t=>t.id===n.artist.id)}const xt=n=>n.selected,el=n=>n.inPlaylist,tl=n=>n.selected,ll=n=>n.selected,nl=n=>n.selected;function ga(n,e,t){let l,a,i,s=G,r=()=>(s(),s=et(o,T=>t(4,i=T)),o);n.$$.on_destroy.push(()=>s());let{trackSelections:o}=e;r();let{artists:u=[]}=e,c={page:0,limit:10,size:10,amounts:[10,20,50,100]},h="";const f=El.humanizer({language:"shortEn",languages:{shortEn:{y:()=>"y.",mo:()=>"mo.",w:()=>"w.",d:()=>"d.",h:()=>"h.",m:()=>"m.",s:()=>"s.",ms:()=>"ms"}},units:["m","s"],largest:2});function _(){h=this.value,t(3,h)}const p=T=>{l.forEach(O=>{var A;return O.selected=(A=T.target)==null?void 0:A.checked}),o.update(O=>O)};function g(T,O){T[O].selected=this.checked,t(6,l),t(4,i),t(3,h),t(2,c)}const E=()=>o.update(T=>T),w=T=>rs(T.album,o),b=T=>is(T.album.id,o),v=T=>bt(T.artist.id,o),L=T=>hl(T.artist.id,o);function k(T){c=T,t(2,c),t(4,i)}return n.$$set=T=>{"trackSelections"in T&&r(t(0,o=T.trackSelections)),"artists"in T&&t(1,u=T.artists)},n.$$.update=()=>{n.$$.dirty&16&&t(2,c.size=i.length,c),n.$$.dirty&28&&t(6,l=i.filter(T=>!h||JSON.stringify(T.track).toLowerCase().includes(h.toLowerCase())).slice(c.page*c.limit,c.page*c.limit+c.limit)),n.$$.dirty&16&&t(5,a=i.reduce((T,O)=>Math.max(T,O.track.rank),0))},[o,u,c,h,i,a,l,f,_,p,g,E,w,b,v,L,k]}class pa extends x{constructor(e){super(),ee(this,e,ga,_a,$,{trackSelections:0,artists:1})}}async function ba(n,e,t,l){const a={request_method:"POST"};n.title&&(a.title=n.title),n.description&&(a.description=n.description),n.public!==void 0&&(a.public=n.public);try{const i=await Qe({apiPath:`/playlist/${n.id}`,searchParams:a});t.trigger({message:`Updated playlist: ${i?"OK":"KO"}`,timeout:3e3})}catch(i){t.trigger({message:`Updated playlist: error ${i}`,timeout:3e3})}await va(n,e,t,l)}async function va(n,e,t,l){try{const a=e.filter(s=>s.selected&&!s.inPlaylist).map(s=>s.track.id);await ct(n,a,"POST","songs",l);const i=e.filter(s=>!s.selected&&s.inPlaylist).map(s=>s.track.id);if(await ct(n,i,"DELETE","songs",l),a.length>0){const s=e.filter(r=>r.selected).map(r=>r.track.id);await ct(n,s,"POST","order",l)}if(l.set(void 0),a.length||i.length){const s=t.trigger({message:"Updated playlist tracks, refreshing playlist data"});await jl(),t.close(s)}}catch(a){t.trigger({message:`Updated playlist tracks: error ${a}`,timeout:3e3})}finally{l.set(void 0)}}async function ct(n,e,t,l,a){if(!e.length)return;a.set({message:`sending 0/${e.length} ${t} ${l} `,value:0,max:e.length});let i=0;const s=100;for(const r of ka(e,s)){i+=s,a.set({message:`sending ${i} / ${e.length} ${t} ${l} `,value:i,max:e.length}),console.log(`sending ${t} ${l}=${JSON.stringify(r)}`);const o={request_method:t};o[l]=r.join(",");const u=await Qe({apiPath:`/playlist/${n.id}/tracks`,searchParams:o});if(console.log({updateResult:u}),!u)throw new Error(`unable to send ${t} ${l}=${JSON.stringify(r)}`)}}function ka(n,e){const t=[];for(let l=0;l<n.length;l+=e)t.push(n.slice(l,l+e));return t}function sl(n){let e,t,l=n[1].message+"",a,i,s,r,o;return{c(){e=P("span"),t=P("span"),a=te(l),i=H(),s=P("progress"),this.h()},l(u){e=S(u,"SPAN",{class:!0});var c=C(e);t=S(c,"SPAN",{});var h=C(t);a=le(h,l),h.forEach(m),i=Z(c),s=S(c,"PROGRESS",{max:!0}),C(s).forEach(m),c.forEach(m),this.h()},h(){s.value=r=n[1].value,d(s,"max",o=n[1].max),d(e,"class","my-6")},m(u,c){D(u,e,c),y(e,t),y(t,a),y(e,i),y(e,s)},p(u,c){c&2&&l!==(l=u[1].message+"")&&ye(a,l),c&2&&r!==(r=u[1].value)&&(s.value=r),c&2&&o!==(o=u[1].max)&&d(s,"max",o)},d(u){u&&m(e)}}}function ya(n){let e,t=n[1]&&sl(n);return{c(){t&&t.c(),e=je()},l(l){t&&t.l(l),e=je()},m(l,a){t&&t.m(l,a),D(l,e,a)},p(l,[a]){l[1]?t?t.p(l,a):(t=sl(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(l){l&&m(e),t&&t.d(l)}}}function wa(n,e,t){let l,a=G,i=()=>(a(),a=et(s,r=>t(1,l=r)),s);n.$$.on_destroy.push(()=>a());let{updateTracksProgress:s}=e;return i(),n.$$set=r=>{"updateTracksProgress"in r&&i(t(0,s=r.updateTracksProgress))},[s,l]}class Ta extends x{constructor(e){super(),ee(this,e,wa,ya,$,{updateTracksProgress:0})}}function Aa(n){let e;return{c(){e=te("tracks")},l(t){e=le(t,"tracks")},m(t,l){D(t,e,l)},d(t){t&&m(e)}}}function Ea(n){let e;return{c(){e=te("details")},l(t){e=le(t,"details")},m(t,l){D(t,e,l)},d(t){t&&m(e)}}}function Pa(n){let e;return{c(){e=te("playlist artists")},l(t){e=le(t,"playlist artists")},m(t,l){D(t,e,l)},d(t){t&&m(e)}}}function Sa(n){let e;return{c(){e=te("search new artists")},l(t){e=le(t,"search new artists")},m(t,l){D(t,e,l)},d(t){t&&m(e)}}}function Ba(n){let e,t,l,a,i,s,r,o,u,c,h,f;function _(k){n[10](k)}let p={name:"tabTracks",value:n[8].TRACKS,$$slots:{default:[Aa]},$$scope:{ctx:n}};n[1]!==void 0&&(p.group=n[1]),e=new nt({props:p}),Me.push(()=>Je(e,"group",_));function g(k){n[11](k)}let E={name:"tabMain",value:n[8].DESCRIPTION,$$slots:{default:[Ea]},$$scope:{ctx:n}};n[1]!==void 0&&(E.group=n[1]),a=new nt({props:E}),Me.push(()=>Je(a,"group",g));function w(k){n[12](k)}let b={name:"tabPlaylistArtists",value:n[8].PLAYLIST_ARTISTS,$$slots:{default:[Pa]},$$scope:{ctx:n}};n[1]!==void 0&&(b.group=n[1]),r=new nt({props:b}),Me.push(()=>Je(r,"group",w));function v(k){n[13](k)}let L={name:"tabSearchArtists",value:n[8].SEARCH_ARTISTS,$$slots:{default:[Sa]},$$scope:{ctx:n}};return n[1]!==void 0&&(L.group=n[1]),c=new nt({props:L}),Me.push(()=>Je(c,"group",v)),{c(){V(e.$$.fragment),l=H(),V(a.$$.fragment),s=H(),V(r.$$.fragment),u=H(),V(c.$$.fragment)},l(k){F(e.$$.fragment,k),l=Z(k),F(a.$$.fragment,k),s=Z(k),F(r.$$.fragment,k),u=Z(k),F(c.$$.fragment,k)},m(k,T){q(e,k,T),D(k,l,T),q(a,k,T),D(k,s,T),q(r,k,T),D(k,u,T),q(c,k,T),f=!0},p(k,T){const O={};T&2097152&&(O.$$scope={dirty:T,ctx:k}),!t&&T&2&&(t=!0,O.group=k[1],Ge(()=>t=!1)),e.$set(O);const A={};T&2097152&&(A.$$scope={dirty:T,ctx:k}),!i&&T&2&&(i=!0,A.group=k[1],Ge(()=>i=!1)),a.$set(A);const B={};T&2097152&&(B.$$scope={dirty:T,ctx:k}),!o&&T&2&&(o=!0,B.group=k[1],Ge(()=>o=!1)),r.$set(B);const J={};T&2097152&&(J.$$scope={dirty:T,ctx:k}),!h&&T&2&&(h=!0,J.group=k[1],Ge(()=>h=!1)),c.$set(J)},i(k){f||(I(e.$$.fragment,k),I(a.$$.fragment,k),I(r.$$.fragment,k),I(c.$$.fragment,k),f=!0)},o(k){N(e.$$.fragment,k),N(a.$$.fragment,k),N(r.$$.fragment,k),N(c.$$.fragment,k),f=!1},d(k){k&&(m(l),m(s),m(u)),K(e,k),K(a,k),K(r,k),K(c,k)}}}function Ca(n){let e,t="<i>you can add all tracks from a new artist from here</i>",l,a,i;return a=new xn({}),a.$on("artistSelection",n[9]),{c(){e=P("p"),e.innerHTML=t,l=H(),V(a.$$.fragment),this.h()},l(s){e=S(s,"P",{class:!0,"data-svelte-h":!0}),Ce(e)!=="svelte-1xwq8x8"&&(e.innerHTML=t),l=Z(s),F(a.$$.fragment,s),this.h()},h(){d(e,"class","my-4")},m(s,r){D(s,e,r),D(s,l,r),q(a,s,r),i=!0},p:G,i(s){i||(I(a.$$.fragment,s),i=!0)},o(s){N(a.$$.fragment,s),i=!1},d(s){s&&(m(e),m(l)),K(a,s)}}}function Ia(n){let e,t="<i>you can add/remove all tracks from a playlist artist from here</i>",l,a,i;return a=new As({props:{playlistArtists:n[5],trackSelections:n[6]}}),{c(){e=P("p"),e.innerHTML=t,l=H(),V(a.$$.fragment)},l(s){e=S(s,"P",{"data-svelte-h":!0}),Ce(e)!=="svelte-bd0wd5"&&(e.innerHTML=t),l=Z(s),F(a.$$.fragment,s)},m(s,r){D(s,e,r),D(s,l,r),q(a,s,r),i=!0},p:G,i(s){i||(I(a.$$.fragment,s),i=!0)},o(s){N(a.$$.fragment,s),i=!1},d(s){s&&(m(e),m(l)),K(a,s)}}}function Na(n){let e,t;return e=new pa({props:{trackSelections:n[6],artists:n[3]}}),{c(){V(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,a){q(e,l,a),t=!0},p(l,a){const i={};a&8&&(i.artists=l[3]),e.$set(i)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Da(n){let e,t;return e=new Is({props:{playlist:n[0].playlist}}),{c(){V(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,a){q(e,l,a),t=!0},p(l,a){const i={};a&1&&(i.playlist=l[0].playlist),e.$set(i)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function La(n){let e,t,l,a;const i=[Da,Na,Ia,Ca],s=[];function r(o,u){return o[1]===o[8].DESCRIPTION?0:o[1]===o[8].TRACKS?1:o[1]===o[8].PLAYLIST_ARTISTS?2:o[1]===o[8].SEARCH_ARTISTS?3:-1}return~(e=r(n))&&(t=s[e]=i[e](n)),{c(){t&&t.c(),l=je()},l(o){t&&t.l(o),l=je()},m(o,u){~e&&s[e].m(o,u),D(o,l,u),a=!0},p(o,u){let c=e;e=r(o),e===c?~e&&s[e].p(o,u):(t&&(be(),N(s[c],1,1,()=>{s[c]=null}),ve()),~e?(t=s[e],t?t.p(o,u):(t=s[e]=i[e](o),t.c()),I(t,1),t.m(l.parentNode,l)):t=null)},i(o){a||(I(t),a=!0)},o(o){N(t),a=!1},d(o){o&&m(l),~e&&s[e].d(o)}}}function Oa(n){let e,t,l=n[0].playlist.title+"",a,i,s,r;return s=new gn({props:{$$slots:{panel:[La],default:[Ba]},$$scope:{ctx:n}}}),{c(){e=P("span"),t=P("h3"),a=te(l),i=H(),V(s.$$.fragment),this.h()},l(o){e=S(o,"SPAN",{});var u=C(e);t=S(u,"H3",{class:!0});var c=C(t);a=le(c,l),c.forEach(m),i=Z(u),F(s.$$.fragment,u),u.forEach(m),this.h()},h(){d(t,"class","h3"),ue(e,"opacity-50",n[2])},m(o,u){D(o,e,u),y(e,t),y(t,a),y(e,i),q(s,e,null),r=!0},p(o,u){(!r||u&1)&&l!==(l=o[0].playlist.title+"")&&ye(a,l);const c={};u&2097163&&(c.$$scope={dirty:u,ctx:o}),s.$set(c),(!r||u&4)&&ue(e,"opacity-50",o[2])},i(o){r||(I(s.$$.fragment,o),r=!0)},o(o){N(s.$$.fragment,o),r=!1},d(o){o&&m(e),K(s)}}}function za(n){let e,t;return e=new Ta({props:{updateTracksProgress:n[4]}}),{c(){V(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,a){q(e,l,a),t=!0},p:G,i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Ra(n){let e,t;return e=new Pl({props:{$$slots:{pageHeader:[za],default:[Oa]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,a){q(e,l,a),t=!0},p(l,[a]){const i={};a&2097167&&(i.$$scope={dirty:a,ctx:l}),e.$set(i)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function ja(n,e,t){let l,a,i;const s=zl(),r=st(void 0);Xe(n,r,A=>t(2,a=A));let{data:o}=e;const u=st([]);Xe(n,u,A=>t(3,i=A));const c=st([]);Xe(n,c,A=>t(14,l=A));async function h(){try{const A=Dl(c);await Rn(A,s,r),c.set(A)}finally{r.set(void 0)}}function f(){c.update(A=>os(A,s))}function _(A){l.length===0&&t(0,o.playlist.title=A.name+" - Full Discography",o),bt(A.id,c)}var p=(A=>(A[A.DESCRIPTION=0]="DESCRIPTION",A[A.TRACKS=1]="TRACKS",A[A.PLAYLIST_ARTISTS=2]="PLAYLIST_ARTISTS",A[A.SEARCH_ARTISTS=3]="SEARCH_ARTISTS",A))(p||{});let g=1;const E=Rl(),w=[{onclick:()=>ba(o.playlist,l,s,r),title:"Update playlist",icon:Dn},{onclick:()=>h(),title:"Fix missing tracks",icon:zn,disabled:()=>l.filter(A=>A.selected&&!A.track.readable).length===0},{onclick:()=>f(),title:"Clear deselected tracks",icon:Cn,disabled:()=>l.filter(A=>!A.selected&&!A.inPlaylist).length===0}],b=c.subscribe(()=>E.update(A=>A));Il(()=>{E.update(A=>[...A,...w])}),Nl(()=>{E.update(A=>A.filter(B=>!w.includes(B))),b()});const v=A=>_(A.detail);function L(A){g=A,t(1,g)}function k(A){g=A,t(1,g)}function T(A){g=A,t(1,g)}function O(A){g=A,t(1,g)}return n.$$set=A=>{"data"in A&&t(0,o=A.data)},n.$$.update=()=>{if(n.$$.dirty&1&&u.set(o.topArtists),n.$$.dirty&1){const A=o.playlist.tracks.data.map(B=>({track:B,inPlaylist:!0,selected:!0}));c.set(A)}},[o,g,a,i,r,u,c,_,p,v,L,k,T,O]}class Ga extends x{constructor(e){super(),ee(this,e,ja,Ra,$,{data:0})}}export{Ga as component,Ka as universal};
