import{c as ae,t as ve,e as le}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.9086ff5d.js";import{e as ye,a as se,g as Te,P as Pe,b as ke,h as ie}from"../chunks/PlaylistApplicationShell.781e0ac9.js";import{s as Ee,p as De,f as h,a as R,l as K,g as _,h as y,O as re,c as L,d as u,m as Q,j as c,i as Y,x as i,P as ne,I as oe,Q as we,n as W,R as Se,K as Ie,S as ce}from"../chunks/scheduler.637f0092.js";import{S as Re,i as Le,b as he,d as _e,m as pe,a as ge,t as me,e as be,o as Oe}from"../chunks/index.d7dc1d5e.js";import"../chunks/paths.0506dd65.js";const $e=!1;async function Ne({url:s}){const e=ye(s),l=s.searchParams.get("search");return l?{playlists:ae({apiPath:"/search/playlist",searchParams:{q:l,limit:1e3,index:e||0}}).then(t=>se(t,e||0))}:e?{playlists:ae({apiPath:"/user/me/playlists",searchParams:{limit:1e3,index:e}}).then(t=>se(t,e))}:{playlists:ve("getRemainingPages:",async()=>await Te({apiPath:"/user/me/playlists",limit:500,index:0}))}}const Je=Object.freeze(Object.defineProperty({__proto__:null,load:Ne,ssr:$e},Symbol.toStringTag,{value:"Module"}));function ue(s,e,l){const t=s.slice();return t[9]=e[l],t}function de(s){let e,l,t,r,n,O,m,T,d,$=s[9].title+"",I,D,J,z,C,k=s[9].creation_date+"",G,U,w,S,A,V,P,H=s[9].nb_tracks+"",j,B,q,F=ie(s[9].duration*1e3,{units:["h","m","s"],largest:2})+"",N,p;return{c(){e=h("tr"),l=h("td"),t=h("a"),r=h("div"),n=h("img"),T=R(),d=h("strong"),I=K($),z=R(),C=h("td"),G=K(k),U=R(),w=h("td"),S=h("input"),V=R(),P=h("td"),j=K(H),B=R(),q=h("td"),N=K(F),p=R(),this.h()},l(v){e=_(v,"TR",{});var o=y(e);l=_(o,"TD",{});var b=y(l);t=_(b,"A",{href:!0,"data-sveltekit-preload-data":!0});var a=y(t);r=_(a,"DIV",{class:!0});var f=y(r);n=_(f,"IMG",{src:!0,alt:!0,"aria-describedby":!0,class:!0}),T=L(f),d=_(f,"STRONG",{id:!0,class:!0});var E=y(d);I=Q(E,$),E.forEach(u),f.forEach(u),a.forEach(u),b.forEach(u),z=L(o),C=_(o,"TD",{class:!0});var g=y(C);G=Q(g,k),g.forEach(u),U=L(o),w=_(o,"TD",{});var M=y(w);S=_(M,"INPUT",{class:!0,type:!0}),M.forEach(u),V=L(o),P=_(o,"TD",{});var X=y(P);j=Q(X,H),X.forEach(u),B=L(o),q=_(o,"TD",{});var Z=y(q);N=Q(Z,F),Z.forEach(u),p=L(o),o.forEach(u),this.h()},h(){ce(n.src,O=s[9].picture_small)||c(n,"src",O),c(n,"alt","playlist cover"),c(n,"aria-describedby",m=s[9].id+"_title"),c(n,"class","deezer_img_small"),c(d,"id",D=s[9].id+"_title"),c(d,"class","m-2"),c(r,"class","flex items-center"),c(t,"href",J="playlists/"+s[9].id),c(t,"data-sveltekit-preload-data","off"),c(C,"class","items-center"),c(S,"class","checkbox"),c(S,"type","checkbox"),S.checked=A=s[9].public,S.disabled=!0},m(v,o){Y(v,e,o),i(e,l),i(l,t),i(t,r),i(r,n),i(r,T),i(r,d),i(d,I),i(e,z),i(e,C),i(C,G),i(e,U),i(e,w),i(w,S),i(e,V),i(e,P),i(P,j),i(e,B),i(e,q),i(q,N),i(e,p)},p(v,o){o&16&&!ce(n.src,O=v[9].picture_small)&&c(n,"src",O),o&16&&m!==(m=v[9].id+"_title")&&c(n,"aria-describedby",m),o&16&&$!==($=v[9].title+"")&&W(I,$),o&16&&D!==(D=v[9].id+"_title")&&c(d,"id",D),o&16&&J!==(J="playlists/"+v[9].id)&&c(t,"href",J),o&16&&k!==(k=v[9].creation_date+"")&&W(G,k),o&16&&A!==(A=v[9].public)&&(S.checked=A),o&16&&H!==(H=v[9].nb_tracks+"")&&W(j,H),o&16&&F!==(F=ie(v[9].duration*1e3,{units:["h","m","s"],largest:2})+"")&&W(N,F)},d(v){v&&u(e)}}}function fe(s){let e=JSON.stringify({pageData:s[0].playlists},null,2)+"",l;return{c(){l=K(e)},l(t){l=Q(t,e)},m(t,r){Y(t,l,r)},p(t,r){r&1&&e!==(e=JSON.stringify({pageData:t[0].playlists},null,2)+"")&&W(l,e)},d(t){t&&u(l)}}}function ze(s){let e,l,t,r,n,O="",m,T,d,$,I,D='<th class="w-1/3">Title</th> <th>Created on</th> <th>Public?</th> <th># Tracks</th> <th>duration</th>',J,z,C,k,G,U,w,S=s[3]?"hide debug":"show debug",A,V,P,H,j,B,q,F,N=le(s[4]),p=[];for(let a=0;a<N.length;a+=1)p[a]=de(ue(s,N,a));function v(a){s[7](a)}let o={showFirstLastButtons:!0,showPreviousNextButtons:!0};s[1]!==void 0&&(o.settings=s[1]),k=new ke({props:o}),De.push(()=>Oe(k,"settings",v));let b=s[3]&&fe(s);return{c(){e=h("div"),l=h("table"),t=h("thead"),r=h("tr"),n=h("td"),n.innerHTML=O,m=R(),T=h("td"),d=h("input"),$=R(),I=h("tr"),I.innerHTML=D,J=R(),z=h("tbody");for(let a=0;a<p.length;a+=1)p[a].c();C=R(),he(k.$$.fragment),U=R(),w=h("a"),A=K(S),V=R(),P=h("pre"),H=K("        "),b&&b.c(),j=K(`
    `),this.h()},l(a){e=_(a,"DIV",{class:!0});var f=y(e);l=_(f,"TABLE",{class:!0});var E=y(l);t=_(E,"THEAD",{});var g=y(t);r=_(g,"TR",{});var M=y(r);n=_(M,"TD",{colspan:!0,"data-svelte-h":!0}),re(n)!=="svelte-rxboy"&&(n.innerHTML=O),m=L(M),T=_(M,"TD",{colspan:!0});var X=y(T);d=_(X,"INPUT",{class:!0,title:!0,type:!0,placeholder:!0}),X.forEach(u),M.forEach(u),$=L(g),I=_(g,"TR",{"data-svelte-h":!0}),re(I)!=="svelte-195cwoj"&&(I.innerHTML=D),g.forEach(u),J=L(E),z=_(E,"TBODY",{});var Z=y(z);for(let ee=0;ee<p.length;ee+=1)p[ee].l(Z);Z.forEach(u),E.forEach(u),C=L(f),_e(k.$$.fragment,f),f.forEach(u),U=L(a),w=_(a,"A",{href:!0});var te=y(w);A=Q(te,S),te.forEach(u),V=L(a),P=_(a,"PRE",{id:!0});var x=y(P);H=Q(x,"        "),b&&b.l(x),j=Q(x,`
    `),x.forEach(u),this.h()},h(){c(n,"colspan","1"),c(d,"class","input"),c(d,"title","Input (search)"),c(d,"type","search"),c(d,"placeholder","Search..."),c(T,"colspan","5"),c(l,"class","table table-hover"),c(e,"class","table-container"),c(w,"href","#showDebug"),c(P,"id","showDebug")},m(a,f){Y(a,e,f),i(e,l),i(l,t),i(t,r),i(r,n),i(r,m),i(r,T),i(T,d),ne(d,s[2]),i(t,$),i(t,I),i(l,J),i(l,z);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(z,null);i(e,C),pe(k,e,null),Y(a,U,f),Y(a,w,f),i(w,A),Y(a,V,f),Y(a,P,f),i(P,H),b&&b.m(P,null),i(P,j),B=!0,q||(F=[oe(d,"input",s[6]),oe(w,"click",s[8])],q=!0)},p(a,f){if(f&4&&d.value!==a[2]&&ne(d,a[2]),f&16){N=le(a[4]);let g;for(g=0;g<N.length;g+=1){const M=ue(a,N,g);p[g]?p[g].p(M,f):(p[g]=de(M),p[g].c(),p[g].m(z,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=N.length}const E={};!G&&f&2&&(G=!0,E.settings=a[1],we(()=>G=!1)),k.$set(E),(!B||f&8)&&S!==(S=a[3]?"hide debug":"show debug")&&W(A,S),a[3]?b?b.p(a,f):(b=fe(a),b.c(),b.m(P,j)):b&&(b.d(1),b=null)},i(a){B||(ge(k.$$.fragment,a),B=!0)},o(a){me(k.$$.fragment,a),B=!1},d(a){a&&(u(e),u(U),u(w),u(V),u(P)),Se(p,a),be(k),b&&b.d(),q=!1,Ie(F)}}}function Ce(s){let e,l;return e=new Pe({props:{$$slots:{default:[ze]},$$scope:{ctx:s}}}),{c(){he(e.$$.fragment)},l(t){_e(e.$$.fragment,t)},m(t,r){pe(e,t,r),l=!0},p(t,[r]){const n={};r&4127&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(ge(e.$$.fragment,t),l=!0)},o(t){me(e.$$.fragment,t),l=!1},d(t){be(e,t)}}}function Me(s,e,l){let t,r,{data:n}=e,O=!1,m={page:0,limit:5,size:10,amounts:[5,10,20,50,100]},T="";function d(){T=this.value,l(2,T)}function $(D){m=D,l(1,m),l(5,t),l(0,n)}const I=()=>l(3,O=!O);return s.$$set=D=>{"data"in D&&l(0,n=D.data)},s.$$.update=()=>{s.$$.dirty&1&&l(5,t=n.playlists.data),s.$$.dirty&32&&l(1,m.size=t.length,m),s.$$.dirty&38&&l(4,r=t.filter(D=>!T||JSON.stringify(D).toLowerCase().includes(T.toLowerCase())).slice(m.page*m.limit,m.page*m.limit+m.limit))},[n,m,T,O,r,t,d,$,I]}class Ge extends Re{constructor(e){super(),Le(this,e,Me,Ce,Ee,{data:0})}}export{Ge as component,Je as universal};
