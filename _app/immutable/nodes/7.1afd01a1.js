import{d as vl,w as tt}from"../chunks/paths.d53735cf.js";import{e as Ue,d as kl,R as yl,c as Xe,r as wl,p as Tl,u as Al,o as El}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.8ba30efa.js";import{g as dt,b as Pl,h as Cl,P as Sl}from"../chunks/PlaylistApplicationShell.35d998d4.js";import{s as X,f as E,g as P,h as S,d as h,j as m,i as B,U as ht,W as xe,C as F,D as Y,e as ze,a as L,c as z,x as T,K as R,w as me,y as _e,z as ge,A as pe,X as lt,Y as Le,L as Re,Z as nt,B as mt,O as le,v as Ye,_ as Bl,$ as We,p as Ze,F as Be,H as Ae,J as Ne,I as Ee,Q as ee,r as K,V as Ve,k as Nl,M as st,l as ne,m as se,n as Ie,P as Il,S as Me,T as Ge,R as ue,a0 as at,a1 as _t,a2 as Pt,a3 as Dl}from"../chunks/scheduler.efcc48c0.js";import{S as Q,i as $,a as C,g as be,c as ve,t as N,b as Z,d as M,m as U,e as V,j as Ol,k as Ll,o as Je}from"../chunks/index.14b20280.js";import{a as we,s as Ct,g as zl}from"../chunks/index.d2a6c0f9.js";import{i as Rl}from"../chunks/navigation.795731be.js";function St(n,e,t){const l=n.slice();return l[15]=e[t],l[17]=t,l}const jl=n=>({}),Bt=n=>({}),Hl=n=>({}),Nt=n=>({}),Zl=n=>({}),It=n=>({}),Ml=n=>({}),Dt=n=>({}),Ul=n=>({}),Ot=n=>({}),Vl=n=>({}),Lt=n=>({});function Fl(n){let e,t,l,a,i,s,r,o;const u=[Jl,Gl,Kl],c=[];function d(f,_){return _&1&&(t=null),_&1&&(l=null),t==null&&(t=!!rl(f[0],f[17])),t?0:(l==null&&(l=!!ol(f[0],f[17])),l?1:2)}return a=d(n,-1),i=c[a]=u[a](n),{c(){e=E("span"),i.c(),s=L(),this.h()},l(f){e=P(f,"SPAN",{class:!0});var _=S(e);i.l(_),s=z(_),_.forEach(h),this.h()},h(){m(e,"class",r="rating-icon "+n[3])},m(f,_){B(f,e,_),c[a].m(e,null),T(e,s),o=!0},p(f,_){let p=a;a=d(f,_),a===p?c[a].p(f,_):(be(),N(c[p],1,1,()=>{c[p]=null}),ve(),i=c[a],i?i.p(f,_):(i=c[a]=u[a](f),i.c()),C(i,1),i.m(e,s)),(!o||_&8&&r!==(r="rating-icon "+f[3]))&&m(e,"class",r)},i(f){o||(C(i),o=!0)},o(f){N(i),o=!1},d(f){f&&h(e),c[a].d()}}}function ql(n){let e,t,l,a,i,s,r,o,u,c;const d=[Xl,Wl,Yl],f=[];function _(g,A){return A&1&&(t=null),A&1&&(l=null),t==null&&(t=!!rl(g[0],g[17])),t?0:(l==null&&(l=!!ol(g[0],g[17])),l?1:2)}a=_(n,-1),i=f[a]=d[a](n);function p(){return n[12](n[17])}return{c(){e=E("button"),i.c(),s=L(),this.h()},l(g){e=P(g,"BUTTON",{class:!0,type:!0});var A=S(e);i.l(A),s=z(A),A.forEach(h),this.h()},h(){m(e,"class",r="rating-icon "+n[3]),m(e,"type","button")},m(g,A){B(g,e,A),f[a].m(e,null),T(e,s),o=!0,u||(c=R(e,"click",p),u=!0)},p(g,A){n=g;let w=a;a=_(n,A),a===w?f[a].p(n,A):(be(),N(f[w],1,1,()=>{f[w]=null}),ve(),i=f[a],i?i.p(n,A):(i=f[a]=d[a](n),i.c()),C(i,1),i.m(e,s)),(!o||A&8&&r!==(r="rating-icon "+n[3]))&&m(e,"class",r)},i(g){o||(C(i),o=!0)},o(g){N(i),o=!1},d(g){g&&h(e),f[a].d(),u=!1,c()}}}function Kl(n){let e;const t=n[11].empty,l=me(t,n,n[10],Bt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&_e(l,t,a,a[10],e?pe(t,a[10],i,jl):ge(a[10]),Bt)},i(a){e||(C(l,a),e=!0)},o(a){N(l,a),e=!1},d(a){l&&l.d(a)}}}function Gl(n){let e;const t=n[11].half,l=me(t,n,n[10],Nt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&_e(l,t,a,a[10],e?pe(t,a[10],i,Hl):ge(a[10]),Nt)},i(a){e||(C(l,a),e=!0)},o(a){N(l,a),e=!1},d(a){l&&l.d(a)}}}function Jl(n){let e;const t=n[11].full,l=me(t,n,n[10],It);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&_e(l,t,a,a[10],e?pe(t,a[10],i,Zl):ge(a[10]),It)},i(a){e||(C(l,a),e=!0)},o(a){N(l,a),e=!1},d(a){l&&l.d(a)}}}function Yl(n){let e;const t=n[11].empty,l=me(t,n,n[10],Dt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&_e(l,t,a,a[10],e?pe(t,a[10],i,Ml):ge(a[10]),Dt)},i(a){e||(C(l,a),e=!0)},o(a){N(l,a),e=!1},d(a){l&&l.d(a)}}}function Wl(n){let e;const t=n[11].half,l=me(t,n,n[10],Ot);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&_e(l,t,a,a[10],e?pe(t,a[10],i,Ul):ge(a[10]),Ot)},i(a){e||(C(l,a),e=!0)},o(a){N(l,a),e=!1},d(a){l&&l.d(a)}}}function Xl(n){let e;const t=n[11].full,l=me(t,n,n[10],Lt);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,i){l&&l.m(a,i),e=!0},p(a,i){l&&l.p&&(!e||i&1024)&&_e(l,t,a,a[10],e?pe(t,a[10],i,Vl):ge(a[10]),Lt)},i(a){e||(C(l,a),e=!0)},o(a){N(l,a),e=!1},d(a){l&&l.d(a)}}}function zt(n){let e,t,l,a;const i=[ql,Fl],s=[];function r(o,u){return o[2]?0:1}return e=r(n),t=s[e]=i[e](n),{c(){t.c(),l=ze()},l(o){t.l(o),l=ze()},m(o,u){s[e].m(o,u),B(o,l,u),a=!0},p(o,u){let c=e;e=r(o),e===c?s[e].p(o,u):(be(),N(s[c],1,1,()=>{s[c]=null}),ve(),t=s[e],t?t.p(o,u):(t=s[e]=i[e](o),t.c()),C(t,1),t.m(l.parentNode,l))},i(o){a||(C(t),a=!0)},o(o){N(t),a=!1},d(o){o&&h(l),s[e].d(o)}}}function Ql(n){let e,t,l,a=Ue({length:n[1]}),i=[];for(let r=0;r<a.length;r+=1)i[r]=zt(St(n,a,r));const s=r=>N(i[r],1,1,()=>{i[r]=null});return{c(){e=E("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=P(r,"DIV",{class:!0,"data-testid":!0});var o=S(e);for(let u=0;u<i.length;u+=1)i[u].l(o);o.forEach(h),this.h()},h(){m(e,"class",t="ratings "+n[4]),m(e,"data-testid","rating-bar")},m(r,o){B(r,e,o);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);l=!0},p(r,[o]){if(o&1071){a=Ue({length:r[1]});let u;for(u=0;u<a.length;u+=1){const c=St(r,a,u);i[u]?(i[u].p(c,o),C(i[u],1)):(i[u]=zt(c),i[u].c(),C(i[u],1),i[u].m(e,null))}for(be(),u=a.length;u<i.length;u+=1)s(u);ve()}(!l||o&16&&t!==(t="ratings "+r[4]))&&m(e,"class",t)},i(r){if(!l){for(let o=0;o<a.length;o+=1)C(i[o]);l=!0}},o(r){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)N(i[o]);l=!1},d(r){r&&h(e),ht(i,r)}}}const $l="w-full flex";function rl(n,e){return Math.floor(n)>=e+1}function ol(n,e){return n===e+.5}function xl(n,e,t){let l,{$$slots:a={},$$scope:i}=e,{value:s=0}=e,{max:r=5}=e,{interactive:o=!1}=e,{text:u="text-token"}=e,{fill:c="fill-token"}=e,{justify:d="justify-center"}=e,{spacing:f="space-x-2"}=e,{regionIcon:_=""}=e;const p=xe();function g(w){p("icon",{index:w+1})}const A=w=>g(w);return n.$$set=w=>{t(14,e=F(F({},e),Y(w))),"value"in w&&t(0,s=w.value),"max"in w&&t(1,r=w.max),"interactive"in w&&t(2,o=w.interactive),"text"in w&&t(6,u=w.text),"fill"in w&&t(7,c=w.fill),"justify"in w&&t(8,d=w.justify),"spacing"in w&&t(9,f=w.spacing),"regionIcon"in w&&t(3,_=w.regionIcon),"$$scope"in w&&t(10,i=w.$$scope)},n.$$.update=()=>{t(4,l=`${$l} ${u} ${c} ${d} ${f} ${e.class??""}`)},e=Y(e),[s,r,o,_,l,g,u,c,d,f,i,a,A]}class en extends Q{constructor(e){super(),$(this,e,xl,Ql,X,{value:0,max:1,interactive:2,text:6,fill:7,justify:8,spacing:9,regionIcon:3})}}function Rt(n){let e,t;const l=n[22].default,a=me(l,n,n[21],null);return{c(){e=E("div"),a&&a.c(),this.h()},l(i){e=P(i,"DIV",{class:!0});var s=S(e);a&&a.l(s),s.forEach(h),this.h()},h(){m(e,"class","slide-toggle-text ml-3")},m(i,s){B(i,e,s),a&&a.m(e,null),t=!0},p(i,s){a&&a.p&&(!t||s[0]&2097152)&&_e(a,l,i,i[21],t?pe(l,i[21],s,null):ge(i[21]),null)},i(i){t||(C(a,i),t=!0)},o(i){N(a,i),t=!1},d(i){i&&h(e),a&&a.d(i)}}}function tn(n){let e,t,l,a,i,s,r,o,u,c,d,f,_,p,g,A=[{type:"checkbox"},{class:"slide-toggle-input hidden"},{name:n[1]},n[8](),{disabled:a=n[9].disabled}],w={};for(let b=0;b<A.length;b+=1)w=F(w,A[b]);let k=n[10].default&&Rt(n);return{c(){e=E("div"),t=E("label"),l=E("input"),i=L(),s=E("div"),r=E("div"),c=L(),k&&k.c(),this.h()},l(b){e=P(b,"DIV",{id:!0,class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-checked":!0,tabindex:!0});var v=S(e);t=P(v,"LABEL",{class:!0});var y=S(t);l=P(y,"INPUT",{type:!0,class:!0,name:!0}),i=z(y),s=P(y,"DIV",{class:!0});var D=S(s);r=P(D,"DIV",{class:!0}),S(r).forEach(h),D.forEach(h),c=z(y),k&&k.l(y),y.forEach(h),v.forEach(h),this.h()},h(){lt(l,w),m(r,"class",o="slide-toggle-thumb "+n[3]),Le(r,"cursor-not-allowed",n[9].disabled),m(s,"class",u="slide-toggle-track "+n[4]),Le(s,"cursor-not-allowed",n[9].disabled),m(t,"class",d="slide-toggle-label "+n[5]),m(e,"id",n[2]),m(e,"class",f="slide-toggle "+n[6]),m(e,"data-testid","slide-toggle"),m(e,"role","switch"),m(e,"aria-label",n[2]),m(e,"aria-checked",n[0]),m(e,"tabindex","0")},m(b,v){B(b,e,v),T(e,t),T(t,l),l.autofocus&&l.focus(),l.checked=n[0],T(t,i),T(t,s),T(s,r),T(t,c),k&&k.m(t,null),_=!0,p||(g=[R(l,"change",n[31]),R(l,"click",n[23]),R(l,"keydown",n[24]),R(l,"keyup",n[25]),R(l,"keypress",n[26]),R(l,"mouseover",n[27]),R(l,"change",n[28]),R(l,"focus",n[29]),R(l,"blur",n[30]),R(e,"keydown",n[7])],p=!0)},p(b,v){lt(l,w=we(A,[{type:"checkbox"},{class:"slide-toggle-input hidden"},(!_||v[0]&2)&&{name:b[1]},b[8](),(!_||v[0]&512&&a!==(a=b[9].disabled))&&{disabled:a}])),v[0]&1&&(l.checked=b[0]),(!_||v[0]&8&&o!==(o="slide-toggle-thumb "+b[3]))&&m(r,"class",o),(!_||v[0]&520)&&Le(r,"cursor-not-allowed",b[9].disabled),(!_||v[0]&16&&u!==(u="slide-toggle-track "+b[4]))&&m(s,"class",u),(!_||v[0]&528)&&Le(s,"cursor-not-allowed",b[9].disabled),b[10].default?k?(k.p(b,v),v[0]&1024&&C(k,1)):(k=Rt(b),k.c(),C(k,1),k.m(t,null)):k&&(be(),N(k,1,1,()=>{k=null}),ve()),(!_||v[0]&32&&d!==(d="slide-toggle-label "+b[5]))&&m(t,"class",d),(!_||v[0]&4)&&m(e,"id",b[2]),(!_||v[0]&64&&f!==(f="slide-toggle "+b[6]))&&m(e,"class",f),(!_||v[0]&4)&&m(e,"aria-label",b[2]),(!_||v[0]&1)&&m(e,"aria-checked",b[0])},i(b){_||(C(k),_=!0)},o(b){N(k),_=!1},d(b){b&&h(e),k&&k.d(),p=!1,Re(g)}}}const ln="inline-block",nn="unstyled flex items-center",sn="flex transition-all duration-[200ms] cursor-pointer",an="w-[50%] h-full scale-[0.8] transition-all duration-[200ms] shadow";function rn(n,e,t){let l,a,i,s,r,o,u,c;const d=["name","checked","size","background","active","border","rounded","label"];let f=nt(e,d),{$$slots:_={},$$scope:p}=e;const g=mt(_),A=xe();let{name:w}=e,{checked:k=!1}=e,{size:b="md"}=e,{background:v="bg-surface-400 dark:bg-surface-700"}=e,{active:y="bg-surface-900 dark:bg-surface-300"}=e,{border:D=""}=e,{rounded:G="rounded-full"}=e,{label:q=""}=e,I;switch(b){case"sm":I="w-12 h-6";break;case"lg":I="w-20 h-10";break;default:I="w-16 h-8"}function W(H){["Enter","Space"].includes(H.code)&&(H.preventDefault(),A("keyup",H),H.currentTarget.firstChild.click())}function Pe(){return delete f.class,f}function ce(H){le.call(this,n,H)}function oe(H){le.call(this,n,H)}function ke(H){le.call(this,n,H)}function De(H){le.call(this,n,H)}function Ce(H){le.call(this,n,H)}function je(H){le.call(this,n,H)}function Oe(H){le.call(this,n,H)}function Te(H){le.call(this,n,H)}function j(){k=this.checked,t(0,k)}return n.$$set=H=>{t(9,e=F(F({},e),Y(H))),t(33,f=nt(e,d)),"name"in H&&t(1,w=H.name),"checked"in H&&t(0,k=H.checked),"size"in H&&t(11,b=H.size),"background"in H&&t(12,v=H.background),"active"in H&&t(13,y=H.active),"border"in H&&t(14,D=H.border),"rounded"in H&&t(15,G=H.rounded),"label"in H&&t(2,q=H.label),"$$scope"in H&&t(21,p=H.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&12289&&t(19,l=k?y:`${v} cursor-pointer`),n.$$.dirty[0]&1&&t(18,a=k?"bg-white/75":"bg-white"),n.$$.dirty[0]&1&&t(17,i=k?"translate-x-full":""),t(20,s=e.disabled===!0?"opacity-50":"hover:brightness-[105%] dark:hover:brightness-110 cursor-pointer"),t(6,r=`${ln} ${G} ${s} ${e.class??""}`),n.$$.dirty[0]&638976&&t(4,u=`${sn} ${D} ${G} ${I} ${l}`),n.$$.dirty[0]&425984&&t(3,c=`${an} ${G} ${a} ${i}`)},t(5,o=`${nn}`),e=Y(e),[k,w,q,c,u,o,r,W,Pe,e,g,b,v,y,D,G,I,i,a,l,s,p,_,ce,oe,ke,De,Ce,je,Oe,Te,j]}class on extends Q{constructor(e){super(),$(this,e,rn,tn,X,{name:1,checked:0,size:11,background:12,active:13,border:14,rounded:15,label:2},null,[-1,-1])}}const un=n=>({}),jt=n=>({});function Ht(n){let e,t,l;const a=n[17].panel,i=me(a,n,n[16],jt);return{c(){e=E("div"),i&&i.c(),this.h()},l(s){e=P(s,"DIV",{class:!0,role:!0,"aria-labelledby":!0,tabindex:!0});var r=S(e);i&&i.l(r),r.forEach(h),this.h()},h(){m(e,"class",t="tab-panel "+n[2]),m(e,"role","tabpanel"),m(e,"aria-labelledby",n[1]),m(e,"tabindex","0")},m(s,r){B(s,e,r),i&&i.m(e,null),l=!0},p(s,r){i&&i.p&&(!l||r&65536)&&_e(i,a,s,s[16],l?pe(a,s[16],r,un):ge(s[16]),jt),(!l||r&4&&t!==(t="tab-panel "+s[2]))&&m(e,"class",t),(!l||r&2)&&m(e,"aria-labelledby",s[1])},i(s){l||(C(i,s),l=!0)},o(s){N(i,s),l=!1},d(s){s&&h(e),i&&i.d(s)}}}function cn(n){let e,t,l,a,i,s,r,o;const u=n[17].default,c=me(u,n,n[16],null);let d=n[5].panel&&Ht(n);return{c(){e=E("div"),t=E("div"),c&&c.c(),a=L(),d&&d.c(),this.h()},l(f){e=P(f,"DIV",{class:!0,"data-testid":!0});var _=S(e);t=P(_,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var p=S(t);c&&c.l(p),p.forEach(h),a=z(_),d&&d.l(_),_.forEach(h),this.h()},h(){m(t,"class",l="tab-list "+n[3]),m(t,"role","tablist"),m(t,"aria-labelledby",n[0]),m(e,"class",i="tab-group "+n[4]),m(e,"data-testid","tab-group")},m(f,_){B(f,e,_),T(e,t),c&&c.m(t,null),T(e,a),d&&d.m(e,null),s=!0,r||(o=[R(e,"click",n[18]),R(e,"keypress",n[19]),R(e,"keydown",n[20]),R(e,"keyup",n[21])],r=!0)},p(f,[_]){c&&c.p&&(!s||_&65536)&&_e(c,u,f,f[16],s?pe(u,f[16],_,null):ge(f[16]),null),(!s||_&8&&l!==(l="tab-list "+f[3]))&&m(t,"class",l),(!s||_&1)&&m(t,"aria-labelledby",f[0]),f[5].panel?d?(d.p(f,_),_&32&&C(d,1)):(d=Ht(f),d.c(),C(d,1),d.m(e,null)):d&&(be(),N(d,1,1,()=>{d=null}),ve()),(!s||_&16&&i!==(i="tab-group "+f[4]))&&m(e,"class",i)},i(f){s||(C(c,f),C(d),s=!0)},o(f){N(c,f),N(d),s=!1},d(f){f&&h(e),c&&c.d(f),d&&d.d(),r=!1,Re(o)}}}const fn="space-y-4",dn="flex overflow-x-auto hide-scrollbar",hn="";function mn(n,e,t){let l,a,i,{$$slots:s={},$$scope:r}=e;const o=mt(s);let{justify:u="justify-start"}=e,{border:c="border-b border-surface-400-500-token"}=e,{active:d="border-b-2 border-surface-900-50-token"}=e,{hover:f="hover:variant-soft"}=e,{flex:_="flex-none"}=e,{padding:p="px-4 py-2"}=e,{rounded:g="rounded-tl-container-token rounded-tr-container-token"}=e,{spacing:A="space-y-1"}=e,{regionList:w=""}=e,{regionPanel:k=""}=e,{labelledby:b=""}=e,{panel:v=""}=e;Ye("active",d),Ye("hover",f),Ye("flex",_),Ye("padding",p),Ye("rounded",g),Ye("spacing",A);function y(I){le.call(this,n,I)}function D(I){le.call(this,n,I)}function G(I){le.call(this,n,I)}function q(I){le.call(this,n,I)}return n.$$set=I=>{t(22,e=F(F({},e),Y(I))),"justify"in I&&t(6,u=I.justify),"border"in I&&t(7,c=I.border),"active"in I&&t(8,d=I.active),"hover"in I&&t(9,f=I.hover),"flex"in I&&t(10,_=I.flex),"padding"in I&&t(11,p=I.padding),"rounded"in I&&t(12,g=I.rounded),"spacing"in I&&t(13,A=I.spacing),"regionList"in I&&t(14,w=I.regionList),"regionPanel"in I&&t(15,k=I.regionPanel),"labelledby"in I&&t(0,b=I.labelledby),"panel"in I&&t(1,v=I.panel),"$$scope"in I&&t(16,r=I.$$scope)},n.$$.update=()=>{t(4,l=`${fn} ${e.class??""}`),n.$$.dirty&16576&&t(3,a=`${dn} ${u} ${c} ${w}`),n.$$.dirty&32768&&t(2,i=`${hn} ${k}`)},e=Y(e),[b,v,i,a,l,o,u,c,d,f,_,p,g,A,w,k,r,s,y,D,G,q]}class _n extends Q{constructor(e){super(),$(this,e,mn,cn,X,{justify:6,border:7,active:8,hover:9,flex:10,padding:11,rounded:12,spacing:13,regionList:14,regionPanel:15,labelledby:0,panel:1})}}const gn=n=>({}),Zt=n=>({});function Mt(n){let e,t;const l=n[22].lead,a=me(l,n,n[21],Zt);return{c(){e=E("div"),a&&a.c(),this.h()},l(i){e=P(i,"DIV",{class:!0});var s=S(e);a&&a.l(s),s.forEach(h),this.h()},h(){m(e,"class","tab-lead")},m(i,s){B(i,e,s),a&&a.m(e,null),t=!0},p(i,s){a&&a.p&&(!t||s[0]&2097152)&&_e(a,l,i,i[21],t?pe(l,i[21],s,gn):ge(i[21]),Zt)},i(i){t||(C(a,i),t=!0)},o(i){N(a,i),t=!1},d(i){i&&h(e),a&&a.d(i)}}}function pn(n){let e,t,l,a,i,s,r,o,u,c,d,f,_,p,g,A=[{type:"radio"},{name:n[1]},{__value:n[2]},n[11](),{tabindex:"-1"}],w={};for(let y=0;y<A.length;y+=1)w=F(w,A[y]);let k=n[12].lead&&Mt(n);const b=n[22].default,v=me(b,n,n[21],null);return _=Bl(n[30][0]),{c(){e=E("label"),t=E("div"),l=E("div"),a=E("input"),i=L(),s=E("div"),k&&k.c(),r=L(),o=E("div"),v&&v.c(),this.h()},l(y){e=P(y,"LABEL",{class:!0,title:!0});var D=S(e);t=P(D,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0});var G=S(t);l=P(G,"DIV",{class:!0});var q=S(l);a=P(q,"INPUT",{type:!0,name:!0,tabindex:!0}),q.forEach(h),i=z(G),s=P(G,"DIV",{class:!0});var I=S(s);k&&k.l(I),r=z(I),o=P(I,"DIV",{class:!0});var W=S(o);v&&v.l(W),W.forEach(h),I.forEach(h),G.forEach(h),D.forEach(h),this.h()},h(){lt(a,w),m(l,"class","h-0 w-0 overflow-hidden"),m(o,"class","tab-label"),m(s,"class",u="tab-interface "+n[8]),m(t,"class",c="tab "+n[7]),m(t,"data-testid","tab"),m(t,"role","tab"),m(t,"aria-controls",n[4]),m(t,"aria-selected",n[5]),m(t,"tabindex",d=n[5]?0:-1),m(e,"class",n[9]),m(e,"title",n[3]),_.p(a)},m(y,D){B(y,e,D),T(e,t),T(t,l),T(l,a),a.autofocus&&a.focus(),n[28](a),a.checked=a.__value===n[0],T(t,i),T(t,s),k&&k.m(s,null),T(s,r),T(s,o),v&&v.m(o,null),f=!0,p||(g=[R(a,"change",n[29]),R(a,"click",n[26]),R(a,"change",n[27]),R(t,"keydown",n[10]),R(t,"keydown",n[23]),R(t,"keyup",n[24]),R(t,"keypress",n[25])],p=!0)},p(y,D){lt(a,w=we(A,[{type:"radio"},(!f||D[0]&2)&&{name:y[1]},(!f||D[0]&4)&&{__value:y[2]},y[11](),{tabindex:"-1"}])),D[0]&1&&(a.checked=a.__value===y[0]),y[12].lead?k?(k.p(y,D),D[0]&4096&&C(k,1)):(k=Mt(y),k.c(),C(k,1),k.m(s,r)):k&&(be(),N(k,1,1,()=>{k=null}),ve()),v&&v.p&&(!f||D[0]&2097152)&&_e(v,b,y,y[21],f?pe(b,y[21],D,null):ge(y[21]),null),(!f||D[0]&256&&u!==(u="tab-interface "+y[8]))&&m(s,"class",u),(!f||D[0]&128&&c!==(c="tab "+y[7]))&&m(t,"class",c),(!f||D[0]&16)&&m(t,"aria-controls",y[4]),(!f||D[0]&32)&&m(t,"aria-selected",y[5]),(!f||D[0]&32&&d!==(d=y[5]?0:-1))&&m(t,"tabindex",d),(!f||D[0]&512)&&m(e,"class",y[9]),(!f||D[0]&8)&&m(e,"title",y[3])},i(y){f||(C(k),C(v,y),f=!0)},o(y){N(k),N(v,y),f=!1},d(y){y&&h(e),n[28](null),k&&k.d(),v&&v.d(y),_.r(),p=!1,Re(g)}}}const bn="text-center cursor-pointer transition-colors duration-100",vn="";function kn(n,e,t){let l,a,i,s,r;const o=["group","name","value","title","controls","regionTab","active","hover","flex","padding","rounded","spacing"];let u=nt(e,o),{$$slots:c={},$$scope:d}=e;const f=mt(c);let{group:_}=e,{name:p}=e,{value:g}=e,{title:A=""}=e,{controls:w=""}=e,{regionTab:k=""}=e,{active:b=We("active")}=e,{hover:v=We("hover")}=e,{flex:y=We("flex")}=e,{padding:D=We("padding")}=e,{rounded:G=We("rounded")}=e,{spacing:q=We("spacing")}=e,I;function W(j){if(["Enter","Space"].includes(j.code))j.preventDefault(),I.click();else if(j.code==="ArrowRight"){const H=I.closest(".tab-list");if(!H)return;const O=Array.from(H.querySelectorAll(".tab")),re=I.closest(".tab");if(!re)return;const ie=O.indexOf(re),fe=ie+1>=O.length?0:ie+1,de=O[fe],he=de==null?void 0:de.querySelector("input");de&&he&&(he.click(),de.focus())}else if(j.code==="ArrowLeft"){const H=I.closest(".tab-list");if(!H)return;const O=Array.from(H.querySelectorAll(".tab")),re=I.closest(".tab");if(!re)return;const ie=O.indexOf(re),fe=ie-1<0?O.length-1:ie-1,de=O[fe],he=de==null?void 0:de.querySelector("input");de&&he&&(he.click(),de.focus())}}function Pe(){return delete u.class,u}const ce=[[]];function oe(j){le.call(this,n,j)}function ke(j){le.call(this,n,j)}function De(j){le.call(this,n,j)}function Ce(j){le.call(this,n,j)}function je(j){le.call(this,n,j)}function Oe(j){Ze[j?"unshift":"push"](()=>{I=j,t(6,I)})}function Te(){_=this.__value,t(0,_)}return n.$$set=j=>{t(32,e=F(F({},e),Y(j))),t(31,u=nt(e,o)),"group"in j&&t(0,_=j.group),"name"in j&&t(1,p=j.name),"value"in j&&t(2,g=j.value),"title"in j&&t(3,A=j.title),"controls"in j&&t(4,w=j.controls),"regionTab"in j&&t(13,k=j.regionTab),"active"in j&&t(14,b=j.active),"hover"in j&&t(15,v=j.hover),"flex"in j&&t(16,y=j.flex),"padding"in j&&t(17,D=j.padding),"rounded"in j&&t(18,G=j.rounded),"spacing"in j&&t(19,q=j.spacing),"$$scope"in j&&t(21,d=j.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&5&&t(5,l=g===_),n.$$.dirty[0]&49184&&t(20,a=l?b:v),t(9,i=`${bn} ${y} ${D} ${G} ${a} ${e.class??""}`),n.$$.dirty[0]&524288&&t(8,s=`${vn} ${q}`),n.$$.dirty[0]&8192&&t(7,r=`${k}`)},e=Y(e),[_,p,g,A,w,l,I,r,s,i,W,Pe,f,k,b,v,y,D,G,q,a,d,c,oe,ke,De,Ce,je,Oe,Te,ce]}class et extends Q{constructor(e){super(),$(this,e,kn,pn,X,{group:0,name:1,value:2,title:3,controls:4,regionTab:13,active:14,hover:15,flex:16,padding:17,rounded:18,spacing:19},null,[-1,-1])}}var gt={exports:{}};function ul(){var n=Object.create(null),e=0,t=0,l=0,a=!1;this.put=function(s,r,o,u){if(a&&console.log("caching: %s = %j (@%s)",s,r,o),typeof o<"u"&&(typeof o!="number"||isNaN(o)||o<=0))throw new Error("Cache timeout must be a positive number");if(typeof u<"u"&&typeof u!="function")throw new Error("Cache timeout callback must be a function");var c=n[s];c?clearTimeout(c.timeout):l++;var d={value:r,expire:o+Date.now()};return isNaN(d.expire)||(d.timeout=setTimeout((function(){i(s),u&&u(s,r)}).bind(this),o)),n[s]=d,r},this.del=function(s){var r=!0,o=n[s];return o?(clearTimeout(o.timeout),!isNaN(o.expire)&&o.expire<Date.now()&&(r=!1)):r=!1,r&&i(s),r};function i(s){l--,delete n[s]}this.clear=function(){for(var s in n)clearTimeout(n[s].timeout);l=0,n=Object.create(null),a&&(e=0,t=0)},this.get=function(s){var r=n[s];if(typeof r<"u"){if(isNaN(r.expire)||r.expire>=Date.now())return a&&e++,r.value;a&&t++,l--,delete n[s]}else a&&t++;return null},this.size=function(){return l},this.memsize=function(){var s=0,r;for(r in n)s++;return s},this.debug=function(s){a=s},this.hits=function(){return e},this.misses=function(){return t},this.keys=function(){return Object.keys(n)},this.exportJson=function(){var s={};for(var r in n){var o=n[r];s[r]={value:o.value,expire:o.expire||"NaN"}}return JSON.stringify(s)},this.importJson=function(s,r){var o=JSON.parse(s),u=Date.now(),c=r&&r.skipDuplicates;for(var d in o)if(o.hasOwnProperty(d)){if(c){var f=n[d];if(f){a&&console.log("Skipping duplicate imported key '%s'",d);continue}}var _=o[d],p=_.expire-u;if(p<=0){this.del(d);continue}p=p>0?p:void 0,this.put(d,_.value,p)}return this.size()}}gt.exports=new ul;gt.exports.Cache=ul;var yn=gt.exports;const Ut=kl(yn);class cl{constructor(e,t){this.cacheName=e,this.ttl=t}get(e){return Ut.get(this.buildKey(e))}buildKey(e){return this.cacheName+"~"+e}put(e,t){Ut.put(this.buildKey(e),t,this.ttl)}}const pt=yl.extend("api-query"),Vt=new cl("ARTIST",3600*1e3),Ft=new cl("ARTIST-DISCOGRAPHY",3600*1e3);async function wn(n){pt("getDeezerArtist "+n);const e=Vt.get(n);if(e)return e;const t=await Xe({apiPath:"/artist/"+n});return Vt.put(n,t),t}async function fl(n){return pt("getAlbumTracks "+n),await dt({apiPath:"/album/"+n+"/tracks",index:0,limit:100})}async function dl(n){pt("getDeezerArtistDiscography "+n);const e=Ft.get(n);if(e)return e;const t=await dt({apiPath:"/artist/"+n+"/albums",index:0,limit:100}),l=await Promise.all(t.data.map(async a=>{const i=await fl(a.id);return{...a,tracks:i.data}}));return Ft.put(n,l),l}const Tn=!1;async function An(n){if(n==="NEW"){const e=new Date().toISOString(),t=await Xe({apiPath:"/user/me/playlists",searchParams:{request_method:"POST",title:`New Playlist ${e}`,description:`Playlist created with deezer-artist-playlist-organizer on the ${e}`,public:!0}});throw wl(302,"./"+t.id)}return n}async function En({params:n}){const e=await An(n.id),t=await Xe({apiPath:`/playlist/${e}`}),l=t.tracks.data.reduce((s,r)=>(s[r.artist.id]||(s[r.artist.id]={artist:r.artist,count:0}),s[r.artist.id].count++,s),{}),a=Object.values(l).sort((s,r)=>r.count-s.count);if(t.nb_tracks>400){const s=await dt({apiPath:`/playlist/${e}/tracks`,limit:100,index:t.tracks.data.length});t.tracks.data=[...t.tracks.data,...s.data]}const i=Promise.all(a.map(async s=>await wn(s.artist.id)));return{playlist:t,topArtists:i}}const Qa=Object.freeze(Object.defineProperty({__proto__:null,load:En,ssr:Tn},Symbol.toStringTag,{value:"Module"}));function Pn(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm40-84a12 12 0 0 1-5.12 9.83l-40 28A12 12 0 0 1 104 156v-56a12 12 0 0 1 18.88-9.83l40 28A12 12 0 0 1 168 128Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=F(i,a[s]);return{c(){e=Be("svg"),t=new Ae(!0),this.h()},l(s){e=Ne(s,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ee(r,!0),r.forEach(h),this.h()},h(){t.a=null,ee(e,i)},m(s,r){B(s,e,r),t.m(l,e)},p(s,[r]){ee(e,i=we(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&h(e)}}}function Cn(n,e,t){return n.$$set=l=>{t(0,e=F(F({},e),Y(l)))},e=Y(e),[e]}class Sn extends Q{constructor(e){super(),$(this,e,Cn,Pn,X,{})}}function Bn(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84ZM116 96v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Zm48 0v64a12 12 0 0 1-24 0V96a12 12 0 0 1 24 0Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=F(i,a[s]);return{c(){e=Be("svg"),t=new Ae(!0),this.h()},l(s){e=Ne(s,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ee(r,!0),r.forEach(h),this.h()},h(){t.a=null,ee(e,i)},m(s,r){B(s,e,r),t.m(l,e)},p(s,[r]){ee(e,i=we(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&h(e)}}}function Nn(n,e,t){return n.$$set=l=>{t(0,e=F(F({},e),Y(l)))},e=Y(e),[e]}class In extends Q{constructor(e){super(),$(this,e,Nn,Bn,X,{})}}function Dn(n){let e,t,l,a,i;return t=new In({}),{c(){e=E("span"),Z(t.$$.fragment),this.h()},l(s){e=P(s,"SPAN",{role:!0});var r=S(e);M(t.$$.fragment,r),r.forEach(h),this.h()},h(){m(e,"role","button")},m(s,r){B(s,e,r),U(t,e,null),l=!0,a||(i=R(e,"click",n[4]),a=!0)},p:K,i(s){l||(C(t.$$.fragment,s),l=!0)},o(s){N(t.$$.fragment,s),l=!1},d(s){s&&h(e),V(t),a=!1,i()}}}function On(n){let e,t,l,a,i;return t=new Sn({}),{c(){e=E("span"),Z(t.$$.fragment),this.h()},l(s){e=P(s,"SPAN",{role:!0});var r=S(e);M(t.$$.fragment,r),r.forEach(h),this.h()},h(){m(e,"role","button")},m(s,r){B(s,e,r),U(t,e,null),l=!0,a||(i=R(e,"click",n[4]),a=!0)},p:K,i(s){l||(C(t.$$.fragment,s),l=!0)},o(s){N(t.$$.fragment,s),l=!1},d(s){s&&h(e),V(t),a=!1,i()}}}function Ln(n){let e,t,l=!0,a,i,s,r,o,u,c;const d=[On,Dn],f=[];function _(p,g){return p[0]?0:1}return s=_(n),r=f[s]=d[s](n),{c(){e=E("audio"),a=L(),i=E("span"),r.c(),this.h()},l(p){e=P(p,"AUDIO",{src:!0}),S(e).forEach(h),a=z(p),i=P(p,"SPAN",{});var g=S(i);r.l(g),g.forEach(h),this.h()},h(){Ve(e.src,t=n[1])||m(e,"src",t),e.loop=n[2],Le(i,"text-gray-500",!n[3])},m(p,g){B(p,e,g),B(p,a,g),B(p,i,g),f[s].m(i,null),o=!0,u||(c=[R(e,"play",n[5]),R(e,"pause",n[5])],u=!0)},p(p,[g]){(!o||g&2&&!Ve(e.src,t=p[1]))&&m(e,"src",t),(!o||g&4)&&(e.loop=p[2]),g&1&&l!==(l=p[0])&&e[l?"pause":"play"]();let A=s;s=_(p),s===A?f[s].p(p,g):(be(),N(f[A],1,1,()=>{f[A]=null}),ve(),r=f[s],r?r.p(p,g):(r=f[s]=d[s](p),r.c()),C(r,1),r.m(i,null)),(!o||g&8)&&Le(i,"text-gray-500",!p[3])},i(p){o||(C(r),o=!0)},o(p){N(r),o=!1},d(p){p&&(h(e),h(a),h(i)),f[s].d(),u=!1,Re(c)}}}function zn(n,e,t){let{src:l}=e,{loop:a=!1}=e,{enabled:i=!0}=e,{paused:s=!0}=e;function r(){i&&t(0,s=!s)}function o(){s=this.paused,t(0,s)}return n.$$set=u=>{"src"in u&&t(1,l=u.src),"loop"in u&&t(2,a=u.loop),"enabled"in u&&t(3,i=u.enabled),"paused"in u&&t(0,s=u.paused)},[s,l,a,i,r,o]}class Rn extends Q{constructor(e){super(),$(this,e,zn,Ln,X,{src:1,loop:2,enabled:3,paused:0})}}function jn(n){let e,t;const l=n[1].default,a=me(l,n,n[0],null);return{c(){e=E("span"),a&&a.c(),this.h()},l(i){e=P(i,"SPAN",{class:!0});var s=S(e);a&&a.l(s),s.forEach(h),this.h()},h(){m(e,"class","flex gap-x-2 items-center mx-2")},m(i,s){B(i,e,s),a&&a.m(e,null),t=!0},p(i,[s]){a&&a.p&&(!t||s&1)&&_e(a,l,i,i[0],t?pe(l,i[0],s,null):ge(i[0]),null)},i(i){t||(C(a,i),t=!0)},o(i){N(a,i),t=!1},d(i){i&&h(e),a&&a.d(i)}}}function Hn(n,e,t){let{$$slots:l={},$$scope:a}=e;return n.$$set=i=>{"$$scope"in i&&t(0,a=i.$$scope)},[a,l]}class it extends Q{constructor(e){super(),$(this,e,Hn,jn,X,{})}}function Zn(n){let e,t,l,a;const i=n[4].default,s=me(i,n,n[3],null);return{c(){e=E("td"),t=E("div"),s&&s.c(),this.h()},l(r){e=P(r,"TD",{style:!0,title:!0,class:!0});var o=S(e);t=P(o,"DIV",{class:!0});var u=S(t);s&&s.l(u),u.forEach(h),o.forEach(h),this.h()},h(){m(t,"class",l="flex items-center justify-"+n[0]+" gap-x-2 h-full"),Nl(e,"vertical-align","middle"),m(e,"title",n[1]),m(e,"class",n[2])},m(r,o){B(r,e,o),T(e,t),s&&s.m(t,null),a=!0},p(r,[o]){s&&s.p&&(!a||o&8)&&_e(s,i,r,r[3],a?pe(i,r[3],o,null):ge(r[3]),null),(!a||o&1&&l!==(l="flex items-center justify-"+r[0]+" gap-x-2 h-full"))&&m(t,"class",l),(!a||o&2)&&m(e,"title",r[1]),(!a||o&4)&&m(e,"class",r[2])},i(r){a||(C(s,r),a=!0)},o(r){N(s,r),a=!1},d(r){r&&h(e),s&&s.d(r)}}}function Mn(n,e,t){let{$$slots:l={},$$scope:a}=e,{justify:i="center"}=e,{title:s=""}=e,{class:r=""}=e;return n.$$set=o=>{"justify"in o&&t(0,i=o.justify),"title"in o&&t(1,s=o.title),"class"in o&&t(2,r=o.class),"$$scope"in o&&t(3,a=o.$$scope)},[i,s,r,a,l]}class Ke extends Q{constructor(e){super(),$(this,e,Mn,Zn,X,{justify:0,title:1,class:2})}}async function Un(n,e,t,l){const a={request_method:"POST"};n.title&&(a.title=n.title),n.description&&(a.description=n.description),n.public!==void 0&&(a.public=n.public);try{const i=await Xe({apiPath:`/playlist/${n.id}`,searchParams:a});t.trigger({message:`Updated playlist: ${i?"OK":"KO"}`,timeout:3e3})}catch(i){t.trigger({message:`Updated playlist: error ${i}`,timeout:3e3})}await Vn(n,e,t,l)}async function Vn(n,e,t,l){try{const a=e.filter(s=>s.selected&&!s.inPlaylist).map(s=>s.track.id);await ct(n,a,"POST","songs",l);const i=e.filter(s=>!s.selected&&s.inPlaylist).map(s=>s.track.id);if(await ct(n,i,"DELETE","songs",l),a.length>0){const s=e.filter(r=>r.selected).map(r=>r.track.id);await ct(n,s,"POST","order",l)}if(l.set(void 0),a.length||i.length){const s=t.trigger({message:"Updated playlist tracks, refreshing playlist data"});await Rl(),t.close(s)}}catch(a){t.trigger({message:`Updated playlist tracks: error ${a}`,timeout:3e3})}finally{l.set(void 0)}}async function ct(n,e,t,l,a){if(!e.length)return;a.set({message:`sending 0/${e.length} ${t} ${l} `,value:0,max:e.length});let i=0;const s=100;for(const r of Fn(e,s)){i+=s,a.set({message:`sending ${i} / ${e.length} ${t} ${l} `,value:i,max:e.length}),console.log(`sending ${t} ${l}=${JSON.stringify(r)}`);const o={request_method:t};o[l]=r.join(",");const u=await Xe({apiPath:`/playlist/${n.id}/tracks`,searchParams:o});if(console.log({updateResult:u}),!u)throw new Error(`unable to send ${t} ${l}=${JSON.stringify(r)}`)}}function Fn(n,e){const t=[];for(let l=0;l<n.length;l+=e)t.push(n.slice(l,l+e));return t}function qn(n){let e,t,l='<path fill="currentColor" d="M243 96.05a20 20 0 0 0-17.26-13.72l-57-4.93l-22.3-53.14a20 20 0 0 0-36.82 0L87.29 77.4l-57 4.93a20 20 0 0 0-11.42 35.07l43.32 37.8l-13 56.24A20 20 0 0 0 79 233.1l49-29.76l49 29.76a20 20 0 0 0 29.8-21.66l-13-56.24l43.32-37.8A20 20 0 0 0 243 96.05Zm-66.75 42.62a20 20 0 0 0-6.35 19.63l11.39 49.32l-42.94-26.08a19.9 19.9 0 0 0-20.7 0l-42.94 26.08L86.1 158.3a20 20 0 0 0-6.35-19.63l-38.09-33.23l50.14-4.34a19.92 19.92 0 0 0 16.69-12.19L128 42.42l19.51 46.49a19.92 19.92 0 0 0 16.69 12.19l50.14 4.34Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=F(i,a[s]);return{c(){e=Be("svg"),t=new Ae(!0),this.h()},l(s){e=Ne(s,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ee(r,!0),r.forEach(h),this.h()},h(){t.a=null,ee(e,i)},m(s,r){B(s,e,r),t.m(l,e)},p(s,[r]){ee(e,i=we(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&h(e)}}}function Kn(n,e,t){return n.$$set=l=>{t(0,e=F(F({},e),Y(l)))},e=Y(e),[e]}class Gn extends Q{constructor(e){super(),$(this,e,Kn,qn,X,{})}}function Jn(n){let e,t,l='<g fill="currentColor"><path d="M184.13 147.7a8.08 8.08 0 0 0-2.54 7.89l13.52 58.54a8 8 0 0 1-11.89 8.69l-51.1-31a7.93 7.93 0 0 0-8.24 0l-51.1 31a8 8 0 0 1-11.89-8.69l13.52-58.54a8.08 8.08 0 0 0-2.54-7.89l-45.11-39.35a8 8 0 0 1 4.54-14.07l59.46-5.14a8 8 0 0 0 6.67-4.88l23.23-55.36a8 8 0 0 1 14.68 0l23.23 55.36a8 8 0 0 0 6.67 4.88l59.46 5.14a8 8 0 0 1 4.54 14.07Z" opacity=".2"/><path d="M239.2 97.29a16 16 0 0 0-13.81-11L166 81.17l-23.28-55.36a15.95 15.95 0 0 0-29.44 0L90.07 81.17l-59.46 5.15a16 16 0 0 0-9.11 28.06l45.11 39.42l-13.52 58.54a16 16 0 0 0 23.84 17.34l51-31l51.11 31a16 16 0 0 0 23.84-17.34l-13.51-58.6l45.1-39.36a16 16 0 0 0 4.73-17.09Zm-15.22 5l-45.1 39.36a16 16 0 0 0-5.08 15.71L187.35 216l-51.07-31a15.9 15.9 0 0 0-16.54 0l-51 31l13.46-58.6a16 16 0 0 0-5.08-15.71L32 102.35a.37.37 0 0 1 0-.09l59.44-5.14a16 16 0 0 0 13.35-9.75L128 32.08l23.2 55.29a16 16 0 0 0 13.35 9.75l59.45 5.14v.07Z"/></g>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=F(i,a[s]);return{c(){e=Be("svg"),t=new Ae(!0),this.h()},l(s){e=Ne(s,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ee(r,!0),r.forEach(h),this.h()},h(){t.a=null,ee(e,i)},m(s,r){B(s,e,r),t.m(l,e)},p(s,[r]){ee(e,i=we(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&h(e)}}}function Yn(n,e,t){return n.$$set=l=>{t(0,e=F(F({},e),Y(l)))},e=Y(e),[e]}class Wn extends Q{constructor(e){super(),$(this,e,Yn,Jn,X,{})}}function Xn(n){let e,t,l='<path fill="currentColor" d="m234.5 114.38l-45.1 39.36l13.51 58.6a16 16 0 0 1-23.84 17.34l-51.11-31l-51 31a16 16 0 0 1-23.84-17.34l13.49-58.54l-45.11-39.42a16 16 0 0 1 9.11-28.06l59.46-5.15l23.21-55.36a15.95 15.95 0 0 1 29.44 0L166 81.17l59.44 5.15a16 16 0 0 1 9.11 28.06Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=F(i,a[s]);return{c(){e=Be("svg"),t=new Ae(!0),this.h()},l(s){e=Ne(s,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ee(r,!0),r.forEach(h),this.h()},h(){t.a=null,ee(e,i)},m(s,r){B(s,e,r),t.m(l,e)},p(s,[r]){ee(e,i=we(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&h(e)}}}function Qn(n,e,t){return n.$$set=l=>{t(0,e=F(F({},e),Y(l)))},e=Y(e),[e]}class $n extends Q{constructor(e){super(),$(this,e,Qn,Xn,X,{})}}async function xn(n,e,t){const l=n.filter(s=>s.selected&&s.track.readable).length,a=n.filter(s=>s.selected&&!s.track.readable);for(let s=0;s<a.length;s++){const r=a[s];t.set({message:`trying to fix track ${s} / ${a.length}`,value:s,max:a.length});const o=r.track,u=await es(o,e);if(u){console.log("adding alternative to "+r.track.id+" : "+u.title),r.selected=!1;const c=n.indexOf(r);n.splice(c+1,0,{selected:!0,inPlaylist:!1,track:u})}}const i=n.filter(s=>s.selected&&s.track.readable).length;e.trigger({message:`Reattached ${i-l} track(s) to readable equivalents.<br/>(${n.filter(s=>s.selected).length-i} unreadable track remaining)`,timeout:1e4})}async function es(n,e){const t=await dl(n.artist.id);if(!t){e.trigger({message:`Could not find artist ${n.artist.name}`,timeout:3e3});return}const l=t.flatMap(s=>{const{tracks:r,...o}=s;return s.tracks.map(u=>({...u,album:o}))}).filter(s=>s.id!==n.id&&s.readable),a={sensitivity:"base",ignorePunctuation:!0,numeric:!1,usage:"search"},i=l.filter(s=>s.title.localeCompare(n.title,void 0,a)===0);switch(i.length){case 0:console.log("no match by title",{unreadableTrack:n}),e.trigger({message:`Could not find matching track for '${n.title}' in album '${n.album.title}' by '${n.artist.name}'`,timeout:3e3});return;case 1:return i[0];default:{const s=Object.values(i.reduce((o,u)=>(o[u.isrc]=u,o),{}));if(s.length===1)return s[0];const r=i.filter(o=>o.album.title.localeCompare(n.album.title,void 0,a)===0);switch(r.length){case 0:console.log("no match by title and album",{unreadableTrack:n}),e.trigger({message:`Could not find matching track for '${n.title}' in album '${n.album.title}' by '${n.artist.name}'`,timeout:3e3});return;case 1:return r[0];default:{const o=Object.values(r.reduce((u,c)=>(u[c.isrc]=c,u),{}));if(o.length===1)return o[0];console.log("multiple match by title",{unreadableTrack:n,matchingTracksByTitleAndAlbum:r}),e.trigger({message:`Found multiple matching tracks for '${n.title}' in album '${n.album.title}' : ${r.map(u=>u.id)}`,timeout:3e3});return}}}}}function qt(n,e,t){const l=n.slice();return l[37]=e[t],l}const ts=n=>({option:n[0]&16512,classesButton:n[0]&512}),Kt=n=>({option:n[37],classesButton:n[9],onSelection:n[15]});function ls(n){let e,t,l;return{c(){e=E("div"),t=ne(n[1]),this.h()},l(a){e=P(a,"DIV",{class:!0});var i=S(e);t=se(i,n[1]),i.forEach(h),this.h()},h(){m(e,"class",l="autocomplete-empty "+n[8])},m(a,i){B(a,e,i),T(e,t)},p(a,i){i[0]&2&&Ie(t,a[1]),i[0]&256&&l!==(l="autocomplete-empty "+a[8])&&m(e,"class",l)},i:K,o:K,d(a){a&&h(e)}}}function ns(n){let e,t,l=[],a=new Map,i,s,r,o=Ue(n[7].slice(0,n[14]));const u=c=>c[37];for(let c=0;c<o.length;c+=1){let d=qt(n,o,c),f=u(d);a.set(f,l[c]=Gt(f,d))}return{c(){e=E("nav"),t=E("ul");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=P(c,"NAV",{class:!0});var d=S(e);t=P(d,"UL",{class:!0});var f=S(t);for(let _=0;_<l.length;_+=1)l[_].l(f);f.forEach(h),d.forEach(h),this.h()},h(){m(t,"class",i="autocomplete-list "+n[11]),m(e,"class",s="autocomplete-nav "+n[12])},m(c,d){B(c,e,d),T(e,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);r=!0},p(c,d){d[0]&134268644&&(o=Ue(c[7].slice(0,c[14])),be(),l=Al(l,d,u,1,c,o,a,t,El,Gt,null,qt),ve()),(!r||d[0]&2048&&i!==(i="autocomplete-list "+c[11]))&&m(t,"class",i),(!r||d[0]&4096&&s!==(s="autocomplete-nav "+c[12]))&&m(e,"class",s)},i(c){if(!r){for(let d=0;d<o.length;d+=1)C(l[d]);r=!0}},o(c){for(let d=0;d<l.length;d+=1)N(l[d]);r=!1},d(c){c&&h(e);for(let d=0;d<l.length;d+=1)l[d].d()}}}function ss(n){let e,t,l=n[37].label+"",a,i,s;function r(){return n[31](n[37])}return{c(){e=E("button"),t=new Ae(!1),this.h()},l(o){e=P(o,"BUTTON",{class:!0,type:!0});var u=S(e);t=Ee(u,!1),u.forEach(h),this.h()},h(){t.a=null,m(e,"class",a="autocomplete-button "+n[9]),m(e,"type","button")},m(o,u){B(o,e,u),t.m(l,e),i||(s=[R(e,"click",r),R(e,"click",n[29]),R(e,"keypress",n[30])],i=!0)},p(o,u){n=o,u[0]&16512&&l!==(l=n[37].label+"")&&t.p(l),u[0]&512&&a!==(a="autocomplete-button "+n[9])&&m(e,"class",a)},d(o){o&&h(e),i=!1,Re(s)}}}function Gt(n,e){let t,l,a,i,s,r;const o=e[28].optionButton,u=me(o,e,e[27],Kt),c=u||ss(e);return{key:n,first:null,c(){t=E("li"),c&&c.c(),l=L(),this.h()},l(d){t=P(d,"LI",{class:!0});var f=S(t);c&&c.l(f),l=z(f),f.forEach(h),this.h()},h(){m(t,"class",a="autocomplete-item "+e[10]),this.first=t},m(d,f){B(d,t,f),c&&c.m(t,null),T(t,l),r=!0},p(d,f){e=d,u?u.p&&(!r||f[0]&134234752)&&_e(u,o,e,e[27],r?pe(o,e[27],f,ts):ge(e[27]),Kt):c&&c.p&&(!r||f[0]&17024)&&c.p(e,r?f:[-1,-1]),(!r||f[0]&1024&&a!==(a="autocomplete-item "+e[10]))&&m(t,"class",a)},i(d){r||(C(c,d),d&&Il(()=>{r&&(s&&s.end(1),i=Ol(t,e[0],{transition:e[3],params:e[4],enabled:e[2]}),i.start())}),r=!0)},o(d){N(c,d),i&&i.invalidate(),d&&(s=Ll(t,e[0],{transition:e[5],params:e[6],enabled:e[2]})),r=!1},d(d){d&&h(t),c&&c.d(d),d&&s&&s.end()}}}function as(n){let e,t,l,a,i;const s=[ns,ls],r=[];function o(u,c){return u[7].length>0?0:1}return t=o(n),l=r[t]=s[t](n),{c(){e=E("div"),l.c(),this.h()},l(u){e=P(u,"DIV",{class:!0,"data-testid":!0});var c=S(e);l.l(c),c.forEach(h),this.h()},h(){m(e,"class",a="autocomplete "+n[13]),m(e,"data-testid","autocomplete")},m(u,c){B(u,e,c),r[t].m(e,null),i=!0},p(u,c){let d=t;t=o(u),t===d?r[t].p(u,c):(be(),N(r[d],1,1,()=>{r[d]=null}),ve(),l=r[t],l?l.p(u,c):(l=r[t]=s[t](u),l.c()),C(l,1),l.m(e,null)),(!i||c[0]&8192&&a!==(a="autocomplete "+u[13]))&&m(e,"class",a)},i(u){i||(C(l),i=!0)},o(u){N(l),i=!1},d(u){u&&h(e),r[t].d()}}}function hl(n,e){const{transition:t,params:l,enabled:a}=e;return a?t(n,l):"duration"in l?t(n,{duration:0}):{duration:0}}function is(n,e,t){let l,a,i,s,r,o,u,c,d,f;st(n,Tl,O=>t(32,f=O));let{$$slots:_={},$$scope:p}=e;const g=xe();let{input:A=void 0}=e,{options:w=[]}=e,{limit:k=void 0}=e,{allowlist:b=[]}=e,{denylist:v=[]}=e,{emptyState:y="No Results Found."}=e,{regionNav:D=""}=e,{regionList:G="list-nav"}=e,{regionItem:q=""}=e,{regionButton:I="w-full"}=e,{regionEmpty:W="text-center"}=e,{transitions:Pe=!f}=e,{transitionIn:ce=Ct}=e,{transitionInParams:oe={duration:200}}=e,{transitionOut:ke=Ct}=e,{transitionOutParams:De={duration:200}}=e;function Ce(O,re){let ie=[...w];O.length&&(ie=ie.filter(fe=>O.includes(fe.value))),re.length&&(ie=ie.filter(fe=>!re.includes(fe.value))),!O.length&&!re.length&&(ie=w),t(26,l=ie)}function je(){let O=[...l];return O=O.filter(re=>{const ie=String(A).toLowerCase().trim();if(JSON.stringify([re.label,re.value,re.keywords]).toLowerCase().includes(ie))return re}),O}function Oe(O){g("selection",O)}function Te(O){le.call(this,n,O)}function j(O){le.call(this,n,O)}const H=O=>Oe(O);return n.$$set=O=>{t(36,e=F(F({},e),Y(O))),"input"in O&&t(16,A=O.input),"options"in O&&t(17,w=O.options),"limit"in O&&t(18,k=O.limit),"allowlist"in O&&t(19,b=O.allowlist),"denylist"in O&&t(20,v=O.denylist),"emptyState"in O&&t(1,y=O.emptyState),"regionNav"in O&&t(21,D=O.regionNav),"regionList"in O&&t(22,G=O.regionList),"regionItem"in O&&t(23,q=O.regionItem),"regionButton"in O&&t(24,I=O.regionButton),"regionEmpty"in O&&t(25,W=O.regionEmpty),"transitions"in O&&t(2,Pe=O.transitions),"transitionIn"in O&&t(3,ce=O.transitionIn),"transitionInParams"in O&&t(4,oe=O.transitionInParams),"transitionOut"in O&&t(5,ke=O.transitionOut),"transitionOutParams"in O&&t(6,De=O.transitionOutParams),"$$scope"in O&&t(27,p=O.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&131072&&t(26,l=w),n.$$.dirty[0]&1572864&&Ce(b,v),n.$$.dirty[0]&67174400&&t(7,a=A?je():l),n.$$.dirty[0]&262272&&t(14,i=k!==void 0?k:a.length),t(13,s=`${e.class??""}`),n.$$.dirty[0]&2097152&&t(12,r=`${D}`),n.$$.dirty[0]&4194304&&t(11,o=`${G}`),n.$$.dirty[0]&8388608&&t(10,u=`${q}`),n.$$.dirty[0]&16777216&&t(9,c=`${I}`),n.$$.dirty[0]&33554432&&t(8,d=`${W}`)},e=Y(e),[hl,y,Pe,ce,oe,ke,De,a,d,c,u,o,r,s,i,Oe,A,w,k,b,v,D,G,q,I,W,l,p,_,Te,j,H]}class rs extends Q{constructor(e){super(),$(this,e,is,as,X,{dynamicTransition:0,input:16,options:17,limit:18,allowlist:19,denylist:20,emptyState:1,regionNav:21,regionList:22,regionItem:23,regionButton:24,regionEmpty:25,transitions:2,transitionIn:3,transitionInParams:4,transitionOut:5,transitionOutParams:6},null,[-1,-1])}get dynamicTransition(){return hl}}function os(n){let e,t,l='<path fill="currentColor" d="M128 20a108 108 0 1 0 108 108A108.12 108.12 0 0 0 128 20Zm0 192a84 84 0 1 1 84-84a84.09 84.09 0 0 1-84 84Zm52-84a12 12 0 0 1-12 12h-28v28a12 12 0 0 1-24 0v-28H88a12 12 0 0 1 0-24h28V88a12 12 0 0 1 24 0v28h28a12 12 0 0 1 12 12Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=F(i,a[s]);return{c(){e=Be("svg"),t=new Ae(!0),this.h()},l(s){e=Ne(s,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ee(r,!0),r.forEach(h),this.h()},h(){t.a=null,ee(e,i)},m(s,r){B(s,e,r),t.m(l,e)},p(s,[r]){ee(e,i=we(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&h(e)}}}function us(n,e,t){return n.$$set=l=>{t(0,e=F(F({},e),Y(l)))},e=Y(e),[e]}class bt extends Q{constructor(e){super(),$(this,e,us,os,X,{})}}function cs(n){let e,t,l,a,i,s=n[0].name+"",r,o,u,c,d,f,_,p,g;return d=new bt({}),{c(){e=E("span"),t=E("span"),l=E("img"),i=L(),r=ne(s),o=L(),u=E("span"),c=E("button"),Z(d.$$.fragment),this.h()},l(A){e=P(A,"SPAN",{class:!0});var w=S(e);t=P(w,"SPAN",{class:!0});var k=S(t);l=P(k,"IMG",{src:!0,alt:!0,class:!0}),i=z(k),r=se(k,s),k.forEach(h),o=z(w),u=P(w,"SPAN",{class:!0});var b=S(u);c=P(b,"BUTTON",{class:!0,title:!0});var v=S(c);M(d.$$.fragment,v),v.forEach(h),b.forEach(h),w.forEach(h),this.h()},h(){Ve(l.src,a=n[0].picture_small)||m(l,"src",a),m(l,"alt","artist"),m(l,"class","mx-2"),m(t,"class","flex items-center"),m(c,"class","!p-0"),m(c,"title","add all artist titles to the playlist"),m(u,"class","btn-group-vertical btn btn-sm gap-y-1"),m(e,"class",f="flex justify-between w-full items-center py-1 "+n[1])},m(A,w){B(A,e,w),T(e,t),T(t,l),T(t,i),T(t,r),T(e,o),T(e,u),T(u,c),U(d,c,null),_=!0,p||(g=[R(c,"click",n[2]),R(c,"pointerenter",n[3]),R(c,"pointerleave",n[4])],p=!0)},p(A,[w]){(!_||w&1&&!Ve(l.src,a=A[0].picture_small))&&m(l,"src",a),(!_||w&1)&&s!==(s=A[0].name+"")&&Ie(r,s),(!_||w&2&&f!==(f="flex justify-between w-full items-center py-1 "+A[1]))&&m(e,"class",f)},i(A){_||(C(d.$$.fragment,A),_=!0)},o(A){N(d.$$.fragment,A),_=!1},d(A){A&&h(e),V(d),p=!1,Re(g)}}}function fs(n,e,t){let{artist:l}=e,a="";function i(o){le.call(this,n,o)}const s=()=>t(1,a="variant-ghost-success"),r=()=>t(1,a="");return n.$$set=o=>{"artist"in o&&t(0,l=o.artist)},[l,a,i,s,r]}class ds extends Q{constructor(e){super(),$(this,e,fs,cs,X,{artist:0})}}function hs(n){let e,t;function l(){return n[6](n[8])}return e=new ds({props:{artist:n[8].meta}}),e.$on("click",l),{c(){Z(e.$$.fragment)},l(a){M(e.$$.fragment,a)},m(a,i){U(e,a,i),t=!0},p(a,i){n=a;const s={};i&256&&(s.artist=n[8].meta),e.$set(s)},i(a){t||(C(e.$$.fragment,a),t=!0)},o(a){N(e.$$.fragment,a),t=!1},d(a){V(e,a)}}}function ms(n){let e,t,l,a,i,s,r,o,u;function c(f){n[7](f)}let d={options:n[1],$$slots:{optionButton:[hs,({option:f})=>({8:f}),({option:f})=>f?256:0]},$$scope:{ctx:n}};return n[0]!==void 0&&(d.input=n[0]),i=new rs({props:d}),Ze.push(()=>Je(i,"input",c)),{c(){e=E("span"),t=E("input"),l=L(),a=E("span"),Z(i.$$.fragment),this.h()},l(f){e=P(f,"SPAN",{class:!0});var _=S(e);t=P(_,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0}),l=z(_),a=P(_,"SPAN",{class:!0,tabindex:!0});var p=S(a);M(i.$$.fragment,p),p.forEach(h),_.forEach(h),this.h()},h(){m(t,"class","input"),m(t,"type","search"),m(t,"name","demo"),m(t,"placeholder","Search..."),m(a,"class","card w-full max-h-48 p-4 overflow-y-auto inline-block"),m(a,"tabindex","-1"),m(e,"class","my-4")},m(f,_){B(f,e,_),T(e,t),Me(t,n[0]),T(e,l),T(e,a),U(i,a,null),r=!0,o||(u=R(t,"input",n[5]),o=!0)},p(f,[_]){_&1&&t.value!==f[0]&&Me(t,f[0]);const p={};_&2&&(p.options=f[1]),_&768&&(p.$$scope={dirty:_,ctx:f}),!s&&_&1&&(s=!0,p.input=f[0],Ge(()=>s=!1)),i.$set(p)},i(f){r||(C(i.$$.fragment,f),r=!0)},o(f){N(i.$$.fragment,f),r=!1},d(f){f&&h(e),V(i),o=!1,u()}}}function _s(n,e,t){let l,a;const i=tt("");st(n,i,d=>t(0,l=d));const s=xe(),r=vl(i,(d,f)=>{if(!d){f([]);return}Xe({apiPath:"/search/artist",searchParams:{q:d}}).then(_=>{const p=_.data.map(g=>({label:`<span class="flex justify-between w-full items-center">
<span class="flex items-center"> <img src="${g.picture_small}" class="mx-2"/>${g.name}</span>
 <button class="btn-icon btn-icon-sm variant-outline-tertiary" title="add all artist titles to the playlist">add</button></span>`,value:g.id,meta:g}));f(p)})});st(n,r,d=>t(1,a=d));function o(){l=this.value,i.set(l)}const u=d=>s("artistSelection",d.meta);function c(d){l=d,i.set(l)}return[l,a,i,s,r,o,u,c]}class gs extends Q{constructor(e){super(),$(this,e,_s,ms,X,{})}}function ps(n){let e;return{c(){e=ne("Private")},l(t){e=se(t,"Private")},m(t,l){B(t,e,l)},d(t){t&&h(e)}}}function bs(n){let e;return{c(){e=ne("Public")},l(t){e=se(t,"Public")},m(t,l){B(t,e,l)},d(t){t&&h(e)}}}function vs(n){let e;function t(i,s){return i[0].public?bs:ps}let l=t(n),a=l(n);return{c(){a.c(),e=ne(" playlist")},l(i){a.l(i),e=se(i," playlist")},m(i,s){a.m(i,s),B(i,e,s)},p(i,s){l!==(l=t(i))&&(a.d(1),a=l(i),a&&(a.c(),a.m(e.parentNode,e)))},d(i){i&&h(e),a.d(i)}}}function ks(n){let e,t,l,a,i,s="Title",r,o,u,c,d,f,_,p,g,A="Description",w,k,b,v,y;function D(q){n[2](q)}let G={name:"slider-label",$$slots:{default:[vs]},$$scope:{ctx:n}};return n[0].public!==void 0&&(G.checked=n[0].public),d=new on({props:G}),Ze.push(()=>Je(d,"checked",D)),{c(){e=E("form"),t=E("div"),l=E("div"),a=E("label"),i=E("span"),i.textContent=s,r=L(),o=E("input"),u=L(),c=E("div"),Z(d.$$.fragment),_=L(),p=E("label"),g=E("span"),g.textContent=A,w=L(),k=E("textarea"),this.h()},l(q){e=P(q,"FORM",{class:!0});var I=S(e);t=P(I,"DIV",{class:!0});var W=S(t);l=P(W,"DIV",{class:!0});var Pe=S(l);a=P(Pe,"LABEL",{class:!0});var ce=S(a);i=P(ce,"SPAN",{"data-svelte-h":!0}),ue(i)!=="svelte-7ccxmo"&&(i.textContent=s),r=z(ce),o=P(ce,"INPUT",{class:!0,type:!0,placeholder:!0}),ce.forEach(h),Pe.forEach(h),u=z(W),c=P(W,"DIV",{});var oe=S(c);M(d.$$.fragment,oe),oe.forEach(h),W.forEach(h),_=z(I),p=P(I,"LABEL",{class:!0});var ke=S(p);g=P(ke,"SPAN",{"data-svelte-h":!0}),ue(g)!=="svelte-rmspr8"&&(g.textContent=A),w=z(ke),k=P(ke,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),S(k).forEach(h),ke.forEach(h),I.forEach(h),this.h()},h(){m(o,"class","input"),m(o,"type","text"),m(o,"placeholder","title"),m(a,"class","label"),m(l,"class","col-span-5"),m(t,"class","grid grid-cols-6"),m(k,"class","textarea"),m(k,"rows","4"),m(k,"placeholder","description"),m(p,"class","label"),m(e,"class","mb-10 space-y-2")},m(q,I){B(q,e,I),T(e,t),T(t,l),T(l,a),T(a,i),T(a,r),T(a,o),Me(o,n[0].title),T(t,u),T(t,c),U(d,c,null),T(e,_),T(e,p),T(p,g),T(p,w),T(p,k),Me(k,n[0].description),b=!0,v||(y=[R(o,"input",n[1]),R(k,"input",n[3])],v=!0)},p(q,[I]){I&1&&o.value!==q[0].title&&Me(o,q[0].title);const W={};I&17&&(W.$$scope={dirty:I,ctx:q}),!f&&I&1&&(f=!0,W.checked=q[0].public,Ge(()=>f=!1)),d.$set(W),I&1&&Me(k,q[0].description)},i(q){b||(C(d.$$.fragment,q),b=!0)},o(q){N(d.$$.fragment,q),b=!1},d(q){q&&h(e),V(d),v=!1,Re(y)}}}function ys(n,e,t){let{playlist:l}=e;function a(){l.title=this.value,t(0,l)}function i(r){n.$$.not_equal(l.public,r)&&(l.public=r,t(0,l))}function s(){l.description=this.value,t(0,l)}return n.$$set=r=>{"playlist"in r&&t(0,l=r.playlist)},[l,a,i,s]}class ws extends Q{constructor(e){super(),$(this,e,ys,ks,X,{playlist:0})}}function ml(n,e){e.update(t=>(t.forEach(l=>{l.track.artist.id===n&&(l.selected=!1)}),t))}async function vt(n,e){const t=await dl(n);e.update(l=>{const a=t.sort((s,r)=>s.release_date.localeCompare(r.release_date)).flatMap(s=>{const{tracks:r,...o}=s;return s.tracks.map(u=>({...u,album:o}))});a.forEach(s=>{const r=l.find(o=>o.track.id===s.id);r?(r.track.album=s.album,r.selected=!0):l.push({track:s,inPlaylist:!1,selected:!0})});function i(s){return a.findIndex(r=>r.id===s.track.id)}return l.sort((s,r)=>{const o=i(s),u=i(r);return o-u}),l})}function Ts(n,e){e.update(t=>(t.forEach(l=>{l.track.album.id===n&&(l.selected=!1)}),t))}async function As(n,e){const t=await fl(n.id);e.update(l=>{t.data.forEach(o=>{const u=l.find(c=>c.track.id===o.id);o.album=n,u?(u.track.album=o.album,u.selected=!0):l.push({track:o,inPlaylist:!1,selected:!0})});function a(o){return t.data.findIndex(u=>u.id===o.track.id)+1}function i(o){return l.findIndex(u=>u.track.id===o.track.id)+1}const s=l.findIndex(o=>o.track.album.id===n.id);function r(o){const u=a(o);return u===0?i(o)*1e4:s*1e4+u}return console.log({startIndex:s}),l.sort((o,u)=>{const c=s*1e4+r(o),d=s*1e4+r(u);return c-d}),l})}function ft(n,e){return e.filter(t=>t.track.artist.id===n&&t.selected).length}function Es(n,e){const t=n.filter(l=>l.selected||l.inPlaylist);return e.trigger({message:`Removed ${n.length-t.length} track(s) from the playlist`,timeout:3e3}),t}function Ps(n){let e,t,l='<path fill="currentColor" d="M180 128a12 12 0 0 1-12 12H88a12 12 0 0 1 0-24h80a12 12 0 0 1 12 12Zm56 0A108 108 0 1 1 128 20a108.12 108.12 0 0 1 108 108Zm-24 0a84 84 0 1 0-84 84a84.09 84.09 0 0 0 84-84Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=F(i,a[s]);return{c(){e=Be("svg"),t=new Ae(!0),this.h()},l(s){e=Ne(s,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ee(r,!0),r.forEach(h),this.h()},h(){t.a=null,ee(e,i)},m(s,r){B(s,e,r),t.m(l,e)},p(s,[r]){ee(e,i=we(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&h(e)}}}function Cs(n,e,t){return n.$$set=l=>{t(0,e=F(F({},e),Y(l)))},e=Y(e),[e]}class _l extends Q{constructor(e){super(),$(this,e,Cs,Ps,X,{})}}function Ss(n){let e,t,l,a,i,s,r,o,u,c,d,f;const _=n[5].default,p=me(_,n,n[4],null);return i=new bt({}),o=new _l({}),{c(){e=E("span"),p&&p.c(),t=L(),l=E("span"),a=E("button"),Z(i.$$.fragment),s=L(),r=E("button"),Z(o.$$.fragment),this.h()},l(g){e=P(g,"SPAN",{class:!0});var A=S(e);p&&p.l(A),t=z(A),l=P(A,"SPAN",{class:!0});var w=S(l);a=P(w,"BUTTON",{class:!0,title:!0});var k=S(a);M(i.$$.fragment,k),k.forEach(h),s=z(w),r=P(w,"BUTTON",{class:!0,title:!0});var b=S(r);M(o.$$.fragment,b),b.forEach(h),w.forEach(h),A.forEach(h),this.h()},h(){m(a,"class","!p-0 "),m(a,"title",n[0]),m(r,"class","!p-0"),m(r,"title",n[1]),m(l,"class","btn-group-vertical btn btn-sm gap-y-1"),m(e,"class",u="flex flex-row justify-between w-full items-center py-1 gap-x-2 "+n[2])},m(g,A){B(g,e,A),p&&p.m(e,null),T(e,t),T(e,l),T(l,a),U(i,a,null),T(l,s),T(l,r),U(o,r,null),c=!0,d||(f=[R(a,"click",n[6]),R(a,"pointerenter",n[7]),R(a,"pointerleave",n[8]),R(r,"click",n[9]),R(r,"pointerenter",n[10]),R(r,"pointerleave",n[11])],d=!0)},p(g,[A]){p&&p.p&&(!c||A&16)&&_e(p,_,g,g[4],c?pe(_,g[4],A,null):ge(g[4]),null),(!c||A&1)&&m(a,"title",g[0]),(!c||A&2)&&m(r,"title",g[1]),(!c||A&4&&u!==(u="flex flex-row justify-between w-full items-center py-1 gap-x-2 "+g[2]))&&m(e,"class",u)},i(g){c||(C(p,g),C(i.$$.fragment,g),C(o.$$.fragment,g),c=!0)},o(g){N(p,g),N(i.$$.fragment,g),N(o.$$.fragment,g),c=!1},d(g){g&&h(e),p&&p.d(g),V(i),V(o),d=!1,Re(f)}}}function Bs(n,e,t){let{$$slots:l={},$$scope:a}=e;const i=xe();let{addTitle:s="add all album titles to the playlist"}=e,{removeTitle:r="deselect all album titles from the playlist"}=e,o="";const u=()=>i("add"),c=()=>t(2,o="variant-ghost-success"),d=()=>t(2,o=""),f=()=>i("remove"),_=()=>t(2,o="variant-ghost-error"),p=()=>t(2,o="");return n.$$set=g=>{"addTitle"in g&&t(0,s=g.addTitle),"removeTitle"in g&&t(1,r=g.removeTitle),"$$scope"in g&&t(4,a=g.$$scope)},[s,r,o,i,a,l,u,c,d,f,_,p]}class gl extends Q{constructor(e){super(),$(this,e,Bs,Ss,X,{addTitle:0,removeTitle:1})}}function Ns(n){let e,t,l='<path fill="currentColor" d="M128 128a12 12 0 0 1-12 12H48a12 12 0 0 1 0-24h68a12 12 0 0 1 12 12ZM48 76h132a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm52 104H48a12 12 0 0 0 0 24h52a12 12 0 0 0 0-24Zm132.49-20.49a12 12 0 0 0-17 0L196 179v-67a12 12 0 0 0-24 0v67l-19.51-19.52a12 12 0 0 0-17 17l40 40a12 12 0 0 0 17 0l40-40a12 12 0 0 0 0-16.97Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=F(i,a[s]);return{c(){e=Be("svg"),t=new Ae(!0),this.h()},l(s){e=Ne(s,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ee(r,!0),r.forEach(h),this.h()},h(){t.a=null,ee(e,i)},m(s,r){B(s,e,r),t.m(l,e)},p(s,[r]){ee(e,i=we(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&h(e)}}}function Is(n,e,t){return n.$$set=l=>{t(0,e=F(F({},e),Y(l)))},e=Y(e),[e]}class Ds extends Q{constructor(e){super(),$(this,e,Is,Ns,X,{})}}function Os(n){let e,t,l='<path fill="currentColor" d="M36 128a12 12 0 0 1 12-12h68a12 12 0 0 1 0 24H48a12 12 0 0 1-12-12Zm12-52h52a12 12 0 0 0 0-24H48a12 12 0 0 0 0 24Zm132 104H48a12 12 0 0 0 0 24h132a12 12 0 0 0 0-24Zm52.49-100.49l-40-40a12 12 0 0 0-17 0l-40 40a12 12 0 0 0 17 17L172 77v67a12 12 0 0 0 24 0V77l19.51 19.52a12 12 0 0 0 17-17Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=F(i,a[s]);return{c(){e=Be("svg"),t=new Ae(!0),this.h()},l(s){e=Ne(s,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ee(r,!0),r.forEach(h),this.h()},h(){t.a=null,ee(e,i)},m(s,r){B(s,e,r),t.m(l,e)},p(s,[r]){ee(e,i=we(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&h(e)}}}function Ls(n,e,t){return n.$$set=l=>{t(0,e=F(F({},e),Y(l)))},e=Y(e),[e]}class zs extends Q{constructor(e){super(),$(this,e,Ls,Os,X,{})}}function Rs(n,e,t){const l=e.ascending?1:-1,a=(o,u)=>ft(o.id,t)-ft(u.id,t),i=(o,u)=>o.name.localeCompare(u.name),s=(o,u)=>(c,d)=>{const f=o(c,d);return f===0?u(c,d):f};return n.sort((o,u)=>{switch(e.orderBy){case"trackCount":return l*s(a,i)(o,u);case"alphabetical":return l*s(i,a)(o,u)}})}function Jt(n,e,t){const l=n.slice();l[12]=e[t];const a=ft(l[12].id,l[3]);return l[13]=a,l}function Yt(n){let e,t,l,a,i,s,r;t=new it({props:{$$slots:{default:[js]},$$scope:{ctx:n}}}),a=new it({props:{$$slots:{default:[Vs]},$$scope:{ctx:n}}});let o=Ue(n[4]),u=[];for(let d=0;d<o.length;d+=1)u[d]=Wt(Jt(n,o,d));const c=d=>N(u[d],1,1,()=>{u[d]=null});return{c(){e=E("span"),Z(t.$$.fragment),l=L(),Z(a.$$.fragment),i=L(),s=E("ul");for(let d=0;d<u.length;d+=1)u[d].c();this.h()},l(d){e=P(d,"SPAN",{class:!0});var f=S(e);M(t.$$.fragment,f),l=z(f),M(a.$$.fragment,f),f.forEach(h),i=z(d),s=P(d,"UL",{class:!0});var _=S(s);for(let p=0;p<u.length;p+=1)u[p].l(_);_.forEach(h),this.h()},h(){m(e,"class","flex justify-between w-full items-center gap-x-2 my-4"),m(s,"class","list")},m(d,f){B(d,e,f),U(t,e,null),T(e,l),U(a,e,null),B(d,i,f),B(d,s,f);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(s,null);r=!0},p(d,f){const _={};f&65536&&(_.$$scope={dirty:f,ctx:d}),t.$set(_);const p={};if(f&65537&&(p.$$scope={dirty:f,ctx:d}),a.$set(p),f&28){o=Ue(d[4]);let g;for(g=0;g<o.length;g+=1){const A=Jt(d,o,g);u[g]?(u[g].p(A,f),C(u[g],1)):(u[g]=Wt(A),u[g].c(),C(u[g],1),u[g].m(s,null))}for(be(),g=o.length;g<u.length;g+=1)c(g);ve()}},i(d){if(!r){C(t.$$.fragment,d),C(a.$$.fragment,d);for(let f=0;f<o.length;f+=1)C(u[f]);r=!0}},o(d){N(t.$$.fragment,d),N(a.$$.fragment,d),u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)N(u[f]);r=!1},d(d){d&&(h(e),h(i),h(s)),V(t),V(a),ht(u,d)}}}function js(n){let e,t="Playlists Artists";return{c(){e=E("h4"),e.textContent=t},l(l){e=P(l,"H4",{"data-svelte-h":!0}),ue(e)!=="svelte-1fedd7v"&&(e.textContent=t)},m(l,a){B(l,e,a)},p:K,d(l){l&&h(e)}}}function Hs(n){let e,t="alphabetical",l,a;return{c(){e=E("button"),e.textContent=t},l(i){e=P(i,"BUTTON",{"data-svelte-h":!0}),ue(e)!=="svelte-a0poae"&&(e.textContent=t)},m(i,s){B(i,e,s),l||(a=R(e,"click",n[7]),l=!0)},p:K,d(i){i&&h(e),l=!1,a()}}}function Zs(n){let e,t="# tracks",l,a;return{c(){e=E("button"),e.textContent=t},l(i){e=P(i,"BUTTON",{"data-svelte-h":!0}),ue(e)!=="svelte-ms1gv1"&&(e.textContent=t)},m(i,s){B(i,e,s),l||(a=R(e,"click",n[6]),l=!0)},p:K,d(i){i&&h(e),l=!1,a()}}}function Ms(n){let e,t,l,a,i;return t=new zs({}),{c(){e=E("button"),Z(t.$$.fragment)},l(s){e=P(s,"BUTTON",{});var r=S(e);M(t.$$.fragment,r),r.forEach(h)},m(s,r){B(s,e,r),U(t,e,null),l=!0,a||(i=R(e,"click",n[9]),a=!0)},p:K,i(s){l||(C(t.$$.fragment,s),l=!0)},o(s){N(t.$$.fragment,s),l=!1},d(s){s&&h(e),V(t),a=!1,i()}}}function Us(n){let e,t,l,a,i;return t=new Ds({}),{c(){e=E("button"),Z(t.$$.fragment)},l(s){e=P(s,"BUTTON",{});var r=S(e);M(t.$$.fragment,r),r.forEach(h)},m(s,r){B(s,e,r),U(t,e,null),l=!0,a||(i=R(e,"click",n[8]),a=!0)},p:K,i(s){l||(C(t.$$.fragment,s),l=!0)},o(s){N(t.$$.fragment,s),l=!1},d(s){s&&h(e),V(t),a=!1,i()}}}function Vs(n){let e,t,l,a,i;function s(f,_){if(f[0].orderBy==="trackCount")return Zs;if(f[0].orderBy==="alphabetical")return Hs}let r=s(n),o=r&&r(n);const u=[Us,Ms],c=[];function d(f,_){return f[0].ascending?0:1}return t=d(n),l=c[t]=u[t](n),{c(){o&&o.c(),e=L(),l.c(),a=ze()},l(f){o&&o.l(f),e=z(f),l.l(f),a=ze()},m(f,_){o&&o.m(f,_),B(f,e,_),c[t].m(f,_),B(f,a,_),i=!0},p(f,_){r===(r=s(f))&&o?o.p(f,_):(o&&o.d(1),o=r&&r(f),o&&(o.c(),o.m(e.parentNode,e)));let p=t;t=d(f),t===p?c[t].p(f,_):(be(),N(c[p],1,1,()=>{c[p]=null}),ve(),l=c[t],l?l.p(f,_):(l=c[t]=u[t](f),l.c()),C(l,1),l.m(a.parentNode,a))},i(f){i||(C(l),i=!0)},o(f){N(l),i=!1},d(f){f&&(h(e),h(a)),o&&o.d(f),c[t].d(f)}}}function Fs(n){let e,t,l,a,i,s=n[12].name+"",r,o,u,c,d=n[13]+"",f,_,p;return{c(){e=E("img"),a=L(),i=E("span"),r=ne(s),o=L(),u=E("small"),c=ne("(#"),f=ne(d),_=ne(`
                                       )`),this.h()},l(g){e=P(g,"IMG",{src:!0,alt:!0}),a=z(g),i=P(g,"SPAN",{});var A=S(i);r=se(A,s),A.forEach(h),o=z(g),u=P(g,"SMALL",{title:!0});var w=S(u);c=se(w,"(#"),f=se(w,d),_=se(w,`
                                       )`),w.forEach(h),this.h()},h(){Ve(e.src,t=n[12].picture_small)||m(e,"src",t),m(e,"alt",l=n[12].name),m(u,"title",p="artist has "+n[13]+" tracks in the playlist ")},m(g,A){B(g,e,A),B(g,a,A),B(g,i,A),T(i,r),B(g,o,A),B(g,u,A),T(u,c),T(u,f),T(u,_)},p(g,A){A&16&&!Ve(e.src,t=g[12].picture_small)&&m(e,"src",t),A&16&&l!==(l=g[12].name)&&m(e,"alt",l),A&16&&s!==(s=g[12].name+"")&&Ie(r,s),A&24&&d!==(d=g[13]+"")&&Ie(f,d),A&24&&p!==(p="artist has "+g[13]+" tracks in the playlist ")&&m(u,"title",p)},d(g){g&&(h(e),h(a),h(i),h(o),h(u))}}}function Wt(n){let e,t,l,a,i,s,r,o,u,c,d,f,_,p,g,A;a=new it({props:{$$slots:{default:[Fs]},$$scope:{ctx:n}}}),u=new bt({});function w(){return n[10](n[12])}f=new _l({});function k(){return n[11](n[12])}return{c(){e=E("li"),t=E("span"),l=E("a"),Z(a.$$.fragment),s=L(),r=E("div"),o=E("button"),Z(u.$$.fragment),c=L(),d=E("button"),Z(f.$$.fragment),_=L(),this.h()},l(b){e=P(b,"LI",{});var v=S(e);t=P(v,"SPAN",{class:!0});var y=S(t);l=P(y,"A",{href:!0,title:!0});var D=S(l);M(a.$$.fragment,D),D.forEach(h),s=z(y),r=P(y,"DIV",{class:!0});var G=S(r);o=P(G,"BUTTON",{class:!0,title:!0});var q=S(o);M(u.$$.fragment,q),q.forEach(h),c=z(G),d=P(G,"BUTTON",{class:!0,title:!0});var I=S(d);M(f.$$.fragment,I),I.forEach(h),G.forEach(h),y.forEach(h),_=z(v),v.forEach(h),this.h()},h(){m(l,"href",i=n[12].link),m(l,"title","open artist in Deezer web interface"),m(o,"class","!p-0 "),m(o,"title","add all artist titles to the playlist"),m(d,"class","!p-0"),m(d,"title","deselect all artist titles from the playlist"),Le(d,"text-gray-500",n[13]===0),m(r,"class","btn-group-vertical btn btn-sm gap-y-1"),m(t,"class","flex flex-row justify-between w-full items-center gap-x-2")},m(b,v){B(b,e,v),T(e,t),T(t,l),U(a,l,null),T(t,s),T(t,r),T(r,o),U(u,o,null),T(r,c),T(r,d),U(f,d,null),T(e,_),p=!0,g||(A=[R(o,"click",w),R(d,"click",k)],g=!0)},p(b,v){n=b;const y={};v&65560&&(y.$$scope={dirty:v,ctx:n}),a.$set(y),(!p||v&16&&i!==(i=n[12].link))&&m(l,"href",i),(!p||v&24)&&Le(d,"text-gray-500",n[13]===0)},i(b){p||(C(a.$$.fragment,b),C(u.$$.fragment,b),C(f.$$.fragment,b),p=!0)},o(b){N(a.$$.fragment,b),N(u.$$.fragment,b),N(f.$$.fragment,b),p=!1},d(b){b&&h(e),V(a),V(u),V(f),g=!1,Re(A)}}}function qs(n){var a;let e,t,l=((a=n[4])==null?void 0:a.length)>0&&Yt(n);return{c(){l&&l.c(),e=ze()},l(i){l&&l.l(i),e=ze()},m(i,s){l&&l.m(i,s),B(i,e,s),t=!0},p(i,[s]){var r;((r=i[4])==null?void 0:r.length)>0?l?(l.p(i,s),s&16&&C(l,1)):(l=Yt(i),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(be(),N(l,1,1,()=>{l=null}),ve())},i(i){t||(C(l),t=!0)},o(i){N(l),t=!1},d(i){i&&h(e),l&&l.d(i)}}}function Ks(n,e,t){let l,a=K,i=()=>(a(),a=at(c,b=>t(3,l=b)),c),s,r=K,o=()=>(r(),r=at(u,b=>t(4,s=b)),u);n.$$.on_destroy.push(()=>a()),n.$$.on_destroy.push(()=>r());let{playlistArtists:u}=e;o();let{trackSelections:c}=e;i();const d={ascending:!1,orderBy:"trackCount"};function f(b){b.ascending!==void 0&&t(0,d.ascending=b.ascending,d),b.orderBy!==void 0&&t(0,d.orderBy=b.orderBy,d),u.update(v=>Rs(v,d,b))}const _=()=>f({orderBy:"alphabetical"}),p=()=>f({orderBy:"trackCount"}),g=()=>f({ascending:!1}),A=()=>f({ascending:!0}),w=b=>vt(b.id,c),k=b=>ml(b.id,c);return n.$$set=b=>{"playlistArtists"in b&&o(t(1,u=b.playlistArtists)),"trackSelections"in b&&i(t(2,c=b.trackSelections))},[d,u,c,l,s,f,_,p,g,A,w,k]}class Gs extends Q{constructor(e){super(),$(this,e,Ks,qs,X,{playlistArtists:1,trackSelections:2,playlistArtistsSort:0})}get playlistArtistsSort(){return this.$$.ctx[0]}}function Js(n){let e,t,l='<path fill="currentColor" d="M160 36a92.09 92.09 0 0 0-81 48.36A68 68 0 1 0 72 220h88a92 92 0 0 0 0-184Zm0 160H72a44 44 0 0 1-1.82-88A91.86 91.86 0 0 0 68 128a12 12 0 0 0 24 0a68 68 0 1 1 68 68Zm40.49-92.49a12 12 0 0 1 0 17l-48 48a12 12 0 0 1-17 0l-24-24a12 12 0 1 1 17-17L144 143l39.51-39.52a12 12 0 0 1 16.98.03Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=F(i,a[s]);return{c(){e=Be("svg"),t=new Ae(!0),this.h()},l(s){e=Ne(s,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ee(r,!0),r.forEach(h),this.h()},h(){t.a=null,ee(e,i)},m(s,r){B(s,e,r),t.m(l,e)},p(s,[r]){ee(e,i=we(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&h(e)}}}function Ys(n,e,t){return n.$$set=l=>{t(0,e=F(F({},e),Y(l)))},e=Y(e),[e]}class Ws extends Q{constructor(e){super(),$(this,e,Ys,Js,X,{})}}function Xs(n){let e,t,l,a,i="Update playlist",s,r,o;return t=new Ws({}),{c(){e=E("button"),Z(t.$$.fragment),l=L(),a=E("span"),a.textContent=i,this.h()},l(u){e=P(u,"BUTTON",{class:!0});var c=S(e);M(t.$$.fragment,c),l=z(c),a=P(c,"SPAN",{"data-svelte-h":!0}),ue(a)!=="svelte-w41jv5"&&(a.textContent=i),c.forEach(h),this.h()},h(){m(e,"class","btn variant-filled-primary")},m(u,c){B(u,e,c),U(t,e,null),T(e,l),T(e,a),s=!0,r||(o=R(e,"click",_t(n[0])),r=!0)},p:K,i(u){s||(C(t.$$.fragment,u),s=!0)},o(u){N(t.$$.fragment,u),s=!1},d(u){u&&h(e),V(t),r=!1,o()}}}function Qs(n){function e(t){le.call(this,n,t)}return[e]}class $s extends Q{constructor(e){super(),$(this,e,Qs,Xs,X,{})}}function xs(n){let e,t,l='<path fill="currentColor" d="M136.37 187.53a12 12 0 0 1 0 17l-5.94 5.94a60 60 0 0 1-84.88-84.88l24.12-24.11A60 60 0 0 1 152 99a12 12 0 1 1-16 18a36 36 0 0 0-49.37 1.47l-24.1 24.08a36 36 0 0 0 50.92 50.92l5.94-5.94a12 12 0 0 1 16.98 0Zm74.08-142a60.09 60.09 0 0 0-84.88 0l-5.94 5.94a12 12 0 0 0 17 17l5.94-5.94a36 36 0 0 1 50.92 50.92l-24.11 24.12A36 36 0 0 1 120 139a12 12 0 1 0-16 18a60 60 0 0 0 82.3-2.43l24.12-24.11a60.09 60.09 0 0 0 .03-84.91Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=F(i,a[s]);return{c(){e=Be("svg"),t=new Ae(!0),this.h()},l(s){e=Ne(s,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ee(r,!0),r.forEach(h),this.h()},h(){t.a=null,ee(e,i)},m(s,r){B(s,e,r),t.m(l,e)},p(s,[r]){ee(e,i=we(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&h(e)}}}function ea(n,e,t){return n.$$set=l=>{t(0,e=F(F({},e),Y(l)))},e=Y(e),[e]}class ta extends Q{constructor(e){super(),$(this,e,ea,xs,X,{})}}function la(n){let e,t,l,a,i="fix non readable tracks",s,r,o;return t=new ta({}),{c(){e=E("button"),Z(t.$$.fragment),l=L(),a=E("span"),a.textContent=i,this.h()},l(u){e=P(u,"BUTTON",{class:!0,title:!0});var c=S(e);M(t.$$.fragment,c),l=z(c),a=P(c,"SPAN",{"data-svelte-h":!0}),ue(a)!=="svelte-1m49f8q"&&(a.textContent=i),c.forEach(h),this.h()},h(){m(e,"class","btn variant-filled-tertiary"),e.disabled=n[0],m(e,"title","try to find an equivalent of tracks that are not readable anymore in deezer (colored in red in the table)")},m(u,c){B(u,e,c),U(t,e,null),T(e,l),T(e,a),s=!0,r||(o=R(e,"click",_t(n[1])),r=!0)},p(u,[c]){(!s||c&1)&&(e.disabled=u[0])},i(u){s||(C(t.$$.fragment,u),s=!0)},o(u){N(t.$$.fragment,u),s=!1},d(u){u&&h(e),V(t),r=!1,o()}}}function na(n,e,t){let{disabled:l=!1}=e;function a(i){le.call(this,n,i)}return n.$$set=i=>{"disabled"in i&&t(0,l=i.disabled)},[l,a]}class sa extends Q{constructor(e){super(),$(this,e,na,la,X,{disabled:0})}}function aa(n){let e,t,l='<path fill="currentColor" d="M216 36H68.53a20.09 20.09 0 0 0-17.15 9.71L5.71 121.83a12 12 0 0 0 0 12.34l45.67 76.12A20.09 20.09 0 0 0 68.53 220H216a20 20 0 0 0 20-20V56a20 20 0 0 0-20-20Zm-4 160H70.8L30 128l40.8-68H212Zm-108.49-52.49L119 128l-15.52-15.51a12 12 0 0 1 17-17L136 111l15.51-15.52a12 12 0 0 1 17 17L153 128l15.52 15.51a12 12 0 0 1-17 17L136 145l-15.51 15.52a12 12 0 0 1-17-17Z"/>',a=[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},n[0]],i={};for(let s=0;s<a.length;s+=1)i=F(i,a[s]);return{c(){e=Be("svg"),t=new Ae(!0),this.h()},l(s){e=Ne(s,"svg",{viewBox:!0,width:!0,height:!0});var r=S(e);t=Ee(r,!0),r.forEach(h),this.h()},h(){t.a=null,ee(e,i)},m(s,r){B(s,e,r),t.m(l,e)},p(s,[r]){ee(e,i=we(a,[{viewBox:"0 0 256 256"},{width:"1.2em"},{height:"1.2em"},r&1&&s[0]]))},i:K,o:K,d(s){s&&h(e)}}}function ia(n,e,t){return n.$$set=l=>{t(0,e=F(F({},e),Y(l)))},e=Y(e),[e]}class ra extends Q{constructor(e){super(),$(this,e,ia,aa,X,{})}}function oa(n){let e,t,l,a,i="remove de-selected tracks",s,r,o;return t=new ra({}),{c(){e=E("button"),Z(t.$$.fragment),l=L(),a=E("span"),a.textContent=i,this.h()},l(u){e=P(u,"BUTTON",{class:!0,title:!0});var c=S(e);M(t.$$.fragment,c),l=z(c),a=P(c,"SPAN",{"data-svelte-h":!0}),ue(a)!=="svelte-13uzf89"&&(a.textContent=i),c.forEach(h),this.h()},h(){m(e,"class","btn variant-filled-tertiary"),e.disabled=n[0],m(e,"title","remove de-selected new tracks")},m(u,c){B(u,e,c),U(t,e,null),T(e,l),T(e,a),s=!0,r||(o=R(e,"click",_t(n[1])),r=!0)},p(u,[c]){(!s||c&1)&&(e.disabled=u[0])},i(u){s||(C(t.$$.fragment,u),s=!0)},o(u){N(t.$$.fragment,u),s=!1},d(u){u&&h(e),V(t),r=!1,o()}}}function ua(n,e,t){let{disabled:l=!1}=e;function a(i){le.call(this,n,i)}return n.$$set=i=>{"disabled"in i&&t(0,l=i.disabled)},[l,a]}class ca extends Q{constructor(e){super(),$(this,e,ua,oa,X,{disabled:0})}}function Xt(n){let e,t=n[1].message+"",l,a,i,s,r;return{c(){e=E("span"),l=ne(t),a=L(),i=E("progress"),this.h()},l(o){e=P(o,"SPAN",{});var u=S(e);l=se(u,t),u.forEach(h),a=z(o),i=P(o,"PROGRESS",{max:!0}),S(i).forEach(h),this.h()},h(){i.value=s=n[1].value,m(i,"max",r=n[1].max)},m(o,u){B(o,e,u),T(e,l),B(o,a,u),B(o,i,u)},p(o,u){u&2&&t!==(t=o[1].message+"")&&Ie(l,t),u&2&&s!==(s=o[1].value)&&(i.value=s),u&2&&r!==(r=o[1].max)&&m(i,"max",r)},d(o){o&&(h(e),h(a),h(i))}}}function fa(n){let e,t=n[1]&&Xt(n);return{c(){t&&t.c(),e=ze()},l(l){t&&t.l(l),e=ze()},m(l,a){t&&t.m(l,a),B(l,e,a)},p(l,[a]){l[1]?t?t.p(l,a):(t=Xt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:K,o:K,d(l){l&&h(e),t&&t.d(l)}}}function da(n,e,t){let l,a=K,i=()=>(a(),a=at(s,r=>t(1,l=r)),s);n.$$.on_destroy.push(()=>a());let{updateTracksProgress:s}=e;return i(),n.$$set=r=>{"updateTracksProgress"in r&&i(t(0,s=r.updateTracksProgress))},[s,l]}class ha extends Q{constructor(e){super(),$(this,e,da,fa,X,{updateTracksProgress:0})}}function Qt(n,e,t){const l=n.slice();l[15]=e[t],l[17]=e,l[18]=t;const a=l[15].track;return l[16]=a,l}function ma(n){let e,t,l;function a(){n[9].call(e,n[17],n[18])}return{c(){e=E("input"),this.h()},l(i){e=P(i,"INPUT",{type:!0,class:!0}),this.h()},h(){m(e,"type","checkbox"),m(e,"class","checkbox")},m(i,s){B(i,e,s),e.checked=n[15].selected,t||(l=R(e,"change",a),t=!0)},p(i,s){n=i,s&32&&(e.checked=n[15].selected)},d(i){i&&h(e),t=!1,l()}}}function _a(n){let e,t=n[18]+1+"",l;return{c(){e=E("span"),l=ne(t)},l(a){e=P(a,"SPAN",{});var i=S(e);l=se(i,t),i.forEach(h)},m(a,i){B(a,e,i),T(e,l)},p:K,d(a){a&&h(e)}}}function ga(n){let e,t,l,a,i=n[16].title+"",s,r,o;return e=new Rn({props:{src:n[16].preview,enabled:n[16].readable}}),{c(){Z(e.$$.fragment),t=L(),l=E("a"),a=E("span"),s=ne(i),this.h()},l(u){M(e.$$.fragment,u),t=z(u),l=P(u,"A",{href:!0,title:!0});var c=S(l);a=P(c,"SPAN",{});var d=S(a);s=se(d,i),d.forEach(h),c.forEach(h),this.h()},h(){m(l,"href",r=n[16].link),m(l,"title","open track in Deezer web interface")},m(u,c){U(e,u,c),B(u,t,c),B(u,l,c),T(l,a),T(a,s),o=!0},p(u,c){const d={};c&32&&(d.src=u[16].preview),c&32&&(d.enabled=u[16].readable),e.$set(d),(!o||c&32)&&i!==(i=u[16].title+"")&&Ie(s,i),(!o||c&32&&r!==(r=u[16].link))&&m(l,"href",r)},i(u){o||(C(e.$$.fragment,u),o=!0)},o(u){N(e.$$.fragment,u),o=!1},d(u){u&&(h(t),h(l)),V(e,u)}}}function pa(n){let e,t,l,a,i=n[16].album.title+"",s;return{c(){e=E("img"),l=L(),a=E("span"),s=ne(i),this.h()},l(r){e=P(r,"IMG",{src:!0,alt:!0}),l=z(r),a=P(r,"SPAN",{});var o=S(a);s=se(o,i),o.forEach(h),this.h()},h(){Ve(e.src,t=n[16].album.cover_small)||m(e,"src",t),m(e,"alt","album cover")},m(r,o){B(r,e,o),B(r,l,o),B(r,a,o),T(a,s)},p(r,o){o&32&&!Ve(e.src,t=r[16].album.cover_small)&&m(e,"src",t),o&32&&i!==(i=r[16].album.title+"")&&Ie(s,i)},d(r){r&&(h(e),h(l),h(a))}}}function ba(n){let e,t,l,a;return t=new it({props:{$$slots:{default:[pa]},$$scope:{ctx:n}}}),{c(){e=E("a"),Z(t.$$.fragment),this.h()},l(i){e=P(i,"A",{href:!0,title:!0});var s=S(e);M(t.$$.fragment,s),s.forEach(h),this.h()},h(){m(e,"href",l="https://www.deezer.com/album/"+n[16].album.id),m(e,"title","open album in Deezer web interface")},m(i,s){B(i,e,s),U(t,e,null),a=!0},p(i,s){const r={};s&524320&&(r.$$scope={dirty:s,ctx:i}),t.$set(r),(!a||s&32&&l!==(l="https://www.deezer.com/album/"+i[16].album.id))&&m(e,"href",l)},i(i){a||(C(t.$$.fragment,i),a=!0)},o(i){N(t.$$.fragment,i),a=!1},d(i){i&&h(e),V(t)}}}function va(n){let e,t;function l(){return n[10](n[16])}function a(){return n[11](n[16])}return e=new gl({props:{addTitle:"add all album titles to the playlist",removeTitle:"deselect all album titles from the playlist",$$slots:{default:[ba]},$$scope:{ctx:n}}}),e.$on("add",l),e.$on("remove",a),{c(){Z(e.$$.fragment)},l(i){M(e.$$.fragment,i)},m(i,s){U(e,i,s),t=!0},p(i,s){n=i;const r={};s&524320&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(i){t||(C(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){V(e,i)}}}function ka(n){let e,t,l=n[16].artist.name+"",a,i;return{c(){e=E("a"),t=E("span"),a=ne(l),this.h()},l(s){e=P(s,"A",{href:!0,title:!0});var r=S(e);t=P(r,"SPAN",{});var o=S(t);a=se(o,l),o.forEach(h),r.forEach(h),this.h()},h(){m(e,"href",i=n[16].artist.link),m(e,"title","open artist in Deezer web interface")},m(s,r){B(s,e,r),T(e,t),T(t,a)},p(s,r){r&32&&l!==(l=s[16].artist.name+"")&&Ie(a,l),r&32&&i!==(i=s[16].artist.link)&&m(e,"href",i)},d(s){s&&h(e)}}}function ya(n){let e,t;function l(){return n[12](n[16])}function a(){return n[13](n[16])}return e=new gl({props:{addTitle:"add all artist titles to the playlist",removeTitle:"deselect all artist titles from the playlist",$$slots:{default:[ka]},$$scope:{ctx:n}}}),e.$on("add",l),e.$on("remove",a),{c(){Z(e.$$.fragment)},l(i){M(e.$$.fragment,i)},m(i,s){U(e,i,s),t=!0},p(i,s){n=i;const r={};s&524320&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(i){t||(C(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){V(e,i)}}}function wa(n){let e,t;return e=new Gn({}),{c(){Z(e.$$.fragment)},l(l){M(e.$$.fragment,l)},m(l,a){U(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Ta(n){let e,t;return e=new Wn({}),{c(){Z(e.$$.fragment)},l(l){M(e.$$.fragment,l)},m(l,a){U(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Aa(n){let e,t;return e=new $n({}),{c(){Z(e.$$.fragment)},l(l){M(e.$$.fragment,l)},m(l,a){U(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Ea(n){let e,t;return e=new en({props:{value:5*n[16].rank/n[4],max:5,$$slots:{full:[Aa],half:[Ta],empty:[wa]},$$scope:{ctx:n}}}),{c(){Z(e.$$.fragment)},l(l){M(e.$$.fragment,l)},m(l,a){U(e,l,a),t=!0},p(l,a){const i={};a&48&&(i.value=5*l[16].rank/l[4]),a&524288&&(i.$$scope={dirty:a,ctx:l}),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Pa(n){let e=n[6](n[16].duration*1e3)+"",t,l,a;return{c(){t=ne(e),l=L(),a=E("span"),this.h()},l(i){t=se(i,e),l=z(i),a=P(i,"SPAN",{class:!0}),S(a).forEach(h),this.h()},h(){m(a,"class","grow")},m(i,s){B(i,t,s),B(i,l,s),B(i,a,s)},p(i,s){s&32&&e!==(e=i[6](i[16].duration*1e3)+"")&&Ie(t,e)},d(i){i&&(h(t),h(l),h(a))}}}function $t(n){let e,t,l,a,i,s,r,o,u,c,d,f,_,p,g,A,w;return t=new Ke({props:{$$slots:{default:[ma]},$$scope:{ctx:n}}}),a=new Ke({props:{class:"largeonly",$$slots:{default:[_a]},$$scope:{ctx:n}}}),s=new Ke({props:{justify:"start",$$slots:{default:[ga]},$$scope:{ctx:n}}}),o=new Ke({props:{justify:"start",$$slots:{default:[va]},$$scope:{ctx:n}}}),c=new Ke({props:{justify:"start",$$slots:{default:[ya]},$$scope:{ctx:n}}}),f=new Ke({props:{class:"largeonly",title:n[16].rank,$$slots:{default:[Ea]},$$scope:{ctx:n}}}),p=new Ke({props:{class:"largeonly",$$slots:{default:[Pa]},$$scope:{ctx:n}}}),{c(){e=E("tr"),Z(t.$$.fragment),l=L(),Z(a.$$.fragment),i=L(),Z(s.$$.fragment),r=L(),Z(o.$$.fragment),u=L(),Z(c.$$.fragment),d=L(),Z(f.$$.fragment),_=L(),Z(p.$$.fragment),g=L(),this.h()},l(k){e=P(k,"TR",{class:!0});var b=S(e);M(t.$$.fragment,b),l=z(b),M(a.$$.fragment,b),i=z(b),M(s.$$.fragment,b),r=z(b),M(o.$$.fragment,b),u=z(b),M(c.$$.fragment,b),d=z(b),M(f.$$.fragment,b),_=z(b),M(p.$$.fragment,b),g=z(b),b.forEach(h),this.h()},h(){m(e,"class",A=Pt(xt(n[15]))+" svelte-156y7de"),Le(e,"!text-red-500",!n[16].readable)},m(k,b){B(k,e,b),U(t,e,null),T(e,l),U(a,e,null),T(e,i),U(s,e,null),T(e,r),U(o,e,null),T(e,u),U(c,e,null),T(e,d),U(f,e,null),T(e,_),U(p,e,null),T(e,g),w=!0},p(k,b){const v={};b&524320&&(v.$$scope={dirty:b,ctx:k}),t.$set(v);const y={};b&524288&&(y.$$scope={dirty:b,ctx:k}),a.$set(y);const D={};b&524320&&(D.$$scope={dirty:b,ctx:k}),s.$set(D);const G={};b&524321&&(G.$$scope={dirty:b,ctx:k}),o.$set(G);const q={};b&524321&&(q.$$scope={dirty:b,ctx:k}),c.$set(q);const I={};b&32&&(I.title=k[16].rank),b&524336&&(I.$$scope={dirty:b,ctx:k}),f.$set(I);const W={};b&524320&&(W.$$scope={dirty:b,ctx:k}),p.$set(W),(!w||b&32&&A!==(A=Pt(xt(k[15]))+" svelte-156y7de"))&&m(e,"class",A),(!w||b&32)&&Le(e,"!text-red-500",!k[16].readable)},i(k){w||(C(t.$$.fragment,k),C(a.$$.fragment,k),C(s.$$.fragment,k),C(o.$$.fragment,k),C(c.$$.fragment,k),C(f.$$.fragment,k),C(p.$$.fragment,k),w=!0)},o(k){N(t.$$.fragment,k),N(a.$$.fragment,k),N(s.$$.fragment,k),N(o.$$.fragment,k),N(c.$$.fragment,k),N(f.$$.fragment,k),N(p.$$.fragment,k),w=!1},d(k){k&&h(e),V(t),V(a),V(s),V(o),V(c),V(f),V(p)}}}function Ca(n){var wt;let e,t,l,a,i,s,r=((wt=n[3])==null?void 0:wt.filter(el).length)+"",o,u,c=n[3].filter(tl).length+"",d,f,_,p,g,A,w,k,b,v,y,D,G,q="Pos.",I,W,Pe="Title",ce,oe,ke="Album",De,Ce,je="Artist",Oe,Te,j="rank",H,O,re="duration",ie,fe,de,he,rt,He,ot,kt,Fe=Ue(n[5]),x=[];for(let J=0;J<Fe.length;J+=1)x[J]=$t(Qt(n,Fe,J));const pl=J=>N(x[J],1,1,()=>{x[J]=null});function bl(J){n[14](J)}let yt={showFirstLastButtons:!0,showPreviousNextButtons:!0};return n[1]!==void 0&&(yt.settings=n[1]),he=new Pl({props:yt}),Ze.push(()=>Je(he,"settings",bl)),{c(){e=E("span"),t=E("table"),l=E("thead"),a=E("tr"),i=E("td"),s=E("span"),o=ne(r),u=ne(` selected
                            Tracks (`),d=ne(c),f=ne(`
                            in playlist)`),_=L(),p=E("td"),g=E("input"),A=L(),w=E("tr"),k=E("th"),b=E("input"),D=L(),G=E("th"),G.textContent=q,I=L(),W=E("th"),W.textContent=Pe,ce=L(),oe=E("th"),oe.textContent=ke,De=L(),Ce=E("th"),Ce.textContent=je,Oe=L(),Te=E("th"),Te.textContent=j,H=L(),O=E("th"),O.textContent=re,ie=L(),fe=E("tbody");for(let J=0;J<x.length;J+=1)x[J].c();de=L(),Z(he.$$.fragment),this.h()},l(J){e=P(J,"SPAN",{class:!0});var te=S(e);t=P(te,"TABLE",{class:!0});var Se=S(t);l=P(Se,"THEAD",{});var qe=S(l);a=P(qe,"TR",{});var ae=S(a);i=P(ae,"TD",{colspan:!0});var Qe=S(i);s=P(Qe,"SPAN",{});var $e=S(s);o=se($e,r),u=se($e,` selected
                            Tracks (`),d=se($e,c),f=se($e,`
                            in playlist)`),$e.forEach(h),Qe.forEach(h),_=z(ae),p=P(ae,"TD",{colspan:!0});var Tt=S(p);g=P(Tt,"INPUT",{class:!0,title:!0,type:!0,placeholder:!0}),Tt.forEach(h),ae.forEach(h),A=z(qe),w=P(qe,"TR",{class:!0});var ye=S(w);k=P(ye,"TH",{});var At=S(k);b=P(At,"INPUT",{type:!0,class:!0}),At.forEach(h),D=z(ye),G=P(ye,"TH",{class:!0,"data-svelte-h":!0}),ue(G)!=="svelte-658ja8"&&(G.textContent=q),I=z(ye),W=P(ye,"TH",{"data-svelte-h":!0}),ue(W)!=="svelte-j6ln7g"&&(W.textContent=Pe),ce=z(ye),oe=P(ye,"TH",{"data-svelte-h":!0}),ue(oe)!=="svelte-12o9w3z"&&(oe.textContent=ke),De=z(ye),Ce=P(ye,"TH",{"data-svelte-h":!0}),ue(Ce)!=="svelte-1tiipkx"&&(Ce.textContent=je),Oe=z(ye),Te=P(ye,"TH",{class:!0,"data-svelte-h":!0}),ue(Te)!=="svelte-978f2u"&&(Te.textContent=j),H=z(ye),O=P(ye,"TH",{class:!0,"data-svelte-h":!0}),ue(O)!=="svelte-n6csf5"&&(O.textContent=re),ye.forEach(h),qe.forEach(h),ie=z(Se),fe=P(Se,"TBODY",{});var Et=S(fe);for(let ut=0;ut<x.length;ut+=1)x[ut].l(Et);Et.forEach(h),Se.forEach(h),de=z(te),M(he.$$.fragment,te),te.forEach(h),this.h()},h(){m(i,"colspan","3"),m(g,"class","input"),m(g,"title","Input (search)"),m(g,"type","search"),m(g,"placeholder","Search..."),m(p,"colspan","4"),m(b,"type","checkbox"),m(b,"class","checkbox"),b.checked=v=n[5].filter(ll).length===n[5].length&&n[5].length>0,b.indeterminate=y=n[5].filter(nl).length!==n[5].length&&n[5].filter(sl).length>0,m(G,"class","largeonly"),m(Te,"class","largeonly"),m(O,"class","largeonly w-16"),m(w,"class",""),m(t,"class","table table-compact my-4"),m(e,"class","table-container")},m(J,te){B(J,e,te),T(e,t),T(t,l),T(l,a),T(a,i),T(i,s),T(s,o),T(s,u),T(s,d),T(s,f),T(a,_),T(a,p),T(p,g),Me(g,n[2]),T(l,A),T(l,w),T(w,k),T(k,b),T(w,D),T(w,G),T(w,I),T(w,W),T(w,ce),T(w,oe),T(w,De),T(w,Ce),T(w,Oe),T(w,Te),T(w,H),T(w,O),T(t,ie),T(t,fe);for(let Se=0;Se<x.length;Se+=1)x[Se]&&x[Se].m(fe,null);T(e,de),U(he,e,null),He=!0,ot||(kt=[R(g,"input",n[7]),R(b,"change",n[8])],ot=!0)},p(J,[te]){var qe;if((!He||te&8)&&r!==(r=((qe=J[3])==null?void 0:qe.filter(el).length)+"")&&Ie(o,r),(!He||te&8)&&c!==(c=J[3].filter(tl).length+"")&&Ie(d,c),te&4&&g.value!==J[2]&&Me(g,J[2]),(!He||te&32&&v!==(v=J[5].filter(ll).length===J[5].length&&J[5].length>0))&&(b.checked=v),(!He||te&32&&y!==(y=J[5].filter(nl).length!==J[5].length&&J[5].filter(sl).length>0))&&(b.indeterminate=y),te&113){Fe=Ue(J[5]);let ae;for(ae=0;ae<Fe.length;ae+=1){const Qe=Qt(J,Fe,ae);x[ae]?(x[ae].p(Qe,te),C(x[ae],1)):(x[ae]=$t(Qe),x[ae].c(),C(x[ae],1),x[ae].m(fe,null))}for(be(),ae=Fe.length;ae<x.length;ae+=1)pl(ae);ve()}const Se={};!rt&&te&2&&(rt=!0,Se.settings=J[1],Ge(()=>rt=!1)),he.$set(Se)},i(J){if(!He){for(let te=0;te<Fe.length;te+=1)C(x[te]);C(he.$$.fragment,J),He=!0}},o(J){x=x.filter(Boolean);for(let te=0;te<x.length;te+=1)N(x[te]);N(he.$$.fragment,J),He=!1},d(J){J&&h(e),ht(x,J),V(he),ot=!1,Re(kt)}}}function xt(n){return!n.inPlaylist&&n.selected?"!text-lime-500":n.inPlaylist&&!n.selected?"!line-through":""}const el=n=>n.selected,tl=n=>n.inPlaylist,ll=n=>n.selected,nl=n=>n.selected,sl=n=>n.selected;function Sa(n,e,t){let l,a,i,s=K,r=()=>(s(),s=at(o,v=>t(3,i=v)),o);n.$$.on_destroy.push(()=>s());let{trackSelections:o}=e;r();let u={page:0,limit:10,size:10,amounts:[10,20,50,100]},c="";const d=Cl.humanizer({language:"shortEn",languages:{shortEn:{y:()=>"y.",mo:()=>"mo.",w:()=>"w.",d:()=>"d.",h:()=>"h.",m:()=>"m.",s:()=>"s.",ms:()=>"ms"}},units:["m","s"],largest:2});function f(){c=this.value,t(2,c)}const _=v=>{l.forEach(y=>{var D;return y.selected=(D=v.target)==null?void 0:D.checked}),o.update(y=>y)};function p(v,y){v[y].selected=this.checked,t(5,l),t(3,i),t(2,c),t(1,u)}const g=v=>As(v.album,o),A=v=>Ts(v.album.id,o),w=v=>vt(v.artist.id,o),k=v=>ml(v.artist.id,o);function b(v){u=v,t(1,u),t(3,i)}return n.$$set=v=>{"trackSelections"in v&&r(t(0,o=v.trackSelections))},n.$$.update=()=>{n.$$.dirty&8&&t(1,u.size=i.length,u),n.$$.dirty&14&&t(5,l=i.filter(v=>!c||JSON.stringify(v.track).toLowerCase().includes(c.toLowerCase())).slice(u.page*u.limit,u.page*u.limit+u.limit)),n.$$.dirty&8&&t(4,a=i.reduce((v,y)=>Math.max(v,y.track.rank),0))},[o,u,c,i,a,l,d,f,_,p,g,A,w,k,b]}class Ba extends Q{constructor(e){super(),$(this,e,Sa,Ca,X,{trackSelections:0})}}function Na(n){let e;return{c(){e=ne("tracks")},l(t){e=se(t,"tracks")},m(t,l){B(t,e,l)},d(t){t&&h(e)}}}function Ia(n){let e;return{c(){e=ne("description")},l(t){e=se(t,"description")},m(t,l){B(t,e,l)},d(t){t&&h(e)}}}function Da(n){let e;return{c(){e=ne("playlist artists")},l(t){e=se(t,"playlist artists")},m(t,l){B(t,e,l)},d(t){t&&h(e)}}}function Oa(n){let e;return{c(){e=ne("search new artists")},l(t){e=se(t,"search new artists")},m(t,l){B(t,e,l)},d(t){t&&h(e)}}}function La(n){let e,t,l,a,i,s,r,o,u,c,d,f;function _(y){n[13](y)}let p={name:"tabTracks",value:n[10].TRACKS,$$slots:{default:[Na]},$$scope:{ctx:n}};n[1]!==void 0&&(p.group=n[1]),e=new et({props:p}),Ze.push(()=>Je(e,"group",_));function g(y){n[14](y)}let A={name:"tabMain",value:n[10].DESCRIPTION,$$slots:{default:[Ia]},$$scope:{ctx:n}};n[1]!==void 0&&(A.group=n[1]),a=new et({props:A}),Ze.push(()=>Je(a,"group",g));function w(y){n[15](y)}let k={name:"tabPlaylistArtists",value:n[10].PLAYLIST_ARTISTS,$$slots:{default:[Da]},$$scope:{ctx:n}};n[1]!==void 0&&(k.group=n[1]),r=new et({props:k}),Ze.push(()=>Je(r,"group",w));function b(y){n[16](y)}let v={name:"tabSearchArtists",value:n[10].SEARCH_ARTISTS,$$slots:{default:[Oa]},$$scope:{ctx:n}};return n[1]!==void 0&&(v.group=n[1]),c=new et({props:v}),Ze.push(()=>Je(c,"group",b)),{c(){Z(e.$$.fragment),l=L(),Z(a.$$.fragment),s=L(),Z(r.$$.fragment),u=L(),Z(c.$$.fragment)},l(y){M(e.$$.fragment,y),l=z(y),M(a.$$.fragment,y),s=z(y),M(r.$$.fragment,y),u=z(y),M(c.$$.fragment,y)},m(y,D){U(e,y,D),B(y,l,D),U(a,y,D),B(y,s,D),U(r,y,D),B(y,u,D),U(c,y,D),f=!0},p(y,D){const G={};D&131072&&(G.$$scope={dirty:D,ctx:y}),!t&&D&2&&(t=!0,G.group=y[1],Ge(()=>t=!1)),e.$set(G);const q={};D&131072&&(q.$$scope={dirty:D,ctx:y}),!i&&D&2&&(i=!0,q.group=y[1],Ge(()=>i=!1)),a.$set(q);const I={};D&131072&&(I.$$scope={dirty:D,ctx:y}),!o&&D&2&&(o=!0,I.group=y[1],Ge(()=>o=!1)),r.$set(I);const W={};D&131072&&(W.$$scope={dirty:D,ctx:y}),!d&&D&2&&(d=!0,W.group=y[1],Ge(()=>d=!1)),c.$set(W)},i(y){f||(C(e.$$.fragment,y),C(a.$$.fragment,y),C(r.$$.fragment,y),C(c.$$.fragment,y),f=!0)},o(y){N(e.$$.fragment,y),N(a.$$.fragment,y),N(r.$$.fragment,y),N(c.$$.fragment,y),f=!1},d(y){y&&(h(l),h(s),h(u)),V(e,y),V(a,y),V(r,y),V(c,y)}}}function za(n){let e,t="<i>you can add all tracks from a new artist from here</i>",l,a,i;return a=new gs({}),a.$on("artistSelection",n[12]),{c(){e=E("p"),e.innerHTML=t,l=L(),Z(a.$$.fragment),this.h()},l(s){e=P(s,"P",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-1u82v8s"&&(e.innerHTML=t),l=z(s),M(a.$$.fragment,s),this.h()},h(){m(e,"class","my-4")},m(s,r){B(s,e,r),B(s,l,r),U(a,s,r),i=!0},p:K,i(s){i||(C(a.$$.fragment,s),i=!0)},o(s){N(a.$$.fragment,s),i=!1},d(s){s&&(h(e),h(l)),V(a,s)}}}function Ra(n){let e,t="<i>you can add/remove all tracks from a playlist artist from here</i>",l,a,i;return a=new Gs({props:{playlistArtists:n[5],trackSelections:n[6]}}),{c(){e=E("p"),e.innerHTML=t,l=L(),Z(a.$$.fragment)},l(s){e=P(s,"P",{"data-svelte-h":!0}),ue(e)!=="svelte-1vl5o0p"&&(e.innerHTML=t),l=z(s),M(a.$$.fragment,s)},m(s,r){B(s,e,r),B(s,l,r),U(a,s,r),i=!0},p:K,i(s){i||(C(a.$$.fragment,s),i=!0)},o(s){N(a.$$.fragment,s),i=!1},d(s){s&&(h(e),h(l)),V(a,s)}}}function ja(n){let e,t;return e=new Ba({props:{trackSelections:n[6]}}),{c(){Z(e.$$.fragment)},l(l){M(e.$$.fragment,l)},m(l,a){U(e,l,a),t=!0},p:K,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Ha(n){let e,t;return e=new ws({props:{playlist:n[0].playlist}}),{c(){Z(e.$$.fragment)},l(l){M(e.$$.fragment,l)},m(l,a){U(e,l,a),t=!0},p(l,a){const i={};a&1&&(i.playlist=l[0].playlist),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Za(n){let e,t,l,a;const i=[Ha,ja,Ra,za],s=[];function r(o,u){return o[1]===o[10].DESCRIPTION?0:o[1]===o[10].TRACKS?1:o[1]===o[10].PLAYLIST_ARTISTS?2:o[1]===o[10].SEARCH_ARTISTS?3:-1}return~(e=r(n))&&(t=s[e]=i[e](n)),{c(){t&&t.c(),l=ze()},l(o){t&&t.l(o),l=ze()},m(o,u){~e&&s[e].m(o,u),B(o,l,u),a=!0},p(o,u){let c=e;e=r(o),e===c?~e&&s[e].p(o,u):(t&&(be(),N(s[c],1,1,()=>{s[c]=null}),ve()),~e?(t=s[e],t?t.p(o,u):(t=s[e]=i[e](o),t.c()),C(t,1),t.m(l.parentNode,l)):t=null)},i(o){a||(C(t),a=!0)},o(o){N(t),a=!1},d(o){o&&h(l),~e&&s[e].d(o)}}}function Ma(n){let e,t;return e=new _n({props:{$$slots:{panel:[Za],default:[La]},$$scope:{ctx:n}}}),{c(){Z(e.$$.fragment)},l(l){M(e.$$.fragment,l)},m(l,a){U(e,l,a),t=!0},p(l,a){const i={};a&131075&&(i.$$scope={dirty:a,ctx:l}),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Ua(n){let e,t,l,a,i,s,r,o;return e=new $s({}),e.$on("click",n[11]),l=new sa({props:{disabled:n[2].filter(al).length===0}}),l.$on("click",n[7]),i=new ca({props:{disabled:n[2].filter(il).length===0}}),i.$on("click",n[8]),r=new ha({props:{updateTracksProgress:n[4]}}),{c(){Z(e.$$.fragment),t=L(),Z(l.$$.fragment),a=L(),Z(i.$$.fragment),s=L(),Z(r.$$.fragment)},l(u){M(e.$$.fragment,u),t=z(u),M(l.$$.fragment,u),a=z(u),M(i.$$.fragment,u),s=z(u),M(r.$$.fragment,u)},m(u,c){U(e,u,c),B(u,t,c),U(l,u,c),B(u,a,c),U(i,u,c),B(u,s,c),U(r,u,c),o=!0},p(u,c){const d={};c&4&&(d.disabled=u[2].filter(al).length===0),l.$set(d);const f={};c&4&&(f.disabled=u[2].filter(il).length===0),i.$set(f)},i(u){o||(C(e.$$.fragment,u),C(l.$$.fragment,u),C(i.$$.fragment,u),C(r.$$.fragment,u),o=!0)},o(u){N(e.$$.fragment,u),N(l.$$.fragment,u),N(i.$$.fragment,u),N(r.$$.fragment,u),o=!1},d(u){u&&(h(t),h(a),h(s)),V(e,u),V(l,u),V(i,u),V(r,u)}}}function Va(n){let e,t;return e=new Sl({props:{$$slots:{pageHeader:[Ua],default:[Ma]},$$scope:{ctx:n}}}),{c(){Z(e.$$.fragment)},l(l){M(e.$$.fragment,l)},m(l,a){U(e,l,a),t=!0},p(l,[a]){const i={};a&131079&&(i.$$scope={dirty:a,ctx:l}),e.$set(i)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}const al=n=>n.selected&&!n.track.readable,il=n=>!n.selected&&!n.inPlaylist;function Fa(n,e,t){let l;const a=zl(),i=tt(void 0);let{data:s}=e;const r=tt([]),o=tt([]);st(n,o,v=>t(2,l=v));async function u(){try{const v=Dl(o);await xn(v,a,i),o.set(v)}finally{i.set(void 0)}}function c(){o.update(v=>Es(v,a))}function d(v){l.length===0&&t(0,s.playlist.title=v.name+" - Full Discography",s),vt(v.id,o)}var f=(v=>(v[v.DESCRIPTION=0]="DESCRIPTION",v[v.TRACKS=1]="TRACKS",v[v.PLAYLIST_ARTISTS=2]="PLAYLIST_ARTISTS",v[v.SEARCH_ARTISTS=3]="SEARCH_ARTISTS",v))(f||{});let _=1;const p=()=>Un(s.playlist,l,a,i),g=v=>d(v.detail);function A(v){_=v,t(1,_)}function w(v){_=v,t(1,_)}function k(v){_=v,t(1,_)}function b(v){_=v,t(1,_)}return n.$$set=v=>{"data"in v&&t(0,s=v.data)},n.$$.update=()=>{if(n.$$.dirty&1&&r.set(s.topArtists),n.$$.dirty&1){const v=s.playlist.tracks.data.map(y=>({track:y,inPlaylist:!0,selected:!0}));o.set(v)}},[s,_,l,a,i,r,o,u,c,d,f,p,g,A,w,k,b]}class $a extends Q{constructor(e){super(),$(this,e,Fa,Va,X,{data:0})}}export{$a as component,Qa as universal};
